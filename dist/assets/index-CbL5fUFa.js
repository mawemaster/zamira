var aD=t=>{throw TypeError(t)};var TN=(t,e,n)=>e.has(t)||aD("Cannot "+n);var le=(t,e,n)=>(TN(t,e,"read from private field"),n?n.call(t):e.get(t)),Lt=(t,e,n)=>e.has(t)?aD("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ct=(t,e,n,a)=>(TN(t,e,"write to private field"),a?a.call(t,n):e.set(t,n),n),xn=(t,e,n)=>(TN(t,e,"access private method"),n);var Yv=(t,e,n,a)=>({set _(s){ct(t,e,s,n)},get _(){return le(t,e,a)}});function T7(t,e){for(var n=0;n<e.length;n++){const a=e[n];if(typeof a!="string"&&!Array.isArray(a)){for(const s in a)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(a,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>a[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Qv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function In(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function bie(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function a(){return this instanceof a?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(a){var s=Object.getOwnPropertyDescriptor(t,a);Object.defineProperty(n,a,s.get?s:{enumerable:!0,get:function(){return t[a]}})}),n}var kN={exports:{}},h0={},RN={exports:{}},bn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sD;function wie(){if(sD)return bn;sD=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),h=Symbol.iterator;function f(V){return V===null||typeof V!="object"?null:(V=h&&V[h]||V["@@iterator"],typeof V=="function"?V:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,g={};function y(V,Y,ee){this.props=V,this.context=Y,this.refs=g,this.updater=ee||v}y.prototype.isReactComponent={},y.prototype.setState=function(V,Y){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Y,"setState")},y.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function b(){}b.prototype=y.prototype;function _(V,Y,ee){this.props=V,this.context=Y,this.refs=g,this.updater=ee||v}var j=_.prototype=new b;j.constructor=_,x(j,y.prototype),j.isPureReactComponent=!0;var S=Array.isArray,C=Object.prototype.hasOwnProperty,E={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function T(V,Y,ee){var se,pe={},Pe=null,xe=null;if(Y!=null)for(se in Y.ref!==void 0&&(xe=Y.ref),Y.key!==void 0&&(Pe=""+Y.key),Y)C.call(Y,se)&&!P.hasOwnProperty(se)&&(pe[se]=Y[se]);var Ie=arguments.length-2;if(Ie===1)pe.children=ee;else if(1<Ie){for(var fe=Array(Ie),Ne=0;Ne<Ie;Ne++)fe[Ne]=arguments[Ne+2];pe.children=fe}if(V&&V.defaultProps)for(se in Ie=V.defaultProps,Ie)pe[se]===void 0&&(pe[se]=Ie[se]);return{$$typeof:t,type:V,key:Pe,ref:xe,props:pe,_owner:E.current}}function M(V,Y){return{$$typeof:t,type:V.type,key:Y,ref:V.ref,props:V.props,_owner:V._owner}}function k(V){return typeof V=="object"&&V!==null&&V.$$typeof===t}function O(V){var Y={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ee){return Y[ee]})}var $=/\/+/g;function F(V,Y){return typeof V=="object"&&V!==null&&V.key!=null?O(""+V.key):Y.toString(36)}function B(V,Y,ee,se,pe){var Pe=typeof V;(Pe==="undefined"||Pe==="boolean")&&(V=null);var xe=!1;if(V===null)xe=!0;else switch(Pe){case"string":case"number":xe=!0;break;case"object":switch(V.$$typeof){case t:case e:xe=!0}}if(xe)return xe=V,pe=pe(xe),V=se===""?"."+F(xe,0):se,S(pe)?(ee="",V!=null&&(ee=V.replace($,"$&/")+"/"),B(pe,Y,ee,"",function(Ne){return Ne})):pe!=null&&(k(pe)&&(pe=M(pe,ee+(!pe.key||xe&&xe.key===pe.key?"":(""+pe.key).replace($,"$&/")+"/")+V)),Y.push(pe)),1;if(xe=0,se=se===""?".":se+":",S(V))for(var Ie=0;Ie<V.length;Ie++){Pe=V[Ie];var fe=se+F(Pe,Ie);xe+=B(Pe,Y,ee,fe,pe)}else if(fe=f(V),typeof fe=="function")for(V=fe.call(V),Ie=0;!(Pe=V.next()).done;)Pe=Pe.value,fe=se+F(Pe,Ie++),xe+=B(Pe,Y,ee,fe,pe);else if(Pe==="object")throw Y=String(V),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return xe}function G(V,Y,ee){if(V==null)return V;var se=[],pe=0;return B(V,se,"","",function(Pe){return Y.call(ee,Pe,pe++)}),se}function I(V){if(V._status===-1){var Y=V._result;Y=Y(),Y.then(function(ee){(V._status===0||V._status===-1)&&(V._status=1,V._result=ee)},function(ee){(V._status===0||V._status===-1)&&(V._status=2,V._result=ee)}),V._status===-1&&(V._status=0,V._result=Y)}if(V._status===1)return V._result.default;throw V._result}var L={current:null},U={transition:null},z={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:U,ReactCurrentOwner:E};function K(){throw Error("act(...) is not supported in production builds of React.")}return bn.Children={map:G,forEach:function(V,Y,ee){G(V,function(){Y.apply(this,arguments)},ee)},count:function(V){var Y=0;return G(V,function(){Y++}),Y},toArray:function(V){return G(V,function(Y){return Y})||[]},only:function(V){if(!k(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},bn.Component=y,bn.Fragment=n,bn.Profiler=s,bn.PureComponent=_,bn.StrictMode=a,bn.Suspense=c,bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,bn.act=K,bn.cloneElement=function(V,Y,ee){if(V==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+V+".");var se=x({},V.props),pe=V.key,Pe=V.ref,xe=V._owner;if(Y!=null){if(Y.ref!==void 0&&(Pe=Y.ref,xe=E.current),Y.key!==void 0&&(pe=""+Y.key),V.type&&V.type.defaultProps)var Ie=V.type.defaultProps;for(fe in Y)C.call(Y,fe)&&!P.hasOwnProperty(fe)&&(se[fe]=Y[fe]===void 0&&Ie!==void 0?Ie[fe]:Y[fe])}var fe=arguments.length-2;if(fe===1)se.children=ee;else if(1<fe){Ie=Array(fe);for(var Ne=0;Ne<fe;Ne++)Ie[Ne]=arguments[Ne+2];se.children=Ie}return{$$typeof:t,type:V.type,key:pe,ref:Pe,props:se,_owner:xe}},bn.createContext=function(V){return V={$$typeof:o,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},V.Provider={$$typeof:i,_context:V},V.Consumer=V},bn.createElement=T,bn.createFactory=function(V){var Y=T.bind(null,V);return Y.type=V,Y},bn.createRef=function(){return{current:null}},bn.forwardRef=function(V){return{$$typeof:l,render:V}},bn.isValidElement=k,bn.lazy=function(V){return{$$typeof:u,_payload:{_status:-1,_result:V},_init:I}},bn.memo=function(V,Y){return{$$typeof:d,type:V,compare:Y===void 0?null:Y}},bn.startTransition=function(V){var Y=U.transition;U.transition={};try{V()}finally{U.transition=Y}},bn.unstable_act=K,bn.useCallback=function(V,Y){return L.current.useCallback(V,Y)},bn.useContext=function(V){return L.current.useContext(V)},bn.useDebugValue=function(){},bn.useDeferredValue=function(V){return L.current.useDeferredValue(V)},bn.useEffect=function(V,Y){return L.current.useEffect(V,Y)},bn.useId=function(){return L.current.useId()},bn.useImperativeHandle=function(V,Y,ee){return L.current.useImperativeHandle(V,Y,ee)},bn.useInsertionEffect=function(V,Y){return L.current.useInsertionEffect(V,Y)},bn.useLayoutEffect=function(V,Y){return L.current.useLayoutEffect(V,Y)},bn.useMemo=function(V,Y){return L.current.useMemo(V,Y)},bn.useReducer=function(V,Y,ee){return L.current.useReducer(V,Y,ee)},bn.useRef=function(V){return L.current.useRef(V)},bn.useState=function(V){return L.current.useState(V)},bn.useSyncExternalStore=function(V,Y,ee){return L.current.useSyncExternalStore(V,Y,ee)},bn.useTransition=function(){return L.current.useTransition()},bn.version="18.3.1",bn}var iD;function x1(){return iD||(iD=1,RN.exports=wie()),RN.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oD;function _ie(){if(oD)return h0;oD=1;var t=x1(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,d){var u,h={},f=null,v=null;d!==void 0&&(f=""+d),c.key!==void 0&&(f=""+c.key),c.ref!==void 0&&(v=c.ref);for(u in c)a.call(c,u)&&!i.hasOwnProperty(u)&&(h[u]=c[u]);if(l&&l.defaultProps)for(u in c=l.defaultProps,c)h[u]===void 0&&(h[u]=c[u]);return{$$typeof:e,type:l,key:f,ref:v,props:h,_owner:s.current}}return h0.Fragment=n,h0.jsx=o,h0.jsxs=o,h0}var lD;function jie(){return lD||(lD=1,kN.exports=_ie()),kN.exports}var r=jie(),w=x1();const ae=In(w),S3=T7({__proto__:null,default:ae},[w]);var Zv={},ON={exports:{}},ws={},DN={exports:{}},IN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cD;function Nie(){return cD||(cD=1,(function(t){function e(U,z){var K=U.length;U.push(z);e:for(;0<K;){var V=K-1>>>1,Y=U[V];if(0<s(Y,z))U[V]=z,U[K]=Y,K=V;else break e}}function n(U){return U.length===0?null:U[0]}function a(U){if(U.length===0)return null;var z=U[0],K=U.pop();if(K!==z){U[0]=K;e:for(var V=0,Y=U.length,ee=Y>>>1;V<ee;){var se=2*(V+1)-1,pe=U[se],Pe=se+1,xe=U[Pe];if(0>s(pe,K))Pe<Y&&0>s(xe,pe)?(U[V]=xe,U[Pe]=K,V=Pe):(U[V]=pe,U[se]=K,V=se);else if(Pe<Y&&0>s(xe,K))U[V]=xe,U[Pe]=K,V=Pe;else break e}}return z}function s(U,z){var K=U.sortIndex-z.sortIndex;return K!==0?K:U.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,f=3,v=!1,x=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(U){for(var z=n(d);z!==null;){if(z.callback===null)a(d);else if(z.startTime<=U)a(d),z.sortIndex=z.expirationTime,e(c,z);else break;z=n(d)}}function S(U){if(g=!1,j(U),!x)if(n(c)!==null)x=!0,I(C);else{var z=n(d);z!==null&&L(S,z.startTime-U)}}function C(U,z){x=!1,g&&(g=!1,b(T),T=-1),v=!0;var K=f;try{for(j(z),h=n(c);h!==null&&(!(h.expirationTime>z)||U&&!O());){var V=h.callback;if(typeof V=="function"){h.callback=null,f=h.priorityLevel;var Y=V(h.expirationTime<=z);z=t.unstable_now(),typeof Y=="function"?h.callback=Y:h===n(c)&&a(c),j(z)}else a(c);h=n(c)}if(h!==null)var ee=!0;else{var se=n(d);se!==null&&L(S,se.startTime-z),ee=!1}return ee}finally{h=null,f=K,v=!1}}var E=!1,P=null,T=-1,M=5,k=-1;function O(){return!(t.unstable_now()-k<M)}function $(){if(P!==null){var U=t.unstable_now();k=U;var z=!0;try{z=P(!0,U)}finally{z?F():(E=!1,P=null)}}else E=!1}var F;if(typeof _=="function")F=function(){_($)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,G=B.port2;B.port1.onmessage=$,F=function(){G.postMessage(null)}}else F=function(){y($,0)};function I(U){P=U,E||(E=!0,F())}function L(U,z){T=y(function(){U(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){x||v||(x=!0,I(C))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(U){switch(f){case 1:case 2:case 3:var z=3;break;default:z=f}var K=f;f=z;try{return U()}finally{f=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,z){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var K=f;f=U;try{return z()}finally{f=K}},t.unstable_scheduleCallback=function(U,z,K){var V=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?V+K:V):K=V,U){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=K+Y,U={id:u++,callback:z,priorityLevel:U,startTime:K,expirationTime:Y,sortIndex:-1},K>V?(U.sortIndex=K,e(d,U),n(c)===null&&U===n(d)&&(g?(b(T),T=-1):g=!0,L(S,K-V))):(U.sortIndex=Y,e(c,U),x||v||(x=!0,I(C))),U},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(U){var z=f;return function(){var K=f;f=z;try{return U.apply(this,arguments)}finally{f=K}}}})(IN)),IN}var dD;function Sie(){return dD||(dD=1,DN.exports=Nie()),DN.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uD;function Cie(){if(uD)return ws;uD=1;var t=x1(),e=Sie();function n(m){for(var p="https://reactjs.org/docs/error-decoder.html?invariant="+m,N=1;N<arguments.length;N++)p+="&args[]="+encodeURIComponent(arguments[N]);return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function i(m,p){o(m,p),o(m+"Capture",p)}function o(m,p){for(s[m]=p,m=0;m<p.length;m++)a.add(p[m])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,u={},h={};function f(m){return c.call(h,m)?!0:c.call(u,m)?!1:d.test(m)?h[m]=!0:(u[m]=!0,!1)}function v(m,p,N,A){if(N!==null&&N.type===0)return!1;switch(typeof p){case"function":case"symbol":return!0;case"boolean":return A?!1:N!==null?!N.acceptsBooleans:(m=m.toLowerCase().slice(0,5),m!=="data-"&&m!=="aria-");default:return!1}}function x(m,p,N,A){if(p===null||typeof p>"u"||v(m,p,N,A))return!0;if(A)return!1;if(N!==null)switch(N.type){case 3:return!p;case 4:return p===!1;case 5:return isNaN(p);case 6:return isNaN(p)||1>p}return!1}function g(m,p,N,A,R,D,Q){this.acceptsBooleans=p===2||p===3||p===4,this.attributeName=A,this.attributeNamespace=R,this.mustUseProperty=N,this.propertyName=m,this.type=p,this.sanitizeURL=D,this.removeEmptyString=Q}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(m){y[m]=new g(m,0,!1,m,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(m){var p=m[0];y[p]=new g(p,1,!1,m[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(m){y[m]=new g(m,2,!1,m.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(m){y[m]=new g(m,2,!1,m,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(m){y[m]=new g(m,3,!1,m.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(m){y[m]=new g(m,3,!0,m,null,!1,!1)}),["capture","download"].forEach(function(m){y[m]=new g(m,4,!1,m,null,!1,!1)}),["cols","rows","size","span"].forEach(function(m){y[m]=new g(m,6,!1,m,null,!1,!1)}),["rowSpan","start"].forEach(function(m){y[m]=new g(m,5,!1,m.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function _(m){return m[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(m){var p=m.replace(b,_);y[p]=new g(p,1,!1,m,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(m){var p=m.replace(b,_);y[p]=new g(p,1,!1,m,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(m){var p=m.replace(b,_);y[p]=new g(p,1,!1,m,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(m){y[m]=new g(m,1,!1,m.toLowerCase(),null,!1,!1)}),y.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(m){y[m]=new g(m,1,!1,m.toLowerCase(),null,!0,!0)});function j(m,p,N,A){var R=y.hasOwnProperty(p)?y[p]:null;(R!==null?R.type!==0:A||!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(x(p,N,R,A)&&(N=null),A||R===null?f(p)&&(N===null?m.removeAttribute(p):m.setAttribute(p,""+N)):R.mustUseProperty?m[R.propertyName]=N===null?R.type===3?!1:"":N:(p=R.attributeName,A=R.attributeNamespace,N===null?m.removeAttribute(p):(R=R.type,N=R===3||R===4&&N===!0?"":""+N,A?m.setAttributeNS(A,p,N):m.setAttribute(p,N))))}var S=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,C=Symbol.for("react.element"),E=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),O=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),L=Symbol.for("react.offscreen"),U=Symbol.iterator;function z(m){return m===null||typeof m!="object"?null:(m=U&&m[U]||m["@@iterator"],typeof m=="function"?m:null)}var K=Object.assign,V;function Y(m){if(V===void 0)try{throw Error()}catch(N){var p=N.stack.trim().match(/\n( *(at )?)/);V=p&&p[1]||""}return`
`+V+m}var ee=!1;function se(m,p){if(!m||ee)return"";ee=!0;var N=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(p)if(p=function(){throw Error()},Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(Ce){var A=Ce}Reflect.construct(m,[],p)}else{try{p.call()}catch(Ce){A=Ce}m.call(p.prototype)}else{try{throw Error()}catch(Ce){A=Ce}m()}}catch(Ce){if(Ce&&A&&typeof Ce.stack=="string"){for(var R=Ce.stack.split(`
`),D=A.stack.split(`
`),Q=R.length-1,oe=D.length-1;1<=Q&&0<=oe&&R[Q]!==D[oe];)oe--;for(;1<=Q&&0<=oe;Q--,oe--)if(R[Q]!==D[oe]){if(Q!==1||oe!==1)do if(Q--,oe--,0>oe||R[Q]!==D[oe]){var ce=`
`+R[Q].replace(" at new "," at ");return m.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",m.displayName)),ce}while(1<=Q&&0<=oe);break}}}finally{ee=!1,Error.prepareStackTrace=N}return(m=m?m.displayName||m.name:"")?Y(m):""}function pe(m){switch(m.tag){case 5:return Y(m.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return m=se(m.type,!1),m;case 11:return m=se(m.type.render,!1),m;case 1:return m=se(m.type,!0),m;default:return""}}function Pe(m){if(m==null)return null;if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m;switch(m){case P:return"Fragment";case E:return"Portal";case M:return"Profiler";case T:return"StrictMode";case F:return"Suspense";case B:return"SuspenseList"}if(typeof m=="object")switch(m.$$typeof){case O:return(m.displayName||"Context")+".Consumer";case k:return(m._context.displayName||"Context")+".Provider";case $:var p=m.render;return m=m.displayName,m||(m=p.displayName||p.name||"",m=m!==""?"ForwardRef("+m+")":"ForwardRef"),m;case G:return p=m.displayName||null,p!==null?p:Pe(m.type)||"Memo";case I:p=m._payload,m=m._init;try{return Pe(m(p))}catch{}}return null}function xe(m){var p=m.type;switch(m.tag){case 24:return"Cache";case 9:return(p.displayName||"Context")+".Consumer";case 10:return(p._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return m=p.render,m=m.displayName||m.name||"",p.displayName||(m!==""?"ForwardRef("+m+")":"ForwardRef");case 7:return"Fragment";case 5:return p;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pe(p);case 8:return p===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p}return null}function Ie(m){switch(typeof m){case"boolean":case"number":case"string":case"undefined":return m;case"object":return m;default:return""}}function fe(m){var p=m.type;return(m=m.nodeName)&&m.toLowerCase()==="input"&&(p==="checkbox"||p==="radio")}function Ne(m){var p=fe(m)?"checked":"value",N=Object.getOwnPropertyDescriptor(m.constructor.prototype,p),A=""+m[p];if(!m.hasOwnProperty(p)&&typeof N<"u"&&typeof N.get=="function"&&typeof N.set=="function"){var R=N.get,D=N.set;return Object.defineProperty(m,p,{configurable:!0,get:function(){return R.call(this)},set:function(Q){A=""+Q,D.call(this,Q)}}),Object.defineProperty(m,p,{enumerable:N.enumerable}),{getValue:function(){return A},setValue:function(Q){A=""+Q},stopTracking:function(){m._valueTracker=null,delete m[p]}}}}function Le(m){m._valueTracker||(m._valueTracker=Ne(m))}function re(m){if(!m)return!1;var p=m._valueTracker;if(!p)return!0;var N=p.getValue(),A="";return m&&(A=fe(m)?m.checked?"true":"false":m.value),m=A,m!==N?(p.setValue(m),!0):!1}function he(m){if(m=m||(typeof document<"u"?document:void 0),typeof m>"u")return null;try{return m.activeElement||m.body}catch{return m.body}}function Ee(m,p){var N=p.checked;return K({},p,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:N??m._wrapperState.initialChecked})}function Xe(m,p){var N=p.defaultValue==null?"":p.defaultValue,A=p.checked!=null?p.checked:p.defaultChecked;N=Ie(p.value!=null?p.value:N),m._wrapperState={initialChecked:A,initialValue:N,controlled:p.type==="checkbox"||p.type==="radio"?p.checked!=null:p.value!=null}}function Ve(m,p){p=p.checked,p!=null&&j(m,"checked",p,!1)}function at(m,p){Ve(m,p);var N=Ie(p.value),A=p.type;if(N!=null)A==="number"?(N===0&&m.value===""||m.value!=N)&&(m.value=""+N):m.value!==""+N&&(m.value=""+N);else if(A==="submit"||A==="reset"){m.removeAttribute("value");return}p.hasOwnProperty("value")?Z(m,p.type,N):p.hasOwnProperty("defaultValue")&&Z(m,p.type,Ie(p.defaultValue)),p.checked==null&&p.defaultChecked!=null&&(m.defaultChecked=!!p.defaultChecked)}function de(m,p,N){if(p.hasOwnProperty("value")||p.hasOwnProperty("defaultValue")){var A=p.type;if(!(A!=="submit"&&A!=="reset"||p.value!==void 0&&p.value!==null))return;p=""+m._wrapperState.initialValue,N||p===m.value||(m.value=p),m.defaultValue=p}N=m.name,N!==""&&(m.name=""),m.defaultChecked=!!m._wrapperState.initialChecked,N!==""&&(m.name=N)}function Z(m,p,N){(p!=="number"||he(m.ownerDocument)!==m)&&(N==null?m.defaultValue=""+m._wrapperState.initialValue:m.defaultValue!==""+N&&(m.defaultValue=""+N))}var J=Array.isArray;function ve(m,p,N,A){if(m=m.options,p){p={};for(var R=0;R<N.length;R++)p["$"+N[R]]=!0;for(N=0;N<m.length;N++)R=p.hasOwnProperty("$"+m[N].value),m[N].selected!==R&&(m[N].selected=R),R&&A&&(m[N].defaultSelected=!0)}else{for(N=""+Ie(N),p=null,R=0;R<m.length;R++){if(m[R].value===N){m[R].selected=!0,A&&(m[R].defaultSelected=!0);return}p!==null||m[R].disabled||(p=m[R])}p!==null&&(p.selected=!0)}}function te(m,p){if(p.dangerouslySetInnerHTML!=null)throw Error(n(91));return K({},p,{value:void 0,defaultValue:void 0,children:""+m._wrapperState.initialValue})}function Te(m,p){var N=p.value;if(N==null){if(N=p.children,p=p.defaultValue,N!=null){if(p!=null)throw Error(n(92));if(J(N)){if(1<N.length)throw Error(n(93));N=N[0]}p=N}p==null&&(p=""),N=p}m._wrapperState={initialValue:Ie(N)}}function Be(m,p){var N=Ie(p.value),A=Ie(p.defaultValue);N!=null&&(N=""+N,N!==m.value&&(m.value=N),p.defaultValue==null&&m.defaultValue!==N&&(m.defaultValue=N)),A!=null&&(m.defaultValue=""+A)}function ut(m){var p=m.textContent;p===m._wrapperState.initialValue&&p!==""&&p!==null&&(m.value=p)}function st(m){switch(m){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vt(m,p){return m==null||m==="http://www.w3.org/1999/xhtml"?st(p):m==="http://www.w3.org/2000/svg"&&p==="foreignObject"?"http://www.w3.org/1999/xhtml":m}var Ft,on=(function(m){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(p,N,A,R){MSApp.execUnsafeLocalFunction(function(){return m(p,N,A,R)})}:m})(function(m,p){if(m.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in m)m.innerHTML=p;else{for(Ft=Ft||document.createElement("div"),Ft.innerHTML="<svg>"+p.valueOf().toString()+"</svg>",p=Ft.firstChild;m.firstChild;)m.removeChild(m.firstChild);for(;p.firstChild;)m.appendChild(p.firstChild)}});function Ge(m,p){if(p){var N=m.firstChild;if(N&&N===m.lastChild&&N.nodeType===3){N.nodeValue=p;return}}m.textContent=p}var Nn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ln=["Webkit","ms","Moz","O"];Object.keys(Nn).forEach(function(m){ln.forEach(function(p){p=p+m.charAt(0).toUpperCase()+m.substring(1),Nn[p]=Nn[m]})});function Qt(m,p,N){return p==null||typeof p=="boolean"||p===""?"":N||typeof p!="number"||p===0||Nn.hasOwnProperty(m)&&Nn[m]?(""+p).trim():p+"px"}function kt(m,p){m=m.style;for(var N in p)if(p.hasOwnProperty(N)){var A=N.indexOf("--")===0,R=Qt(N,p[N],A);N==="float"&&(N="cssFloat"),A?m.setProperty(N,R):m[N]=R}}var _t=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function an(m,p){if(p){if(_t[m]&&(p.children!=null||p.dangerouslySetInnerHTML!=null))throw Error(n(137,m));if(p.dangerouslySetInnerHTML!=null){if(p.children!=null)throw Error(n(60));if(typeof p.dangerouslySetInnerHTML!="object"||!("__html"in p.dangerouslySetInnerHTML))throw Error(n(61))}if(p.style!=null&&typeof p.style!="object")throw Error(n(62))}}function Cn(m,p){if(m.indexOf("-")===-1)return typeof p.is=="string";switch(m){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var er=null;function sn(m){return m=m.target||m.srcElement||window,m.correspondingUseElement&&(m=m.correspondingUseElement),m.nodeType===3?m.parentNode:m}var Je=null,ue=null,Ze=null;function tt(m){if(m=Qp(m)){if(typeof Je!="function")throw Error(n(280));var p=m.stateNode;p&&(p=uv(p),Je(m.stateNode,m.type,p))}}function Kt(m){ue?Ze?Ze.push(m):Ze=[m]:ue=m}function Ut(){if(ue){var m=ue,p=Ze;if(Ze=ue=null,tt(m),p)for(m=0;m<p.length;m++)tt(p[m])}}function Ln(m,p){return m(p)}function zn(){}var vr=!1;function Gr(m,p,N){if(vr)return m(p,N);vr=!0;try{return Ln(m,p,N)}finally{vr=!1,(ue!==null||Ze!==null)&&(zn(),Ut())}}function cn(m,p){var N=m.stateNode;if(N===null)return null;var A=uv(N);if(A===null)return null;N=A[p];e:switch(p){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(A=!A.disabled)||(m=m.type,A=!(m==="button"||m==="input"||m==="select"||m==="textarea")),m=!A;break e;default:m=!1}if(m)return null;if(N&&typeof N!="function")throw Error(n(231,p,typeof N));return N}var Ur=!1;if(l)try{var yr={};Object.defineProperty(yr,"passive",{get:function(){Ur=!0}}),window.addEventListener("test",yr,yr),window.removeEventListener("test",yr,yr)}catch{Ur=!1}function Ja(m,p,N,A,R,D,Q,oe,ce){var Ce=Array.prototype.slice.call(arguments,3);try{p.apply(N,Ce)}catch(We){this.onError(We)}}var Aa=!1,zs=null,sl=!1,di=null,Ad={onError:function(m){Aa=!0,zs=m}};function yh(m,p,N,A,R,D,Q,oe,ce){Aa=!1,zs=null,Ja.apply(Ad,arguments)}function bh(m,p,N,A,R,D,Q,oe,ce){if(yh.apply(this,arguments),Aa){if(Aa){var Ce=zs;Aa=!1,zs=null}else throw Error(n(198));sl||(sl=!0,di=Ce)}}function qs(m){var p=m,N=m;if(m.alternate)for(;p.return;)p=p.return;else{m=p;do p=m,(p.flags&4098)!==0&&(N=p.return),m=p.return;while(m)}return p.tag===3?N:null}function Md(m){if(m.tag===13){var p=m.memoizedState;if(p===null&&(m=m.alternate,m!==null&&(p=m.memoizedState)),p!==null)return p.dehydrated}return null}function ne(m){if(qs(m)!==m)throw Error(n(188))}function ge(m){var p=m.alternate;if(!p){if(p=qs(m),p===null)throw Error(n(188));return p!==m?null:m}for(var N=m,A=p;;){var R=N.return;if(R===null)break;var D=R.alternate;if(D===null){if(A=R.return,A!==null){N=A;continue}break}if(R.child===D.child){for(D=R.child;D;){if(D===N)return ne(R),m;if(D===A)return ne(R),p;D=D.sibling}throw Error(n(188))}if(N.return!==A.return)N=R,A=D;else{for(var Q=!1,oe=R.child;oe;){if(oe===N){Q=!0,N=R,A=D;break}if(oe===A){Q=!0,A=R,N=D;break}oe=oe.sibling}if(!Q){for(oe=D.child;oe;){if(oe===N){Q=!0,N=D,A=R;break}if(oe===A){Q=!0,A=D,N=R;break}oe=oe.sibling}if(!Q)throw Error(n(189))}}if(N.alternate!==A)throw Error(n(190))}if(N.tag!==3)throw Error(n(188));return N.stateNode.current===N?m:p}function Ae(m){return m=ge(m),m!==null?ke(m):null}function ke(m){if(m.tag===5||m.tag===6)return m;for(m=m.child;m!==null;){var p=ke(m);if(p!==null)return p;m=m.sibling}return null}var Se=e.unstable_scheduleCallback,dt=e.unstable_cancelCallback,Mt=e.unstable_shouldYield,Vt=e.unstable_requestPaint,ht=e.unstable_now,dn=e.unstable_getCurrentPriorityLevel,Zt=e.unstable_ImmediatePriority,nn=e.unstable_UserBlockingPriority,Xn=e.unstable_NormalPriority,fa=e.unstable_LowPriority,br=e.unstable_IdlePriority,ie=null,$e=null;function ze(m){if($e&&typeof $e.onCommitFiberRoot=="function")try{$e.onCommitFiberRoot(ie,m,void 0,(m.current.flags&128)===128)}catch{}}var pt=Math.clz32?Math.clz32:Jt,it=Math.log,$t=Math.LN2;function Jt(m){return m>>>=0,m===0?32:31-(it(m)/$t|0)|0}var Ct=64,pn=4194304;function vn(m){switch(m&-m){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return m&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return m}}function tr(m,p){var N=m.pendingLanes;if(N===0)return 0;var A=0,R=m.suspendedLanes,D=m.pingedLanes,Q=N&268435455;if(Q!==0){var oe=Q&~R;oe!==0?A=vn(oe):(D&=Q,D!==0&&(A=vn(D)))}else Q=N&~R,Q!==0?A=vn(Q):D!==0&&(A=vn(D));if(A===0)return 0;if(p!==0&&p!==A&&(p&R)===0&&(R=A&-A,D=p&-p,R>=D||R===16&&(D&4194240)!==0))return p;if((A&4)!==0&&(A|=N&16),p=m.entangledLanes,p!==0)for(m=m.entanglements,p&=A;0<p;)N=31-pt(p),R=1<<N,A|=m[N],p&=~R;return A}function ur(m,p){switch(m){case 1:case 2:case 4:return p+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dt(m,p){for(var N=m.suspendedLanes,A=m.pingedLanes,R=m.expirationTimes,D=m.pendingLanes;0<D;){var Q=31-pt(D),oe=1<<Q,ce=R[Q];ce===-1?((oe&N)===0||(oe&A)!==0)&&(R[Q]=ur(oe,p)):ce<=p&&(m.expiredLanes|=oe),D&=~oe}}function pa(m){return m=m.pendingLanes&-1073741825,m!==0?m:m&1073741824?1073741824:0}function ps(){var m=Ct;return Ct<<=1,(Ct&4194240)===0&&(Ct=64),m}function nr(m){for(var p=[],N=0;31>N;N++)p.push(m);return p}function kr(m,p,N){m.pendingLanes|=p,p!==536870912&&(m.suspendedLanes=0,m.pingedLanes=0),m=m.eventTimes,p=31-pt(p),m[p]=N}function Bae(m,p){var N=m.pendingLanes&~p;m.pendingLanes=p,m.suspendedLanes=0,m.pingedLanes=0,m.expiredLanes&=p,m.mutableReadLanes&=p,m.entangledLanes&=p,p=m.entanglements;var A=m.eventTimes;for(m=m.expirationTimes;0<N;){var R=31-pt(N),D=1<<R;p[R]=0,A[R]=-1,m[R]=-1,N&=~D}}function ej(m,p){var N=m.entangledLanes|=p;for(m=m.entanglements;N;){var A=31-pt(N),R=1<<A;R&p|m[A]&p&&(m[A]|=p),N&=~R}}var Yn=0;function IR(m){return m&=-m,1<m?4<m?(m&268435455)!==0?16:536870912:4:1}var LR,tj,FR,$R,UR,nj=!1,Yg=[],ic=null,oc=null,lc=null,Dp=new Map,Ip=new Map,cc=[],zae="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function BR(m,p){switch(m){case"focusin":case"focusout":ic=null;break;case"dragenter":case"dragleave":oc=null;break;case"mouseover":case"mouseout":lc=null;break;case"pointerover":case"pointerout":Dp.delete(p.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ip.delete(p.pointerId)}}function Lp(m,p,N,A,R,D){return m===null||m.nativeEvent!==D?(m={blockedOn:p,domEventName:N,eventSystemFlags:A,nativeEvent:D,targetContainers:[R]},p!==null&&(p=Qp(p),p!==null&&tj(p)),m):(m.eventSystemFlags|=A,p=m.targetContainers,R!==null&&p.indexOf(R)===-1&&p.push(R),m)}function qae(m,p,N,A,R){switch(p){case"focusin":return ic=Lp(ic,m,p,N,A,R),!0;case"dragenter":return oc=Lp(oc,m,p,N,A,R),!0;case"mouseover":return lc=Lp(lc,m,p,N,A,R),!0;case"pointerover":var D=R.pointerId;return Dp.set(D,Lp(Dp.get(D)||null,m,p,N,A,R)),!0;case"gotpointercapture":return D=R.pointerId,Ip.set(D,Lp(Ip.get(D)||null,m,p,N,A,R)),!0}return!1}function zR(m){var p=Pd(m.target);if(p!==null){var N=qs(p);if(N!==null){if(p=N.tag,p===13){if(p=Md(N),p!==null){m.blockedOn=p,UR(m.priority,function(){FR(N)});return}}else if(p===3&&N.stateNode.current.memoizedState.isDehydrated){m.blockedOn=N.tag===3?N.stateNode.containerInfo:null;return}}}m.blockedOn=null}function Qg(m){if(m.blockedOn!==null)return!1;for(var p=m.targetContainers;0<p.length;){var N=aj(m.domEventName,m.eventSystemFlags,p[0],m.nativeEvent);if(N===null){N=m.nativeEvent;var A=new N.constructor(N.type,N);er=A,N.target.dispatchEvent(A),er=null}else return p=Qp(N),p!==null&&tj(p),m.blockedOn=N,!1;p.shift()}return!0}function qR(m,p,N){Qg(m)&&N.delete(p)}function Vae(){nj=!1,ic!==null&&Qg(ic)&&(ic=null),oc!==null&&Qg(oc)&&(oc=null),lc!==null&&Qg(lc)&&(lc=null),Dp.forEach(qR),Ip.forEach(qR)}function Fp(m,p){m.blockedOn===p&&(m.blockedOn=null,nj||(nj=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Vae)))}function $p(m){function p(R){return Fp(R,m)}if(0<Yg.length){Fp(Yg[0],m);for(var N=1;N<Yg.length;N++){var A=Yg[N];A.blockedOn===m&&(A.blockedOn=null)}}for(ic!==null&&Fp(ic,m),oc!==null&&Fp(oc,m),lc!==null&&Fp(lc,m),Dp.forEach(p),Ip.forEach(p),N=0;N<cc.length;N++)A=cc[N],A.blockedOn===m&&(A.blockedOn=null);for(;0<cc.length&&(N=cc[0],N.blockedOn===null);)zR(N),N.blockedOn===null&&cc.shift()}var wh=S.ReactCurrentBatchConfig,Zg=!0;function Hae(m,p,N,A){var R=Yn,D=wh.transition;wh.transition=null;try{Yn=1,rj(m,p,N,A)}finally{Yn=R,wh.transition=D}}function Gae(m,p,N,A){var R=Yn,D=wh.transition;wh.transition=null;try{Yn=4,rj(m,p,N,A)}finally{Yn=R,wh.transition=D}}function rj(m,p,N,A){if(Zg){var R=aj(m,p,N,A);if(R===null)wj(m,p,A,Jg,N),BR(m,A);else if(qae(R,m,p,N,A))A.stopPropagation();else if(BR(m,A),p&4&&-1<zae.indexOf(m)){for(;R!==null;){var D=Qp(R);if(D!==null&&LR(D),D=aj(m,p,N,A),D===null&&wj(m,p,A,Jg,N),D===R)break;R=D}R!==null&&A.stopPropagation()}else wj(m,p,A,null,N)}}var Jg=null;function aj(m,p,N,A){if(Jg=null,m=sn(A),m=Pd(m),m!==null)if(p=qs(m),p===null)m=null;else if(N=p.tag,N===13){if(m=Md(p),m!==null)return m;m=null}else if(N===3){if(p.stateNode.current.memoizedState.isDehydrated)return p.tag===3?p.stateNode.containerInfo:null;m=null}else p!==m&&(m=null);return Jg=m,null}function VR(m){switch(m){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dn()){case Zt:return 1;case nn:return 4;case Xn:case fa:return 16;case br:return 536870912;default:return 16}default:return 16}}var dc=null,sj=null,ev=null;function HR(){if(ev)return ev;var m,p=sj,N=p.length,A,R="value"in dc?dc.value:dc.textContent,D=R.length;for(m=0;m<N&&p[m]===R[m];m++);var Q=N-m;for(A=1;A<=Q&&p[N-A]===R[D-A];A++);return ev=R.slice(m,1<A?1-A:void 0)}function tv(m){var p=m.keyCode;return"charCode"in m?(m=m.charCode,m===0&&p===13&&(m=13)):m=p,m===10&&(m=13),32<=m||m===13?m:0}function nv(){return!0}function GR(){return!1}function Vs(m){function p(N,A,R,D,Q){this._reactName=N,this._targetInst=R,this.type=A,this.nativeEvent=D,this.target=Q,this.currentTarget=null;for(var oe in m)m.hasOwnProperty(oe)&&(N=m[oe],this[oe]=N?N(D):D[oe]);return this.isDefaultPrevented=(D.defaultPrevented!=null?D.defaultPrevented:D.returnValue===!1)?nv:GR,this.isPropagationStopped=GR,this}return K(p.prototype,{preventDefault:function(){this.defaultPrevented=!0;var N=this.nativeEvent;N&&(N.preventDefault?N.preventDefault():typeof N.returnValue!="unknown"&&(N.returnValue=!1),this.isDefaultPrevented=nv)},stopPropagation:function(){var N=this.nativeEvent;N&&(N.stopPropagation?N.stopPropagation():typeof N.cancelBubble!="unknown"&&(N.cancelBubble=!0),this.isPropagationStopped=nv)},persist:function(){},isPersistent:nv}),p}var _h={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(m){return m.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ij=Vs(_h),Up=K({},_h,{view:0,detail:0}),Wae=Vs(Up),oj,lj,Bp,rv=K({},Up,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dj,button:0,buttons:0,relatedTarget:function(m){return m.relatedTarget===void 0?m.fromElement===m.srcElement?m.toElement:m.fromElement:m.relatedTarget},movementX:function(m){return"movementX"in m?m.movementX:(m!==Bp&&(Bp&&m.type==="mousemove"?(oj=m.screenX-Bp.screenX,lj=m.screenY-Bp.screenY):lj=oj=0,Bp=m),oj)},movementY:function(m){return"movementY"in m?m.movementY:lj}}),WR=Vs(rv),Kae=K({},rv,{dataTransfer:0}),Xae=Vs(Kae),Yae=K({},Up,{relatedTarget:0}),cj=Vs(Yae),Qae=K({},_h,{animationName:0,elapsedTime:0,pseudoElement:0}),Zae=Vs(Qae),Jae=K({},_h,{clipboardData:function(m){return"clipboardData"in m?m.clipboardData:window.clipboardData}}),ese=Vs(Jae),tse=K({},_h,{data:0}),KR=Vs(tse),nse={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rse={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ase={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sse(m){var p=this.nativeEvent;return p.getModifierState?p.getModifierState(m):(m=ase[m])?!!p[m]:!1}function dj(){return sse}var ise=K({},Up,{key:function(m){if(m.key){var p=nse[m.key]||m.key;if(p!=="Unidentified")return p}return m.type==="keypress"?(m=tv(m),m===13?"Enter":String.fromCharCode(m)):m.type==="keydown"||m.type==="keyup"?rse[m.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dj,charCode:function(m){return m.type==="keypress"?tv(m):0},keyCode:function(m){return m.type==="keydown"||m.type==="keyup"?m.keyCode:0},which:function(m){return m.type==="keypress"?tv(m):m.type==="keydown"||m.type==="keyup"?m.keyCode:0}}),ose=Vs(ise),lse=K({},rv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),XR=Vs(lse),cse=K({},Up,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dj}),dse=Vs(cse),use=K({},_h,{propertyName:0,elapsedTime:0,pseudoElement:0}),hse=Vs(use),mse=K({},rv,{deltaX:function(m){return"deltaX"in m?m.deltaX:"wheelDeltaX"in m?-m.wheelDeltaX:0},deltaY:function(m){return"deltaY"in m?m.deltaY:"wheelDeltaY"in m?-m.wheelDeltaY:"wheelDelta"in m?-m.wheelDelta:0},deltaZ:0,deltaMode:0}),fse=Vs(mse),pse=[9,13,27,32],uj=l&&"CompositionEvent"in window,zp=null;l&&"documentMode"in document&&(zp=document.documentMode);var xse=l&&"TextEvent"in window&&!zp,YR=l&&(!uj||zp&&8<zp&&11>=zp),QR=" ",ZR=!1;function JR(m,p){switch(m){case"keyup":return pse.indexOf(p.keyCode)!==-1;case"keydown":return p.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function e5(m){return m=m.detail,typeof m=="object"&&"data"in m?m.data:null}var jh=!1;function gse(m,p){switch(m){case"compositionend":return e5(p);case"keypress":return p.which!==32?null:(ZR=!0,QR);case"textInput":return m=p.data,m===QR&&ZR?null:m;default:return null}}function vse(m,p){if(jh)return m==="compositionend"||!uj&&JR(m,p)?(m=HR(),ev=sj=dc=null,jh=!1,m):null;switch(m){case"paste":return null;case"keypress":if(!(p.ctrlKey||p.altKey||p.metaKey)||p.ctrlKey&&p.altKey){if(p.char&&1<p.char.length)return p.char;if(p.which)return String.fromCharCode(p.which)}return null;case"compositionend":return YR&&p.locale!=="ko"?null:p.data;default:return null}}var yse={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function t5(m){var p=m&&m.nodeName&&m.nodeName.toLowerCase();return p==="input"?!!yse[m.type]:p==="textarea"}function n5(m,p,N,A){Kt(A),p=lv(p,"onChange"),0<p.length&&(N=new ij("onChange","change",null,N,A),m.push({event:N,listeners:p}))}var qp=null,Vp=null;function bse(m){b5(m,0)}function av(m){var p=Ah(m);if(re(p))return m}function wse(m,p){if(m==="change")return p}var r5=!1;if(l){var hj;if(l){var mj="oninput"in document;if(!mj){var a5=document.createElement("div");a5.setAttribute("oninput","return;"),mj=typeof a5.oninput=="function"}hj=mj}else hj=!1;r5=hj&&(!document.documentMode||9<document.documentMode)}function s5(){qp&&(qp.detachEvent("onpropertychange",i5),Vp=qp=null)}function i5(m){if(m.propertyName==="value"&&av(Vp)){var p=[];n5(p,Vp,m,sn(m)),Gr(bse,p)}}function _se(m,p,N){m==="focusin"?(s5(),qp=p,Vp=N,qp.attachEvent("onpropertychange",i5)):m==="focusout"&&s5()}function jse(m){if(m==="selectionchange"||m==="keyup"||m==="keydown")return av(Vp)}function Nse(m,p){if(m==="click")return av(p)}function Sse(m,p){if(m==="input"||m==="change")return av(p)}function Cse(m,p){return m===p&&(m!==0||1/m===1/p)||m!==m&&p!==p}var Bi=typeof Object.is=="function"?Object.is:Cse;function Hp(m,p){if(Bi(m,p))return!0;if(typeof m!="object"||m===null||typeof p!="object"||p===null)return!1;var N=Object.keys(m),A=Object.keys(p);if(N.length!==A.length)return!1;for(A=0;A<N.length;A++){var R=N[A];if(!c.call(p,R)||!Bi(m[R],p[R]))return!1}return!0}function o5(m){for(;m&&m.firstChild;)m=m.firstChild;return m}function l5(m,p){var N=o5(m);m=0;for(var A;N;){if(N.nodeType===3){if(A=m+N.textContent.length,m<=p&&A>=p)return{node:N,offset:p-m};m=A}e:{for(;N;){if(N.nextSibling){N=N.nextSibling;break e}N=N.parentNode}N=void 0}N=o5(N)}}function c5(m,p){return m&&p?m===p?!0:m&&m.nodeType===3?!1:p&&p.nodeType===3?c5(m,p.parentNode):"contains"in m?m.contains(p):m.compareDocumentPosition?!!(m.compareDocumentPosition(p)&16):!1:!1}function d5(){for(var m=window,p=he();p instanceof m.HTMLIFrameElement;){try{var N=typeof p.contentWindow.location.href=="string"}catch{N=!1}if(N)m=p.contentWindow;else break;p=he(m.document)}return p}function fj(m){var p=m&&m.nodeName&&m.nodeName.toLowerCase();return p&&(p==="input"&&(m.type==="text"||m.type==="search"||m.type==="tel"||m.type==="url"||m.type==="password")||p==="textarea"||m.contentEditable==="true")}function Ese(m){var p=d5(),N=m.focusedElem,A=m.selectionRange;if(p!==N&&N&&N.ownerDocument&&c5(N.ownerDocument.documentElement,N)){if(A!==null&&fj(N)){if(p=A.start,m=A.end,m===void 0&&(m=p),"selectionStart"in N)N.selectionStart=p,N.selectionEnd=Math.min(m,N.value.length);else if(m=(p=N.ownerDocument||document)&&p.defaultView||window,m.getSelection){m=m.getSelection();var R=N.textContent.length,D=Math.min(A.start,R);A=A.end===void 0?D:Math.min(A.end,R),!m.extend&&D>A&&(R=A,A=D,D=R),R=l5(N,D);var Q=l5(N,A);R&&Q&&(m.rangeCount!==1||m.anchorNode!==R.node||m.anchorOffset!==R.offset||m.focusNode!==Q.node||m.focusOffset!==Q.offset)&&(p=p.createRange(),p.setStart(R.node,R.offset),m.removeAllRanges(),D>A?(m.addRange(p),m.extend(Q.node,Q.offset)):(p.setEnd(Q.node,Q.offset),m.addRange(p)))}}for(p=[],m=N;m=m.parentNode;)m.nodeType===1&&p.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<p.length;N++)m=p[N],m.element.scrollLeft=m.left,m.element.scrollTop=m.top}}var Ase=l&&"documentMode"in document&&11>=document.documentMode,Nh=null,pj=null,Gp=null,xj=!1;function u5(m,p,N){var A=N.window===N?N.document:N.nodeType===9?N:N.ownerDocument;xj||Nh==null||Nh!==he(A)||(A=Nh,"selectionStart"in A&&fj(A)?A={start:A.selectionStart,end:A.selectionEnd}:(A=(A.ownerDocument&&A.ownerDocument.defaultView||window).getSelection(),A={anchorNode:A.anchorNode,anchorOffset:A.anchorOffset,focusNode:A.focusNode,focusOffset:A.focusOffset}),Gp&&Hp(Gp,A)||(Gp=A,A=lv(pj,"onSelect"),0<A.length&&(p=new ij("onSelect","select",null,p,N),m.push({event:p,listeners:A}),p.target=Nh)))}function sv(m,p){var N={};return N[m.toLowerCase()]=p.toLowerCase(),N["Webkit"+m]="webkit"+p,N["Moz"+m]="moz"+p,N}var Sh={animationend:sv("Animation","AnimationEnd"),animationiteration:sv("Animation","AnimationIteration"),animationstart:sv("Animation","AnimationStart"),transitionend:sv("Transition","TransitionEnd")},gj={},h5={};l&&(h5=document.createElement("div").style,"AnimationEvent"in window||(delete Sh.animationend.animation,delete Sh.animationiteration.animation,delete Sh.animationstart.animation),"TransitionEvent"in window||delete Sh.transitionend.transition);function iv(m){if(gj[m])return gj[m];if(!Sh[m])return m;var p=Sh[m],N;for(N in p)if(p.hasOwnProperty(N)&&N in h5)return gj[m]=p[N];return m}var m5=iv("animationend"),f5=iv("animationiteration"),p5=iv("animationstart"),x5=iv("transitionend"),g5=new Map,v5="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function uc(m,p){g5.set(m,p),i(p,[m])}for(var vj=0;vj<v5.length;vj++){var yj=v5[vj],Mse=yj.toLowerCase(),Pse=yj[0].toUpperCase()+yj.slice(1);uc(Mse,"on"+Pse)}uc(m5,"onAnimationEnd"),uc(f5,"onAnimationIteration"),uc(p5,"onAnimationStart"),uc("dblclick","onDoubleClick"),uc("focusin","onFocus"),uc("focusout","onBlur"),uc(x5,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tse=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wp));function y5(m,p,N){var A=m.type||"unknown-event";m.currentTarget=N,bh(A,p,void 0,m),m.currentTarget=null}function b5(m,p){p=(p&4)!==0;for(var N=0;N<m.length;N++){var A=m[N],R=A.event;A=A.listeners;e:{var D=void 0;if(p)for(var Q=A.length-1;0<=Q;Q--){var oe=A[Q],ce=oe.instance,Ce=oe.currentTarget;if(oe=oe.listener,ce!==D&&R.isPropagationStopped())break e;y5(R,oe,Ce),D=ce}else for(Q=0;Q<A.length;Q++){if(oe=A[Q],ce=oe.instance,Ce=oe.currentTarget,oe=oe.listener,ce!==D&&R.isPropagationStopped())break e;y5(R,oe,Ce),D=ce}}}if(sl)throw m=di,sl=!1,di=null,m}function hr(m,p){var N=p[Ej];N===void 0&&(N=p[Ej]=new Set);var A=m+"__bubble";N.has(A)||(w5(p,m,2,!1),N.add(A))}function bj(m,p,N){var A=0;p&&(A|=4),w5(N,m,A,p)}var ov="_reactListening"+Math.random().toString(36).slice(2);function Kp(m){if(!m[ov]){m[ov]=!0,a.forEach(function(N){N!=="selectionchange"&&(Tse.has(N)||bj(N,!1,m),bj(N,!0,m))});var p=m.nodeType===9?m:m.ownerDocument;p===null||p[ov]||(p[ov]=!0,bj("selectionchange",!1,p))}}function w5(m,p,N,A){switch(VR(p)){case 1:var R=Hae;break;case 4:R=Gae;break;default:R=rj}N=R.bind(null,p,N,m),R=void 0,!Ur||p!=="touchstart"&&p!=="touchmove"&&p!=="wheel"||(R=!0),A?R!==void 0?m.addEventListener(p,N,{capture:!0,passive:R}):m.addEventListener(p,N,!0):R!==void 0?m.addEventListener(p,N,{passive:R}):m.addEventListener(p,N,!1)}function wj(m,p,N,A,R){var D=A;if((p&1)===0&&(p&2)===0&&A!==null)e:for(;;){if(A===null)return;var Q=A.tag;if(Q===3||Q===4){var oe=A.stateNode.containerInfo;if(oe===R||oe.nodeType===8&&oe.parentNode===R)break;if(Q===4)for(Q=A.return;Q!==null;){var ce=Q.tag;if((ce===3||ce===4)&&(ce=Q.stateNode.containerInfo,ce===R||ce.nodeType===8&&ce.parentNode===R))return;Q=Q.return}for(;oe!==null;){if(Q=Pd(oe),Q===null)return;if(ce=Q.tag,ce===5||ce===6){A=D=Q;continue e}oe=oe.parentNode}}A=A.return}Gr(function(){var Ce=D,We=sn(N),Ke=[];e:{var He=g5.get(m);if(He!==void 0){var mt=ij,jt=m;switch(m){case"keypress":if(tv(N)===0)break e;case"keydown":case"keyup":mt=ose;break;case"focusin":jt="focus",mt=cj;break;case"focusout":jt="blur",mt=cj;break;case"beforeblur":case"afterblur":mt=cj;break;case"click":if(N.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":mt=WR;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":mt=Xae;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":mt=dse;break;case m5:case f5:case p5:mt=Zae;break;case x5:mt=hse;break;case"scroll":mt=Wae;break;case"wheel":mt=fse;break;case"copy":case"cut":case"paste":mt=ese;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":mt=XR}var Et=(p&4)!==0,Br=!Et&&m==="scroll",ye=Et?He!==null?He+"Capture":null:He;Et=[];for(var me=Ce,we;me!==null;){we=me;var Qe=we.stateNode;if(we.tag===5&&Qe!==null&&(we=Qe,ye!==null&&(Qe=cn(me,ye),Qe!=null&&Et.push(Xp(me,Qe,we)))),Br)break;me=me.return}0<Et.length&&(He=new mt(He,jt,null,N,We),Ke.push({event:He,listeners:Et}))}}if((p&7)===0){e:{if(He=m==="mouseover"||m==="pointerover",mt=m==="mouseout"||m==="pointerout",He&&N!==er&&(jt=N.relatedTarget||N.fromElement)&&(Pd(jt)||jt[il]))break e;if((mt||He)&&(He=We.window===We?We:(He=We.ownerDocument)?He.defaultView||He.parentWindow:window,mt?(jt=N.relatedTarget||N.toElement,mt=Ce,jt=jt?Pd(jt):null,jt!==null&&(Br=qs(jt),jt!==Br||jt.tag!==5&&jt.tag!==6)&&(jt=null)):(mt=null,jt=Ce),mt!==jt)){if(Et=WR,Qe="onMouseLeave",ye="onMouseEnter",me="mouse",(m==="pointerout"||m==="pointerover")&&(Et=XR,Qe="onPointerLeave",ye="onPointerEnter",me="pointer"),Br=mt==null?He:Ah(mt),we=jt==null?He:Ah(jt),He=new Et(Qe,me+"leave",mt,N,We),He.target=Br,He.relatedTarget=we,Qe=null,Pd(We)===Ce&&(Et=new Et(ye,me+"enter",jt,N,We),Et.target=we,Et.relatedTarget=Br,Qe=Et),Br=Qe,mt&&jt)t:{for(Et=mt,ye=jt,me=0,we=Et;we;we=Ch(we))me++;for(we=0,Qe=ye;Qe;Qe=Ch(Qe))we++;for(;0<me-we;)Et=Ch(Et),me--;for(;0<we-me;)ye=Ch(ye),we--;for(;me--;){if(Et===ye||ye!==null&&Et===ye.alternate)break t;Et=Ch(Et),ye=Ch(ye)}Et=null}else Et=null;mt!==null&&_5(Ke,He,mt,Et,!1),jt!==null&&Br!==null&&_5(Ke,Br,jt,Et,!0)}}e:{if(He=Ce?Ah(Ce):window,mt=He.nodeName&&He.nodeName.toLowerCase(),mt==="select"||mt==="input"&&He.type==="file")var Pt=wse;else if(t5(He))if(r5)Pt=Sse;else{Pt=jse;var Ht=_se}else(mt=He.nodeName)&&mt.toLowerCase()==="input"&&(He.type==="checkbox"||He.type==="radio")&&(Pt=Nse);if(Pt&&(Pt=Pt(m,Ce))){n5(Ke,Pt,N,We);break e}Ht&&Ht(m,He,Ce),m==="focusout"&&(Ht=He._wrapperState)&&Ht.controlled&&He.type==="number"&&Z(He,"number",He.value)}switch(Ht=Ce?Ah(Ce):window,m){case"focusin":(t5(Ht)||Ht.contentEditable==="true")&&(Nh=Ht,pj=Ce,Gp=null);break;case"focusout":Gp=pj=Nh=null;break;case"mousedown":xj=!0;break;case"contextmenu":case"mouseup":case"dragend":xj=!1,u5(Ke,N,We);break;case"selectionchange":if(Ase)break;case"keydown":case"keyup":u5(Ke,N,We)}var Gt;if(uj)e:{switch(m){case"compositionstart":var rn="onCompositionStart";break e;case"compositionend":rn="onCompositionEnd";break e;case"compositionupdate":rn="onCompositionUpdate";break e}rn=void 0}else jh?JR(m,N)&&(rn="onCompositionEnd"):m==="keydown"&&N.keyCode===229&&(rn="onCompositionStart");rn&&(YR&&N.locale!=="ko"&&(jh||rn!=="onCompositionStart"?rn==="onCompositionEnd"&&jh&&(Gt=HR()):(dc=We,sj="value"in dc?dc.value:dc.textContent,jh=!0)),Ht=lv(Ce,rn),0<Ht.length&&(rn=new KR(rn,m,null,N,We),Ke.push({event:rn,listeners:Ht}),Gt?rn.data=Gt:(Gt=e5(N),Gt!==null&&(rn.data=Gt)))),(Gt=xse?gse(m,N):vse(m,N))&&(Ce=lv(Ce,"onBeforeInput"),0<Ce.length&&(We=new KR("onBeforeInput","beforeinput",null,N,We),Ke.push({event:We,listeners:Ce}),We.data=Gt))}b5(Ke,p)})}function Xp(m,p,N){return{instance:m,listener:p,currentTarget:N}}function lv(m,p){for(var N=p+"Capture",A=[];m!==null;){var R=m,D=R.stateNode;R.tag===5&&D!==null&&(R=D,D=cn(m,N),D!=null&&A.unshift(Xp(m,D,R)),D=cn(m,p),D!=null&&A.push(Xp(m,D,R))),m=m.return}return A}function Ch(m){if(m===null)return null;do m=m.return;while(m&&m.tag!==5);return m||null}function _5(m,p,N,A,R){for(var D=p._reactName,Q=[];N!==null&&N!==A;){var oe=N,ce=oe.alternate,Ce=oe.stateNode;if(ce!==null&&ce===A)break;oe.tag===5&&Ce!==null&&(oe=Ce,R?(ce=cn(N,D),ce!=null&&Q.unshift(Xp(N,ce,oe))):R||(ce=cn(N,D),ce!=null&&Q.push(Xp(N,ce,oe)))),N=N.return}Q.length!==0&&m.push({event:p,listeners:Q})}var kse=/\r\n?/g,Rse=/\u0000|\uFFFD/g;function j5(m){return(typeof m=="string"?m:""+m).replace(kse,`
`).replace(Rse,"")}function cv(m,p,N){if(p=j5(p),j5(m)!==p&&N)throw Error(n(425))}function dv(){}var _j=null,jj=null;function Nj(m,p){return m==="textarea"||m==="noscript"||typeof p.children=="string"||typeof p.children=="number"||typeof p.dangerouslySetInnerHTML=="object"&&p.dangerouslySetInnerHTML!==null&&p.dangerouslySetInnerHTML.__html!=null}var Sj=typeof setTimeout=="function"?setTimeout:void 0,Ose=typeof clearTimeout=="function"?clearTimeout:void 0,N5=typeof Promise=="function"?Promise:void 0,Dse=typeof queueMicrotask=="function"?queueMicrotask:typeof N5<"u"?function(m){return N5.resolve(null).then(m).catch(Ise)}:Sj;function Ise(m){setTimeout(function(){throw m})}function Cj(m,p){var N=p,A=0;do{var R=N.nextSibling;if(m.removeChild(N),R&&R.nodeType===8)if(N=R.data,N==="/$"){if(A===0){m.removeChild(R),$p(p);return}A--}else N!=="$"&&N!=="$?"&&N!=="$!"||A++;N=R}while(N);$p(p)}function hc(m){for(;m!=null;m=m.nextSibling){var p=m.nodeType;if(p===1||p===3)break;if(p===8){if(p=m.data,p==="$"||p==="$!"||p==="$?")break;if(p==="/$")return null}}return m}function S5(m){m=m.previousSibling;for(var p=0;m;){if(m.nodeType===8){var N=m.data;if(N==="$"||N==="$!"||N==="$?"){if(p===0)return m;p--}else N==="/$"&&p++}m=m.previousSibling}return null}var Eh=Math.random().toString(36).slice(2),jo="__reactFiber$"+Eh,Yp="__reactProps$"+Eh,il="__reactContainer$"+Eh,Ej="__reactEvents$"+Eh,Lse="__reactListeners$"+Eh,Fse="__reactHandles$"+Eh;function Pd(m){var p=m[jo];if(p)return p;for(var N=m.parentNode;N;){if(p=N[il]||N[jo]){if(N=p.alternate,p.child!==null||N!==null&&N.child!==null)for(m=S5(m);m!==null;){if(N=m[jo])return N;m=S5(m)}return p}m=N,N=m.parentNode}return null}function Qp(m){return m=m[jo]||m[il],!m||m.tag!==5&&m.tag!==6&&m.tag!==13&&m.tag!==3?null:m}function Ah(m){if(m.tag===5||m.tag===6)return m.stateNode;throw Error(n(33))}function uv(m){return m[Yp]||null}var Aj=[],Mh=-1;function mc(m){return{current:m}}function mr(m){0>Mh||(m.current=Aj[Mh],Aj[Mh]=null,Mh--)}function ir(m,p){Mh++,Aj[Mh]=m.current,m.current=p}var fc={},Fa=mc(fc),xs=mc(!1),Td=fc;function Ph(m,p){var N=m.type.contextTypes;if(!N)return fc;var A=m.stateNode;if(A&&A.__reactInternalMemoizedUnmaskedChildContext===p)return A.__reactInternalMemoizedMaskedChildContext;var R={},D;for(D in N)R[D]=p[D];return A&&(m=m.stateNode,m.__reactInternalMemoizedUnmaskedChildContext=p,m.__reactInternalMemoizedMaskedChildContext=R),R}function gs(m){return m=m.childContextTypes,m!=null}function hv(){mr(xs),mr(Fa)}function C5(m,p,N){if(Fa.current!==fc)throw Error(n(168));ir(Fa,p),ir(xs,N)}function E5(m,p,N){var A=m.stateNode;if(p=p.childContextTypes,typeof A.getChildContext!="function")return N;A=A.getChildContext();for(var R in A)if(!(R in p))throw Error(n(108,xe(m)||"Unknown",R));return K({},N,A)}function mv(m){return m=(m=m.stateNode)&&m.__reactInternalMemoizedMergedChildContext||fc,Td=Fa.current,ir(Fa,m),ir(xs,xs.current),!0}function A5(m,p,N){var A=m.stateNode;if(!A)throw Error(n(169));N?(m=E5(m,p,Td),A.__reactInternalMemoizedMergedChildContext=m,mr(xs),mr(Fa),ir(Fa,m)):mr(xs),ir(xs,N)}var ol=null,fv=!1,Mj=!1;function M5(m){ol===null?ol=[m]:ol.push(m)}function $se(m){fv=!0,M5(m)}function pc(){if(!Mj&&ol!==null){Mj=!0;var m=0,p=Yn;try{var N=ol;for(Yn=1;m<N.length;m++){var A=N[m];do A=A(!0);while(A!==null)}ol=null,fv=!1}catch(R){throw ol!==null&&(ol=ol.slice(m+1)),Se(Zt,pc),R}finally{Yn=p,Mj=!1}}return null}var Th=[],kh=0,pv=null,xv=0,ui=[],hi=0,kd=null,ll=1,cl="";function Rd(m,p){Th[kh++]=xv,Th[kh++]=pv,pv=m,xv=p}function P5(m,p,N){ui[hi++]=ll,ui[hi++]=cl,ui[hi++]=kd,kd=m;var A=ll;m=cl;var R=32-pt(A)-1;A&=~(1<<R),N+=1;var D=32-pt(p)+R;if(30<D){var Q=R-R%5;D=(A&(1<<Q)-1).toString(32),A>>=Q,R-=Q,ll=1<<32-pt(p)+R|N<<R|A,cl=D+m}else ll=1<<D|N<<R|A,cl=m}function Pj(m){m.return!==null&&(Rd(m,1),P5(m,1,0))}function Tj(m){for(;m===pv;)pv=Th[--kh],Th[kh]=null,xv=Th[--kh],Th[kh]=null;for(;m===kd;)kd=ui[--hi],ui[hi]=null,cl=ui[--hi],ui[hi]=null,ll=ui[--hi],ui[hi]=null}var Hs=null,Gs=null,wr=!1,zi=null;function T5(m,p){var N=xi(5,null,null,0);N.elementType="DELETED",N.stateNode=p,N.return=m,p=m.deletions,p===null?(m.deletions=[N],m.flags|=16):p.push(N)}function k5(m,p){switch(m.tag){case 5:var N=m.type;return p=p.nodeType!==1||N.toLowerCase()!==p.nodeName.toLowerCase()?null:p,p!==null?(m.stateNode=p,Hs=m,Gs=hc(p.firstChild),!0):!1;case 6:return p=m.pendingProps===""||p.nodeType!==3?null:p,p!==null?(m.stateNode=p,Hs=m,Gs=null,!0):!1;case 13:return p=p.nodeType!==8?null:p,p!==null?(N=kd!==null?{id:ll,overflow:cl}:null,m.memoizedState={dehydrated:p,treeContext:N,retryLane:1073741824},N=xi(18,null,null,0),N.stateNode=p,N.return=m,m.child=N,Hs=m,Gs=null,!0):!1;default:return!1}}function kj(m){return(m.mode&1)!==0&&(m.flags&128)===0}function Rj(m){if(wr){var p=Gs;if(p){var N=p;if(!k5(m,p)){if(kj(m))throw Error(n(418));p=hc(N.nextSibling);var A=Hs;p&&k5(m,p)?T5(A,N):(m.flags=m.flags&-4097|2,wr=!1,Hs=m)}}else{if(kj(m))throw Error(n(418));m.flags=m.flags&-4097|2,wr=!1,Hs=m}}}function R5(m){for(m=m.return;m!==null&&m.tag!==5&&m.tag!==3&&m.tag!==13;)m=m.return;Hs=m}function gv(m){if(m!==Hs)return!1;if(!wr)return R5(m),wr=!0,!1;var p;if((p=m.tag!==3)&&!(p=m.tag!==5)&&(p=m.type,p=p!=="head"&&p!=="body"&&!Nj(m.type,m.memoizedProps)),p&&(p=Gs)){if(kj(m))throw O5(),Error(n(418));for(;p;)T5(m,p),p=hc(p.nextSibling)}if(R5(m),m.tag===13){if(m=m.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(n(317));e:{for(m=m.nextSibling,p=0;m;){if(m.nodeType===8){var N=m.data;if(N==="/$"){if(p===0){Gs=hc(m.nextSibling);break e}p--}else N!=="$"&&N!=="$!"&&N!=="$?"||p++}m=m.nextSibling}Gs=null}}else Gs=Hs?hc(m.stateNode.nextSibling):null;return!0}function O5(){for(var m=Gs;m;)m=hc(m.nextSibling)}function Rh(){Gs=Hs=null,wr=!1}function Oj(m){zi===null?zi=[m]:zi.push(m)}var Use=S.ReactCurrentBatchConfig;function Zp(m,p,N){if(m=N.ref,m!==null&&typeof m!="function"&&typeof m!="object"){if(N._owner){if(N=N._owner,N){if(N.tag!==1)throw Error(n(309));var A=N.stateNode}if(!A)throw Error(n(147,m));var R=A,D=""+m;return p!==null&&p.ref!==null&&typeof p.ref=="function"&&p.ref._stringRef===D?p.ref:(p=function(Q){var oe=R.refs;Q===null?delete oe[D]:oe[D]=Q},p._stringRef=D,p)}if(typeof m!="string")throw Error(n(284));if(!N._owner)throw Error(n(290,m))}return m}function vv(m,p){throw m=Object.prototype.toString.call(p),Error(n(31,m==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":m))}function D5(m){var p=m._init;return p(m._payload)}function I5(m){function p(ye,me){if(m){var we=ye.deletions;we===null?(ye.deletions=[me],ye.flags|=16):we.push(me)}}function N(ye,me){if(!m)return null;for(;me!==null;)p(ye,me),me=me.sibling;return null}function A(ye,me){for(ye=new Map;me!==null;)me.key!==null?ye.set(me.key,me):ye.set(me.index,me),me=me.sibling;return ye}function R(ye,me){return ye=jc(ye,me),ye.index=0,ye.sibling=null,ye}function D(ye,me,we){return ye.index=we,m?(we=ye.alternate,we!==null?(we=we.index,we<me?(ye.flags|=2,me):we):(ye.flags|=2,me)):(ye.flags|=1048576,me)}function Q(ye){return m&&ye.alternate===null&&(ye.flags|=2),ye}function oe(ye,me,we,Qe){return me===null||me.tag!==6?(me=SN(we,ye.mode,Qe),me.return=ye,me):(me=R(me,we),me.return=ye,me)}function ce(ye,me,we,Qe){var Pt=we.type;return Pt===P?We(ye,me,we.props.children,Qe,we.key):me!==null&&(me.elementType===Pt||typeof Pt=="object"&&Pt!==null&&Pt.$$typeof===I&&D5(Pt)===me.type)?(Qe=R(me,we.props),Qe.ref=Zp(ye,me,we),Qe.return=ye,Qe):(Qe=zv(we.type,we.key,we.props,null,ye.mode,Qe),Qe.ref=Zp(ye,me,we),Qe.return=ye,Qe)}function Ce(ye,me,we,Qe){return me===null||me.tag!==4||me.stateNode.containerInfo!==we.containerInfo||me.stateNode.implementation!==we.implementation?(me=CN(we,ye.mode,Qe),me.return=ye,me):(me=R(me,we.children||[]),me.return=ye,me)}function We(ye,me,we,Qe,Pt){return me===null||me.tag!==7?(me=Bd(we,ye.mode,Qe,Pt),me.return=ye,me):(me=R(me,we),me.return=ye,me)}function Ke(ye,me,we){if(typeof me=="string"&&me!==""||typeof me=="number")return me=SN(""+me,ye.mode,we),me.return=ye,me;if(typeof me=="object"&&me!==null){switch(me.$$typeof){case C:return we=zv(me.type,me.key,me.props,null,ye.mode,we),we.ref=Zp(ye,null,me),we.return=ye,we;case E:return me=CN(me,ye.mode,we),me.return=ye,me;case I:var Qe=me._init;return Ke(ye,Qe(me._payload),we)}if(J(me)||z(me))return me=Bd(me,ye.mode,we,null),me.return=ye,me;vv(ye,me)}return null}function He(ye,me,we,Qe){var Pt=me!==null?me.key:null;if(typeof we=="string"&&we!==""||typeof we=="number")return Pt!==null?null:oe(ye,me,""+we,Qe);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case C:return we.key===Pt?ce(ye,me,we,Qe):null;case E:return we.key===Pt?Ce(ye,me,we,Qe):null;case I:return Pt=we._init,He(ye,me,Pt(we._payload),Qe)}if(J(we)||z(we))return Pt!==null?null:We(ye,me,we,Qe,null);vv(ye,we)}return null}function mt(ye,me,we,Qe,Pt){if(typeof Qe=="string"&&Qe!==""||typeof Qe=="number")return ye=ye.get(we)||null,oe(me,ye,""+Qe,Pt);if(typeof Qe=="object"&&Qe!==null){switch(Qe.$$typeof){case C:return ye=ye.get(Qe.key===null?we:Qe.key)||null,ce(me,ye,Qe,Pt);case E:return ye=ye.get(Qe.key===null?we:Qe.key)||null,Ce(me,ye,Qe,Pt);case I:var Ht=Qe._init;return mt(ye,me,we,Ht(Qe._payload),Pt)}if(J(Qe)||z(Qe))return ye=ye.get(we)||null,We(me,ye,Qe,Pt,null);vv(me,Qe)}return null}function jt(ye,me,we,Qe){for(var Pt=null,Ht=null,Gt=me,rn=me=0,va=null;Gt!==null&&rn<we.length;rn++){Gt.index>rn?(va=Gt,Gt=null):va=Gt.sibling;var Tn=He(ye,Gt,we[rn],Qe);if(Tn===null){Gt===null&&(Gt=va);break}m&&Gt&&Tn.alternate===null&&p(ye,Gt),me=D(Tn,me,rn),Ht===null?Pt=Tn:Ht.sibling=Tn,Ht=Tn,Gt=va}if(rn===we.length)return N(ye,Gt),wr&&Rd(ye,rn),Pt;if(Gt===null){for(;rn<we.length;rn++)Gt=Ke(ye,we[rn],Qe),Gt!==null&&(me=D(Gt,me,rn),Ht===null?Pt=Gt:Ht.sibling=Gt,Ht=Gt);return wr&&Rd(ye,rn),Pt}for(Gt=A(ye,Gt);rn<we.length;rn++)va=mt(Gt,ye,rn,we[rn],Qe),va!==null&&(m&&va.alternate!==null&&Gt.delete(va.key===null?rn:va.key),me=D(va,me,rn),Ht===null?Pt=va:Ht.sibling=va,Ht=va);return m&&Gt.forEach(function(Nc){return p(ye,Nc)}),wr&&Rd(ye,rn),Pt}function Et(ye,me,we,Qe){var Pt=z(we);if(typeof Pt!="function")throw Error(n(150));if(we=Pt.call(we),we==null)throw Error(n(151));for(var Ht=Pt=null,Gt=me,rn=me=0,va=null,Tn=we.next();Gt!==null&&!Tn.done;rn++,Tn=we.next()){Gt.index>rn?(va=Gt,Gt=null):va=Gt.sibling;var Nc=He(ye,Gt,Tn.value,Qe);if(Nc===null){Gt===null&&(Gt=va);break}m&&Gt&&Nc.alternate===null&&p(ye,Gt),me=D(Nc,me,rn),Ht===null?Pt=Nc:Ht.sibling=Nc,Ht=Nc,Gt=va}if(Tn.done)return N(ye,Gt),wr&&Rd(ye,rn),Pt;if(Gt===null){for(;!Tn.done;rn++,Tn=we.next())Tn=Ke(ye,Tn.value,Qe),Tn!==null&&(me=D(Tn,me,rn),Ht===null?Pt=Tn:Ht.sibling=Tn,Ht=Tn);return wr&&Rd(ye,rn),Pt}for(Gt=A(ye,Gt);!Tn.done;rn++,Tn=we.next())Tn=mt(Gt,ye,rn,Tn.value,Qe),Tn!==null&&(m&&Tn.alternate!==null&&Gt.delete(Tn.key===null?rn:Tn.key),me=D(Tn,me,rn),Ht===null?Pt=Tn:Ht.sibling=Tn,Ht=Tn);return m&&Gt.forEach(function(yie){return p(ye,yie)}),wr&&Rd(ye,rn),Pt}function Br(ye,me,we,Qe){if(typeof we=="object"&&we!==null&&we.type===P&&we.key===null&&(we=we.props.children),typeof we=="object"&&we!==null){switch(we.$$typeof){case C:e:{for(var Pt=we.key,Ht=me;Ht!==null;){if(Ht.key===Pt){if(Pt=we.type,Pt===P){if(Ht.tag===7){N(ye,Ht.sibling),me=R(Ht,we.props.children),me.return=ye,ye=me;break e}}else if(Ht.elementType===Pt||typeof Pt=="object"&&Pt!==null&&Pt.$$typeof===I&&D5(Pt)===Ht.type){N(ye,Ht.sibling),me=R(Ht,we.props),me.ref=Zp(ye,Ht,we),me.return=ye,ye=me;break e}N(ye,Ht);break}else p(ye,Ht);Ht=Ht.sibling}we.type===P?(me=Bd(we.props.children,ye.mode,Qe,we.key),me.return=ye,ye=me):(Qe=zv(we.type,we.key,we.props,null,ye.mode,Qe),Qe.ref=Zp(ye,me,we),Qe.return=ye,ye=Qe)}return Q(ye);case E:e:{for(Ht=we.key;me!==null;){if(me.key===Ht)if(me.tag===4&&me.stateNode.containerInfo===we.containerInfo&&me.stateNode.implementation===we.implementation){N(ye,me.sibling),me=R(me,we.children||[]),me.return=ye,ye=me;break e}else{N(ye,me);break}else p(ye,me);me=me.sibling}me=CN(we,ye.mode,Qe),me.return=ye,ye=me}return Q(ye);case I:return Ht=we._init,Br(ye,me,Ht(we._payload),Qe)}if(J(we))return jt(ye,me,we,Qe);if(z(we))return Et(ye,me,we,Qe);vv(ye,we)}return typeof we=="string"&&we!==""||typeof we=="number"?(we=""+we,me!==null&&me.tag===6?(N(ye,me.sibling),me=R(me,we),me.return=ye,ye=me):(N(ye,me),me=SN(we,ye.mode,Qe),me.return=ye,ye=me),Q(ye)):N(ye,me)}return Br}var Oh=I5(!0),L5=I5(!1),yv=mc(null),bv=null,Dh=null,Dj=null;function Ij(){Dj=Dh=bv=null}function Lj(m){var p=yv.current;mr(yv),m._currentValue=p}function Fj(m,p,N){for(;m!==null;){var A=m.alternate;if((m.childLanes&p)!==p?(m.childLanes|=p,A!==null&&(A.childLanes|=p)):A!==null&&(A.childLanes&p)!==p&&(A.childLanes|=p),m===N)break;m=m.return}}function Ih(m,p){bv=m,Dj=Dh=null,m=m.dependencies,m!==null&&m.firstContext!==null&&((m.lanes&p)!==0&&(vs=!0),m.firstContext=null)}function mi(m){var p=m._currentValue;if(Dj!==m)if(m={context:m,memoizedValue:p,next:null},Dh===null){if(bv===null)throw Error(n(308));Dh=m,bv.dependencies={lanes:0,firstContext:m}}else Dh=Dh.next=m;return p}var Od=null;function $j(m){Od===null?Od=[m]:Od.push(m)}function F5(m,p,N,A){var R=p.interleaved;return R===null?(N.next=N,$j(p)):(N.next=R.next,R.next=N),p.interleaved=N,dl(m,A)}function dl(m,p){m.lanes|=p;var N=m.alternate;for(N!==null&&(N.lanes|=p),N=m,m=m.return;m!==null;)m.childLanes|=p,N=m.alternate,N!==null&&(N.childLanes|=p),N=m,m=m.return;return N.tag===3?N.stateNode:null}var xc=!1;function Uj(m){m.updateQueue={baseState:m.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $5(m,p){m=m.updateQueue,p.updateQueue===m&&(p.updateQueue={baseState:m.baseState,firstBaseUpdate:m.firstBaseUpdate,lastBaseUpdate:m.lastBaseUpdate,shared:m.shared,effects:m.effects})}function ul(m,p){return{eventTime:m,lane:p,tag:0,payload:null,callback:null,next:null}}function gc(m,p,N){var A=m.updateQueue;if(A===null)return null;if(A=A.shared,(Pn&2)!==0){var R=A.pending;return R===null?p.next=p:(p.next=R.next,R.next=p),A.pending=p,dl(m,N)}return R=A.interleaved,R===null?(p.next=p,$j(A)):(p.next=R.next,R.next=p),A.interleaved=p,dl(m,N)}function wv(m,p,N){if(p=p.updateQueue,p!==null&&(p=p.shared,(N&4194240)!==0)){var A=p.lanes;A&=m.pendingLanes,N|=A,p.lanes=N,ej(m,N)}}function U5(m,p){var N=m.updateQueue,A=m.alternate;if(A!==null&&(A=A.updateQueue,N===A)){var R=null,D=null;if(N=N.firstBaseUpdate,N!==null){do{var Q={eventTime:N.eventTime,lane:N.lane,tag:N.tag,payload:N.payload,callback:N.callback,next:null};D===null?R=D=Q:D=D.next=Q,N=N.next}while(N!==null);D===null?R=D=p:D=D.next=p}else R=D=p;N={baseState:A.baseState,firstBaseUpdate:R,lastBaseUpdate:D,shared:A.shared,effects:A.effects},m.updateQueue=N;return}m=N.lastBaseUpdate,m===null?N.firstBaseUpdate=p:m.next=p,N.lastBaseUpdate=p}function _v(m,p,N,A){var R=m.updateQueue;xc=!1;var D=R.firstBaseUpdate,Q=R.lastBaseUpdate,oe=R.shared.pending;if(oe!==null){R.shared.pending=null;var ce=oe,Ce=ce.next;ce.next=null,Q===null?D=Ce:Q.next=Ce,Q=ce;var We=m.alternate;We!==null&&(We=We.updateQueue,oe=We.lastBaseUpdate,oe!==Q&&(oe===null?We.firstBaseUpdate=Ce:oe.next=Ce,We.lastBaseUpdate=ce))}if(D!==null){var Ke=R.baseState;Q=0,We=Ce=ce=null,oe=D;do{var He=oe.lane,mt=oe.eventTime;if((A&He)===He){We!==null&&(We=We.next={eventTime:mt,lane:0,tag:oe.tag,payload:oe.payload,callback:oe.callback,next:null});e:{var jt=m,Et=oe;switch(He=p,mt=N,Et.tag){case 1:if(jt=Et.payload,typeof jt=="function"){Ke=jt.call(mt,Ke,He);break e}Ke=jt;break e;case 3:jt.flags=jt.flags&-65537|128;case 0:if(jt=Et.payload,He=typeof jt=="function"?jt.call(mt,Ke,He):jt,He==null)break e;Ke=K({},Ke,He);break e;case 2:xc=!0}}oe.callback!==null&&oe.lane!==0&&(m.flags|=64,He=R.effects,He===null?R.effects=[oe]:He.push(oe))}else mt={eventTime:mt,lane:He,tag:oe.tag,payload:oe.payload,callback:oe.callback,next:null},We===null?(Ce=We=mt,ce=Ke):We=We.next=mt,Q|=He;if(oe=oe.next,oe===null){if(oe=R.shared.pending,oe===null)break;He=oe,oe=He.next,He.next=null,R.lastBaseUpdate=He,R.shared.pending=null}}while(!0);if(We===null&&(ce=Ke),R.baseState=ce,R.firstBaseUpdate=Ce,R.lastBaseUpdate=We,p=R.shared.interleaved,p!==null){R=p;do Q|=R.lane,R=R.next;while(R!==p)}else D===null&&(R.shared.lanes=0);Ld|=Q,m.lanes=Q,m.memoizedState=Ke}}function B5(m,p,N){if(m=p.effects,p.effects=null,m!==null)for(p=0;p<m.length;p++){var A=m[p],R=A.callback;if(R!==null){if(A.callback=null,A=N,typeof R!="function")throw Error(n(191,R));R.call(A)}}}var Jp={},No=mc(Jp),e0=mc(Jp),t0=mc(Jp);function Dd(m){if(m===Jp)throw Error(n(174));return m}function Bj(m,p){switch(ir(t0,p),ir(e0,m),ir(No,Jp),m=p.nodeType,m){case 9:case 11:p=(p=p.documentElement)?p.namespaceURI:vt(null,"");break;default:m=m===8?p.parentNode:p,p=m.namespaceURI||null,m=m.tagName,p=vt(p,m)}mr(No),ir(No,p)}function Lh(){mr(No),mr(e0),mr(t0)}function z5(m){Dd(t0.current);var p=Dd(No.current),N=vt(p,m.type);p!==N&&(ir(e0,m),ir(No,N))}function zj(m){e0.current===m&&(mr(No),mr(e0))}var Nr=mc(0);function jv(m){for(var p=m;p!==null;){if(p.tag===13){var N=p.memoizedState;if(N!==null&&(N=N.dehydrated,N===null||N.data==="$?"||N.data==="$!"))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if((p.flags&128)!==0)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===m)break;for(;p.sibling===null;){if(p.return===null||p.return===m)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var qj=[];function Vj(){for(var m=0;m<qj.length;m++)qj[m]._workInProgressVersionPrimary=null;qj.length=0}var Nv=S.ReactCurrentDispatcher,Hj=S.ReactCurrentBatchConfig,Id=0,Sr=null,ea=null,xa=null,Sv=!1,n0=!1,r0=0,Bse=0;function $a(){throw Error(n(321))}function Gj(m,p){if(p===null)return!1;for(var N=0;N<p.length&&N<m.length;N++)if(!Bi(m[N],p[N]))return!1;return!0}function Wj(m,p,N,A,R,D){if(Id=D,Sr=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,Nv.current=m===null||m.memoizedState===null?Hse:Gse,m=N(A,R),n0){D=0;do{if(n0=!1,r0=0,25<=D)throw Error(n(301));D+=1,xa=ea=null,p.updateQueue=null,Nv.current=Wse,m=N(A,R)}while(n0)}if(Nv.current=Av,p=ea!==null&&ea.next!==null,Id=0,xa=ea=Sr=null,Sv=!1,p)throw Error(n(300));return m}function Kj(){var m=r0!==0;return r0=0,m}function So(){var m={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xa===null?Sr.memoizedState=xa=m:xa=xa.next=m,xa}function fi(){if(ea===null){var m=Sr.alternate;m=m!==null?m.memoizedState:null}else m=ea.next;var p=xa===null?Sr.memoizedState:xa.next;if(p!==null)xa=p,ea=m;else{if(m===null)throw Error(n(310));ea=m,m={memoizedState:ea.memoizedState,baseState:ea.baseState,baseQueue:ea.baseQueue,queue:ea.queue,next:null},xa===null?Sr.memoizedState=xa=m:xa=xa.next=m}return xa}function a0(m,p){return typeof p=="function"?p(m):p}function Xj(m){var p=fi(),N=p.queue;if(N===null)throw Error(n(311));N.lastRenderedReducer=m;var A=ea,R=A.baseQueue,D=N.pending;if(D!==null){if(R!==null){var Q=R.next;R.next=D.next,D.next=Q}A.baseQueue=R=D,N.pending=null}if(R!==null){D=R.next,A=A.baseState;var oe=Q=null,ce=null,Ce=D;do{var We=Ce.lane;if((Id&We)===We)ce!==null&&(ce=ce.next={lane:0,action:Ce.action,hasEagerState:Ce.hasEagerState,eagerState:Ce.eagerState,next:null}),A=Ce.hasEagerState?Ce.eagerState:m(A,Ce.action);else{var Ke={lane:We,action:Ce.action,hasEagerState:Ce.hasEagerState,eagerState:Ce.eagerState,next:null};ce===null?(oe=ce=Ke,Q=A):ce=ce.next=Ke,Sr.lanes|=We,Ld|=We}Ce=Ce.next}while(Ce!==null&&Ce!==D);ce===null?Q=A:ce.next=oe,Bi(A,p.memoizedState)||(vs=!0),p.memoizedState=A,p.baseState=Q,p.baseQueue=ce,N.lastRenderedState=A}if(m=N.interleaved,m!==null){R=m;do D=R.lane,Sr.lanes|=D,Ld|=D,R=R.next;while(R!==m)}else R===null&&(N.lanes=0);return[p.memoizedState,N.dispatch]}function Yj(m){var p=fi(),N=p.queue;if(N===null)throw Error(n(311));N.lastRenderedReducer=m;var A=N.dispatch,R=N.pending,D=p.memoizedState;if(R!==null){N.pending=null;var Q=R=R.next;do D=m(D,Q.action),Q=Q.next;while(Q!==R);Bi(D,p.memoizedState)||(vs=!0),p.memoizedState=D,p.baseQueue===null&&(p.baseState=D),N.lastRenderedState=D}return[D,A]}function q5(){}function V5(m,p){var N=Sr,A=fi(),R=p(),D=!Bi(A.memoizedState,R);if(D&&(A.memoizedState=R,vs=!0),A=A.queue,Qj(W5.bind(null,N,A,m),[m]),A.getSnapshot!==p||D||xa!==null&&xa.memoizedState.tag&1){if(N.flags|=2048,s0(9,G5.bind(null,N,A,R,p),void 0,null),ga===null)throw Error(n(349));(Id&30)!==0||H5(N,p,R)}return R}function H5(m,p,N){m.flags|=16384,m={getSnapshot:p,value:N},p=Sr.updateQueue,p===null?(p={lastEffect:null,stores:null},Sr.updateQueue=p,p.stores=[m]):(N=p.stores,N===null?p.stores=[m]:N.push(m))}function G5(m,p,N,A){p.value=N,p.getSnapshot=A,K5(p)&&X5(m)}function W5(m,p,N){return N(function(){K5(p)&&X5(m)})}function K5(m){var p=m.getSnapshot;m=m.value;try{var N=p();return!Bi(m,N)}catch{return!0}}function X5(m){var p=dl(m,1);p!==null&&Gi(p,m,1,-1)}function Y5(m){var p=So();return typeof m=="function"&&(m=m()),p.memoizedState=p.baseState=m,m={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a0,lastRenderedState:m},p.queue=m,m=m.dispatch=Vse.bind(null,Sr,m),[p.memoizedState,m]}function s0(m,p,N,A){return m={tag:m,create:p,destroy:N,deps:A,next:null},p=Sr.updateQueue,p===null?(p={lastEffect:null,stores:null},Sr.updateQueue=p,p.lastEffect=m.next=m):(N=p.lastEffect,N===null?p.lastEffect=m.next=m:(A=N.next,N.next=m,m.next=A,p.lastEffect=m)),m}function Q5(){return fi().memoizedState}function Cv(m,p,N,A){var R=So();Sr.flags|=m,R.memoizedState=s0(1|p,N,void 0,A===void 0?null:A)}function Ev(m,p,N,A){var R=fi();A=A===void 0?null:A;var D=void 0;if(ea!==null){var Q=ea.memoizedState;if(D=Q.destroy,A!==null&&Gj(A,Q.deps)){R.memoizedState=s0(p,N,D,A);return}}Sr.flags|=m,R.memoizedState=s0(1|p,N,D,A)}function Z5(m,p){return Cv(8390656,8,m,p)}function Qj(m,p){return Ev(2048,8,m,p)}function J5(m,p){return Ev(4,2,m,p)}function eO(m,p){return Ev(4,4,m,p)}function tO(m,p){if(typeof p=="function")return m=m(),p(m),function(){p(null)};if(p!=null)return m=m(),p.current=m,function(){p.current=null}}function nO(m,p,N){return N=N!=null?N.concat([m]):null,Ev(4,4,tO.bind(null,p,m),N)}function Zj(){}function rO(m,p){var N=fi();p=p===void 0?null:p;var A=N.memoizedState;return A!==null&&p!==null&&Gj(p,A[1])?A[0]:(N.memoizedState=[m,p],m)}function aO(m,p){var N=fi();p=p===void 0?null:p;var A=N.memoizedState;return A!==null&&p!==null&&Gj(p,A[1])?A[0]:(m=m(),N.memoizedState=[m,p],m)}function sO(m,p,N){return(Id&21)===0?(m.baseState&&(m.baseState=!1,vs=!0),m.memoizedState=N):(Bi(N,p)||(N=ps(),Sr.lanes|=N,Ld|=N,m.baseState=!0),p)}function zse(m,p){var N=Yn;Yn=N!==0&&4>N?N:4,m(!0);var A=Hj.transition;Hj.transition={};try{m(!1),p()}finally{Yn=N,Hj.transition=A}}function iO(){return fi().memoizedState}function qse(m,p,N){var A=wc(m);if(N={lane:A,action:N,hasEagerState:!1,eagerState:null,next:null},oO(m))lO(p,N);else if(N=F5(m,p,N,A),N!==null){var R=ts();Gi(N,m,A,R),cO(N,p,A)}}function Vse(m,p,N){var A=wc(m),R={lane:A,action:N,hasEagerState:!1,eagerState:null,next:null};if(oO(m))lO(p,R);else{var D=m.alternate;if(m.lanes===0&&(D===null||D.lanes===0)&&(D=p.lastRenderedReducer,D!==null))try{var Q=p.lastRenderedState,oe=D(Q,N);if(R.hasEagerState=!0,R.eagerState=oe,Bi(oe,Q)){var ce=p.interleaved;ce===null?(R.next=R,$j(p)):(R.next=ce.next,ce.next=R),p.interleaved=R;return}}catch{}finally{}N=F5(m,p,R,A),N!==null&&(R=ts(),Gi(N,m,A,R),cO(N,p,A))}}function oO(m){var p=m.alternate;return m===Sr||p!==null&&p===Sr}function lO(m,p){n0=Sv=!0;var N=m.pending;N===null?p.next=p:(p.next=N.next,N.next=p),m.pending=p}function cO(m,p,N){if((N&4194240)!==0){var A=p.lanes;A&=m.pendingLanes,N|=A,p.lanes=N,ej(m,N)}}var Av={readContext:mi,useCallback:$a,useContext:$a,useEffect:$a,useImperativeHandle:$a,useInsertionEffect:$a,useLayoutEffect:$a,useMemo:$a,useReducer:$a,useRef:$a,useState:$a,useDebugValue:$a,useDeferredValue:$a,useTransition:$a,useMutableSource:$a,useSyncExternalStore:$a,useId:$a,unstable_isNewReconciler:!1},Hse={readContext:mi,useCallback:function(m,p){return So().memoizedState=[m,p===void 0?null:p],m},useContext:mi,useEffect:Z5,useImperativeHandle:function(m,p,N){return N=N!=null?N.concat([m]):null,Cv(4194308,4,tO.bind(null,p,m),N)},useLayoutEffect:function(m,p){return Cv(4194308,4,m,p)},useInsertionEffect:function(m,p){return Cv(4,2,m,p)},useMemo:function(m,p){var N=So();return p=p===void 0?null:p,m=m(),N.memoizedState=[m,p],m},useReducer:function(m,p,N){var A=So();return p=N!==void 0?N(p):p,A.memoizedState=A.baseState=p,m={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:m,lastRenderedState:p},A.queue=m,m=m.dispatch=qse.bind(null,Sr,m),[A.memoizedState,m]},useRef:function(m){var p=So();return m={current:m},p.memoizedState=m},useState:Y5,useDebugValue:Zj,useDeferredValue:function(m){return So().memoizedState=m},useTransition:function(){var m=Y5(!1),p=m[0];return m=zse.bind(null,m[1]),So().memoizedState=m,[p,m]},useMutableSource:function(){},useSyncExternalStore:function(m,p,N){var A=Sr,R=So();if(wr){if(N===void 0)throw Error(n(407));N=N()}else{if(N=p(),ga===null)throw Error(n(349));(Id&30)!==0||H5(A,p,N)}R.memoizedState=N;var D={value:N,getSnapshot:p};return R.queue=D,Z5(W5.bind(null,A,D,m),[m]),A.flags|=2048,s0(9,G5.bind(null,A,D,N,p),void 0,null),N},useId:function(){var m=So(),p=ga.identifierPrefix;if(wr){var N=cl,A=ll;N=(A&~(1<<32-pt(A)-1)).toString(32)+N,p=":"+p+"R"+N,N=r0++,0<N&&(p+="H"+N.toString(32)),p+=":"}else N=Bse++,p=":"+p+"r"+N.toString(32)+":";return m.memoizedState=p},unstable_isNewReconciler:!1},Gse={readContext:mi,useCallback:rO,useContext:mi,useEffect:Qj,useImperativeHandle:nO,useInsertionEffect:J5,useLayoutEffect:eO,useMemo:aO,useReducer:Xj,useRef:Q5,useState:function(){return Xj(a0)},useDebugValue:Zj,useDeferredValue:function(m){var p=fi();return sO(p,ea.memoizedState,m)},useTransition:function(){var m=Xj(a0)[0],p=fi().memoizedState;return[m,p]},useMutableSource:q5,useSyncExternalStore:V5,useId:iO,unstable_isNewReconciler:!1},Wse={readContext:mi,useCallback:rO,useContext:mi,useEffect:Qj,useImperativeHandle:nO,useInsertionEffect:J5,useLayoutEffect:eO,useMemo:aO,useReducer:Yj,useRef:Q5,useState:function(){return Yj(a0)},useDebugValue:Zj,useDeferredValue:function(m){var p=fi();return ea===null?p.memoizedState=m:sO(p,ea.memoizedState,m)},useTransition:function(){var m=Yj(a0)[0],p=fi().memoizedState;return[m,p]},useMutableSource:q5,useSyncExternalStore:V5,useId:iO,unstable_isNewReconciler:!1};function qi(m,p){if(m&&m.defaultProps){p=K({},p),m=m.defaultProps;for(var N in m)p[N]===void 0&&(p[N]=m[N]);return p}return p}function Jj(m,p,N,A){p=m.memoizedState,N=N(A,p),N=N==null?p:K({},p,N),m.memoizedState=N,m.lanes===0&&(m.updateQueue.baseState=N)}var Mv={isMounted:function(m){return(m=m._reactInternals)?qs(m)===m:!1},enqueueSetState:function(m,p,N){m=m._reactInternals;var A=ts(),R=wc(m),D=ul(A,R);D.payload=p,N!=null&&(D.callback=N),p=gc(m,D,R),p!==null&&(Gi(p,m,R,A),wv(p,m,R))},enqueueReplaceState:function(m,p,N){m=m._reactInternals;var A=ts(),R=wc(m),D=ul(A,R);D.tag=1,D.payload=p,N!=null&&(D.callback=N),p=gc(m,D,R),p!==null&&(Gi(p,m,R,A),wv(p,m,R))},enqueueForceUpdate:function(m,p){m=m._reactInternals;var N=ts(),A=wc(m),R=ul(N,A);R.tag=2,p!=null&&(R.callback=p),p=gc(m,R,A),p!==null&&(Gi(p,m,A,N),wv(p,m,A))}};function dO(m,p,N,A,R,D,Q){return m=m.stateNode,typeof m.shouldComponentUpdate=="function"?m.shouldComponentUpdate(A,D,Q):p.prototype&&p.prototype.isPureReactComponent?!Hp(N,A)||!Hp(R,D):!0}function uO(m,p,N){var A=!1,R=fc,D=p.contextType;return typeof D=="object"&&D!==null?D=mi(D):(R=gs(p)?Td:Fa.current,A=p.contextTypes,D=(A=A!=null)?Ph(m,R):fc),p=new p(N,D),m.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Mv,m.stateNode=p,p._reactInternals=m,A&&(m=m.stateNode,m.__reactInternalMemoizedUnmaskedChildContext=R,m.__reactInternalMemoizedMaskedChildContext=D),p}function hO(m,p,N,A){m=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(N,A),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(N,A),p.state!==m&&Mv.enqueueReplaceState(p,p.state,null)}function eN(m,p,N,A){var R=m.stateNode;R.props=N,R.state=m.memoizedState,R.refs={},Uj(m);var D=p.contextType;typeof D=="object"&&D!==null?R.context=mi(D):(D=gs(p)?Td:Fa.current,R.context=Ph(m,D)),R.state=m.memoizedState,D=p.getDerivedStateFromProps,typeof D=="function"&&(Jj(m,p,D,N),R.state=m.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof R.getSnapshotBeforeUpdate=="function"||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(p=R.state,typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount(),p!==R.state&&Mv.enqueueReplaceState(R,R.state,null),_v(m,N,R,A),R.state=m.memoizedState),typeof R.componentDidMount=="function"&&(m.flags|=4194308)}function Fh(m,p){try{var N="",A=p;do N+=pe(A),A=A.return;while(A);var R=N}catch(D){R=`
Error generating stack: `+D.message+`
`+D.stack}return{value:m,source:p,stack:R,digest:null}}function tN(m,p,N){return{value:m,source:null,stack:N??null,digest:p??null}}function nN(m,p){try{console.error(p.value)}catch(N){setTimeout(function(){throw N})}}var Kse=typeof WeakMap=="function"?WeakMap:Map;function mO(m,p,N){N=ul(-1,N),N.tag=3,N.payload={element:null};var A=p.value;return N.callback=function(){Iv||(Iv=!0,gN=A),nN(m,p)},N}function fO(m,p,N){N=ul(-1,N),N.tag=3;var A=m.type.getDerivedStateFromError;if(typeof A=="function"){var R=p.value;N.payload=function(){return A(R)},N.callback=function(){nN(m,p)}}var D=m.stateNode;return D!==null&&typeof D.componentDidCatch=="function"&&(N.callback=function(){nN(m,p),typeof A!="function"&&(yc===null?yc=new Set([this]):yc.add(this));var Q=p.stack;this.componentDidCatch(p.value,{componentStack:Q!==null?Q:""})}),N}function pO(m,p,N){var A=m.pingCache;if(A===null){A=m.pingCache=new Kse;var R=new Set;A.set(p,R)}else R=A.get(p),R===void 0&&(R=new Set,A.set(p,R));R.has(N)||(R.add(N),m=lie.bind(null,m,p,N),p.then(m,m))}function xO(m){do{var p;if((p=m.tag===13)&&(p=m.memoizedState,p=p!==null?p.dehydrated!==null:!0),p)return m;m=m.return}while(m!==null);return null}function gO(m,p,N,A,R){return(m.mode&1)===0?(m===p?m.flags|=65536:(m.flags|=128,N.flags|=131072,N.flags&=-52805,N.tag===1&&(N.alternate===null?N.tag=17:(p=ul(-1,1),p.tag=2,gc(N,p,1))),N.lanes|=1),m):(m.flags|=65536,m.lanes=R,m)}var Xse=S.ReactCurrentOwner,vs=!1;function es(m,p,N,A){p.child=m===null?L5(p,null,N,A):Oh(p,m.child,N,A)}function vO(m,p,N,A,R){N=N.render;var D=p.ref;return Ih(p,R),A=Wj(m,p,N,A,D,R),N=Kj(),m!==null&&!vs?(p.updateQueue=m.updateQueue,p.flags&=-2053,m.lanes&=~R,hl(m,p,R)):(wr&&N&&Pj(p),p.flags|=1,es(m,p,A,R),p.child)}function yO(m,p,N,A,R){if(m===null){var D=N.type;return typeof D=="function"&&!NN(D)&&D.defaultProps===void 0&&N.compare===null&&N.defaultProps===void 0?(p.tag=15,p.type=D,bO(m,p,D,A,R)):(m=zv(N.type,null,A,p,p.mode,R),m.ref=p.ref,m.return=p,p.child=m)}if(D=m.child,(m.lanes&R)===0){var Q=D.memoizedProps;if(N=N.compare,N=N!==null?N:Hp,N(Q,A)&&m.ref===p.ref)return hl(m,p,R)}return p.flags|=1,m=jc(D,A),m.ref=p.ref,m.return=p,p.child=m}function bO(m,p,N,A,R){if(m!==null){var D=m.memoizedProps;if(Hp(D,A)&&m.ref===p.ref)if(vs=!1,p.pendingProps=A=D,(m.lanes&R)!==0)(m.flags&131072)!==0&&(vs=!0);else return p.lanes=m.lanes,hl(m,p,R)}return rN(m,p,N,A,R)}function wO(m,p,N){var A=p.pendingProps,R=A.children,D=m!==null?m.memoizedState:null;if(A.mode==="hidden")if((p.mode&1)===0)p.memoizedState={baseLanes:0,cachePool:null,transitions:null},ir(Uh,Ws),Ws|=N;else{if((N&1073741824)===0)return m=D!==null?D.baseLanes|N:N,p.lanes=p.childLanes=1073741824,p.memoizedState={baseLanes:m,cachePool:null,transitions:null},p.updateQueue=null,ir(Uh,Ws),Ws|=m,null;p.memoizedState={baseLanes:0,cachePool:null,transitions:null},A=D!==null?D.baseLanes:N,ir(Uh,Ws),Ws|=A}else D!==null?(A=D.baseLanes|N,p.memoizedState=null):A=N,ir(Uh,Ws),Ws|=A;return es(m,p,R,N),p.child}function _O(m,p){var N=p.ref;(m===null&&N!==null||m!==null&&m.ref!==N)&&(p.flags|=512,p.flags|=2097152)}function rN(m,p,N,A,R){var D=gs(N)?Td:Fa.current;return D=Ph(p,D),Ih(p,R),N=Wj(m,p,N,A,D,R),A=Kj(),m!==null&&!vs?(p.updateQueue=m.updateQueue,p.flags&=-2053,m.lanes&=~R,hl(m,p,R)):(wr&&A&&Pj(p),p.flags|=1,es(m,p,N,R),p.child)}function jO(m,p,N,A,R){if(gs(N)){var D=!0;mv(p)}else D=!1;if(Ih(p,R),p.stateNode===null)Tv(m,p),uO(p,N,A),eN(p,N,A,R),A=!0;else if(m===null){var Q=p.stateNode,oe=p.memoizedProps;Q.props=oe;var ce=Q.context,Ce=N.contextType;typeof Ce=="object"&&Ce!==null?Ce=mi(Ce):(Ce=gs(N)?Td:Fa.current,Ce=Ph(p,Ce));var We=N.getDerivedStateFromProps,Ke=typeof We=="function"||typeof Q.getSnapshotBeforeUpdate=="function";Ke||typeof Q.UNSAFE_componentWillReceiveProps!="function"&&typeof Q.componentWillReceiveProps!="function"||(oe!==A||ce!==Ce)&&hO(p,Q,A,Ce),xc=!1;var He=p.memoizedState;Q.state=He,_v(p,A,Q,R),ce=p.memoizedState,oe!==A||He!==ce||xs.current||xc?(typeof We=="function"&&(Jj(p,N,We,A),ce=p.memoizedState),(oe=xc||dO(p,N,oe,A,He,ce,Ce))?(Ke||typeof Q.UNSAFE_componentWillMount!="function"&&typeof Q.componentWillMount!="function"||(typeof Q.componentWillMount=="function"&&Q.componentWillMount(),typeof Q.UNSAFE_componentWillMount=="function"&&Q.UNSAFE_componentWillMount()),typeof Q.componentDidMount=="function"&&(p.flags|=4194308)):(typeof Q.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=A,p.memoizedState=ce),Q.props=A,Q.state=ce,Q.context=Ce,A=oe):(typeof Q.componentDidMount=="function"&&(p.flags|=4194308),A=!1)}else{Q=p.stateNode,$5(m,p),oe=p.memoizedProps,Ce=p.type===p.elementType?oe:qi(p.type,oe),Q.props=Ce,Ke=p.pendingProps,He=Q.context,ce=N.contextType,typeof ce=="object"&&ce!==null?ce=mi(ce):(ce=gs(N)?Td:Fa.current,ce=Ph(p,ce));var mt=N.getDerivedStateFromProps;(We=typeof mt=="function"||typeof Q.getSnapshotBeforeUpdate=="function")||typeof Q.UNSAFE_componentWillReceiveProps!="function"&&typeof Q.componentWillReceiveProps!="function"||(oe!==Ke||He!==ce)&&hO(p,Q,A,ce),xc=!1,He=p.memoizedState,Q.state=He,_v(p,A,Q,R);var jt=p.memoizedState;oe!==Ke||He!==jt||xs.current||xc?(typeof mt=="function"&&(Jj(p,N,mt,A),jt=p.memoizedState),(Ce=xc||dO(p,N,Ce,A,He,jt,ce)||!1)?(We||typeof Q.UNSAFE_componentWillUpdate!="function"&&typeof Q.componentWillUpdate!="function"||(typeof Q.componentWillUpdate=="function"&&Q.componentWillUpdate(A,jt,ce),typeof Q.UNSAFE_componentWillUpdate=="function"&&Q.UNSAFE_componentWillUpdate(A,jt,ce)),typeof Q.componentDidUpdate=="function"&&(p.flags|=4),typeof Q.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof Q.componentDidUpdate!="function"||oe===m.memoizedProps&&He===m.memoizedState||(p.flags|=4),typeof Q.getSnapshotBeforeUpdate!="function"||oe===m.memoizedProps&&He===m.memoizedState||(p.flags|=1024),p.memoizedProps=A,p.memoizedState=jt),Q.props=A,Q.state=jt,Q.context=ce,A=Ce):(typeof Q.componentDidUpdate!="function"||oe===m.memoizedProps&&He===m.memoizedState||(p.flags|=4),typeof Q.getSnapshotBeforeUpdate!="function"||oe===m.memoizedProps&&He===m.memoizedState||(p.flags|=1024),A=!1)}return aN(m,p,N,A,D,R)}function aN(m,p,N,A,R,D){_O(m,p);var Q=(p.flags&128)!==0;if(!A&&!Q)return R&&A5(p,N,!1),hl(m,p,D);A=p.stateNode,Xse.current=p;var oe=Q&&typeof N.getDerivedStateFromError!="function"?null:A.render();return p.flags|=1,m!==null&&Q?(p.child=Oh(p,m.child,null,D),p.child=Oh(p,null,oe,D)):es(m,p,oe,D),p.memoizedState=A.state,R&&A5(p,N,!0),p.child}function NO(m){var p=m.stateNode;p.pendingContext?C5(m,p.pendingContext,p.pendingContext!==p.context):p.context&&C5(m,p.context,!1),Bj(m,p.containerInfo)}function SO(m,p,N,A,R){return Rh(),Oj(R),p.flags|=256,es(m,p,N,A),p.child}var sN={dehydrated:null,treeContext:null,retryLane:0};function iN(m){return{baseLanes:m,cachePool:null,transitions:null}}function CO(m,p,N){var A=p.pendingProps,R=Nr.current,D=!1,Q=(p.flags&128)!==0,oe;if((oe=Q)||(oe=m!==null&&m.memoizedState===null?!1:(R&2)!==0),oe?(D=!0,p.flags&=-129):(m===null||m.memoizedState!==null)&&(R|=1),ir(Nr,R&1),m===null)return Rj(p),m=p.memoizedState,m!==null&&(m=m.dehydrated,m!==null)?((p.mode&1)===0?p.lanes=1:m.data==="$!"?p.lanes=8:p.lanes=1073741824,null):(Q=A.children,m=A.fallback,D?(A=p.mode,D=p.child,Q={mode:"hidden",children:Q},(A&1)===0&&D!==null?(D.childLanes=0,D.pendingProps=Q):D=qv(Q,A,0,null),m=Bd(m,A,N,null),D.return=p,m.return=p,D.sibling=m,p.child=D,p.child.memoizedState=iN(N),p.memoizedState=sN,m):oN(p,Q));if(R=m.memoizedState,R!==null&&(oe=R.dehydrated,oe!==null))return Yse(m,p,Q,A,oe,R,N);if(D){D=A.fallback,Q=p.mode,R=m.child,oe=R.sibling;var ce={mode:"hidden",children:A.children};return(Q&1)===0&&p.child!==R?(A=p.child,A.childLanes=0,A.pendingProps=ce,p.deletions=null):(A=jc(R,ce),A.subtreeFlags=R.subtreeFlags&14680064),oe!==null?D=jc(oe,D):(D=Bd(D,Q,N,null),D.flags|=2),D.return=p,A.return=p,A.sibling=D,p.child=A,A=D,D=p.child,Q=m.child.memoizedState,Q=Q===null?iN(N):{baseLanes:Q.baseLanes|N,cachePool:null,transitions:Q.transitions},D.memoizedState=Q,D.childLanes=m.childLanes&~N,p.memoizedState=sN,A}return D=m.child,m=D.sibling,A=jc(D,{mode:"visible",children:A.children}),(p.mode&1)===0&&(A.lanes=N),A.return=p,A.sibling=null,m!==null&&(N=p.deletions,N===null?(p.deletions=[m],p.flags|=16):N.push(m)),p.child=A,p.memoizedState=null,A}function oN(m,p){return p=qv({mode:"visible",children:p},m.mode,0,null),p.return=m,m.child=p}function Pv(m,p,N,A){return A!==null&&Oj(A),Oh(p,m.child,null,N),m=oN(p,p.pendingProps.children),m.flags|=2,p.memoizedState=null,m}function Yse(m,p,N,A,R,D,Q){if(N)return p.flags&256?(p.flags&=-257,A=tN(Error(n(422))),Pv(m,p,Q,A)):p.memoizedState!==null?(p.child=m.child,p.flags|=128,null):(D=A.fallback,R=p.mode,A=qv({mode:"visible",children:A.children},R,0,null),D=Bd(D,R,Q,null),D.flags|=2,A.return=p,D.return=p,A.sibling=D,p.child=A,(p.mode&1)!==0&&Oh(p,m.child,null,Q),p.child.memoizedState=iN(Q),p.memoizedState=sN,D);if((p.mode&1)===0)return Pv(m,p,Q,null);if(R.data==="$!"){if(A=R.nextSibling&&R.nextSibling.dataset,A)var oe=A.dgst;return A=oe,D=Error(n(419)),A=tN(D,A,void 0),Pv(m,p,Q,A)}if(oe=(Q&m.childLanes)!==0,vs||oe){if(A=ga,A!==null){switch(Q&-Q){case 4:R=2;break;case 16:R=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:R=32;break;case 536870912:R=268435456;break;default:R=0}R=(R&(A.suspendedLanes|Q))!==0?0:R,R!==0&&R!==D.retryLane&&(D.retryLane=R,dl(m,R),Gi(A,m,R,-1))}return jN(),A=tN(Error(n(421))),Pv(m,p,Q,A)}return R.data==="$?"?(p.flags|=128,p.child=m.child,p=cie.bind(null,m),R._reactRetry=p,null):(m=D.treeContext,Gs=hc(R.nextSibling),Hs=p,wr=!0,zi=null,m!==null&&(ui[hi++]=ll,ui[hi++]=cl,ui[hi++]=kd,ll=m.id,cl=m.overflow,kd=p),p=oN(p,A.children),p.flags|=4096,p)}function EO(m,p,N){m.lanes|=p;var A=m.alternate;A!==null&&(A.lanes|=p),Fj(m.return,p,N)}function lN(m,p,N,A,R){var D=m.memoizedState;D===null?m.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:A,tail:N,tailMode:R}:(D.isBackwards=p,D.rendering=null,D.renderingStartTime=0,D.last=A,D.tail=N,D.tailMode=R)}function AO(m,p,N){var A=p.pendingProps,R=A.revealOrder,D=A.tail;if(es(m,p,A.children,N),A=Nr.current,(A&2)!==0)A=A&1|2,p.flags|=128;else{if(m!==null&&(m.flags&128)!==0)e:for(m=p.child;m!==null;){if(m.tag===13)m.memoizedState!==null&&EO(m,N,p);else if(m.tag===19)EO(m,N,p);else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===p)break e;for(;m.sibling===null;){if(m.return===null||m.return===p)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}A&=1}if(ir(Nr,A),(p.mode&1)===0)p.memoizedState=null;else switch(R){case"forwards":for(N=p.child,R=null;N!==null;)m=N.alternate,m!==null&&jv(m)===null&&(R=N),N=N.sibling;N=R,N===null?(R=p.child,p.child=null):(R=N.sibling,N.sibling=null),lN(p,!1,R,N,D);break;case"backwards":for(N=null,R=p.child,p.child=null;R!==null;){if(m=R.alternate,m!==null&&jv(m)===null){p.child=R;break}m=R.sibling,R.sibling=N,N=R,R=m}lN(p,!0,N,null,D);break;case"together":lN(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function Tv(m,p){(p.mode&1)===0&&m!==null&&(m.alternate=null,p.alternate=null,p.flags|=2)}function hl(m,p,N){if(m!==null&&(p.dependencies=m.dependencies),Ld|=p.lanes,(N&p.childLanes)===0)return null;if(m!==null&&p.child!==m.child)throw Error(n(153));if(p.child!==null){for(m=p.child,N=jc(m,m.pendingProps),p.child=N,N.return=p;m.sibling!==null;)m=m.sibling,N=N.sibling=jc(m,m.pendingProps),N.return=p;N.sibling=null}return p.child}function Qse(m,p,N){switch(p.tag){case 3:NO(p),Rh();break;case 5:z5(p);break;case 1:gs(p.type)&&mv(p);break;case 4:Bj(p,p.stateNode.containerInfo);break;case 10:var A=p.type._context,R=p.memoizedProps.value;ir(yv,A._currentValue),A._currentValue=R;break;case 13:if(A=p.memoizedState,A!==null)return A.dehydrated!==null?(ir(Nr,Nr.current&1),p.flags|=128,null):(N&p.child.childLanes)!==0?CO(m,p,N):(ir(Nr,Nr.current&1),m=hl(m,p,N),m!==null?m.sibling:null);ir(Nr,Nr.current&1);break;case 19:if(A=(N&p.childLanes)!==0,(m.flags&128)!==0){if(A)return AO(m,p,N);p.flags|=128}if(R=p.memoizedState,R!==null&&(R.rendering=null,R.tail=null,R.lastEffect=null),ir(Nr,Nr.current),A)break;return null;case 22:case 23:return p.lanes=0,wO(m,p,N)}return hl(m,p,N)}var MO,cN,PO,TO;MO=function(m,p){for(var N=p.child;N!==null;){if(N.tag===5||N.tag===6)m.appendChild(N.stateNode);else if(N.tag!==4&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===p)break;for(;N.sibling===null;){if(N.return===null||N.return===p)return;N=N.return}N.sibling.return=N.return,N=N.sibling}},cN=function(){},PO=function(m,p,N,A){var R=m.memoizedProps;if(R!==A){m=p.stateNode,Dd(No.current);var D=null;switch(N){case"input":R=Ee(m,R),A=Ee(m,A),D=[];break;case"select":R=K({},R,{value:void 0}),A=K({},A,{value:void 0}),D=[];break;case"textarea":R=te(m,R),A=te(m,A),D=[];break;default:typeof R.onClick!="function"&&typeof A.onClick=="function"&&(m.onclick=dv)}an(N,A);var Q;N=null;for(Ce in R)if(!A.hasOwnProperty(Ce)&&R.hasOwnProperty(Ce)&&R[Ce]!=null)if(Ce==="style"){var oe=R[Ce];for(Q in oe)oe.hasOwnProperty(Q)&&(N||(N={}),N[Q]="")}else Ce!=="dangerouslySetInnerHTML"&&Ce!=="children"&&Ce!=="suppressContentEditableWarning"&&Ce!=="suppressHydrationWarning"&&Ce!=="autoFocus"&&(s.hasOwnProperty(Ce)?D||(D=[]):(D=D||[]).push(Ce,null));for(Ce in A){var ce=A[Ce];if(oe=R!=null?R[Ce]:void 0,A.hasOwnProperty(Ce)&&ce!==oe&&(ce!=null||oe!=null))if(Ce==="style")if(oe){for(Q in oe)!oe.hasOwnProperty(Q)||ce&&ce.hasOwnProperty(Q)||(N||(N={}),N[Q]="");for(Q in ce)ce.hasOwnProperty(Q)&&oe[Q]!==ce[Q]&&(N||(N={}),N[Q]=ce[Q])}else N||(D||(D=[]),D.push(Ce,N)),N=ce;else Ce==="dangerouslySetInnerHTML"?(ce=ce?ce.__html:void 0,oe=oe?oe.__html:void 0,ce!=null&&oe!==ce&&(D=D||[]).push(Ce,ce)):Ce==="children"?typeof ce!="string"&&typeof ce!="number"||(D=D||[]).push(Ce,""+ce):Ce!=="suppressContentEditableWarning"&&Ce!=="suppressHydrationWarning"&&(s.hasOwnProperty(Ce)?(ce!=null&&Ce==="onScroll"&&hr("scroll",m),D||oe===ce||(D=[])):(D=D||[]).push(Ce,ce))}N&&(D=D||[]).push("style",N);var Ce=D;(p.updateQueue=Ce)&&(p.flags|=4)}},TO=function(m,p,N,A){N!==A&&(p.flags|=4)};function i0(m,p){if(!wr)switch(m.tailMode){case"hidden":p=m.tail;for(var N=null;p!==null;)p.alternate!==null&&(N=p),p=p.sibling;N===null?m.tail=null:N.sibling=null;break;case"collapsed":N=m.tail;for(var A=null;N!==null;)N.alternate!==null&&(A=N),N=N.sibling;A===null?p||m.tail===null?m.tail=null:m.tail.sibling=null:A.sibling=null}}function Ua(m){var p=m.alternate!==null&&m.alternate.child===m.child,N=0,A=0;if(p)for(var R=m.child;R!==null;)N|=R.lanes|R.childLanes,A|=R.subtreeFlags&14680064,A|=R.flags&14680064,R.return=m,R=R.sibling;else for(R=m.child;R!==null;)N|=R.lanes|R.childLanes,A|=R.subtreeFlags,A|=R.flags,R.return=m,R=R.sibling;return m.subtreeFlags|=A,m.childLanes=N,p}function Zse(m,p,N){var A=p.pendingProps;switch(Tj(p),p.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ua(p),null;case 1:return gs(p.type)&&hv(),Ua(p),null;case 3:return A=p.stateNode,Lh(),mr(xs),mr(Fa),Vj(),A.pendingContext&&(A.context=A.pendingContext,A.pendingContext=null),(m===null||m.child===null)&&(gv(p)?p.flags|=4:m===null||m.memoizedState.isDehydrated&&(p.flags&256)===0||(p.flags|=1024,zi!==null&&(bN(zi),zi=null))),cN(m,p),Ua(p),null;case 5:zj(p);var R=Dd(t0.current);if(N=p.type,m!==null&&p.stateNode!=null)PO(m,p,N,A,R),m.ref!==p.ref&&(p.flags|=512,p.flags|=2097152);else{if(!A){if(p.stateNode===null)throw Error(n(166));return Ua(p),null}if(m=Dd(No.current),gv(p)){A=p.stateNode,N=p.type;var D=p.memoizedProps;switch(A[jo]=p,A[Yp]=D,m=(p.mode&1)!==0,N){case"dialog":hr("cancel",A),hr("close",A);break;case"iframe":case"object":case"embed":hr("load",A);break;case"video":case"audio":for(R=0;R<Wp.length;R++)hr(Wp[R],A);break;case"source":hr("error",A);break;case"img":case"image":case"link":hr("error",A),hr("load",A);break;case"details":hr("toggle",A);break;case"input":Xe(A,D),hr("invalid",A);break;case"select":A._wrapperState={wasMultiple:!!D.multiple},hr("invalid",A);break;case"textarea":Te(A,D),hr("invalid",A)}an(N,D),R=null;for(var Q in D)if(D.hasOwnProperty(Q)){var oe=D[Q];Q==="children"?typeof oe=="string"?A.textContent!==oe&&(D.suppressHydrationWarning!==!0&&cv(A.textContent,oe,m),R=["children",oe]):typeof oe=="number"&&A.textContent!==""+oe&&(D.suppressHydrationWarning!==!0&&cv(A.textContent,oe,m),R=["children",""+oe]):s.hasOwnProperty(Q)&&oe!=null&&Q==="onScroll"&&hr("scroll",A)}switch(N){case"input":Le(A),de(A,D,!0);break;case"textarea":Le(A),ut(A);break;case"select":case"option":break;default:typeof D.onClick=="function"&&(A.onclick=dv)}A=R,p.updateQueue=A,A!==null&&(p.flags|=4)}else{Q=R.nodeType===9?R:R.ownerDocument,m==="http://www.w3.org/1999/xhtml"&&(m=st(N)),m==="http://www.w3.org/1999/xhtml"?N==="script"?(m=Q.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild)):typeof A.is=="string"?m=Q.createElement(N,{is:A.is}):(m=Q.createElement(N),N==="select"&&(Q=m,A.multiple?Q.multiple=!0:A.size&&(Q.size=A.size))):m=Q.createElementNS(m,N),m[jo]=p,m[Yp]=A,MO(m,p,!1,!1),p.stateNode=m;e:{switch(Q=Cn(N,A),N){case"dialog":hr("cancel",m),hr("close",m),R=A;break;case"iframe":case"object":case"embed":hr("load",m),R=A;break;case"video":case"audio":for(R=0;R<Wp.length;R++)hr(Wp[R],m);R=A;break;case"source":hr("error",m),R=A;break;case"img":case"image":case"link":hr("error",m),hr("load",m),R=A;break;case"details":hr("toggle",m),R=A;break;case"input":Xe(m,A),R=Ee(m,A),hr("invalid",m);break;case"option":R=A;break;case"select":m._wrapperState={wasMultiple:!!A.multiple},R=K({},A,{value:void 0}),hr("invalid",m);break;case"textarea":Te(m,A),R=te(m,A),hr("invalid",m);break;default:R=A}an(N,R),oe=R;for(D in oe)if(oe.hasOwnProperty(D)){var ce=oe[D];D==="style"?kt(m,ce):D==="dangerouslySetInnerHTML"?(ce=ce?ce.__html:void 0,ce!=null&&on(m,ce)):D==="children"?typeof ce=="string"?(N!=="textarea"||ce!=="")&&Ge(m,ce):typeof ce=="number"&&Ge(m,""+ce):D!=="suppressContentEditableWarning"&&D!=="suppressHydrationWarning"&&D!=="autoFocus"&&(s.hasOwnProperty(D)?ce!=null&&D==="onScroll"&&hr("scroll",m):ce!=null&&j(m,D,ce,Q))}switch(N){case"input":Le(m),de(m,A,!1);break;case"textarea":Le(m),ut(m);break;case"option":A.value!=null&&m.setAttribute("value",""+Ie(A.value));break;case"select":m.multiple=!!A.multiple,D=A.value,D!=null?ve(m,!!A.multiple,D,!1):A.defaultValue!=null&&ve(m,!!A.multiple,A.defaultValue,!0);break;default:typeof R.onClick=="function"&&(m.onclick=dv)}switch(N){case"button":case"input":case"select":case"textarea":A=!!A.autoFocus;break e;case"img":A=!0;break e;default:A=!1}}A&&(p.flags|=4)}p.ref!==null&&(p.flags|=512,p.flags|=2097152)}return Ua(p),null;case 6:if(m&&p.stateNode!=null)TO(m,p,m.memoizedProps,A);else{if(typeof A!="string"&&p.stateNode===null)throw Error(n(166));if(N=Dd(t0.current),Dd(No.current),gv(p)){if(A=p.stateNode,N=p.memoizedProps,A[jo]=p,(D=A.nodeValue!==N)&&(m=Hs,m!==null))switch(m.tag){case 3:cv(A.nodeValue,N,(m.mode&1)!==0);break;case 5:m.memoizedProps.suppressHydrationWarning!==!0&&cv(A.nodeValue,N,(m.mode&1)!==0)}D&&(p.flags|=4)}else A=(N.nodeType===9?N:N.ownerDocument).createTextNode(A),A[jo]=p,p.stateNode=A}return Ua(p),null;case 13:if(mr(Nr),A=p.memoizedState,m===null||m.memoizedState!==null&&m.memoizedState.dehydrated!==null){if(wr&&Gs!==null&&(p.mode&1)!==0&&(p.flags&128)===0)O5(),Rh(),p.flags|=98560,D=!1;else if(D=gv(p),A!==null&&A.dehydrated!==null){if(m===null){if(!D)throw Error(n(318));if(D=p.memoizedState,D=D!==null?D.dehydrated:null,!D)throw Error(n(317));D[jo]=p}else Rh(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;Ua(p),D=!1}else zi!==null&&(bN(zi),zi=null),D=!0;if(!D)return p.flags&65536?p:null}return(p.flags&128)!==0?(p.lanes=N,p):(A=A!==null,A!==(m!==null&&m.memoizedState!==null)&&A&&(p.child.flags|=8192,(p.mode&1)!==0&&(m===null||(Nr.current&1)!==0?ta===0&&(ta=3):jN())),p.updateQueue!==null&&(p.flags|=4),Ua(p),null);case 4:return Lh(),cN(m,p),m===null&&Kp(p.stateNode.containerInfo),Ua(p),null;case 10:return Lj(p.type._context),Ua(p),null;case 17:return gs(p.type)&&hv(),Ua(p),null;case 19:if(mr(Nr),D=p.memoizedState,D===null)return Ua(p),null;if(A=(p.flags&128)!==0,Q=D.rendering,Q===null)if(A)i0(D,!1);else{if(ta!==0||m!==null&&(m.flags&128)!==0)for(m=p.child;m!==null;){if(Q=jv(m),Q!==null){for(p.flags|=128,i0(D,!1),A=Q.updateQueue,A!==null&&(p.updateQueue=A,p.flags|=4),p.subtreeFlags=0,A=N,N=p.child;N!==null;)D=N,m=A,D.flags&=14680066,Q=D.alternate,Q===null?(D.childLanes=0,D.lanes=m,D.child=null,D.subtreeFlags=0,D.memoizedProps=null,D.memoizedState=null,D.updateQueue=null,D.dependencies=null,D.stateNode=null):(D.childLanes=Q.childLanes,D.lanes=Q.lanes,D.child=Q.child,D.subtreeFlags=0,D.deletions=null,D.memoizedProps=Q.memoizedProps,D.memoizedState=Q.memoizedState,D.updateQueue=Q.updateQueue,D.type=Q.type,m=Q.dependencies,D.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext}),N=N.sibling;return ir(Nr,Nr.current&1|2),p.child}m=m.sibling}D.tail!==null&&ht()>Bh&&(p.flags|=128,A=!0,i0(D,!1),p.lanes=4194304)}else{if(!A)if(m=jv(Q),m!==null){if(p.flags|=128,A=!0,N=m.updateQueue,N!==null&&(p.updateQueue=N,p.flags|=4),i0(D,!0),D.tail===null&&D.tailMode==="hidden"&&!Q.alternate&&!wr)return Ua(p),null}else 2*ht()-D.renderingStartTime>Bh&&N!==1073741824&&(p.flags|=128,A=!0,i0(D,!1),p.lanes=4194304);D.isBackwards?(Q.sibling=p.child,p.child=Q):(N=D.last,N!==null?N.sibling=Q:p.child=Q,D.last=Q)}return D.tail!==null?(p=D.tail,D.rendering=p,D.tail=p.sibling,D.renderingStartTime=ht(),p.sibling=null,N=Nr.current,ir(Nr,A?N&1|2:N&1),p):(Ua(p),null);case 22:case 23:return _N(),A=p.memoizedState!==null,m!==null&&m.memoizedState!==null!==A&&(p.flags|=8192),A&&(p.mode&1)!==0?(Ws&1073741824)!==0&&(Ua(p),p.subtreeFlags&6&&(p.flags|=8192)):Ua(p),null;case 24:return null;case 25:return null}throw Error(n(156,p.tag))}function Jse(m,p){switch(Tj(p),p.tag){case 1:return gs(p.type)&&hv(),m=p.flags,m&65536?(p.flags=m&-65537|128,p):null;case 3:return Lh(),mr(xs),mr(Fa),Vj(),m=p.flags,(m&65536)!==0&&(m&128)===0?(p.flags=m&-65537|128,p):null;case 5:return zj(p),null;case 13:if(mr(Nr),m=p.memoizedState,m!==null&&m.dehydrated!==null){if(p.alternate===null)throw Error(n(340));Rh()}return m=p.flags,m&65536?(p.flags=m&-65537|128,p):null;case 19:return mr(Nr),null;case 4:return Lh(),null;case 10:return Lj(p.type._context),null;case 22:case 23:return _N(),null;case 24:return null;default:return null}}var kv=!1,Ba=!1,eie=typeof WeakSet=="function"?WeakSet:Set,yt=null;function $h(m,p){var N=m.ref;if(N!==null)if(typeof N=="function")try{N(null)}catch(A){Rr(m,p,A)}else N.current=null}function dN(m,p,N){try{N()}catch(A){Rr(m,p,A)}}var kO=!1;function tie(m,p){if(_j=Zg,m=d5(),fj(m)){if("selectionStart"in m)var N={start:m.selectionStart,end:m.selectionEnd};else e:{N=(N=m.ownerDocument)&&N.defaultView||window;var A=N.getSelection&&N.getSelection();if(A&&A.rangeCount!==0){N=A.anchorNode;var R=A.anchorOffset,D=A.focusNode;A=A.focusOffset;try{N.nodeType,D.nodeType}catch{N=null;break e}var Q=0,oe=-1,ce=-1,Ce=0,We=0,Ke=m,He=null;t:for(;;){for(var mt;Ke!==N||R!==0&&Ke.nodeType!==3||(oe=Q+R),Ke!==D||A!==0&&Ke.nodeType!==3||(ce=Q+A),Ke.nodeType===3&&(Q+=Ke.nodeValue.length),(mt=Ke.firstChild)!==null;)He=Ke,Ke=mt;for(;;){if(Ke===m)break t;if(He===N&&++Ce===R&&(oe=Q),He===D&&++We===A&&(ce=Q),(mt=Ke.nextSibling)!==null)break;Ke=He,He=Ke.parentNode}Ke=mt}N=oe===-1||ce===-1?null:{start:oe,end:ce}}else N=null}N=N||{start:0,end:0}}else N=null;for(jj={focusedElem:m,selectionRange:N},Zg=!1,yt=p;yt!==null;)if(p=yt,m=p.child,(p.subtreeFlags&1028)!==0&&m!==null)m.return=p,yt=m;else for(;yt!==null;){p=yt;try{var jt=p.alternate;if((p.flags&1024)!==0)switch(p.tag){case 0:case 11:case 15:break;case 1:if(jt!==null){var Et=jt.memoizedProps,Br=jt.memoizedState,ye=p.stateNode,me=ye.getSnapshotBeforeUpdate(p.elementType===p.type?Et:qi(p.type,Et),Br);ye.__reactInternalSnapshotBeforeUpdate=me}break;case 3:var we=p.stateNode.containerInfo;we.nodeType===1?we.textContent="":we.nodeType===9&&we.documentElement&&we.removeChild(we.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Qe){Rr(p,p.return,Qe)}if(m=p.sibling,m!==null){m.return=p.return,yt=m;break}yt=p.return}return jt=kO,kO=!1,jt}function o0(m,p,N){var A=p.updateQueue;if(A=A!==null?A.lastEffect:null,A!==null){var R=A=A.next;do{if((R.tag&m)===m){var D=R.destroy;R.destroy=void 0,D!==void 0&&dN(p,N,D)}R=R.next}while(R!==A)}}function Rv(m,p){if(p=p.updateQueue,p=p!==null?p.lastEffect:null,p!==null){var N=p=p.next;do{if((N.tag&m)===m){var A=N.create;N.destroy=A()}N=N.next}while(N!==p)}}function uN(m){var p=m.ref;if(p!==null){var N=m.stateNode;switch(m.tag){case 5:m=N;break;default:m=N}typeof p=="function"?p(m):p.current=m}}function RO(m){var p=m.alternate;p!==null&&(m.alternate=null,RO(p)),m.child=null,m.deletions=null,m.sibling=null,m.tag===5&&(p=m.stateNode,p!==null&&(delete p[jo],delete p[Yp],delete p[Ej],delete p[Lse],delete p[Fse])),m.stateNode=null,m.return=null,m.dependencies=null,m.memoizedProps=null,m.memoizedState=null,m.pendingProps=null,m.stateNode=null,m.updateQueue=null}function OO(m){return m.tag===5||m.tag===3||m.tag===4}function DO(m){e:for(;;){for(;m.sibling===null;){if(m.return===null||OO(m.return))return null;m=m.return}for(m.sibling.return=m.return,m=m.sibling;m.tag!==5&&m.tag!==6&&m.tag!==18;){if(m.flags&2||m.child===null||m.tag===4)continue e;m.child.return=m,m=m.child}if(!(m.flags&2))return m.stateNode}}function hN(m,p,N){var A=m.tag;if(A===5||A===6)m=m.stateNode,p?N.nodeType===8?N.parentNode.insertBefore(m,p):N.insertBefore(m,p):(N.nodeType===8?(p=N.parentNode,p.insertBefore(m,N)):(p=N,p.appendChild(m)),N=N._reactRootContainer,N!=null||p.onclick!==null||(p.onclick=dv));else if(A!==4&&(m=m.child,m!==null))for(hN(m,p,N),m=m.sibling;m!==null;)hN(m,p,N),m=m.sibling}function mN(m,p,N){var A=m.tag;if(A===5||A===6)m=m.stateNode,p?N.insertBefore(m,p):N.appendChild(m);else if(A!==4&&(m=m.child,m!==null))for(mN(m,p,N),m=m.sibling;m!==null;)mN(m,p,N),m=m.sibling}var Ma=null,Vi=!1;function vc(m,p,N){for(N=N.child;N!==null;)IO(m,p,N),N=N.sibling}function IO(m,p,N){if($e&&typeof $e.onCommitFiberUnmount=="function")try{$e.onCommitFiberUnmount(ie,N)}catch{}switch(N.tag){case 5:Ba||$h(N,p);case 6:var A=Ma,R=Vi;Ma=null,vc(m,p,N),Ma=A,Vi=R,Ma!==null&&(Vi?(m=Ma,N=N.stateNode,m.nodeType===8?m.parentNode.removeChild(N):m.removeChild(N)):Ma.removeChild(N.stateNode));break;case 18:Ma!==null&&(Vi?(m=Ma,N=N.stateNode,m.nodeType===8?Cj(m.parentNode,N):m.nodeType===1&&Cj(m,N),$p(m)):Cj(Ma,N.stateNode));break;case 4:A=Ma,R=Vi,Ma=N.stateNode.containerInfo,Vi=!0,vc(m,p,N),Ma=A,Vi=R;break;case 0:case 11:case 14:case 15:if(!Ba&&(A=N.updateQueue,A!==null&&(A=A.lastEffect,A!==null))){R=A=A.next;do{var D=R,Q=D.destroy;D=D.tag,Q!==void 0&&((D&2)!==0||(D&4)!==0)&&dN(N,p,Q),R=R.next}while(R!==A)}vc(m,p,N);break;case 1:if(!Ba&&($h(N,p),A=N.stateNode,typeof A.componentWillUnmount=="function"))try{A.props=N.memoizedProps,A.state=N.memoizedState,A.componentWillUnmount()}catch(oe){Rr(N,p,oe)}vc(m,p,N);break;case 21:vc(m,p,N);break;case 22:N.mode&1?(Ba=(A=Ba)||N.memoizedState!==null,vc(m,p,N),Ba=A):vc(m,p,N);break;default:vc(m,p,N)}}function LO(m){var p=m.updateQueue;if(p!==null){m.updateQueue=null;var N=m.stateNode;N===null&&(N=m.stateNode=new eie),p.forEach(function(A){var R=die.bind(null,m,A);N.has(A)||(N.add(A),A.then(R,R))})}}function Hi(m,p){var N=p.deletions;if(N!==null)for(var A=0;A<N.length;A++){var R=N[A];try{var D=m,Q=p,oe=Q;e:for(;oe!==null;){switch(oe.tag){case 5:Ma=oe.stateNode,Vi=!1;break e;case 3:Ma=oe.stateNode.containerInfo,Vi=!0;break e;case 4:Ma=oe.stateNode.containerInfo,Vi=!0;break e}oe=oe.return}if(Ma===null)throw Error(n(160));IO(D,Q,R),Ma=null,Vi=!1;var ce=R.alternate;ce!==null&&(ce.return=null),R.return=null}catch(Ce){Rr(R,p,Ce)}}if(p.subtreeFlags&12854)for(p=p.child;p!==null;)FO(p,m),p=p.sibling}function FO(m,p){var N=m.alternate,A=m.flags;switch(m.tag){case 0:case 11:case 14:case 15:if(Hi(p,m),Co(m),A&4){try{o0(3,m,m.return),Rv(3,m)}catch(Et){Rr(m,m.return,Et)}try{o0(5,m,m.return)}catch(Et){Rr(m,m.return,Et)}}break;case 1:Hi(p,m),Co(m),A&512&&N!==null&&$h(N,N.return);break;case 5:if(Hi(p,m),Co(m),A&512&&N!==null&&$h(N,N.return),m.flags&32){var R=m.stateNode;try{Ge(R,"")}catch(Et){Rr(m,m.return,Et)}}if(A&4&&(R=m.stateNode,R!=null)){var D=m.memoizedProps,Q=N!==null?N.memoizedProps:D,oe=m.type,ce=m.updateQueue;if(m.updateQueue=null,ce!==null)try{oe==="input"&&D.type==="radio"&&D.name!=null&&Ve(R,D),Cn(oe,Q);var Ce=Cn(oe,D);for(Q=0;Q<ce.length;Q+=2){var We=ce[Q],Ke=ce[Q+1];We==="style"?kt(R,Ke):We==="dangerouslySetInnerHTML"?on(R,Ke):We==="children"?Ge(R,Ke):j(R,We,Ke,Ce)}switch(oe){case"input":at(R,D);break;case"textarea":Be(R,D);break;case"select":var He=R._wrapperState.wasMultiple;R._wrapperState.wasMultiple=!!D.multiple;var mt=D.value;mt!=null?ve(R,!!D.multiple,mt,!1):He!==!!D.multiple&&(D.defaultValue!=null?ve(R,!!D.multiple,D.defaultValue,!0):ve(R,!!D.multiple,D.multiple?[]:"",!1))}R[Yp]=D}catch(Et){Rr(m,m.return,Et)}}break;case 6:if(Hi(p,m),Co(m),A&4){if(m.stateNode===null)throw Error(n(162));R=m.stateNode,D=m.memoizedProps;try{R.nodeValue=D}catch(Et){Rr(m,m.return,Et)}}break;case 3:if(Hi(p,m),Co(m),A&4&&N!==null&&N.memoizedState.isDehydrated)try{$p(p.containerInfo)}catch(Et){Rr(m,m.return,Et)}break;case 4:Hi(p,m),Co(m);break;case 13:Hi(p,m),Co(m),R=m.child,R.flags&8192&&(D=R.memoizedState!==null,R.stateNode.isHidden=D,!D||R.alternate!==null&&R.alternate.memoizedState!==null||(xN=ht())),A&4&&LO(m);break;case 22:if(We=N!==null&&N.memoizedState!==null,m.mode&1?(Ba=(Ce=Ba)||We,Hi(p,m),Ba=Ce):Hi(p,m),Co(m),A&8192){if(Ce=m.memoizedState!==null,(m.stateNode.isHidden=Ce)&&!We&&(m.mode&1)!==0)for(yt=m,We=m.child;We!==null;){for(Ke=yt=We;yt!==null;){switch(He=yt,mt=He.child,He.tag){case 0:case 11:case 14:case 15:o0(4,He,He.return);break;case 1:$h(He,He.return);var jt=He.stateNode;if(typeof jt.componentWillUnmount=="function"){A=He,N=He.return;try{p=A,jt.props=p.memoizedProps,jt.state=p.memoizedState,jt.componentWillUnmount()}catch(Et){Rr(A,N,Et)}}break;case 5:$h(He,He.return);break;case 22:if(He.memoizedState!==null){BO(Ke);continue}}mt!==null?(mt.return=He,yt=mt):BO(Ke)}We=We.sibling}e:for(We=null,Ke=m;;){if(Ke.tag===5){if(We===null){We=Ke;try{R=Ke.stateNode,Ce?(D=R.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none"):(oe=Ke.stateNode,ce=Ke.memoizedProps.style,Q=ce!=null&&ce.hasOwnProperty("display")?ce.display:null,oe.style.display=Qt("display",Q))}catch(Et){Rr(m,m.return,Et)}}}else if(Ke.tag===6){if(We===null)try{Ke.stateNode.nodeValue=Ce?"":Ke.memoizedProps}catch(Et){Rr(m,m.return,Et)}}else if((Ke.tag!==22&&Ke.tag!==23||Ke.memoizedState===null||Ke===m)&&Ke.child!==null){Ke.child.return=Ke,Ke=Ke.child;continue}if(Ke===m)break e;for(;Ke.sibling===null;){if(Ke.return===null||Ke.return===m)break e;We===Ke&&(We=null),Ke=Ke.return}We===Ke&&(We=null),Ke.sibling.return=Ke.return,Ke=Ke.sibling}}break;case 19:Hi(p,m),Co(m),A&4&&LO(m);break;case 21:break;default:Hi(p,m),Co(m)}}function Co(m){var p=m.flags;if(p&2){try{e:{for(var N=m.return;N!==null;){if(OO(N)){var A=N;break e}N=N.return}throw Error(n(160))}switch(A.tag){case 5:var R=A.stateNode;A.flags&32&&(Ge(R,""),A.flags&=-33);var D=DO(m);mN(m,D,R);break;case 3:case 4:var Q=A.stateNode.containerInfo,oe=DO(m);hN(m,oe,Q);break;default:throw Error(n(161))}}catch(ce){Rr(m,m.return,ce)}m.flags&=-3}p&4096&&(m.flags&=-4097)}function nie(m,p,N){yt=m,$O(m)}function $O(m,p,N){for(var A=(m.mode&1)!==0;yt!==null;){var R=yt,D=R.child;if(R.tag===22&&A){var Q=R.memoizedState!==null||kv;if(!Q){var oe=R.alternate,ce=oe!==null&&oe.memoizedState!==null||Ba;oe=kv;var Ce=Ba;if(kv=Q,(Ba=ce)&&!Ce)for(yt=R;yt!==null;)Q=yt,ce=Q.child,Q.tag===22&&Q.memoizedState!==null?zO(R):ce!==null?(ce.return=Q,yt=ce):zO(R);for(;D!==null;)yt=D,$O(D),D=D.sibling;yt=R,kv=oe,Ba=Ce}UO(m)}else(R.subtreeFlags&8772)!==0&&D!==null?(D.return=R,yt=D):UO(m)}}function UO(m){for(;yt!==null;){var p=yt;if((p.flags&8772)!==0){var N=p.alternate;try{if((p.flags&8772)!==0)switch(p.tag){case 0:case 11:case 15:Ba||Rv(5,p);break;case 1:var A=p.stateNode;if(p.flags&4&&!Ba)if(N===null)A.componentDidMount();else{var R=p.elementType===p.type?N.memoizedProps:qi(p.type,N.memoizedProps);A.componentDidUpdate(R,N.memoizedState,A.__reactInternalSnapshotBeforeUpdate)}var D=p.updateQueue;D!==null&&B5(p,D,A);break;case 3:var Q=p.updateQueue;if(Q!==null){if(N=null,p.child!==null)switch(p.child.tag){case 5:N=p.child.stateNode;break;case 1:N=p.child.stateNode}B5(p,Q,N)}break;case 5:var oe=p.stateNode;if(N===null&&p.flags&4){N=oe;var ce=p.memoizedProps;switch(p.type){case"button":case"input":case"select":case"textarea":ce.autoFocus&&N.focus();break;case"img":ce.src&&(N.src=ce.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(p.memoizedState===null){var Ce=p.alternate;if(Ce!==null){var We=Ce.memoizedState;if(We!==null){var Ke=We.dehydrated;Ke!==null&&$p(Ke)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Ba||p.flags&512&&uN(p)}catch(He){Rr(p,p.return,He)}}if(p===m){yt=null;break}if(N=p.sibling,N!==null){N.return=p.return,yt=N;break}yt=p.return}}function BO(m){for(;yt!==null;){var p=yt;if(p===m){yt=null;break}var N=p.sibling;if(N!==null){N.return=p.return,yt=N;break}yt=p.return}}function zO(m){for(;yt!==null;){var p=yt;try{switch(p.tag){case 0:case 11:case 15:var N=p.return;try{Rv(4,p)}catch(ce){Rr(p,N,ce)}break;case 1:var A=p.stateNode;if(typeof A.componentDidMount=="function"){var R=p.return;try{A.componentDidMount()}catch(ce){Rr(p,R,ce)}}var D=p.return;try{uN(p)}catch(ce){Rr(p,D,ce)}break;case 5:var Q=p.return;try{uN(p)}catch(ce){Rr(p,Q,ce)}}}catch(ce){Rr(p,p.return,ce)}if(p===m){yt=null;break}var oe=p.sibling;if(oe!==null){oe.return=p.return,yt=oe;break}yt=p.return}}var rie=Math.ceil,Ov=S.ReactCurrentDispatcher,fN=S.ReactCurrentOwner,pi=S.ReactCurrentBatchConfig,Pn=0,ga=null,Wr=null,Pa=0,Ws=0,Uh=mc(0),ta=0,l0=null,Ld=0,Dv=0,pN=0,c0=null,ys=null,xN=0,Bh=1/0,ml=null,Iv=!1,gN=null,yc=null,Lv=!1,bc=null,Fv=0,d0=0,vN=null,$v=-1,Uv=0;function ts(){return(Pn&6)!==0?ht():$v!==-1?$v:$v=ht()}function wc(m){return(m.mode&1)===0?1:(Pn&2)!==0&&Pa!==0?Pa&-Pa:Use.transition!==null?(Uv===0&&(Uv=ps()),Uv):(m=Yn,m!==0||(m=window.event,m=m===void 0?16:VR(m.type)),m)}function Gi(m,p,N,A){if(50<d0)throw d0=0,vN=null,Error(n(185));kr(m,N,A),((Pn&2)===0||m!==ga)&&(m===ga&&((Pn&2)===0&&(Dv|=N),ta===4&&_c(m,Pa)),bs(m,A),N===1&&Pn===0&&(p.mode&1)===0&&(Bh=ht()+500,fv&&pc()))}function bs(m,p){var N=m.callbackNode;Dt(m,p);var A=tr(m,m===ga?Pa:0);if(A===0)N!==null&&dt(N),m.callbackNode=null,m.callbackPriority=0;else if(p=A&-A,m.callbackPriority!==p){if(N!=null&&dt(N),p===1)m.tag===0?$se(VO.bind(null,m)):M5(VO.bind(null,m)),Dse(function(){(Pn&6)===0&&pc()}),N=null;else{switch(IR(A)){case 1:N=Zt;break;case 4:N=nn;break;case 16:N=Xn;break;case 536870912:N=br;break;default:N=Xn}N=ZO(N,qO.bind(null,m))}m.callbackPriority=p,m.callbackNode=N}}function qO(m,p){if($v=-1,Uv=0,(Pn&6)!==0)throw Error(n(327));var N=m.callbackNode;if(zh()&&m.callbackNode!==N)return null;var A=tr(m,m===ga?Pa:0);if(A===0)return null;if((A&30)!==0||(A&m.expiredLanes)!==0||p)p=Bv(m,A);else{p=A;var R=Pn;Pn|=2;var D=GO();(ga!==m||Pa!==p)&&(ml=null,Bh=ht()+500,$d(m,p));do try{iie();break}catch(oe){HO(m,oe)}while(!0);Ij(),Ov.current=D,Pn=R,Wr!==null?p=0:(ga=null,Pa=0,p=ta)}if(p!==0){if(p===2&&(R=pa(m),R!==0&&(A=R,p=yN(m,R))),p===1)throw N=l0,$d(m,0),_c(m,A),bs(m,ht()),N;if(p===6)_c(m,A);else{if(R=m.current.alternate,(A&30)===0&&!aie(R)&&(p=Bv(m,A),p===2&&(D=pa(m),D!==0&&(A=D,p=yN(m,D))),p===1))throw N=l0,$d(m,0),_c(m,A),bs(m,ht()),N;switch(m.finishedWork=R,m.finishedLanes=A,p){case 0:case 1:throw Error(n(345));case 2:Ud(m,ys,ml);break;case 3:if(_c(m,A),(A&130023424)===A&&(p=xN+500-ht(),10<p)){if(tr(m,0)!==0)break;if(R=m.suspendedLanes,(R&A)!==A){ts(),m.pingedLanes|=m.suspendedLanes&R;break}m.timeoutHandle=Sj(Ud.bind(null,m,ys,ml),p);break}Ud(m,ys,ml);break;case 4:if(_c(m,A),(A&4194240)===A)break;for(p=m.eventTimes,R=-1;0<A;){var Q=31-pt(A);D=1<<Q,Q=p[Q],Q>R&&(R=Q),A&=~D}if(A=R,A=ht()-A,A=(120>A?120:480>A?480:1080>A?1080:1920>A?1920:3e3>A?3e3:4320>A?4320:1960*rie(A/1960))-A,10<A){m.timeoutHandle=Sj(Ud.bind(null,m,ys,ml),A);break}Ud(m,ys,ml);break;case 5:Ud(m,ys,ml);break;default:throw Error(n(329))}}}return bs(m,ht()),m.callbackNode===N?qO.bind(null,m):null}function yN(m,p){var N=c0;return m.current.memoizedState.isDehydrated&&($d(m,p).flags|=256),m=Bv(m,p),m!==2&&(p=ys,ys=N,p!==null&&bN(p)),m}function bN(m){ys===null?ys=m:ys.push.apply(ys,m)}function aie(m){for(var p=m;;){if(p.flags&16384){var N=p.updateQueue;if(N!==null&&(N=N.stores,N!==null))for(var A=0;A<N.length;A++){var R=N[A],D=R.getSnapshot;R=R.value;try{if(!Bi(D(),R))return!1}catch{return!1}}}if(N=p.child,p.subtreeFlags&16384&&N!==null)N.return=p,p=N;else{if(p===m)break;for(;p.sibling===null;){if(p.return===null||p.return===m)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function _c(m,p){for(p&=~pN,p&=~Dv,m.suspendedLanes|=p,m.pingedLanes&=~p,m=m.expirationTimes;0<p;){var N=31-pt(p),A=1<<N;m[N]=-1,p&=~A}}function VO(m){if((Pn&6)!==0)throw Error(n(327));zh();var p=tr(m,0);if((p&1)===0)return bs(m,ht()),null;var N=Bv(m,p);if(m.tag!==0&&N===2){var A=pa(m);A!==0&&(p=A,N=yN(m,A))}if(N===1)throw N=l0,$d(m,0),_c(m,p),bs(m,ht()),N;if(N===6)throw Error(n(345));return m.finishedWork=m.current.alternate,m.finishedLanes=p,Ud(m,ys,ml),bs(m,ht()),null}function wN(m,p){var N=Pn;Pn|=1;try{return m(p)}finally{Pn=N,Pn===0&&(Bh=ht()+500,fv&&pc())}}function Fd(m){bc!==null&&bc.tag===0&&(Pn&6)===0&&zh();var p=Pn;Pn|=1;var N=pi.transition,A=Yn;try{if(pi.transition=null,Yn=1,m)return m()}finally{Yn=A,pi.transition=N,Pn=p,(Pn&6)===0&&pc()}}function _N(){Ws=Uh.current,mr(Uh)}function $d(m,p){m.finishedWork=null,m.finishedLanes=0;var N=m.timeoutHandle;if(N!==-1&&(m.timeoutHandle=-1,Ose(N)),Wr!==null)for(N=Wr.return;N!==null;){var A=N;switch(Tj(A),A.tag){case 1:A=A.type.childContextTypes,A!=null&&hv();break;case 3:Lh(),mr(xs),mr(Fa),Vj();break;case 5:zj(A);break;case 4:Lh();break;case 13:mr(Nr);break;case 19:mr(Nr);break;case 10:Lj(A.type._context);break;case 22:case 23:_N()}N=N.return}if(ga=m,Wr=m=jc(m.current,null),Pa=Ws=p,ta=0,l0=null,pN=Dv=Ld=0,ys=c0=null,Od!==null){for(p=0;p<Od.length;p++)if(N=Od[p],A=N.interleaved,A!==null){N.interleaved=null;var R=A.next,D=N.pending;if(D!==null){var Q=D.next;D.next=R,A.next=Q}N.pending=A}Od=null}return m}function HO(m,p){do{var N=Wr;try{if(Ij(),Nv.current=Av,Sv){for(var A=Sr.memoizedState;A!==null;){var R=A.queue;R!==null&&(R.pending=null),A=A.next}Sv=!1}if(Id=0,xa=ea=Sr=null,n0=!1,r0=0,fN.current=null,N===null||N.return===null){ta=1,l0=p,Wr=null;break}e:{var D=m,Q=N.return,oe=N,ce=p;if(p=Pa,oe.flags|=32768,ce!==null&&typeof ce=="object"&&typeof ce.then=="function"){var Ce=ce,We=oe,Ke=We.tag;if((We.mode&1)===0&&(Ke===0||Ke===11||Ke===15)){var He=We.alternate;He?(We.updateQueue=He.updateQueue,We.memoizedState=He.memoizedState,We.lanes=He.lanes):(We.updateQueue=null,We.memoizedState=null)}var mt=xO(Q);if(mt!==null){mt.flags&=-257,gO(mt,Q,oe,D,p),mt.mode&1&&pO(D,Ce,p),p=mt,ce=Ce;var jt=p.updateQueue;if(jt===null){var Et=new Set;Et.add(ce),p.updateQueue=Et}else jt.add(ce);break e}else{if((p&1)===0){pO(D,Ce,p),jN();break e}ce=Error(n(426))}}else if(wr&&oe.mode&1){var Br=xO(Q);if(Br!==null){(Br.flags&65536)===0&&(Br.flags|=256),gO(Br,Q,oe,D,p),Oj(Fh(ce,oe));break e}}D=ce=Fh(ce,oe),ta!==4&&(ta=2),c0===null?c0=[D]:c0.push(D),D=Q;do{switch(D.tag){case 3:D.flags|=65536,p&=-p,D.lanes|=p;var ye=mO(D,ce,p);U5(D,ye);break e;case 1:oe=ce;var me=D.type,we=D.stateNode;if((D.flags&128)===0&&(typeof me.getDerivedStateFromError=="function"||we!==null&&typeof we.componentDidCatch=="function"&&(yc===null||!yc.has(we)))){D.flags|=65536,p&=-p,D.lanes|=p;var Qe=fO(D,oe,p);U5(D,Qe);break e}}D=D.return}while(D!==null)}KO(N)}catch(Pt){p=Pt,Wr===N&&N!==null&&(Wr=N=N.return);continue}break}while(!0)}function GO(){var m=Ov.current;return Ov.current=Av,m===null?Av:m}function jN(){(ta===0||ta===3||ta===2)&&(ta=4),ga===null||(Ld&268435455)===0&&(Dv&268435455)===0||_c(ga,Pa)}function Bv(m,p){var N=Pn;Pn|=2;var A=GO();(ga!==m||Pa!==p)&&(ml=null,$d(m,p));do try{sie();break}catch(R){HO(m,R)}while(!0);if(Ij(),Pn=N,Ov.current=A,Wr!==null)throw Error(n(261));return ga=null,Pa=0,ta}function sie(){for(;Wr!==null;)WO(Wr)}function iie(){for(;Wr!==null&&!Mt();)WO(Wr)}function WO(m){var p=QO(m.alternate,m,Ws);m.memoizedProps=m.pendingProps,p===null?KO(m):Wr=p,fN.current=null}function KO(m){var p=m;do{var N=p.alternate;if(m=p.return,(p.flags&32768)===0){if(N=Zse(N,p,Ws),N!==null){Wr=N;return}}else{if(N=Jse(N,p),N!==null){N.flags&=32767,Wr=N;return}if(m!==null)m.flags|=32768,m.subtreeFlags=0,m.deletions=null;else{ta=6,Wr=null;return}}if(p=p.sibling,p!==null){Wr=p;return}Wr=p=m}while(p!==null);ta===0&&(ta=5)}function Ud(m,p,N){var A=Yn,R=pi.transition;try{pi.transition=null,Yn=1,oie(m,p,N,A)}finally{pi.transition=R,Yn=A}return null}function oie(m,p,N,A){do zh();while(bc!==null);if((Pn&6)!==0)throw Error(n(327));N=m.finishedWork;var R=m.finishedLanes;if(N===null)return null;if(m.finishedWork=null,m.finishedLanes=0,N===m.current)throw Error(n(177));m.callbackNode=null,m.callbackPriority=0;var D=N.lanes|N.childLanes;if(Bae(m,D),m===ga&&(Wr=ga=null,Pa=0),(N.subtreeFlags&2064)===0&&(N.flags&2064)===0||Lv||(Lv=!0,ZO(Xn,function(){return zh(),null})),D=(N.flags&15990)!==0,(N.subtreeFlags&15990)!==0||D){D=pi.transition,pi.transition=null;var Q=Yn;Yn=1;var oe=Pn;Pn|=4,fN.current=null,tie(m,N),FO(N,m),Ese(jj),Zg=!!_j,jj=_j=null,m.current=N,nie(N),Vt(),Pn=oe,Yn=Q,pi.transition=D}else m.current=N;if(Lv&&(Lv=!1,bc=m,Fv=R),D=m.pendingLanes,D===0&&(yc=null),ze(N.stateNode),bs(m,ht()),p!==null)for(A=m.onRecoverableError,N=0;N<p.length;N++)R=p[N],A(R.value,{componentStack:R.stack,digest:R.digest});if(Iv)throw Iv=!1,m=gN,gN=null,m;return(Fv&1)!==0&&m.tag!==0&&zh(),D=m.pendingLanes,(D&1)!==0?m===vN?d0++:(d0=0,vN=m):d0=0,pc(),null}function zh(){if(bc!==null){var m=IR(Fv),p=pi.transition,N=Yn;try{if(pi.transition=null,Yn=16>m?16:m,bc===null)var A=!1;else{if(m=bc,bc=null,Fv=0,(Pn&6)!==0)throw Error(n(331));var R=Pn;for(Pn|=4,yt=m.current;yt!==null;){var D=yt,Q=D.child;if((yt.flags&16)!==0){var oe=D.deletions;if(oe!==null){for(var ce=0;ce<oe.length;ce++){var Ce=oe[ce];for(yt=Ce;yt!==null;){var We=yt;switch(We.tag){case 0:case 11:case 15:o0(8,We,D)}var Ke=We.child;if(Ke!==null)Ke.return=We,yt=Ke;else for(;yt!==null;){We=yt;var He=We.sibling,mt=We.return;if(RO(We),We===Ce){yt=null;break}if(He!==null){He.return=mt,yt=He;break}yt=mt}}}var jt=D.alternate;if(jt!==null){var Et=jt.child;if(Et!==null){jt.child=null;do{var Br=Et.sibling;Et.sibling=null,Et=Br}while(Et!==null)}}yt=D}}if((D.subtreeFlags&2064)!==0&&Q!==null)Q.return=D,yt=Q;else e:for(;yt!==null;){if(D=yt,(D.flags&2048)!==0)switch(D.tag){case 0:case 11:case 15:o0(9,D,D.return)}var ye=D.sibling;if(ye!==null){ye.return=D.return,yt=ye;break e}yt=D.return}}var me=m.current;for(yt=me;yt!==null;){Q=yt;var we=Q.child;if((Q.subtreeFlags&2064)!==0&&we!==null)we.return=Q,yt=we;else e:for(Q=me;yt!==null;){if(oe=yt,(oe.flags&2048)!==0)try{switch(oe.tag){case 0:case 11:case 15:Rv(9,oe)}}catch(Pt){Rr(oe,oe.return,Pt)}if(oe===Q){yt=null;break e}var Qe=oe.sibling;if(Qe!==null){Qe.return=oe.return,yt=Qe;break e}yt=oe.return}}if(Pn=R,pc(),$e&&typeof $e.onPostCommitFiberRoot=="function")try{$e.onPostCommitFiberRoot(ie,m)}catch{}A=!0}return A}finally{Yn=N,pi.transition=p}}return!1}function XO(m,p,N){p=Fh(N,p),p=mO(m,p,1),m=gc(m,p,1),p=ts(),m!==null&&(kr(m,1,p),bs(m,p))}function Rr(m,p,N){if(m.tag===3)XO(m,m,N);else for(;p!==null;){if(p.tag===3){XO(p,m,N);break}else if(p.tag===1){var A=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof A.componentDidCatch=="function"&&(yc===null||!yc.has(A))){m=Fh(N,m),m=fO(p,m,1),p=gc(p,m,1),m=ts(),p!==null&&(kr(p,1,m),bs(p,m));break}}p=p.return}}function lie(m,p,N){var A=m.pingCache;A!==null&&A.delete(p),p=ts(),m.pingedLanes|=m.suspendedLanes&N,ga===m&&(Pa&N)===N&&(ta===4||ta===3&&(Pa&130023424)===Pa&&500>ht()-xN?$d(m,0):pN|=N),bs(m,p)}function YO(m,p){p===0&&((m.mode&1)===0?p=1:(p=pn,pn<<=1,(pn&130023424)===0&&(pn=4194304)));var N=ts();m=dl(m,p),m!==null&&(kr(m,p,N),bs(m,N))}function cie(m){var p=m.memoizedState,N=0;p!==null&&(N=p.retryLane),YO(m,N)}function die(m,p){var N=0;switch(m.tag){case 13:var A=m.stateNode,R=m.memoizedState;R!==null&&(N=R.retryLane);break;case 19:A=m.stateNode;break;default:throw Error(n(314))}A!==null&&A.delete(p),YO(m,N)}var QO;QO=function(m,p,N){if(m!==null)if(m.memoizedProps!==p.pendingProps||xs.current)vs=!0;else{if((m.lanes&N)===0&&(p.flags&128)===0)return vs=!1,Qse(m,p,N);vs=(m.flags&131072)!==0}else vs=!1,wr&&(p.flags&1048576)!==0&&P5(p,xv,p.index);switch(p.lanes=0,p.tag){case 2:var A=p.type;Tv(m,p),m=p.pendingProps;var R=Ph(p,Fa.current);Ih(p,N),R=Wj(null,p,A,m,R,N);var D=Kj();return p.flags|=1,typeof R=="object"&&R!==null&&typeof R.render=="function"&&R.$$typeof===void 0?(p.tag=1,p.memoizedState=null,p.updateQueue=null,gs(A)?(D=!0,mv(p)):D=!1,p.memoizedState=R.state!==null&&R.state!==void 0?R.state:null,Uj(p),R.updater=Mv,p.stateNode=R,R._reactInternals=p,eN(p,A,m,N),p=aN(null,p,A,!0,D,N)):(p.tag=0,wr&&D&&Pj(p),es(null,p,R,N),p=p.child),p;case 16:A=p.elementType;e:{switch(Tv(m,p),m=p.pendingProps,R=A._init,A=R(A._payload),p.type=A,R=p.tag=hie(A),m=qi(A,m),R){case 0:p=rN(null,p,A,m,N);break e;case 1:p=jO(null,p,A,m,N);break e;case 11:p=vO(null,p,A,m,N);break e;case 14:p=yO(null,p,A,qi(A.type,m),N);break e}throw Error(n(306,A,""))}return p;case 0:return A=p.type,R=p.pendingProps,R=p.elementType===A?R:qi(A,R),rN(m,p,A,R,N);case 1:return A=p.type,R=p.pendingProps,R=p.elementType===A?R:qi(A,R),jO(m,p,A,R,N);case 3:e:{if(NO(p),m===null)throw Error(n(387));A=p.pendingProps,D=p.memoizedState,R=D.element,$5(m,p),_v(p,A,null,N);var Q=p.memoizedState;if(A=Q.element,D.isDehydrated)if(D={element:A,isDehydrated:!1,cache:Q.cache,pendingSuspenseBoundaries:Q.pendingSuspenseBoundaries,transitions:Q.transitions},p.updateQueue.baseState=D,p.memoizedState=D,p.flags&256){R=Fh(Error(n(423)),p),p=SO(m,p,A,N,R);break e}else if(A!==R){R=Fh(Error(n(424)),p),p=SO(m,p,A,N,R);break e}else for(Gs=hc(p.stateNode.containerInfo.firstChild),Hs=p,wr=!0,zi=null,N=L5(p,null,A,N),p.child=N;N;)N.flags=N.flags&-3|4096,N=N.sibling;else{if(Rh(),A===R){p=hl(m,p,N);break e}es(m,p,A,N)}p=p.child}return p;case 5:return z5(p),m===null&&Rj(p),A=p.type,R=p.pendingProps,D=m!==null?m.memoizedProps:null,Q=R.children,Nj(A,R)?Q=null:D!==null&&Nj(A,D)&&(p.flags|=32),_O(m,p),es(m,p,Q,N),p.child;case 6:return m===null&&Rj(p),null;case 13:return CO(m,p,N);case 4:return Bj(p,p.stateNode.containerInfo),A=p.pendingProps,m===null?p.child=Oh(p,null,A,N):es(m,p,A,N),p.child;case 11:return A=p.type,R=p.pendingProps,R=p.elementType===A?R:qi(A,R),vO(m,p,A,R,N);case 7:return es(m,p,p.pendingProps,N),p.child;case 8:return es(m,p,p.pendingProps.children,N),p.child;case 12:return es(m,p,p.pendingProps.children,N),p.child;case 10:e:{if(A=p.type._context,R=p.pendingProps,D=p.memoizedProps,Q=R.value,ir(yv,A._currentValue),A._currentValue=Q,D!==null)if(Bi(D.value,Q)){if(D.children===R.children&&!xs.current){p=hl(m,p,N);break e}}else for(D=p.child,D!==null&&(D.return=p);D!==null;){var oe=D.dependencies;if(oe!==null){Q=D.child;for(var ce=oe.firstContext;ce!==null;){if(ce.context===A){if(D.tag===1){ce=ul(-1,N&-N),ce.tag=2;var Ce=D.updateQueue;if(Ce!==null){Ce=Ce.shared;var We=Ce.pending;We===null?ce.next=ce:(ce.next=We.next,We.next=ce),Ce.pending=ce}}D.lanes|=N,ce=D.alternate,ce!==null&&(ce.lanes|=N),Fj(D.return,N,p),oe.lanes|=N;break}ce=ce.next}}else if(D.tag===10)Q=D.type===p.type?null:D.child;else if(D.tag===18){if(Q=D.return,Q===null)throw Error(n(341));Q.lanes|=N,oe=Q.alternate,oe!==null&&(oe.lanes|=N),Fj(Q,N,p),Q=D.sibling}else Q=D.child;if(Q!==null)Q.return=D;else for(Q=D;Q!==null;){if(Q===p){Q=null;break}if(D=Q.sibling,D!==null){D.return=Q.return,Q=D;break}Q=Q.return}D=Q}es(m,p,R.children,N),p=p.child}return p;case 9:return R=p.type,A=p.pendingProps.children,Ih(p,N),R=mi(R),A=A(R),p.flags|=1,es(m,p,A,N),p.child;case 14:return A=p.type,R=qi(A,p.pendingProps),R=qi(A.type,R),yO(m,p,A,R,N);case 15:return bO(m,p,p.type,p.pendingProps,N);case 17:return A=p.type,R=p.pendingProps,R=p.elementType===A?R:qi(A,R),Tv(m,p),p.tag=1,gs(A)?(m=!0,mv(p)):m=!1,Ih(p,N),uO(p,A,R),eN(p,A,R,N),aN(null,p,A,!0,m,N);case 19:return AO(m,p,N);case 22:return wO(m,p,N)}throw Error(n(156,p.tag))};function ZO(m,p){return Se(m,p)}function uie(m,p,N,A){this.tag=m,this.key=N,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=A,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xi(m,p,N,A){return new uie(m,p,N,A)}function NN(m){return m=m.prototype,!(!m||!m.isReactComponent)}function hie(m){if(typeof m=="function")return NN(m)?1:0;if(m!=null){if(m=m.$$typeof,m===$)return 11;if(m===G)return 14}return 2}function jc(m,p){var N=m.alternate;return N===null?(N=xi(m.tag,p,m.key,m.mode),N.elementType=m.elementType,N.type=m.type,N.stateNode=m.stateNode,N.alternate=m,m.alternate=N):(N.pendingProps=p,N.type=m.type,N.flags=0,N.subtreeFlags=0,N.deletions=null),N.flags=m.flags&14680064,N.childLanes=m.childLanes,N.lanes=m.lanes,N.child=m.child,N.memoizedProps=m.memoizedProps,N.memoizedState=m.memoizedState,N.updateQueue=m.updateQueue,p=m.dependencies,N.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},N.sibling=m.sibling,N.index=m.index,N.ref=m.ref,N}function zv(m,p,N,A,R,D){var Q=2;if(A=m,typeof m=="function")NN(m)&&(Q=1);else if(typeof m=="string")Q=5;else e:switch(m){case P:return Bd(N.children,R,D,p);case T:Q=8,R|=8;break;case M:return m=xi(12,N,p,R|2),m.elementType=M,m.lanes=D,m;case F:return m=xi(13,N,p,R),m.elementType=F,m.lanes=D,m;case B:return m=xi(19,N,p,R),m.elementType=B,m.lanes=D,m;case L:return qv(N,R,D,p);default:if(typeof m=="object"&&m!==null)switch(m.$$typeof){case k:Q=10;break e;case O:Q=9;break e;case $:Q=11;break e;case G:Q=14;break e;case I:Q=16,A=null;break e}throw Error(n(130,m==null?m:typeof m,""))}return p=xi(Q,N,p,R),p.elementType=m,p.type=A,p.lanes=D,p}function Bd(m,p,N,A){return m=xi(7,m,A,p),m.lanes=N,m}function qv(m,p,N,A){return m=xi(22,m,A,p),m.elementType=L,m.lanes=N,m.stateNode={isHidden:!1},m}function SN(m,p,N){return m=xi(6,m,null,p),m.lanes=N,m}function CN(m,p,N){return p=xi(4,m.children!==null?m.children:[],m.key,p),p.lanes=N,p.stateNode={containerInfo:m.containerInfo,pendingChildren:null,implementation:m.implementation},p}function mie(m,p,N,A,R){this.tag=p,this.containerInfo=m,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=nr(0),this.expirationTimes=nr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nr(0),this.identifierPrefix=A,this.onRecoverableError=R,this.mutableSourceEagerHydrationData=null}function EN(m,p,N,A,R,D,Q,oe,ce){return m=new mie(m,p,N,oe,ce),p===1?(p=1,D===!0&&(p|=8)):p=0,D=xi(3,null,null,p),m.current=D,D.stateNode=m,D.memoizedState={element:A,isDehydrated:N,cache:null,transitions:null,pendingSuspenseBoundaries:null},Uj(D),m}function fie(m,p,N){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:E,key:A==null?null:""+A,children:m,containerInfo:p,implementation:N}}function JO(m){if(!m)return fc;m=m._reactInternals;e:{if(qs(m)!==m||m.tag!==1)throw Error(n(170));var p=m;do{switch(p.tag){case 3:p=p.stateNode.context;break e;case 1:if(gs(p.type)){p=p.stateNode.__reactInternalMemoizedMergedChildContext;break e}}p=p.return}while(p!==null);throw Error(n(171))}if(m.tag===1){var N=m.type;if(gs(N))return E5(m,N,p)}return p}function eD(m,p,N,A,R,D,Q,oe,ce){return m=EN(N,A,!0,m,R,D,Q,oe,ce),m.context=JO(null),N=m.current,A=ts(),R=wc(N),D=ul(A,R),D.callback=p??null,gc(N,D,R),m.current.lanes=R,kr(m,R,A),bs(m,A),m}function Vv(m,p,N,A){var R=p.current,D=ts(),Q=wc(R);return N=JO(N),p.context===null?p.context=N:p.pendingContext=N,p=ul(D,Q),p.payload={element:m},A=A===void 0?null:A,A!==null&&(p.callback=A),m=gc(R,p,Q),m!==null&&(Gi(m,R,Q,D),wv(m,R,Q)),Q}function Hv(m){if(m=m.current,!m.child)return null;switch(m.child.tag){case 5:return m.child.stateNode;default:return m.child.stateNode}}function tD(m,p){if(m=m.memoizedState,m!==null&&m.dehydrated!==null){var N=m.retryLane;m.retryLane=N!==0&&N<p?N:p}}function AN(m,p){tD(m,p),(m=m.alternate)&&tD(m,p)}function pie(){return null}var nD=typeof reportError=="function"?reportError:function(m){console.error(m)};function MN(m){this._internalRoot=m}Gv.prototype.render=MN.prototype.render=function(m){var p=this._internalRoot;if(p===null)throw Error(n(409));Vv(m,p,null,null)},Gv.prototype.unmount=MN.prototype.unmount=function(){var m=this._internalRoot;if(m!==null){this._internalRoot=null;var p=m.containerInfo;Fd(function(){Vv(null,m,null,null)}),p[il]=null}};function Gv(m){this._internalRoot=m}Gv.prototype.unstable_scheduleHydration=function(m){if(m){var p=$R();m={blockedOn:null,target:m,priority:p};for(var N=0;N<cc.length&&p!==0&&p<cc[N].priority;N++);cc.splice(N,0,m),N===0&&zR(m)}};function PN(m){return!(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)}function Wv(m){return!(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11&&(m.nodeType!==8||m.nodeValue!==" react-mount-point-unstable "))}function rD(){}function xie(m,p,N,A,R){if(R){if(typeof A=="function"){var D=A;A=function(){var Ce=Hv(Q);D.call(Ce)}}var Q=eD(p,A,m,0,null,!1,!1,"",rD);return m._reactRootContainer=Q,m[il]=Q.current,Kp(m.nodeType===8?m.parentNode:m),Fd(),Q}for(;R=m.lastChild;)m.removeChild(R);if(typeof A=="function"){var oe=A;A=function(){var Ce=Hv(ce);oe.call(Ce)}}var ce=EN(m,0,!1,null,null,!1,!1,"",rD);return m._reactRootContainer=ce,m[il]=ce.current,Kp(m.nodeType===8?m.parentNode:m),Fd(function(){Vv(p,ce,N,A)}),ce}function Kv(m,p,N,A,R){var D=N._reactRootContainer;if(D){var Q=D;if(typeof R=="function"){var oe=R;R=function(){var ce=Hv(Q);oe.call(ce)}}Vv(p,Q,m,R)}else Q=xie(N,p,m,R,A);return Hv(Q)}LR=function(m){switch(m.tag){case 3:var p=m.stateNode;if(p.current.memoizedState.isDehydrated){var N=vn(p.pendingLanes);N!==0&&(ej(p,N|1),bs(p,ht()),(Pn&6)===0&&(Bh=ht()+500,pc()))}break;case 13:Fd(function(){var A=dl(m,1);if(A!==null){var R=ts();Gi(A,m,1,R)}}),AN(m,1)}},tj=function(m){if(m.tag===13){var p=dl(m,134217728);if(p!==null){var N=ts();Gi(p,m,134217728,N)}AN(m,134217728)}},FR=function(m){if(m.tag===13){var p=wc(m),N=dl(m,p);if(N!==null){var A=ts();Gi(N,m,p,A)}AN(m,p)}},$R=function(){return Yn},UR=function(m,p){var N=Yn;try{return Yn=m,p()}finally{Yn=N}},Je=function(m,p,N){switch(p){case"input":if(at(m,N),p=N.name,N.type==="radio"&&p!=null){for(N=m;N.parentNode;)N=N.parentNode;for(N=N.querySelectorAll("input[name="+JSON.stringify(""+p)+'][type="radio"]'),p=0;p<N.length;p++){var A=N[p];if(A!==m&&A.form===m.form){var R=uv(A);if(!R)throw Error(n(90));re(A),at(A,R)}}}break;case"textarea":Be(m,N);break;case"select":p=N.value,p!=null&&ve(m,!!N.multiple,p,!1)}},Ln=wN,zn=Fd;var gie={usingClientEntryPoint:!1,Events:[Qp,Ah,uv,Kt,Ut,wN]},u0={findFiberByHostInstance:Pd,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vie={bundleType:u0.bundleType,version:u0.version,rendererPackageName:u0.rendererPackageName,rendererConfig:u0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:S.ReactCurrentDispatcher,findHostInstanceByFiber:function(m){return m=Ae(m),m===null?null:m.stateNode},findFiberByHostInstance:u0.findFiberByHostInstance||pie,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xv.isDisabled&&Xv.supportsFiber)try{ie=Xv.inject(vie),$e=Xv}catch{}}return ws.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gie,ws.createPortal=function(m,p){var N=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!PN(p))throw Error(n(200));return fie(m,p,null,N)},ws.createRoot=function(m,p){if(!PN(m))throw Error(n(299));var N=!1,A="",R=nD;return p!=null&&(p.unstable_strictMode===!0&&(N=!0),p.identifierPrefix!==void 0&&(A=p.identifierPrefix),p.onRecoverableError!==void 0&&(R=p.onRecoverableError)),p=EN(m,1,!1,null,null,N,!1,A,R),m[il]=p.current,Kp(m.nodeType===8?m.parentNode:m),new MN(p)},ws.findDOMNode=function(m){if(m==null)return null;if(m.nodeType===1)return m;var p=m._reactInternals;if(p===void 0)throw typeof m.render=="function"?Error(n(188)):(m=Object.keys(m).join(","),Error(n(268,m)));return m=Ae(p),m=m===null?null:m.stateNode,m},ws.flushSync=function(m){return Fd(m)},ws.hydrate=function(m,p,N){if(!Wv(p))throw Error(n(200));return Kv(null,m,p,!0,N)},ws.hydrateRoot=function(m,p,N){if(!PN(m))throw Error(n(405));var A=N!=null&&N.hydratedSources||null,R=!1,D="",Q=nD;if(N!=null&&(N.unstable_strictMode===!0&&(R=!0),N.identifierPrefix!==void 0&&(D=N.identifierPrefix),N.onRecoverableError!==void 0&&(Q=N.onRecoverableError)),p=eD(p,null,m,1,N??null,R,!1,D,Q),m[il]=p.current,Kp(m),A)for(m=0;m<A.length;m++)N=A[m],R=N._getVersion,R=R(N._source),p.mutableSourceEagerHydrationData==null?p.mutableSourceEagerHydrationData=[N,R]:p.mutableSourceEagerHydrationData.push(N,R);return new Gv(p)},ws.render=function(m,p,N){if(!Wv(p))throw Error(n(200));return Kv(null,m,p,!1,N)},ws.unmountComponentAtNode=function(m){if(!Wv(m))throw Error(n(40));return m._reactRootContainer?(Fd(function(){Kv(null,null,m,!1,function(){m._reactRootContainer=null,m[il]=null})}),!0):!1},ws.unstable_batchedUpdates=wN,ws.unstable_renderSubtreeIntoContainer=function(m,p,N,A){if(!Wv(N))throw Error(n(200));if(m==null||m._reactInternals===void 0)throw Error(n(38));return Kv(m,p,N,!1,A)},ws.version="18.3.1-next-f1338f8080-20240426",ws}var hD;function k7(){if(hD)return ON.exports;hD=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ON.exports=Cie(),ON.exports}var mD;function Eie(){if(mD)return Zv;mD=1;var t=k7();return Zv.createRoot=t.createRoot,Zv.hydrateRoot=t.hydrateRoot,Zv}var Aie=Eie();const Mie=In(Aie);/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var fD="popstate";function Pie(t={}){function e(a,s){let{pathname:i,search:o,hash:l}=a.location;return gM("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(a,s){return typeof s=="string"?s:ox(s)}return kie(e,n,null,t)}function Ar(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function po(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Tie(){return Math.random().toString(36).substring(2,10)}function pD(t,e){return{usr:t.state,key:t.key,idx:e}}function gM(t,e,n=null,a){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?rp(e):e,state:n,key:e&&e.key||a||Tie()}}function ox({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function rp(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let a=t.indexOf("?");a>=0&&(e.search=t.substring(a),t=t.substring(0,a)),t&&(e.pathname=t)}return e}function kie(t,e,n,a={}){let{window:s=document.defaultView,v5Compat:i=!1}=a,o=s.history,l="POP",c=null,d=u();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function u(){return(o.state||{idx:null}).idx}function h(){l="POP";let y=u(),b=y==null?null:y-d;d=y,c&&c({action:l,location:g.location,delta:b})}function f(y,b){l="PUSH";let _=gM(g.location,y,b);d=u()+1;let j=pD(_,d),S=g.createHref(_);try{o.pushState(j,"",S)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;s.location.assign(S)}i&&c&&c({action:l,location:g.location,delta:1})}function v(y,b){l="REPLACE";let _=gM(g.location,y,b);d=u();let j=pD(_,d),S=g.createHref(_);o.replaceState(j,"",S),i&&c&&c({action:l,location:g.location,delta:0})}function x(y){return Rie(y)}let g={get action(){return l},get location(){return t(s,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(fD,h),c=y,()=>{s.removeEventListener(fD,h),c=null}},createHref(y){return e(s,y)},createURL:x,encodeLocation(y){let b=x(y);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:f,replace:v,go(y){return o.go(y)}};return g}function Rie(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ar(n,"No window.location.(origin|href) available to create URL");let a=typeof t=="string"?t:ox(t);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=n+a),new URL(a,n)}function R7(t,e,n="/"){return Oie(t,e,n,!1)}function Oie(t,e,n,a){let s=typeof e=="string"?rp(e):e,i=Vl(s.pathname||"/",n);if(i==null)return null;let o=O7(t);Die(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=Gie(i);l=Vie(o[c],d,a)}return l}function O7(t,e=[],n=[],a="",s=!1){let i=(o,l,c=s,d)=>{let u={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(u.relativePath.startsWith("/")){if(!u.relativePath.startsWith(a)&&c)return;Ar(u.relativePath.startsWith(a),`Absolute route path "${u.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(a.length)}let h=Fl([a,u.relativePath]),f=n.concat(u);o.children&&o.children.length>0&&(Ar(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),O7(o.children,e,f,h,c)),!(o.path==null&&!o.index)&&e.push({path:h,score:zie(h,o.index),routesMeta:f})};return t.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))i(o,l);else for(let d of D7(o.path))i(o,l,!0,d)}),e}function D7(t){let e=t.split("/");if(e.length===0)return[];let[n,...a]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(a.length===0)return s?[i,""]:[i];let o=D7(a.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function Die(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:qie(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var Iie=/^:[\w-]+$/,Lie=3,Fie=2,$ie=1,Uie=10,Bie=-2,xD=t=>t==="*";function zie(t,e){let n=t.split("/"),a=n.length;return n.some(xD)&&(a+=Bie),e&&(a+=Fie),n.filter(s=>!xD(s)).reduce((s,i)=>s+(Iie.test(i)?Lie:i===""?$ie:Uie),a)}function qie(t,e){return t.length===e.length&&t.slice(0,-1).every((a,s)=>a===e[s])?t[t.length-1]-e[e.length-1]:0}function Vie(t,e,n=!1){let{routesMeta:a}=t,s={},i="/",o=[];for(let l=0;l<a.length;++l){let c=a[l],d=l===a.length-1,u=i==="/"?e:e.slice(i.length)||"/",h=Rb({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),f=c.route;if(!h&&d&&n&&!a[a.length-1].route.index&&(h=Rb({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Fl([i,h.pathname]),pathnameBase:Qie(Fl([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=Fl([i,h.pathnameBase]))}return o}function Rb(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,a]=Hie(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:a.reduce((d,{paramName:u,isOptional:h},f)=>{if(u==="*"){let x=l[f]||"";o=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const v=l[f];return h&&!v?d[u]=void 0:d[u]=(v||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:t}}function Hie(t,e=!1,n=!0){po(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let a=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(a.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(a.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),a]}function Gie(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return po(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Vl(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=t.charAt(n);return a&&a!=="/"?null:t.slice(n)||"/"}var Wie=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Kie=t=>Wie.test(t);function Xie(t,e="/"){let{pathname:n,search:a="",hash:s=""}=typeof t=="string"?rp(t):t,i;if(n)if(Kie(n))i=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),po(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${n}`)}n.startsWith("/")?i=gD(n.substring(1),"/"):i=gD(n,e)}else i=e;return{pathname:i,search:Zie(a),hash:Jie(s)}}function gD(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function LN(t,e,n,a){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Yie(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function I7(t){let e=Yie(t);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function L7(t,e,n,a=!1){let s;typeof t=="string"?s=rp(t):(s={...t},Ar(!s.pathname||!s.pathname.includes("?"),LN("?","pathname","search",s)),Ar(!s.pathname||!s.pathname.includes("#"),LN("#","pathname","hash",s)),Ar(!s.search||!s.search.includes("#"),LN("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=n;else{let h=e.length-1;if(!a&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}l=h>=0?e[h]:"/"}let c=Xie(s,l),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}var Fl=t=>t.join("/").replace(/\/\/+/g,"/"),Qie=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Zie=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Jie=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function eoe(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var F7=["POST","PUT","PATCH","DELETE"];new Set(F7);var toe=["GET",...F7];new Set(toe);var ap=w.createContext(null);ap.displayName="DataRouter";var g1=w.createContext(null);g1.displayName="DataRouterState";w.createContext(!1);var $7=w.createContext({isTransitioning:!1});$7.displayName="ViewTransition";var noe=w.createContext(new Map);noe.displayName="Fetchers";var roe=w.createContext(null);roe.displayName="Await";var el=w.createContext(null);el.displayName="Navigation";var yg=w.createContext(null);yg.displayName="Location";var ec=w.createContext({outlet:null,matches:[],isDataRoute:!1});ec.displayName="Route";var C3=w.createContext(null);C3.displayName="RouteError";function aoe(t,{relative:e}={}){Ar(bg(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=w.useContext(el),{hash:s,pathname:i,search:o}=wg(t,{relative:e}),l=i;return n!=="/"&&(l=i==="/"?n:Fl([n,i])),a.createHref({pathname:l,search:o,hash:s})}function bg(){return w.useContext(yg)!=null}function Li(){return Ar(bg(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(yg).location}var U7="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function B7(t){w.useContext(el).static||w.useLayoutEffect(t)}function Sn(){let{isDataRoute:t}=w.useContext(ec);return t?goe():soe()}function soe(){Ar(bg(),"useNavigate() may be used only in the context of a <Router> component.");let t=w.useContext(ap),{basename:e,navigator:n}=w.useContext(el),{matches:a}=w.useContext(ec),{pathname:s}=Li(),i=JSON.stringify(I7(a)),o=w.useRef(!1);return B7(()=>{o.current=!0}),w.useCallback((c,d={})=>{if(po(o.current,U7),!o.current)return;if(typeof c=="number"){n.go(c);return}let u=L7(c,JSON.parse(i),s,d.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:Fl([e,u.pathname])),(d.replace?n.replace:n.push)(u,d.state,d)},[e,n,i,s,t])}w.createContext(null);function wg(t,{relative:e}={}){let{matches:n}=w.useContext(ec),{pathname:a}=Li(),s=JSON.stringify(I7(n));return w.useMemo(()=>L7(t,JSON.parse(s),a,e==="path"),[t,s,a,e])}function ioe(t,e){return z7(t,e)}function z7(t,e,n,a,s){var _;Ar(bg(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=w.useContext(el),{matches:o}=w.useContext(ec),l=o[o.length-1],c=l?l.params:{},d=l?l.pathname:"/",u=l?l.pathnameBase:"/",h=l&&l.route;{let j=h&&h.path||"";q7(d,!h||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let f=Li(),v;if(e){let j=typeof e=="string"?rp(e):e;Ar(u==="/"||((_=j.pathname)==null?void 0:_.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${j.pathname}" was given in the \`location\` prop.`),v=j}else v=f;let x=v.pathname||"/",g=x;if(u!=="/"){let j=u.replace(/^\//,"").split("/");g="/"+x.replace(/^\//,"").split("/").slice(j.length).join("/")}let y=R7(t,{pathname:g});po(h||y!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),po(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=uoe(y&&y.map(j=>Object.assign({},j,{params:Object.assign({},c,j.params),pathname:Fl([u,i.encodeLocation?i.encodeLocation(j.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?u:Fl([u,i.encodeLocation?i.encodeLocation(j.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathnameBase])})),o,n,a,s);return e&&b?w.createElement(yg.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},b):b}function ooe(){let t=xoe(),e=eoe(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,a="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:a},i={padding:"2px 4px",backgroundColor:a},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:i},"ErrorBoundary")," or"," ",w.createElement("code",{style:i},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:s},n):null,o)}var loe=w.createElement(ooe,null),coe=class extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?w.createElement(ec.Provider,{value:this.props.routeContext},w.createElement(C3.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function doe({routeContext:t,match:e,children:n}){let a=w.useContext(ap);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),w.createElement(ec.Provider,{value:t},n)}function uoe(t,e=[],n=null,a=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,o=n==null?void 0:n.errors;if(o!=null){let u=i.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);Ar(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let l=!1,c=-1;if(n)for(let u=0;u<i.length;u++){let h=i[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=u),h.route.id){let{loaderData:f,errors:v}=n,x=h.route.loader&&!f.hasOwnProperty(h.route.id)&&(!v||v[h.route.id]===void 0);if(h.route.lazy||x){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}let d=n&&a?(u,h)=>{var f,v;a(u,{location:n.location,params:((v=(f=n.matches)==null?void 0:f[0])==null?void 0:v.params)??{},errorInfo:h})}:void 0;return i.reduceRight((u,h,f)=>{let v,x=!1,g=null,y=null;n&&(v=o&&h.route.id?o[h.route.id]:void 0,g=h.route.errorElement||loe,l&&(c<0&&f===0?(q7("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,y=null):c===f&&(x=!0,y=h.route.hydrateFallbackElement||null)));let b=e.concat(i.slice(0,f+1)),_=()=>{let j;return v?j=g:x?j=y:h.route.Component?j=w.createElement(h.route.Component,null):h.route.element?j=h.route.element:j=u,w.createElement(doe,{match:h,routeContext:{outlet:u,matches:b,isDataRoute:n!=null},children:j})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?w.createElement(coe,{location:n.location,revalidation:n.revalidation,component:g,error:v,children:_(),routeContext:{outlet:null,matches:b,isDataRoute:!0},onError:d}):_()},null)}function E3(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hoe(t){let e=w.useContext(ap);return Ar(e,E3(t)),e}function moe(t){let e=w.useContext(g1);return Ar(e,E3(t)),e}function foe(t){let e=w.useContext(ec);return Ar(e,E3(t)),e}function A3(t){let e=foe(t),n=e.matches[e.matches.length-1];return Ar(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function poe(){return A3("useRouteId")}function xoe(){var a;let t=w.useContext(C3),e=moe("useRouteError"),n=A3("useRouteError");return t!==void 0?t:(a=e.errors)==null?void 0:a[n]}function goe(){let{router:t}=hoe("useNavigate"),e=A3("useNavigate"),n=w.useRef(!1);return B7(()=>{n.current=!0}),w.useCallback(async(s,i={})=>{po(n.current,U7),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...i}))},[t,e])}var vD={};function q7(t,e,n){!e&&!vD[t]&&(vD[t]=!0,po(!1,n))}w.memo(voe);function voe({routes:t,future:e,state:n,unstable_onError:a}){return z7(t,void 0,n,a,e)}function At(t){Ar(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function yoe({basename:t="/",children:e=null,location:n,navigationType:a="POP",navigator:s,static:i=!1}){Ar(!bg(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),l=w.useMemo(()=>({basename:o,navigator:s,static:i,future:{}}),[o,s,i]);typeof n=="string"&&(n=rp(n));let{pathname:c="/",search:d="",hash:u="",state:h=null,key:f="default"}=n,v=w.useMemo(()=>{let x=Vl(c,o);return x==null?null:{location:{pathname:x,search:d,hash:u,state:h,key:f},navigationType:a}},[o,c,d,u,h,f,a]);return po(v!=null,`<Router basename="${o}"> is not able to match the URL "${c}${d}${u}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:w.createElement(el.Provider,{value:l},w.createElement(yg.Provider,{children:e,value:v}))}function boe({children:t,location:e}){return ioe(vM(t),e)}function vM(t,e=[]){let n=[];return w.Children.forEach(t,(a,s)=>{if(!w.isValidElement(a))return;let i=[...e,s];if(a.type===w.Fragment){n.push.apply(n,vM(a.props.children,i));return}Ar(a.type===At,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ar(!a.props.index||!a.props.children,"An index route cannot have child routes.");let o={id:a.props.id||i.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(o.children=vM(a.props.children,i)),n.push(o)}),n}var hb="get",mb="application/x-www-form-urlencoded";function v1(t){return t!=null&&typeof t.tagName=="string"}function woe(t){return v1(t)&&t.tagName.toLowerCase()==="button"}function _oe(t){return v1(t)&&t.tagName.toLowerCase()==="form"}function joe(t){return v1(t)&&t.tagName.toLowerCase()==="input"}function Noe(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Soe(t,e){return t.button===0&&(!e||e==="_self")&&!Noe(t)}var Jv=null;function Coe(){if(Jv===null)try{new FormData(document.createElement("form"),0),Jv=!1}catch{Jv=!0}return Jv}var Eoe=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function FN(t){return t!=null&&!Eoe.has(t)?(po(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${mb}"`),null):t}function Aoe(t,e){let n,a,s,i,o;if(_oe(t)){let l=t.getAttribute("action");a=l?Vl(l,e):null,n=t.getAttribute("method")||hb,s=FN(t.getAttribute("enctype"))||mb,i=new FormData(t)}else if(woe(t)||joe(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||l.getAttribute("action");if(a=c?Vl(c,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||hb,s=FN(t.getAttribute("formenctype"))||FN(l.getAttribute("enctype"))||mb,i=new FormData(l,t),!Coe()){let{name:d,type:u,value:h}=t;if(u==="image"){let f=d?`${d}.`:"";i.append(`${f}x`,"0"),i.append(`${f}y`,"0")}else d&&i.append(d,h)}}else{if(v1(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=hb,a=null,s=mb,o=t}return i&&s==="text/plain"&&(o=i,i=void 0),{action:a,method:n.toLowerCase(),encType:s,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function M3(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Moe(t,e,n){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return a.pathname==="/"?a.pathname=`_root.${n}`:e&&Vl(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function Poe(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Toe(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function koe(t,e,n){let a=await Promise.all(t.map(async s=>{let i=e.routes[s.route.id];if(i){let o=await Poe(i,n);return o.links?o.links():[]}return[]}));return Ioe(a.flat(1).filter(Toe).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function yD(t,e,n,a,s,i){let o=(c,d)=>n[d]?c.route.id!==n[d].route.id:!0,l=(c,d)=>{var u;return n[d].pathname!==c.pathname||((u=n[d].route.path)==null?void 0:u.endsWith("*"))&&n[d].params["*"]!==c.params["*"]};return i==="assets"?e.filter((c,d)=>o(c,d)||l(c,d)):i==="data"?e.filter((c,d)=>{var h;let u=a.routes[c.route.id];if(!u||!u.hasLoader)return!1;if(o(c,d)||l(c,d))return!0;if(c.route.shouldRevalidate){let f=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((h=n[0])==null?void 0:h.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function Roe(t,e,{includeHydrateFallback:n}={}){return Ooe(t.map(a=>{let s=e.routes[a.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function Ooe(t){return[...new Set(t)]}function Doe(t){let e={},n=Object.keys(t).sort();for(let a of n)e[a]=t[a];return e}function Ioe(t,e){let n=new Set;return new Set(e),t.reduce((a,s)=>{let i=JSON.stringify(Doe(s));return n.has(i)||(n.add(i),a.push({key:i,link:s})),a},[])}function V7(){let t=w.useContext(ap);return M3(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Loe(){let t=w.useContext(g1);return M3(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var P3=w.createContext(void 0);P3.displayName="FrameworkContext";function H7(){let t=w.useContext(P3);return M3(t,"You must render this element inside a <HydratedRouter> element"),t}function Foe(t,e){let n=w.useContext(P3),[a,s]=w.useState(!1),[i,o]=w.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:d,onMouseLeave:u,onTouchStart:h}=e,f=w.useRef(null);w.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let g=b=>{b.forEach(_=>{o(_.isIntersecting)})},y=new IntersectionObserver(g,{threshold:.5});return f.current&&y.observe(f.current),()=>{y.disconnect()}}},[t]),w.useEffect(()=>{if(a){let g=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(g)}}},[a]);let v=()=>{s(!0)},x=()=>{s(!1),o(!1)};return n?t!=="intent"?[i,f,{}]:[i,f,{onFocus:m0(l,v),onBlur:m0(c,x),onMouseEnter:m0(d,v),onMouseLeave:m0(u,x),onTouchStart:m0(h,v)}]:[!1,f,{}]}function m0(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function $oe({page:t,...e}){let{router:n}=V7(),a=w.useMemo(()=>R7(n.routes,t,n.basename),[n.routes,t,n.basename]);return a?w.createElement(Boe,{page:t,matches:a,...e}):null}function Uoe(t){let{manifest:e,routeModules:n}=H7(),[a,s]=w.useState([]);return w.useEffect(()=>{let i=!1;return koe(t,e,n).then(o=>{i||s(o)}),()=>{i=!0}},[t,e,n]),a}function Boe({page:t,matches:e,...n}){let a=Li(),{manifest:s,routeModules:i}=H7(),{basename:o}=V7(),{loaderData:l,matches:c}=Loe(),d=w.useMemo(()=>yD(t,e,c,s,a,"data"),[t,e,c,s,a]),u=w.useMemo(()=>yD(t,e,c,s,a,"assets"),[t,e,c,s,a]),h=w.useMemo(()=>{if(t===a.pathname+a.search+a.hash)return[];let x=new Set,g=!1;if(e.forEach(b=>{var j;let _=s.routes[b.route.id];!_||!_.hasLoader||(!d.some(S=>S.route.id===b.route.id)&&b.route.id in l&&((j=i[b.route.id])!=null&&j.shouldRevalidate)||_.hasClientLoader?g=!0:x.add(b.route.id))}),x.size===0)return[];let y=Moe(t,o,"data");return g&&x.size>0&&y.searchParams.set("_routes",e.filter(b=>x.has(b.route.id)).map(b=>b.route.id).join(",")),[y.pathname+y.search]},[o,l,a,s,d,e,t,i]),f=w.useMemo(()=>Roe(u,s),[u,s]),v=Uoe(u);return w.createElement(w.Fragment,null,h.map(x=>w.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),f.map(x=>w.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),v.map(({key:x,link:g})=>w.createElement("link",{key:x,nonce:n.nonce,...g})))}function zoe(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var G7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{G7&&(window.__reactRouterVersion="7.9.6")}catch{}function qoe({basename:t,children:e,window:n}){let a=w.useRef();a.current==null&&(a.current=Pie({window:n,v5Compat:!0}));let s=a.current,[i,o]=w.useState({action:s.action,location:s.location}),l=w.useCallback(c=>{w.startTransition(()=>o(c))},[o]);return w.useLayoutEffect(()=>s.listen(l),[s,l]),w.createElement(yoe,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:s})}var W7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Im=w.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:s,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:h,...f},v){let{basename:x}=w.useContext(el),g=typeof d=="string"&&W7.test(d),y,b=!1;if(typeof d=="string"&&g&&(y=d,G7))try{let M=new URL(window.location.href),k=d.startsWith("//")?new URL(M.protocol+d):new URL(d),O=Vl(k.pathname,x);k.origin===M.origin&&O!=null?d=O+k.search+k.hash:b=!0}catch{po(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let _=aoe(d,{relative:s}),[j,S,C]=Foe(a,f),E=Woe(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:s,viewTransition:h});function P(M){e&&e(M),M.defaultPrevented||E(M)}let T=w.createElement("a",{...f,...C,href:y||_,onClick:b||i?e:P,ref:zoe(v,S),target:c,"data-discover":!g&&n==="render"?"true":void 0});return j&&!g?w.createElement(w.Fragment,null,T,w.createElement($oe,{page:_})):T});Im.displayName="Link";var Voe=w.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:s=!1,style:i,to:o,viewTransition:l,children:c,...d},u){let h=wg(o,{relative:d.relative}),f=Li(),v=w.useContext(g1),{navigator:x,basename:g}=w.useContext(el),y=v!=null&&Zoe(h)&&l===!0,b=x.encodeLocation?x.encodeLocation(h).pathname:h.pathname,_=f.pathname,j=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(_=_.toLowerCase(),j=j?j.toLowerCase():null,b=b.toLowerCase()),j&&g&&(j=Vl(j,g)||j);const S=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let C=_===b||!s&&_.startsWith(b)&&_.charAt(S)==="/",E=j!=null&&(j===b||!s&&j.startsWith(b)&&j.charAt(b.length)==="/"),P={isActive:C,isPending:E,isTransitioning:y},T=C?e:void 0,M;typeof a=="function"?M=a(P):M=[a,C?"active":null,E?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let k=typeof i=="function"?i(P):i;return w.createElement(Im,{...d,"aria-current":T,className:M,ref:u,style:k,to:o,viewTransition:l},typeof c=="function"?c(P):c)});Voe.displayName="NavLink";var Hoe=w.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:s,state:i,method:o=hb,action:l,onSubmit:c,relative:d,preventScrollReset:u,viewTransition:h,...f},v)=>{let x=Yoe(),g=Qoe(l,{relative:d}),y=o.toLowerCase()==="get"?"get":"post",b=typeof l=="string"&&W7.test(l),_=j=>{if(c&&c(j),j.defaultPrevented)return;j.preventDefault();let S=j.nativeEvent.submitter,C=(S==null?void 0:S.getAttribute("formmethod"))||o;x(S||j.currentTarget,{fetcherKey:e,method:C,navigate:n,replace:s,state:i,relative:d,preventScrollReset:u,viewTransition:h})};return w.createElement("form",{ref:v,method:y,action:g,onSubmit:a?c:_,...f,"data-discover":!b&&t==="render"?"true":void 0})});Hoe.displayName="Form";function Goe(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function K7(t){let e=w.useContext(ap);return Ar(e,Goe(t)),e}function Woe(t,{target:e,replace:n,state:a,preventScrollReset:s,relative:i,viewTransition:o}={}){let l=Sn(),c=Li(),d=wg(t,{relative:i});return w.useCallback(u=>{if(Soe(u,e)){u.preventDefault();let h=n!==void 0?n:ox(c)===ox(d);l(t,{replace:h,state:a,preventScrollReset:s,relative:i,viewTransition:o})}},[c,l,d,n,a,e,t,s,i,o])}var Koe=0,Xoe=()=>`__${String(++Koe)}__`;function Yoe(){let{router:t}=K7("useSubmit"),{basename:e}=w.useContext(el),n=poe();return w.useCallback(async(a,s={})=>{let{action:i,method:o,encType:l,formData:c,body:d}=Aoe(a,e);if(s.navigate===!1){let u=s.fetcherKey||Xoe();await t.fetch(u,n,s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:d,formMethod:s.method||o,formEncType:s.encType||l,flushSync:s.flushSync})}else await t.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:d,formMethod:s.method||o,formEncType:s.encType||l,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function Qoe(t,{relative:e}={}){let{basename:n}=w.useContext(el),a=w.useContext(ec);Ar(a,"useFormAction must be used inside a RouteContext");let[s]=a.matches.slice(-1),i={...wg(t||".",{relative:e})},o=Li();if(t==null){i.search=o.search;let l=new URLSearchParams(i.search),c=l.getAll("index");if(c.some(u=>u==="")){l.delete("index"),c.filter(h=>h).forEach(h=>l.append("index",h));let u=l.toString();i.search=u?`?${u}`:""}}return(!t||t===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:Fl([n,i.pathname])),ox(i)}function Zoe(t,{relative:e}={}){let n=w.useContext($7);Ar(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=K7("useViewTransitionState"),s=wg(t,{relative:e});if(!n.isTransitioning)return!1;let i=Vl(n.currentLocation.pathname,a)||n.currentLocation.pathname,o=Vl(n.nextLocation.pathname,a)||n.nextLocation.pathname;return Rb(s.pathname,o)!=null||Rb(s.pathname,i)!=null}var _g=k7();const Joe=In(_g);function ft(t){return"/"+t.toLowerCase().replace(/ /g,"-")}var yM=function(t,e){return yM=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(n[s]=a[s])},yM(t,e)};function X7(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");yM(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Mi=function(){return Mi=Object.assign||function(e){for(var n,a=1,s=arguments.length;a<s;a++){n=arguments[a];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Mi.apply(this,arguments)};function gd(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(t);s<a.length;s++)e.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(t,a[s])&&(n[a[s]]=t[a[s]]);return n}function Y7(t,e,n,a){var s=arguments.length,i=s<3?e:a===null?a=Object.getOwnPropertyDescriptor(e,n):a,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,a);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i}function Q7(t,e){return function(n,a){e(n,a,t)}}function Z7(t,e,n,a,s,i){function o(b){if(b!==void 0&&typeof b!="function")throw new TypeError("Function expected");return b}for(var l=a.kind,c=l==="getter"?"get":l==="setter"?"set":"value",d=!e&&t?a.static?t:t.prototype:null,u=e||(d?Object.getOwnPropertyDescriptor(d,a.name):{}),h,f=!1,v=n.length-1;v>=0;v--){var x={};for(var g in a)x[g]=g==="access"?{}:a[g];for(var g in a.access)x.access[g]=a.access[g];x.addInitializer=function(b){if(f)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(b||null))};var y=(0,n[v])(l==="accessor"?{get:u.get,set:u.set}:u[c],x);if(l==="accessor"){if(y===void 0)continue;if(y===null||typeof y!="object")throw new TypeError("Object expected");(h=o(y.get))&&(u.get=h),(h=o(y.set))&&(u.set=h),(h=o(y.init))&&s.unshift(h)}else(h=o(y))&&(l==="field"?s.unshift(h):u[c]=h)}d&&Object.defineProperty(d,a.name,u),f=!0}function J7(t,e,n){for(var a=arguments.length>2,s=0;s<e.length;s++)n=a?e[s].call(t,n):e[s].call(t);return a?n:void 0}function eH(t){return typeof t=="symbol"?t:"".concat(t)}function tH(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function nH(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Tt(t,e,n,a){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(u){try{d(a.next(u))}catch(h){o(h)}}function c(u){try{d(a.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):s(u.value).then(l,c)}d((a=a.apply(t,e||[])).next())})}function rH(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},a,s,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=l(0),o.throw=l(1),o.return=l(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(d){return function(u){return c([d,u])}}function c(d){if(a)throw new TypeError("Generator is already executing.");for(;o&&(o=0,d[0]&&(n=0)),n;)try{if(a=1,s&&(i=d[0]&2?s.return:d[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,d[1])).done)return i;switch(s=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,s=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){n.label=d[1];break}if(d[0]===6&&n.label<i[1]){n.label=i[1],i=d;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(d);break}i[2]&&n.ops.pop(),n.trys.pop();continue}d=e.call(t,n)}catch(u){d=[6,u],s=0}finally{a=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}var y1=Object.create?(function(t,e,n,a){a===void 0&&(a=n);var s=Object.getOwnPropertyDescriptor(e,n);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,a,s)}):(function(t,e,n,a){a===void 0&&(a=n),t[a]=e[n]});function aH(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&y1(e,t,n)}function Ob(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],a=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&a>=t.length&&(t=void 0),{value:t&&t[a++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function T3(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var a=n.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=a.next()).done;)i.push(s.value)}catch(l){o={error:l}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i}function sH(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(T3(arguments[e]));return t}function iH(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var a=Array(t),s=0,e=0;e<n;e++)for(var i=arguments[e],o=0,l=i.length;o<l;o++,s++)a[s]=i[o];return a}function k3(t,e,n){if(n||arguments.length===2)for(var a=0,s=e.length,i;a<s;a++)(i||!(a in e))&&(i||(i=Array.prototype.slice.call(e,0,a)),i[a]=e[a]);return t.concat(i||Array.prototype.slice.call(e))}function hf(t){return this instanceof hf?(this.v=t,this):new hf(t)}function oH(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=n.apply(t,e||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(v){return function(x){return Promise.resolve(x).then(v,h)}}function l(v,x){a[v]&&(s[v]=function(g){return new Promise(function(y,b){i.push([v,g,y,b])>1||c(v,g)})},x&&(s[v]=x(s[v])))}function c(v,x){try{d(a[v](x))}catch(g){f(i[0][3],g)}}function d(v){v.value instanceof hf?Promise.resolve(v.value.v).then(u,h):f(i[0][2],v)}function u(v){c("next",v)}function h(v){c("throw",v)}function f(v,x){v(x),i.shift(),i.length&&c(i[0][0],i[0][1])}}function lH(t){var e,n;return e={},a("next"),a("throw",function(s){throw s}),a("return"),e[Symbol.iterator]=function(){return this},e;function a(s,i){e[s]=t[s]?function(o){return(n=!n)?{value:hf(t[s](o)),done:!1}:i?i(o):o}:i}}function cH(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Ob=="function"?Ob(t):t[Symbol.iterator](),n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n);function a(i){n[i]=t[i]&&function(o){return new Promise(function(l,c){o=t[i](o),s(l,c,o.done,o.value)})}}function s(i,o,l,c){Promise.resolve(c).then(function(d){i({value:d,done:l})},o)}}function dH(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var ele=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},bM=function(t){return bM=Object.getOwnPropertyNames||function(e){var n=[];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[n.length]=a);return n},bM(t)};function uH(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=bM(t),a=0;a<n.length;a++)n[a]!=="default"&&y1(e,t,n[a]);return ele(e,t),e}function hH(t){return t&&t.__esModule?t:{default:t}}function mH(t,e,n,a){if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!a:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?a:n==="a"?a.call(t):a?a.value:e.get(t)}function fH(t,e,n,a,s){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n}function pH(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function xH(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var a,s;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");a=e[Symbol.asyncDispose]}if(a===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");a=e[Symbol.dispose],n&&(s=a)}if(typeof a!="function")throw new TypeError("Object not disposable.");s&&(a=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),t.stack.push({value:e,dispose:a,async:n})}else n&&t.stack.push({async:!0});return e}var tle=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var a=new Error(n);return a.name="SuppressedError",a.error=t,a.suppressed=e,a};function gH(t){function e(i){t.error=t.hasError?new tle(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var n,a=0;function s(){for(;n=t.stack.pop();)try{if(!n.async&&a===1)return a=0,t.stack.push(n),Promise.resolve().then(s);if(n.dispose){var i=n.dispose.call(n.value);if(n.async)return a|=2,Promise.resolve(i).then(s,function(o){return e(o),s()})}else a|=1}catch(o){e(o)}if(a===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return s()}function vH(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,a,s,i,o){return a?e?".jsx":".js":s&&(!i||!o)?n:s+i+"."+o.toLowerCase()+"js"}):t}const nle={__extends:X7,__assign:Mi,__rest:gd,__decorate:Y7,__param:Q7,__esDecorate:Z7,__runInitializers:J7,__propKey:eH,__setFunctionName:tH,__metadata:nH,__awaiter:Tt,__generator:rH,__createBinding:y1,__exportStar:aH,__values:Ob,__read:T3,__spread:sH,__spreadArrays:iH,__spreadArray:k3,__await:hf,__asyncGenerator:oH,__asyncDelegator:lH,__asyncValues:cH,__makeTemplateObject:dH,__importStar:uH,__importDefault:hH,__classPrivateFieldGet:mH,__classPrivateFieldSet:fH,__classPrivateFieldIn:pH,__addDisposableResource:xH,__disposeResources:gH,__rewriteRelativeImportExtension:vH},rle=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:xH,get __assign(){return Mi},__asyncDelegator:lH,__asyncGenerator:oH,__asyncValues:cH,__await:hf,__awaiter:Tt,__classPrivateFieldGet:mH,__classPrivateFieldIn:pH,__classPrivateFieldSet:fH,__createBinding:y1,__decorate:Y7,__disposeResources:gH,__esDecorate:Z7,__exportStar:aH,__extends:X7,__generator:rH,__importDefault:hH,__importStar:uH,__makeTemplateObject:dH,__metadata:nH,__param:Q7,__propKey:eH,__read:T3,__rest:gd,__rewriteRelativeImportExtension:vH,__runInitializers:J7,__setFunctionName:tH,__spread:sH,__spreadArray:k3,__spreadArrays:iH,__values:Ob,default:nle},Symbol.toStringTag,{value:"Module"})),ale=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class R3 extends Error{constructor(e,n="FunctionsError",a){super(e),this.name=n,this.context=a}}class sle extends R3{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class bD extends R3{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class wD extends R3{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var wM;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(wM||(wM={}));class ile{constructor(e,{headers:n={},customFetch:a,region:s=wM.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=ale(a)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Tt(this,arguments,void 0,function*(n,a={}){var s;let i,o;try{const{headers:l,method:c,body:d,signal:u,timeout:h}=a;let f={},{region:v}=a;v||(v=this.region);const x=new URL(`${this.url}/${n}`);v&&v!=="any"&&(f["x-region"]=v,x.searchParams.set("forceFunctionRegion",v));let g;d&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",g=d):typeof d=="string"?(f["Content-Type"]="text/plain",g=d):typeof FormData<"u"&&d instanceof FormData?g=d:(f["Content-Type"]="application/json",g=JSON.stringify(d)):g=d;let y=u;h&&(o=new AbortController,i=setTimeout(()=>o.abort(),h),u?(y=o.signal,u.addEventListener("abort",()=>o.abort())):y=o.signal);const b=yield this.fetch(x.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),l),body:g,signal:y}).catch(C=>{throw new sle(C)}),_=b.headers.get("x-relay-error");if(_&&_==="true")throw new bD(b);if(!b.ok)throw new wD(b);let j=((s=b.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),S;return j==="application/json"?S=yield b.json():j==="application/octet-stream"||j==="application/pdf"?S=yield b.blob():j==="text/event-stream"?S=b:j==="multipart/form-data"?S=yield b.formData():S=yield b.text(),{data:S,error:null,response:b}}catch(l){return{data:null,error:l,response:l instanceof wD||l instanceof bD?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var za={};const sp=bie(rle);var ey={},ty={},ny={},ry={},ay={},sy={},_D;function yH(){if(_D)return sy;_D=1,Object.defineProperty(sy,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return sy.default=t,sy}var jD;function bH(){if(jD)return ay;jD=1,Object.defineProperty(ay,"__esModule",{value:!0});const e=sp.__importDefault(yH());class n{constructor(s){var i,o;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(i=s.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=s.signal,this.isMaybeSingle=(o=s.isMaybeSingle)!==null&&o!==void 0?o:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,i){return this.headers=new Headers(this.headers),this.headers.set(s,i),this}then(s,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let l=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var d,u,h,f;let v=null,x=null,g=null,y=c.status,b=c.statusText;if(c.ok){if(this.method!=="HEAD"){const C=await c.text();C===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?x=C:x=JSON.parse(C))}const j=(u=this.headers.get("Prefer"))===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),S=(h=c.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");j&&S&&S.length>1&&(g=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(x)&&(x.length>1?(v={code:"PGRST116",details:`Results contain ${x.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},x=null,g=null,y=406,b="Not Acceptable"):x.length===1?x=x[0]:x=null)}else{const j=await c.text();try{v=JSON.parse(j),Array.isArray(v)&&c.status===404&&(x=[],v=null,y=200,b="OK")}catch{c.status===404&&j===""?(y=204,b="No Content"):v={message:j}}if(v&&this.isMaybeSingle&&(!((f=v==null?void 0:v.details)===null||f===void 0)&&f.includes("0 rows"))&&(v=null,y=200,b="OK"),v&&this.shouldThrowOnError)throw new e.default(v)}return{error:v,data:x,count:g,status:y,statusText:b}});return this.shouldThrowOnError||(l=l.catch(c=>{var d,u,h,f,v,x;let g="";const y=c==null?void 0:c.cause;if(y){const b=(d=y==null?void 0:y.message)!==null&&d!==void 0?d:"",_=(u=y==null?void 0:y.code)!==null&&u!==void 0?u:"";g=`${(h=c==null?void 0:c.name)!==null&&h!==void 0?h:"FetchError"}: ${c==null?void 0:c.message}`,g+=`

Caused by: ${(f=y==null?void 0:y.name)!==null&&f!==void 0?f:"Error"}: ${b}`,_&&(g+=` (${_})`),y!=null&&y.stack&&(g+=`
${y.stack}`)}else g=(v=c==null?void 0:c.stack)!==null&&v!==void 0?v:"";return{error:{message:`${(x=c==null?void 0:c.name)!==null&&x!==void 0?x:"FetchError"}: ${c==null?void 0:c.message}`,details:g,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),l.then(s,i)}returns(){return this}overrideTypes(){return this}}return ay.default=n,ay}var ND;function wH(){if(ND)return ry;ND=1,Object.defineProperty(ry,"__esModule",{value:!0});const e=sp.__importDefault(bH());class n extends e.default{select(s){let i=!1;const o=(s??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:o,foreignTable:l,referencedTable:c=l}={}){const d=c?`${c}.order`:"order",u=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${u?`${u},`:""}${s}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:o=i}={}){const l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${s}`),this}range(s,i,{foreignTable:o,referencedTable:l=o}={}){const c=typeof l>"u"?"offset":`${l}.offset`,d=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${s}`),this.url.searchParams.set(d,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:o=!1,buffers:l=!1,wal:c=!1,format:d="text"}={}){var u;const h=[s?"analyze":null,i?"verbose":null,o?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),f=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${f}"; options=${h};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return ry.default=n,ry}var SD;function O3(){if(SD)return ny;SD=1,Object.defineProperty(ny,"__esModule",{value:!0});const e=sp.__importDefault(wH()),n=new RegExp("[,()]");class a extends e.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}regexMatch(i,o){return this.url.searchParams.append(i,`match.${o}`),this}regexIMatch(i,o){return this.url.searchParams.append(i,`imatch.${o}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}isDistinct(i,o){return this.url.searchParams.append(i,`isdistinct.${o}`),this}in(i,o){const l=Array.from(new Set(o)).map(c=>typeof c=="string"&&n.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:l,type:c}={}){let d="";c==="plain"?d="pl":c==="phrase"?d="ph":c==="websearch"&&(d="w");const u=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${d}fts${u}.${o}`),this}match(i){return Object.entries(i).forEach(([o,l])=>{this.url.searchParams.append(o,`eq.${l}`)}),this}not(i,o,l){return this.url.searchParams.append(i,`not.${o}.${l}`),this}or(i,{foreignTable:o,referencedTable:l=o}={}){const c=l?`${l}.or`:"or";return this.url.searchParams.append(c,`(${i})`),this}filter(i,o,l){return this.url.searchParams.append(i,`${o}.${l}`),this}}return ny.default=a,ny}var CD;function _H(){if(CD)return ty;CD=1,Object.defineProperty(ty,"__esModule",{value:!0});const e=sp.__importDefault(O3());class n{constructor(s,{headers:i={},schema:o,fetch:l}){this.url=s,this.headers=new Headers(i),this.schema=o,this.fetch=l}select(s,i){const{head:o=!1,count:l}=i??{},c=o?"HEAD":"GET";let d=!1;const u=(s??"*").split("").map(h=>/\s/.test(h)&&!d?"":(h==='"'&&(d=!d),h)).join("");return this.url.searchParams.set("select",u),l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:o=!0}={}){var l;const c="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const d=s.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(d.length>0){const u=[...new Set(d)].map(h=>`"${h}"`);this.url.searchParams.set("columns",u.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:o=!1,count:l,defaultToNull:c=!0}={}){var d;const u="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const h=s.reduce((f,v)=>f.concat(Object.keys(v)),[]);if(h.length>0){const f=[...new Set(h)].map(v=>`"${v}"`);this.url.searchParams.set("columns",f.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(s,{count:i}={}){var o;const l="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:s}={}){var i;const o="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return ty.default=n,ty}var ED;function ole(){if(ED)return ey;ED=1,Object.defineProperty(ey,"__esModule",{value:!0});const t=sp,e=t.__importDefault(_H()),n=t.__importDefault(O3());class a{constructor(i,{headers:o={},schema:l,fetch:c}={}){this.url=i,this.headers=new Headers(o),this.schemaName=l,this.fetch=c}from(i){if(!i||typeof i!="string"||i.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const o=new URL(`${this.url}/${i}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new a(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:l=!1,get:c=!1,count:d}={}){var u;let h;const f=new URL(`${this.url}/rpc/${i}`);let v;l||c?(h=l?"HEAD":"GET",Object.entries(o).filter(([g,y])=>y!==void 0).map(([g,y])=>[g,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([g,y])=>{f.searchParams.append(g,y)})):(h="POST",v=o);const x=new Headers(this.headers);return d&&x.set("Prefer",`count=${d}`),new n.default({method:h,url:f,headers:x,schema:this.schemaName,body:v,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return ey.default=a,ey}var AD;function lle(){if(AD)return za;AD=1,Object.defineProperty(za,"__esModule",{value:!0}),za.PostgrestError=za.PostgrestBuilder=za.PostgrestTransformBuilder=za.PostgrestFilterBuilder=za.PostgrestQueryBuilder=za.PostgrestClient=void 0;const t=sp,e=t.__importDefault(ole());za.PostgrestClient=e.default;const n=t.__importDefault(_H());za.PostgrestQueryBuilder=n.default;const a=t.__importDefault(O3());za.PostgrestFilterBuilder=a.default;const s=t.__importDefault(wH());za.PostgrestTransformBuilder=s.default;const i=t.__importDefault(bH());za.PostgrestBuilder=i.default;const o=t.__importDefault(yH());return za.PostgrestError=o.default,za.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:a.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:i.default,PostgrestError:o.default},za}var jH=lle();const NH=In(jH),cle=T7({__proto__:null,default:NH},[jH]),{PostgrestClient:dle,PostgrestQueryBuilder:YKe,PostgrestFilterBuilder:QKe,PostgrestTransformBuilder:ZKe,PostgrestBuilder:JKe,PostgrestError:eXe}=NH||cle;class ule{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const a=n.node,s=parseInt(a.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const a=this.getWebSocketConstructor();return new a(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const hle="2.84.0",mle=`realtime-js/${hle}`,SH="1.0.0",fle="2.0.0",MD=SH,_M=1e4,ple=1e3,xle=100;var ou;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(ou||(ou={}));var sa;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(sa||(sa={}));var ro;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(ro||(ro={}));var jM;(function(t){t.websocket="websocket"})(jM||(jM={}));var lu;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(lu||(lu={}));class gle{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast"}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let a=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(a))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,a,s,i;const o=e.topic,l=(n=e.ref)!==null&&n!==void 0?n:"",c=(a=e.join_ref)!==null&&a!==void 0?a:"",d=e.payload.event,u=(i=(s=e.payload)===null||s===void 0?void 0:s.payload)!==null&&i!==void 0?i:new ArrayBuffer(0),h=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+o.length+d.length,f=new ArrayBuffer(this.HEADER_LENGTH+h);let v=new DataView(f),x=0;v.setUint8(x++,this.KINDS.userBroadcastPush),v.setUint8(x++,c.length),v.setUint8(x++,l.length),v.setUint8(x++,o.length),v.setUint8(x++,d.length),v.setUint8(x++,this.BINARY_ENCODING),Array.from(c,y=>v.setUint8(x++,y.charCodeAt(0))),Array.from(l,y=>v.setUint8(x++,y.charCodeAt(0))),Array.from(o,y=>v.setUint8(x++,y.charCodeAt(0))),Array.from(d,y=>v.setUint8(x++,y.charCodeAt(0)));var g=new Uint8Array(f.byteLength+u.byteLength);return g.set(new Uint8Array(f),0),g.set(new Uint8Array(u),f.byteLength),g.buffer}_encodeJsonUserBroadcastPush(e){var n,a,s,i;const o=e.topic,l=(n=e.ref)!==null&&n!==void 0?n:"",c=(a=e.join_ref)!==null&&a!==void 0?a:"",d=e.payload.event,u=(i=(s=e.payload)===null||s===void 0?void 0:s.payload)!==null&&i!==void 0?i:{},f=new TextEncoder().encode(JSON.stringify(u)).buffer,v=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+o.length+d.length,x=new ArrayBuffer(this.HEADER_LENGTH+v);let g=new DataView(x),y=0;g.setUint8(y++,this.KINDS.userBroadcastPush),g.setUint8(y++,c.length),g.setUint8(y++,l.length),g.setUint8(y++,o.length),g.setUint8(y++,d.length),g.setUint8(y++,this.JSON_ENCODING),Array.from(c,_=>g.setUint8(y++,_.charCodeAt(0))),Array.from(l,_=>g.setUint8(y++,_.charCodeAt(0))),Array.from(o,_=>g.setUint8(y++,_.charCodeAt(0))),Array.from(d,_=>g.setUint8(y++,_.charCodeAt(0)));var b=new Uint8Array(x.byteLength+f.byteLength);return b.set(new Uint8Array(x),0),b.set(new Uint8Array(f),x.byteLength),b.buffer}decode(e,n){if(this._isArrayBuffer(e)){let a=this._binaryDecode(e);return n(a)}if(typeof e=="string"){const a=JSON.parse(e),[s,i,o,l,c]=a;return n({join_ref:s,ref:i,topic:o,event:l,payload:c})}return n({})}_binaryDecode(e){const n=new DataView(e),a=n.getUint8(0),s=new TextDecoder;switch(a){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,s)}}_decodeUserBroadcast(e,n,a){const s=n.getUint8(1),i=n.getUint8(2),o=n.getUint8(3),l=n.getUint8(4);let c=this.HEADER_LENGTH+4;const d=a.decode(e.slice(c,c+s));c=c+s;const u=a.decode(e.slice(c,c+i));c=c+i;const h=a.decode(e.slice(c,c+o));c=c+o;const f=e.slice(c,e.byteLength),v=l===this.JSON_ENCODING?JSON.parse(a.decode(f)):f,x={type:this.BROADCAST_EVENT,event:u,payload:v};return o>0&&(x.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:d,event:this.BROADCAST_EVENT,payload:x}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}}class CH{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var or;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(or||(or={}));const PD=(t,e,n={})=>{var a;const s=(a=n.skipTypes)!==null&&a!==void 0?a:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=vle(o,t,e,s),i),{}):{}},vle=(t,e,n,a)=>{const s=e.find(l=>l.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!a.includes(i)?EH(i,o):NM(o)},EH=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return _le(e,n)}switch(t){case or.bool:return yle(e);case or.float4:case or.float8:case or.int2:case or.int4:case or.int8:case or.numeric:case or.oid:return ble(e);case or.json:case or.jsonb:return wle(e);case or.timestamp:return jle(e);case or.abstime:case or.date:case or.daterange:case or.int4range:case or.int8range:case or.money:case or.reltime:case or.text:case or.time:case or.timestamptz:case or.timetz:case or.tsrange:case or.tstzrange:return NM(e);default:return NM(e)}},NM=t=>t,yle=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},ble=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},wle=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},_le=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,a=t[n];if(t[0]==="{"&&a==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>EH(e,l))}return t},jle=t=>typeof t=="string"?t.replace(" ","T"):t,AH=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class $N{constructor(e,n,a={},s=_M){this.channel=e,this.event=n,this.payload=a,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var a;return this._hasReceived(e)&&n((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(a=>a.status===e).forEach(a=>a.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var TD;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(TD||(TD={}));class q0{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=q0.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=q0.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(a.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=q0.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,a,s){const i=this.cloneDeep(e),o=this.transformState(n),l={},c={};return this.map(i,(d,u)=>{o[d]||(c[d]=u)}),this.map(o,(d,u)=>{const h=i[d];if(h){const f=u.map(y=>y.presence_ref),v=h.map(y=>y.presence_ref),x=u.filter(y=>v.indexOf(y.presence_ref)<0),g=h.filter(y=>f.indexOf(y.presence_ref)<0);x.length>0&&(l[d]=x),g.length>0&&(c[d]=g)}else l[d]=u}),this.syncDiff(i,{joins:l,leaves:c},a,s)}static syncDiff(e,n,a,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return a||(a=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var d;const u=(d=e[l])!==null&&d!==void 0?d:[];if(e[l]=this.cloneDeep(c),u.length>0){const h=e[l].map(v=>v.presence_ref),f=u.filter(v=>h.indexOf(v.presence_ref)<0);e[l].unshift(...f)}a(l,u,c)}),this.map(o,(l,c)=>{let d=e[l];if(!d)return;const u=c.map(h=>h.presence_ref);d=d.filter(h=>u.indexOf(h.presence_ref)<0),e[l]=d,s(l,d,c),d.length===0&&delete e[l]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(a=>n(a,e[a]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,a)=>{const s=e[a];return"metas"in s?n[a]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[a]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var kD;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(kD||(kD={}));var V0;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(V0||(V0={}));var Nl;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Nl||(Nl={}));class D3{constructor(e,n={config:{}},a){var s,i;if(this.topic=e,this.params=n,this.socket=a,this.bindings={},this.state=sa.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new $N(this,ro.join,this.params,this.timeout),this.rejoinTimer=new CH(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=sa.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=sa.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=sa.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=sa.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=sa.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ro.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new q0(this),this.broadcastEndpointURL=AH(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var a,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==sa.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,d=(s=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(v=>v.filter))!==null&&s!==void 0?s:[],u=!!this.bindings[V0.PRESENCE]&&this.bindings[V0.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:u}),postgres_changes:d,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(v=>e==null?void 0:e(Nl.CHANNEL_ERROR,v)),this._onClose(()=>e==null?void 0:e(Nl.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:v})=>{var x;if(this.socket.setAuth(),v===void 0){e==null||e(Nl.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,y=(x=g==null?void 0:g.length)!==null&&x!==void 0?x:0,b=[];for(let _=0;_<y;_++){const j=g[_],{filter:{event:S,schema:C,table:E,filter:P}}=j,T=v&&v[_];if(T&&T.event===S&&T.schema===C&&T.table===E&&T.filter===P)b.push(Object.assign(Object.assign({},j),{id:T.id}));else{this.unsubscribe(),this.state=sa.errored,e==null||e(Nl.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,e&&e(Nl.SUBSCRIBED);return}}).receive("error",v=>{this.state=sa.errored,e==null||e(Nl.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Nl.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,a){return this.state===sa.joined&&e===V0.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,a)}async httpSend(e,n,a={}){var s;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=a.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const d=await l.json();c=d.error||d.message||c}catch{}return Promise.reject(new Error(c))}async send(e,n={}){var a,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);return await((s=d.body)===null||s===void 0?void 0:s.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const d=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=sa.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ro.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(s=>{a=new $N(this,ro.leave,{},e),a.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a==null||a.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=sa.closed,this.bindings={}}async _fetchWithTimeout(e,n,a){const s=new AbortController,i=setTimeout(()=>s.abort(),a),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new $N(this,e,n,a);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>xle){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,a){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,a){var s,i;const o=e.toLocaleLowerCase(),{close:l,error:c,leave:d,join:u}=ro;if(a&&[l,c,d,u].indexOf(o)>=0&&a!==this._joinRef())return;let f=this._onMessage(o,n,a);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var x,g,y;return((x=v.filter)===null||x===void 0?void 0:x.event)==="*"||((y=(g=v.filter)===null||g===void 0?void 0:g.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(v=>v.callback(f,a)):(i=this.bindings[o])===null||i===void 0||i.filter(v=>{var x,g,y,b,_,j;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const S=v.id,C=(x=v.filter)===null||x===void 0?void 0:x.event;return S&&((g=n.ids)===null||g===void 0?void 0:g.includes(S))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((y=n.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const S=(_=(b=v==null?void 0:v.filter)===null||b===void 0?void 0:b.event)===null||_===void 0?void 0:_.toLocaleLowerCase();return S==="*"||S===((j=n==null?void 0:n.event)===null||j===void 0?void 0:j.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof f=="object"&&"ids"in f){const x=f.data,{schema:g,table:y,commit_timestamp:b,type:_,errors:j}=x;f=Object.assign(Object.assign({},{schema:g,table:y,commit_timestamp:b,eventType:_,new:{},old:{},errors:j}),this._getPayloadRecords(x))}v.callback(f,a)})}_isClosed(){return this.state===sa.closed}_isJoined(){return this.state===sa.joined}_isJoining(){return this.state===sa.joining}_isLeaving(){return this.state===sa.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,a){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:a};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const a=e.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===a&&D3.isEqual(s.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const a in e)if(e[a]!==n[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ro.close,{},e)}_onError(e){this._on(ro.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=sa.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=PD(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=PD(e.columns,e.old_record)),n}}const UN=()=>{},iy={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Nle=[1e3,2e3,5e3,1e4],Sle=1e4,Cle=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Ele{constructor(e,n){var a;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=_M,this.transport=null,this.heartbeatIntervalMs=iy.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=UN,this.ref=0,this.reconnectTimer=null,this.vsn=MD,this.logger=UN,this.conn=null,this.sendBuffer=[],this.serializer=new gle,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((a=n==null?void 0:n.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${jM.websocket}`,this.httpEndpoint=AH(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=ule.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,a){this.logger(e,n,a)}connectionState(){switch(this.conn&&this.conn.readyState){case ou.connecting:return lu.Connecting;case ou.open:return lu.Open;case ou.closing:return lu.Closing;default:return lu.Closed}}isConnected(){return this.connectionState()===lu.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const a=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===a);if(s)return s;{const i=new D3(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:a,payload:s,ref:i}=e,o=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${a} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(ple,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},iy.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(a=>a.topic===e&&(a._isJoined()||a._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:s,payload:i,ref:o}=n,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${a} ${s} ${l}`.trim(),i),this.channels.filter(d=>d._isMember(a)).forEach(d=>d._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===ou.open||this.conn.readyState===ou.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(ro.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const a=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${a}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const a=new Blob([Cle],{type:"application/javascript"});n=URL.createObjectURL(a)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(a=>{const s={access_token:n,version:mle};n&&a.updateJoinPayload(s),a.joinedOnce&&a._isJoined()&&a._push(ro.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(a=>{try{a(n)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(a){this.log("error",`error triggering ${e} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new CH(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},iy.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,a,s,i,o,l,c,d,u,h,f,v;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(a=e==null?void 0:e.timeout)!==null&&a!==void 0?a:_M,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:iy.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=e==null?void 0:e.heartbeatCallback)!==null&&l!==void 0?l:UN,this.vsn=(c=e==null?void 0:e.vsn)!==null&&c!==void 0?c:MD,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=e==null?void 0:e.reconnectAfterMs)!==null&&d!==void 0?d:(x=>Nle[x-1]||Sle),this.vsn){case SH:this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:((x,g)=>g(JSON.stringify(x))),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:((x,g)=>g(JSON.parse(x)));break;case fle:this.encode=(f=e==null?void 0:e.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(v=e==null?void 0:e.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class I3 extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Cr(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Ale extends I3{constructor(e,n,a){super(e),this.name="StorageApiError",this.status=n,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class SM extends I3{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}const L3=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Mle=()=>Response,CM=t=>{if(Array.isArray(t))return t.map(n=>CM(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,a])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=CM(a)}),e},Ple=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},BN=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},Tle=(t,e,n)=>Tt(void 0,void 0,void 0,function*(){const a=yield Mle();t instanceof a&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new Ale(BN(s),i,o))}).catch(s=>{e(new SM(BN(s),s))}):e(new SM(BN(t),t))}),kle=(t,e,n,a)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!a?s:(Ple(a)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(a)):s.body=a,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),n))};function jg(t,e,n,a,s,i){return Tt(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(n,kle(e,a,s,i)).then(c=>{if(!c.ok)throw c;return a!=null&&a.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>Tle(c,l,a))})})}function lx(t,e,n,a){return Tt(this,void 0,void 0,function*(){return jg(t,"GET",e,n,a)})}function eo(t,e,n,a,s){return Tt(this,void 0,void 0,function*(){return jg(t,"POST",e,a,s,n)})}function EM(t,e,n,a,s){return Tt(this,void 0,void 0,function*(){return jg(t,"PUT",e,a,s,n)})}function Rle(t,e,n,a){return Tt(this,void 0,void 0,function*(){return jg(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),a)})}function F3(t,e,n,a,s){return Tt(this,void 0,void 0,function*(){return jg(t,"DELETE",e,a,s,n)})}class Ole{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return Tt(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Cr(e))return{data:null,error:e};throw e}})}}var MH;class Dle{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[MH]="BlobDownloadBuilder",this.promise=null}asStream(){return new Ole(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Tt(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Cr(e))return{data:null,error:e};throw e}})}}MH=Symbol.toStringTag;const Ile={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},RD={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Lle{constructor(e,n={},a,s){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=a,this.fetch=L3(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,a,s){return Tt(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},RD),s);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&a instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",a)):typeof FormData<"u"&&a instanceof FormData?(i=a,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),c&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(c))):(i=a,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const d=this._removeEmptyFolders(n),u=this._getFinalPath(d),h=yield(e=="PUT"?EM:eo)(this.fetch,`${this.url}/object/${u}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:d,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Cr(i))return{data:null,error:i};throw i}})}upload(e,n,a){return Tt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,a)})}uploadToSignedUrl(e,n,a,s){return Tt(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let c;const d=Object.assign({upsert:RD.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&a instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",a)):typeof FormData<"u"&&a instanceof FormData?(c=a,c.append("cacheControl",d.cacheControl)):(c=a,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const h=yield EM(this.fetch,l.toString(),c,{headers:u});return{data:{path:i,fullPath:h.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Cr(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,n){return Tt(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield eo(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new I3("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Cr(a))return{data:null,error:a};throw a}})}update(e,n,a){return Tt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,a)})}move(e,n,a){return Tt(this,void 0,void 0,function*(){try{return{data:yield eo(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Cr(s))return{data:null,error:s};throw s}})}copy(e,n,a){return Tt(this,void 0,void 0,function*(){try{return{data:{path:(yield eo(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Cr(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,a){return Tt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield eo(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},a!=null&&a.transform?{transform:a.transform}:{}),{headers:this.headers});const o=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Cr(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,a){return Tt(this,void 0,void 0,function*(){try{const s=yield eo(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Cr(s))return{data:null,error:s};throw s}})}download(e,n){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"",l=this._getFinalPath(e),c=()=>lx(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new Dle(c,this.shouldThrowOnError)}info(e){return Tt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const a=yield lx(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:CM(a),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Cr(a))return{data:null,error:a};throw a}})}exists(e){return Tt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield Rle(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Cr(a)&&a instanceof SM){const s=a.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:a}}throw a}})}getPublicUrl(e,n){const a=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let d=s.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${a}${d}`)}}}remove(e){return Tt(this,void 0,void 0,function*(){try{return{data:yield F3(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cr(n))return{data:null,error:n};throw n}})}list(e,n,a){return Tt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Ile),n),{prefix:e||""});return{data:yield eo(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},a),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Cr(s))return{data:null,error:s};throw s}})}listV2(e,n){return Tt(this,void 0,void 0,function*(){try{const a=Object.assign({},e);return{data:yield eo(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Cr(a))return{data:null,error:a};throw a}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const PH="2.84.0",TH={"X-Client-Info":`storage-js/${PH}`};class Fle{constructor(e,n={},a,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},TH),n),this.fetch=L3(a)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return Tt(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(e);return{data:yield lx(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cr(n))return{data:null,error:n};throw n}})}getBucket(e){return Tt(this,void 0,void 0,function*(){try{return{data:yield lx(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cr(n))return{data:null,error:n};throw n}})}createBucket(e){return Tt(this,arguments,void 0,function*(n,a={public:!1}){try{return{data:yield eo(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Cr(s))return{data:null,error:s};throw s}})}updateBucket(e,n){return Tt(this,void 0,void 0,function*(){try{return{data:yield EM(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Cr(a))return{data:null,error:a};throw a}})}emptyBucket(e){return Tt(this,void 0,void 0,function*(){try{return{data:yield eo(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cr(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Tt(this,void 0,void 0,function*(){try{return{data:yield F3(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cr(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(e){const n={};return e&&("limit"in e&&(n.limit=String(e.limit)),"offset"in e&&(n.offset=String(e.offset)),e.search&&(n.search=e.search),e.sortColumn&&(n.sortColumn=e.sortColumn),e.sortOrder&&(n.sortOrder=e.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class $le{constructor(e,n={},a){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},TH),n),this.fetch=L3(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Tt(this,void 0,void 0,function*(){try{return{data:yield eo(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cr(n))return{data:null,error:n};throw n}})}listBuckets(e){return Tt(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const a=n.toString(),s=a?`${this.url}/bucket?${a}`:`${this.url}/bucket`;return{data:yield lx(this.fetch,s,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cr(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Tt(this,void 0,void 0,function*(){try{return{data:yield F3(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Cr(n))return{data:null,error:n};throw n}})}}const $3={"X-Client-Info":`storage-js/${PH}`,"Content-Type":"application/json"};class kH extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function ti(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class zN extends kH{constructor(e,n,a){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ule extends kH{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}}var OD;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(OD||(OD={}));const U3=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Ble=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},DD=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),zle=(t,e,n)=>Tt(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const s=t.status||500,i=t;if(typeof i.json=="function")i.json().then(o=>{const l=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||s+"";e(new zN(DD(o),s,l))}).catch(()=>{const o=s+"",l=i.statusText||`HTTP ${s} error`;e(new zN(l,s,o))});else{const o=s+"",l=i.statusText||`HTTP ${s} error`;e(new zN(l,s,o))}}else e(new Ule(DD(t),t))}),qle=(t,e,n,a)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return a?(Ble(a)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(a)):s.body=a,Object.assign(Object.assign({},s),n)):s};function Vle(t,e,n,a,s,i){return Tt(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(n,qle(e,a,s,i)).then(c=>{if(!c.ok)throw c;if(a!=null&&a.noResolveJson)return c;const d=c.headers.get("content-type");return!d||!d.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>zle(c,l,a))})})}function ni(t,e,n,a,s){return Tt(this,void 0,void 0,function*(){return Vle(t,"POST",e,a,s,n)})}class Hle{constructor(e,n={},a){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},$3),n),this.fetch=U3(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return Tt(this,void 0,void 0,function*(){try{return{data:(yield ni(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ti(n))return{data:null,error:n};throw n}})}getIndex(e,n){return Tt(this,void 0,void 0,function*(){try{return{data:yield ni(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ti(a))return{data:null,error:a};throw a}})}listIndexes(e){return Tt(this,void 0,void 0,function*(){try{return{data:yield ni(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ti(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return Tt(this,void 0,void 0,function*(){try{return{data:(yield ni(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ti(a))return{data:null,error:a};throw a}})}}class Gle{constructor(e,n={},a){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},$3),n),this.fetch=U3(a)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return Tt(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield ni(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ti(n))return{data:null,error:n};throw n}})}getVectors(e){return Tt(this,void 0,void 0,function*(){try{return{data:yield ni(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ti(n))return{data:null,error:n};throw n}})}listVectors(e){return Tt(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield ni(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ti(n))return{data:null,error:n};throw n}})}queryVectors(e){return Tt(this,void 0,void 0,function*(){try{return{data:yield ni(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ti(n))return{data:null,error:n};throw n}})}deleteVectors(e){return Tt(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield ni(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ti(n))return{data:null,error:n};throw n}})}}class Wle{constructor(e,n={},a){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},$3),n),this.fetch=U3(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Tt(this,void 0,void 0,function*(){try{return{data:(yield ni(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ti(n))return{data:null,error:n};throw n}})}getBucket(e){return Tt(this,void 0,void 0,function*(){try{return{data:yield ni(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ti(n))return{data:null,error:n};throw n}})}listBuckets(){return Tt(this,arguments,void 0,function*(e={}){try{return{data:yield ni(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ti(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Tt(this,void 0,void 0,function*(){try{return{data:(yield ni(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ti(n))return{data:null,error:n};throw n}})}}class Kle extends Wle{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new Xle(this.url,this.headers,e,this.fetch)}}class Xle extends Hle{constructor(e,n,a,s){super(e,n,s),this.vectorBucketName=a}createIndex(e){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Tt(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Tt(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Tt(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Tt(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new Yle(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class Yle extends Gle{constructor(e,n,a,s,i){super(e,n,i),this.vectorBucketName=a,this.indexName=s}putVectors(e){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Tt(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Tt(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Tt(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Tt(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Tt(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Qle extends Fle{constructor(e,n={},a,s){super(e,n,a,s)}from(e){return new Lle(this.url,this.headers,e,this.fetch)}get vectors(){return new Kle(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new $le(this.url+"/iceberg",this.headers,this.fetch)}}const Zle="2.84.0";let D0="";typeof Deno<"u"?D0="deno":typeof document<"u"?D0="web":typeof navigator<"u"&&navigator.product==="ReactNative"?D0="react-native":D0="node";const Jle={"X-Client-Info":`supabase-js-${D0}/${Zle}`},ece={headers:Jle},tce={schema:"public"},nce={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},rce={},ace=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),sce=()=>Headers,ice=(t,e,n)=>{const a=ace(n),s=sce();return async(i,o)=>{var l;const c=(l=await e())!==null&&l!==void 0?l:t;let d=new s(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",t),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),a(i,Object.assign(Object.assign({},o),{headers:d}))}};function oce(t){return t.endsWith("/")?t:t+"/"}function lce(t,e){var n,a;const{db:s,auth:i,realtime:o,global:l}=t,{db:c,auth:d,realtime:u,global:h}=e,f={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(a=l==null?void 0:l.headers)!==null&&a!==void 0?a:{})}),accessToken:async()=>""};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function cce(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(oce(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const RH="2.84.0",bm=30*1e3,AM=3,qN=AM*bm,dce="http://localhost:9999",uce="supabase.auth.token",hce={"X-Client-Info":`gotrue-js/${RH}`},MM="X-Supabase-Api-Version",OH={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},mce=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,fce=600*1e3;class cx extends Error{constructor(e,n,a){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=a}}function Rt(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class pce extends cx{constructor(e,n,a){super(e,n,a),this.name="AuthApiError",this.status=n,this.code=a}}function xce(t){return Rt(t)&&t.name==="AuthApiError"}class cu extends cx{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class vd extends cx{constructor(e,n,a,s){super(e,a,s),this.name=n,this.status=a}}class Ys extends vd{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function gce(t){return Rt(t)&&t.name==="AuthSessionMissingError"}class qh extends vd{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class oy extends vd{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ly extends vd{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function vce(t){return Rt(t)&&t.name==="AuthImplicitGrantRedirectError"}class ID extends vd{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class PM extends vd{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function VN(t){return Rt(t)&&t.name==="AuthRetryableFetchError"}class LD extends vd{constructor(e,n,a){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=a}}class TM extends vd{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Db="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),FD=` 	
\r=`.split(""),yce=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<FD.length;e+=1)t[FD[e].charCodeAt(0)]=-2;for(let e=0;e<Db.length;e+=1)t[Db[e].charCodeAt(0)]=e;return t})();function $D(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;n(Db[a]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;n(Db[a]),e.queuedBits-=6}}function DH(t,e,n){const a=yce[t];if(a>-1)for(e.queue=e.queue<<6|a,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function UD(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},a={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{_ce(o,a,n)};for(let o=0;o<t.length;o+=1)DH(t.charCodeAt(o),s,i);return e.join("")}function bce(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function wce(t,e){for(let n=0;n<t.length;n+=1){let a=t.charCodeAt(n);if(a>55295&&a<=56319){const s=(a-55296)*1024&65535;a=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}bce(a,e)}}function _ce(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let a=1;a<6;a+=1)if((t>>7-a&1)===0){e.utf8seq=a;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Lm(t){const e=[],n={queue:0,queuedBits:0},a=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)DH(t.charCodeAt(s),n,a);return new Uint8Array(e)}function jce(t){const e=[];return wce(t,n=>e.push(n)),new Uint8Array(e)}function mu(t){const e=[],n={queue:0,queuedBits:0},a=s=>{e.push(s)};return t.forEach(s=>$D(s,n,a)),$D(null,n,a),e.join("")}function Nce(t){return Math.round(Date.now()/1e3)+t}function Sce(){return Symbol("auth-callback")}const Ta=()=>typeof window<"u"&&typeof document<"u",zd={tested:!1,writable:!1},IH=()=>{if(!Ta())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(zd.tested)return zd.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),zd.tested=!0,zd.writable=!0}catch{zd.tested=!0,zd.writable=!1}return zd.writable};function Cce(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((a,s)=>{e[s]=a}),e}const LH=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Ece=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",wm=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},qd=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Sc=async(t,e)=>{await t.removeItem(e)};class b1{constructor(){this.promise=new b1.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}b1.promiseConstructor=Promise;function HN(t){const e=t.split(".");if(e.length!==3)throw new TM("Invalid JWT structure");for(let a=0;a<e.length;a++)if(!mce.test(e[a]))throw new TM("JWT not in base64url format");return{header:JSON.parse(UD(e[0])),payload:JSON.parse(UD(e[1])),signature:Lm(e[2]),raw:{header:e[0],payload:e[1]}}}async function Ace(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Mce(t,e){return new Promise((a,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){a(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function Pce(t){return("0"+t.toString(16)).substr(-2)}function Tce(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*a));return s}return crypto.getRandomValues(e),Array.from(e,Pce).join("")}async function kce(t){const n=new TextEncoder().encode(t),a=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(a);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Rce(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await kce(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Vh(t,e,n=!1){const a=Tce();let s=a;n&&(s+="/PASSWORD_RECOVERY"),await wm(t,`${e}-code-verifier`,s);const i=await Rce(a);return[i,a===i?"plain":"s256"]}const Oce=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Dce(t){const e=t.headers.get(MM);if(!e||!e.match(Oce))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Ice(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Lce(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Fce=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Hh(t){if(!Fce.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function GN(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function $ce(t,e){return new Proxy(t,{get:(n,a,s)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const i=a.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,a,s)}return!e.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,a,s)}})}function BD(t){return JSON.parse(JSON.stringify(t))}const eu=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Uce=[502,503,504];async function zD(t){var e;if(!Ece(t))throw new PM(eu(t),0);if(Uce.includes(t.status))throw new PM(eu(t),t.status);let n;try{n=await t.json()}catch(i){throw new cu(eu(i),i)}let a;const s=Dce(t);if(s&&s.getTime()>=OH["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?a=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(a=n.error_code),a){if(a==="weak_password")throw new LD(eu(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(a==="session_not_found")throw new Ys}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new LD(eu(n),t.status,n.weak_password.reasons);throw new pce(eu(n),t.status||500,a)}const Bce=(t,e,n,a)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(a),Object.assign(Object.assign({},s),n))};async function Yt(t,e,n,a){var s;const i=Object.assign({},a==null?void 0:a.headers);i[MM]||(i[MM]=OH["2024-01-01"].name),a!=null&&a.jwt&&(i.Authorization=`Bearer ${a.jwt}`);const o=(s=a==null?void 0:a.query)!==null&&s!==void 0?s:{};a!=null&&a.redirectTo&&(o.redirect_to=a.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await zce(t,e,n+l,{headers:i,noResolveJson:a==null?void 0:a.noResolveJson},{},a==null?void 0:a.body);return a!=null&&a.xform?a==null?void 0:a.xform(c):{data:Object.assign({},c),error:null}}async function zce(t,e,n,a,s,i){const o=Bce(e,a,s,i);let l;try{l=await t(n,Object.assign({},o))}catch(c){throw console.error(c),new PM(eu(c),0)}if(l.ok||await zD(l),a!=null&&a.noResolveJson)return l;try{return await l.json()}catch(c){await zD(c)}}function Qi(t){var e;let n=null;Hce(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=Nce(t.expires_in)));const a=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:a},error:null}}function qD(t){const e=Qi(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,a)=>n&&typeof a=="string",!0)&&(e.data.weak_password=t.weak_password),e}function $c(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function qce(t){return{data:t,error:null}}function Vce(t){const{action_link:e,email_otp:n,hashed_token:a,redirect_to:s,verification_type:i}=t,o=gd(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:n,hashed_token:a,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function VD(t){return t}function Hce(t){return t.access_token&&t.refresh_token&&t.expires_in}const WN=["global","local","others"];class Gce{constructor({url:e="",headers:n={},fetch:a}){this.url=e,this.headers=n,this.fetch=LH(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=WN[0]){if(WN.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${WN.join(", ")}`);try{return await Yt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(a){if(Rt(a))return{data:null,error:a};throw a}}async inviteUserByEmail(e,n={}){try{return await Yt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:$c})}catch(a){if(Rt(a))return{data:{user:null},error:a};throw a}}async generateLink(e){try{const{options:n}=e,a=gd(e,["options"]),s=Object.assign(Object.assign({},a),n);return"newEmail"in a&&(s.new_email=a==null?void 0:a.newEmail,delete s.newEmail),await Yt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Vce,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Rt(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Yt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:$c})}catch(n){if(Rt(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,a,s,i,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await Yt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:VD});if(u.error)throw u.error;const h=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return v.length>0&&(v.forEach(x=>{const g=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(x.split(";")[1].split("=")[1]);d[`${y}Page`]=g}),d.total=parseInt(f)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(Rt(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){Hh(e);try{return await Yt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:$c})}catch(n){if(Rt(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Hh(e);try{return await Yt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:$c})}catch(a){if(Rt(a))return{data:{user:null},error:a};throw a}}async deleteUser(e,n=!1){Hh(e);try{return await Yt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:$c})}catch(a){if(Rt(a))return{data:{user:null},error:a};throw a}}async _listFactors(e){Hh(e.userId);try{const{data:n,error:a}=await Yt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:a}}catch(n){if(Rt(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Hh(e.userId),Hh(e.id);try{return{data:await Yt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Rt(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,a,s,i,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await Yt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:VD});if(u.error)throw u.error;const h=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return v.length>0&&(v.forEach(x=>{const g=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(x.split(";")[1].split("=")[1]);d[`${y}Page`]=g}),d.total=parseInt(f)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(Rt(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(e){try{return await Yt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Rt(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await Yt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Rt(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await Yt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(Rt(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(e){try{return await Yt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Rt(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await Yt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Rt(n))return{data:null,error:n};throw n}}}function HD(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Gh={debug:!!(globalThis&&IH()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class FH extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Wce extends FH{}async function Kce(t,e,n){Gh.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const a=new globalThis.AbortController;return e>0&&setTimeout(()=>{a.abort(),Gh.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async s=>{if(s){Gh.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{Gh.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Gh.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Wce(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Gh.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function Xce(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function $H(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function Yce(t){return parseInt(t,16)}function Qce(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,a=>a.toString(16).padStart(2,"0")).join("")}function Zce(t){var e;const{chainId:n,domain:a,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:d,scheme:u,uri:h,version:f}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const v=$H(t.address),x=u?`${u}://${a}`:a,g=t.statement?`${t.statement}
`:"",y=`${x} wants you to sign in with your Ethereum account:
${v}

${g}`;let b=`URI: ${h}
Version: ${f}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(b+=`
Expiration Time: ${s.toISOString()}`),l&&(b+=`
Not Before: ${l.toISOString()}`),c&&(b+=`
Request ID: ${c}`),d){let _=`
Resources:`;for(const j of d){if(!j||typeof j!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${j}`);_+=`
- ${j}`}b+=_}return`${y}
${b}`}class Yr extends Error{constructor({message:e,code:n,cause:a,name:s}){var i;super(e,{cause:a}),this.__isWebAuthnError=!0,this.name=(i=s??(a instanceof Error?a.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class Ib extends Yr{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function Jce({error:t,options:e}){var n,a,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Yr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Yr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Yr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Yr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Yr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Yr({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Yr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Yr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(UH(o)){if(i.rp.id!==o)return new Yr({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Yr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Yr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Yr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Yr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function ede({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Yr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Yr({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(UH(a)){if(n.rpId!==a)return new Yr({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Yr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Yr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Yr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class tde{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const nde=new tde;function rde(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:a}=t,s=gd(t,["challenge","user","excludeCredentials"]),i=Lm(e).buffer,o=Object.assign(Object.assign({},n),{id:Lm(n.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:i,user:o});if(a&&a.length>0){l.excludeCredentials=new Array(a.length);for(let c=0;c<a.length;c++){const d=a[c];l.excludeCredentials[c]=Object.assign(Object.assign({},d),{id:Lm(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function ade(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,a=gd(t,["challenge","allowCredentials"]),s=Lm(e).buffer,i=Object.assign(Object.assign({},a),{challenge:s});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const l=n[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:Lm(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function sde(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:mu(new Uint8Array(t.response.attestationObject)),clientDataJSON:mu(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function ide(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,a=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:mu(new Uint8Array(s.authenticatorData)),clientDataJSON:mu(new Uint8Array(s.clientDataJSON)),signature:mu(new Uint8Array(s.signature)),userHandle:s.userHandle?mu(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function UH(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function GD(){var t,e;return!!(Ta()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function ode(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ib("Browser returned unexpected credential type",e)}:{data:null,error:new Ib("Empty credential response",e)}}catch(e){return{data:null,error:Jce({error:e,options:t})}}}async function lde(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ib("Browser returned unexpected credential type",e)}:{data:null,error:new Ib("Empty credential response",e)}}catch(e){return{data:null,error:ede({error:e,options:t})}}}const cde={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},dde={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Lb(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),a={};for(const s of t)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))a[i]=o;else if(n(o))a[i]=o;else if(e(o)){const l=a[i];e(l)?a[i]=Lb(l,o):a[i]=Lb(o)}else a[i]=o}return a}function ude(t,e){return Lb(cde,t,e||{})}function hde(t,e){return Lb(dde,t,e||{})}class mde{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:a,signal:s},i){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!o)return{data:null,error:l};const c=s??nde.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:d}=o.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${a}`),d.displayName||(d.displayName=d.name)}switch(o.webauthn.type){case"create":{const d=ude(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:u,error:h}=await ode({publicKey:d,signal:c});return u?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:h}}case"request":{const d=hde(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:u,error:h}=await lde(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:d,signal:c}));return u?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:h}}}}catch(o){return Rt(o)?{data:null,error:o}:{data:null,error:new cu("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:n,webauthn:a}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:a})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new cx("rpId is required for WebAuthn authentication")};try{if(!GD())return{data:null,error:new cu("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:a},signal:s},{request:i});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:c.type,rpId:n,rpOrigins:a,credential_response:c.credential_response}})}catch(o){return Rt(o)?{data:null,error:o}:{data:null,error:new cu("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new cx("rpId is required for WebAuthn registration")};try{if(!GD())return{data:null,error:new cu("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(u=>{var h;return(h=u.data)===null||h===void 0?void 0:h.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===e&&f.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u==null?void 0:u.id}):void 0),{data:null,error:l};const{data:c,error:d}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:a},signal:s},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:n,rpOrigins:a,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:d}}catch(o){return Rt(o)?{data:null,error:o}:{data:null,error:new cu("Unexpected error in register",o)}}}}Xce();const fde={url:dce,storageKey:uce,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:hce,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function WD(t,e,n){return await n()}const Wh={};class dx{get jwks(){var e,n;return(n=(e=Wh[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Wh[this.storageKey]=Object.assign(Object.assign({},Wh[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Wh[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Wh[this.storageKey]=Object.assign(Object.assign({},Wh[this.storageKey]),{cachedAt:e})}constructor(e){var n,a,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},fde),e);if(this.storageKey=i.storageKey,this.instanceID=(n=dx.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,dx.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Ta()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Gce({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=LH(i.fetch),this.lock=i.lock||WD,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:Ta()&&(!((a=globalThis==null?void 0:globalThis.navigator)===null||a===void 0)&&a.locks)?this.lock=Kce:this.lock=WD,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new mde(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:IH()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=HD(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=HD(this.memoryStorage)),Ta()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${RH}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},a="none";if(Ta()&&(n=Cce(window.location.href),this._isImplicitGrantCallback(n)?a="implicit":await this._isPKCECallback(n)&&(a="pkce")),Ta()&&this.detectSessionInUrl&&a!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,a);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),vce(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Rt(n)?this._returnResult({error:n}):this._returnResult({error:new cu("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,a,s;try{const i=await Yt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Qi}),{data:o,error:l}=i;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(i){if(Rt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var n,a,s;try{let i;if("email"in e){const{email:u,password:h,options:f}=e;let v=null,x=null;this.flowType==="pkce"&&([v,x]=await Vh(this.storage,this.storageKey)),i=await Yt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:v,code_challenge_method:x},xform:Qi})}else if("phone"in e){const{phone:u,password:h,options:f}=e;i=await Yt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(a=f==null?void 0:f.data)!==null&&a!==void 0?a:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Qi})}else throw new oy("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(i){if(Rt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:l}=e;n=await Yt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:qD})}else if("phone"in e){const{phone:i,password:o,options:l}=e;n=await Yt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:qD})}else throw new oy("You must provide either an email or phone number and a password");const{data:a,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!a||!a.session||!a.user){const i=new qh;return this._returnResult({data:{user:null,session:null},error:i})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:s})}catch(n){if(Rt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,a,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,a,s,i,o,l,c,d,u,h,f;let v,x;if("message"in e)v=e.message,x=e.signature;else{const{chain:g,wallet:y,statement:b,options:_}=e;let j;if(Ta())if(typeof y=="object")j=y;else{const M=window;if("ethereum"in M&&typeof M.ethereum=="object"&&"request"in M.ethereum&&typeof M.ethereum.request=="function")j=M.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=y}const S=new URL((n=_==null?void 0:_.url)!==null&&n!==void 0?n:window.location.href),C=await j.request({method:"eth_requestAccounts"}).then(M=>M).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!C||C.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const E=$H(C[0]);let P=(a=_==null?void 0:_.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!P){const M=await j.request({method:"eth_chainId"});P=Yce(M)}const T={domain:S.host,address:E,statement:b,uri:S.href,version:"1",chainId:P,nonce:(s=_==null?void 0:_.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=_==null?void 0:_.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=_==null?void 0:_.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=_==null?void 0:_.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(d=_==null?void 0:_.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(u=_==null?void 0:_.signInWithEthereum)===null||u===void 0?void 0:u.resources};v=Zce(T),x=await j.request({method:"personal_sign",params:[Qce(v),E]})}try{const{data:g,error:y}=await Yt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:x},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Qi});if(y)throw y;if(!g||!g.session||!g.user){const b=new qh;return this._returnResult({data:{user:null,session:null},error:b})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:y})}catch(g){if(Rt(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async signInWithSolana(e){var n,a,s,i,o,l,c,d,u,h,f,v;let x,g;if("message"in e)x=e.message,g=e.signature;else{const{chain:y,wallet:b,statement:_,options:j}=e;let S;if(Ta())if(typeof b=="object")S=b;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))S=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(j!=null&&j.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=b}const C=new URL((n=j==null?void 0:j.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in S&&S.signIn){const E=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},j==null?void 0:j.signInWithSolana),{version:"1",domain:C.host,uri:C.href}),_?{statement:_}:null));let P;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")P=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)P=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)x=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),g=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${C.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),..._?["",_,""]:[""],"Version: 1",`URI: ${C.href}`,`Issued At: ${(s=(a=j==null?void 0:j.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=j==null?void 0:j.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${j.signInWithSolana.notBefore}`]:[],...!((o=j==null?void 0:j.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${j.signInWithSolana.expirationTime}`]:[],...!((l=j==null?void 0:j.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${j.signInWithSolana.chainId}`]:[],...!((c=j==null?void 0:j.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${j.signInWithSolana.nonce}`]:[],...!((d=j==null?void 0:j.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${j.signInWithSolana.requestId}`]:[],...!((h=(u=j==null?void 0:j.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",...j.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const E=await S.signMessage(new TextEncoder().encode(x),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=E}}try{const{data:y,error:b}=await Yt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:mu(g)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Qi});if(b)throw b;if(!y||!y.session||!y.user){const _=new qh;return this._returnResult({data:{user:null,session:null},error:_})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:b})}catch(y){if(Rt(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async _exchangeCodeForSession(e){const n=await qd(this.storage,`${this.storageKey}-code-verifier`),[a,s]=(n??"").split("/");try{const{data:i,error:o}=await Yt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:a},xform:Qi});if(await Sc(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const l=new qh;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(Rt(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:n,provider:a,token:s,access_token:i,nonce:o}=e,l=await Yt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Qi}),{data:c,error:d}=l;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!c||!c.session||!c.user){const u=new qh;return this._returnResult({data:{user:null,session:null},error:u})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:d})}catch(n){if(Rt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,a,s,i,o;try{if("email"in e){const{email:l,options:c}=e;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await Vh(this.storage,this.storageKey));const{error:h}=await Yt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in e){const{phone:l,options:c}=e,{data:d,error:u}=await Yt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u})}throw new oy("You must provide either an email or phone number.")}catch(l){if(Rt(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(e){var n,a;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(a=e.options)===null||a===void 0?void 0:a.captchaToken);const{data:o,error:l}=await Yt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Qi});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,d=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:d,session:c},error:null})}catch(s){if(Rt(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var n,a,s,i,o;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await Vh(this.storage,this.storageKey));const d=await Yt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(a=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&a!==void 0?a:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:qce});return!((i=d.data)===null||i===void 0)&&i.url&&Ta()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(d.data.url),this._returnResult(d)}catch(l){if(Rt(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:a}=e;if(a)throw a;if(!n)throw new Ys;const{error:s}=await Yt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(Rt(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:a,type:s,options:i}=e,{error:o}=await Yt(this.fetch,"POST",n,{headers:this.headers,body:{email:a,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:a,type:s,options:i}=e,{data:o,error:l}=await Yt(this.fetch,"POST",n,{headers:this.headers,body:{phone:a,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l})}throw new oy("You must provide either an email or phone number and a type")}catch(n){if(Rt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await a,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=n();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await qd(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const a=e.expires_at?e.expires_at*1e3-Date.now()<qN:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",e.expires_at),!a){if(this.userStorage){const o=await qd(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=GN()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=$ce(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Yt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:$c}):await this._useSession(async n=>{var a,s,i;const{data:o,error:l}=n;if(l)throw l;return!(!((a=o.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ys}:await Yt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:$c})})}catch(n){if(Rt(n))return gce(n)&&(await this._removeSession(),await Sc(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async a=>{const{data:s,error:i}=a;if(i)throw i;if(!s.session)throw new Ys;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await Vh(this.storage,this.storageKey));const{data:d,error:u}=await Yt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:$c});if(u)throw u;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(a){if(Rt(a))return this._returnResult({data:{user:null},error:a});throw a}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ys;const n=Date.now()/1e3;let a=n,s=!0,i=null;const{payload:o}=HN(e.access_token);if(o.exp&&(a=o.exp,s=a<=n),s){const{data:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:a-n,expires_at:a},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(n){if(Rt(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var a;if(!e){const{data:o,error:l}=n;if(l)throw l;e=(a=o.session)!==null&&a!==void 0?a:void 0}if(!(e!=null&&e.refresh_token))throw new Ys;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Rt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!Ta())throw new ly("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ly(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new ID("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ly("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new ID("No code detected.");const{data:_,error:j}=await this._exchangeCodeForSession(e.code);if(j)throw j;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:_.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:d}=e;if(!i||!l||!o||!d)throw new ly("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(l);let f=u+h;c&&(f=parseInt(c));const v=f-u;v*1e3<=bm&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${h}s`);const x=f-h;u-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,f,u):u-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,f,u);const{data:g,error:y}=await this._getUser(i);if(y)throw y;const b={provider_token:a,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:d,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:b,redirectType:e.type},error:null})}catch(a){if(Rt(a))return this._returnResult({data:{session:null,redirectType:null},error:a});throw a}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await qd(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var a;const{data:s,error:i}=n;if(i)return this._returnResult({error:i});const o=(a=s.session)===null||a===void 0?void 0:a.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(xce(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return e!=="others"&&(await this._removeSession(),await Sc(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=Sce(),a={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:a}}}async _emitInitialSession(e){return await this._useSession(async n=>{var a,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let a=null,s=null;this.flowType==="pkce"&&([a,s]=await Vh(this.storage,this.storageKey,!0));try{return await Yt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:a,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(Rt(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:n,error:a}=await this.getUser();if(a)throw a;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(Rt(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:a,error:s}=await this._useSession(async i=>{var o,l,c,d,u;const{data:h,error:f}=i;if(f)throw f;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Yt(this.fetch,"GET",v,{headers:this.headers,jwt:(u=(d=h.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return Ta()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(a==null?void 0:a.url),this._returnResult({data:{provider:e.provider,url:a==null?void 0:a.url},error:null})}catch(a){if(Rt(a))return this._returnResult({data:{provider:e.provider,url:null},error:a});throw a}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var a;try{const{error:s,data:{session:i}}=n;if(s)throw s;const{options:o,provider:l,token:c,access_token:d,nonce:u}=e,h=await Yt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=i==null?void 0:i.access_token)!==null&&a!==void 0?a:void 0,body:{provider:l,id_token:c,access_token:d,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Qi}),{data:f,error:v}=h;return v?this._returnResult({data:{user:null,session:null},error:v}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new qh}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:v}))}catch(s){if(Rt(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var a,s;const{data:i,error:o}=n;if(o)throw o;return await Yt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(a=i.session)===null||a===void 0?void 0:a.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(Rt(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const a=Date.now();return await Mce(async s=>(s>0&&await Ace(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await Yt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Qi})),(s,i)=>{const o=200*Math.pow(2,s);return i&&VN(i)&&Date.now()+o-a<bm})}catch(a){if(this._debug(n,"error",a),Rt(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const a=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",a),Ta()&&!n.skipBrowserRedirect&&window.location.assign(a),{data:{provider:e,url:a},error:null}}async _recoverAndRefresh(){var e,n;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const s=await qd(this.storage,this.storageKey);if(s&&this.userStorage){let o=await qd(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await wm(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:GN()}else if(s&&!s.user&&!s.user){const o=await qd(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Sc(this.storage,this.storageKey+"-user"),await wm(this.storage,this.storageKey,s)):s.user=GN()}if(this._debug(a,"session from storage",s),!this._isValidSession(s)){this._debug(a,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<qN;if(this._debug(a,`session has${i?"":" not"} expired with margin of ${qN}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),VN(o)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(a,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(a,"error",s),console.error(s);return}finally{this._debug(a,"end")}}async _callRefreshToken(e){var n,a;if(!e)throw new Ys;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new b1;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Ys;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),Rt(i)){const o={data:null,error:i};return VN(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,a=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,n)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),a=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&n.user&&await wm(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=BD(s);await wm(this.storage,this.storageKey,i)}else{const s=BD(n);await wm(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Sc(this.storage,this.storageKey),await Sc(this.storage,this.storageKey+"-code-verifier"),await Sc(this.storage,this.storageKey+"-user"),this.userStorage&&await Sc(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ta()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),bm);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:a}}=n;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((a.expires_at*1e3-e)/bm);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${bm}ms, refresh threshold is ${AM} ticks`),s<=AM&&await this._callRefreshToken(a.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof FH)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ta()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,a){const s=[`provider=${encodeURIComponent(n)}`];if(a!=null&&a.redirectTo&&s.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a!=null&&a.scopes&&s.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[i,o]=await Vh(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(a!=null&&a.queryParams){const i=new URLSearchParams(a.queryParams);s.push(i.toString())}return a!=null&&a.skipBrowserRedirect&&s.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var a;const{data:s,error:i}=n;return i?this._returnResult({data:null,error:i}):await Yt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(a=s==null?void 0:s.session)===null||a===void 0?void 0:a.access_token})})}catch(n){if(Rt(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var a,s;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:c,error:d}=await Yt(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(a=i==null?void 0:i.session)===null||a===void 0?void 0:a.access_token});return d?this._returnResult({data:null,error:d}):(e.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(n){if(Rt(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?sde(e.webauthn.credential_response):ide(e.webauthn.credential_response)})}:{code:e.code}),{data:l,error:c}=await Yt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(a=s==null?void 0:s.session)===null||a===void 0?void 0:a.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(n){if(Rt(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const o=await Yt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(a=s==null?void 0:s.session)===null||a===void 0?void 0:a.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:rde(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:ade(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Rt(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:a}=await this._challenge({factorId:e.factorId});return a?this._returnResult({data:null,error:a}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:a}=await this.getUser();if(a)return{data:null,error:a};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:a},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=HN(a.access_token);let o=null;i.aal&&(o=i.aal);let l=o;((n=(e=a.user.factors)===null||e===void 0?void 0:e.filter(u=>u.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const d=i.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:d},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:a},error:s}=n;return s?this._returnResult({data:null,error:s}):a?await Yt(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:a.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Ys})})}catch(n){if(Rt(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async a=>{const{data:{session:s},error:i}=a;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Ys});const o=await Yt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Ta()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(a){if(Rt(a))return this._returnResult({data:null,error:a});throw a}}async _denyAuthorization(e,n){try{return await this._useSession(async a=>{const{data:{session:s},error:i}=a;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Ys});const o=await Yt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Ta()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(a){if(Rt(a))return this._returnResult({data:null,error:a});throw a}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:a}=e;return a?this._returnResult({data:null,error:a}):n?await Yt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Ys})})}catch(e){if(Rt(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:a},error:s}=n;return s?this._returnResult({data:null,error:s}):a?await Yt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,query:{client_id:e.clientId},xform:()=>({data:{},error:null})}):this._returnResult({data:null,error:new Ys})})}catch(n){if(Rt(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let a=n.keys.find(l=>l.kid===e);if(a)return a;const s=Date.now();if(a=this.jwks.keys.find(l=>l.kid===e),a&&this.jwks_cached_at+fce>s)return a;const{data:i,error:o}=await Yt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,a=i.keys.find(l=>l.kid===e),!a)?null:a}async getClaims(e,n={}){try{let a=e;if(!a){const{data:v,error:x}=await this.getSession();if(x||!v.session)return this._returnResult({data:null,error:x});a=v.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:c}}=HN(a);n!=null&&n.allowExpired||Ice(i.exp);const d=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!d){const{error:v}=await this.getUser(a);if(v)throw v;return{data:{claims:i,header:s,signature:o},error:null}}const u=Lce(s.alg),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,jce(`${l}.${c}`)))throw new TM("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(a){if(Rt(a))return this._returnResult({data:null,error:a});throw a}}}dx.nextInstanceID={};const pde=dx;class xde extends pde{constructor(e){super(e)}}class gde{constructor(e,n,a){var s,i,o;this.supabaseUrl=e,this.supabaseKey=n;const l=cce(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:tce,realtime:rce,auth:Object.assign(Object.assign({},nce),{storageKey:c}),global:ece},u=lce(a??{},d);this.storageKey=(s=u.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=ice(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.accessToken&&this.accessToken().then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new dle(new URL("rest/v1",l).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new Qle(this.storageUrl.href,this.headers,this.fetch,a==null?void 0:a.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new ile(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},a={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,a)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,n;if(this.accessToken)return await this.accessToken();const{data:a}=await this.auth.getSession();return(n=(e=a.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:a,storage:s,userStorage:i,storageKey:o,flowType:l,lock:c,debug:d,throwOnError:u},h,f){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new xde({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),h),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:a,storage:s,userStorage:i,flowType:l,lock:c,debug:d,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(x=>x.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Ele(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,a)=>{this._handleTokenChanged(n,"CLIENT",a==null?void 0:a.access_token)})}_handleTokenChanged(e,n,a){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==a?(this.changedAccessToken=a,this.realtime.setAuth(a)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const vde=(t,e,n)=>new gde(t,e,n);function yde(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}yde()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const bde="https://pjzviwiusmwhaszkonmr.supabase.co",wde="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBqenZpd2l1c213aGFzemtvbm1yIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2Mzc3NzQ0OSwiZXhwIjoyMDc5MzUzNDQ5fQ.eFWWhmPXLYc3RfXaFiDhXgdYsi0pf8oTDc488XGOLWI",os=vde(bde,wde);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _de=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),BH=(...t)=>t.filter((e,n,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var jde={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nde=w.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:s="",children:i,iconNode:o,...l},c)=>w.createElement("svg",{ref:c,...jde,width:e,height:e,stroke:t,strokeWidth:a?Number(n)*24/Number(e):n,className:BH("lucide",s),...l},[...o.map(([d,u])=>w.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=(t,e)=>{const n=w.forwardRef(({className:a,...s},i)=>w.createElement(Nde,{ref:i,iconNode:e,className:BH(`lucide-${_de(t)}`,a),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sde=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],On=be("Activity",Sde);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cde=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],Ede=be("ArrowDownRight",Cde);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ade=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],Mde=be("ArrowDown",Ade);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pde=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Go=be("ArrowLeft",Pde);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tde=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],mf=be("ArrowRight",Tde);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kde=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],Rde=be("ArrowUpRight",kde);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ode=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],Dde=be("ArrowUp",Ode);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ide=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],xr=be("Award",Ide);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lde=[["path",{d:"M4 10a4 4 0 0 1 4-4h8a4 4 0 0 1 4 4v10a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2z",key:"1ol0lm"}],["path",{d:"M8 10h8",key:"c7uz4u"}],["path",{d:"M8 18h8",key:"1no2b1"}],["path",{d:"M8 22v-6a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v6",key:"1fr6do"}],["path",{d:"M9 6V4a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v2",key:"donm21"}]],Fm=be("Backpack",Lde);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fde=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]],$de=be("BellOff",Fde);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ude=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Ps=be("Bell",Ude);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bde=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Oa=be("BookOpen",Bde);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zde=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["path",{d:"M8 11h8",key:"vwpz6n"}],["path",{d:"M8 7h6",key:"1f0q6e"}]],qde=be("BookText",zde);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vde=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],zH=be("Book",Vde);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hde=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],Gde=be("Bookmark",Hde);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wde=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],ho=be("Brain",Wde);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kde=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ya=be("Calendar",Kde);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xde=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],kM=be("Camera",Xde);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yde=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],ff=be("ChartColumn",Yde);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qde=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],Zde=be("CheckCheck",Qde);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jde=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Rn=be("Check",Jde);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eue=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ld=be("ChevronDown",eue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tue=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],w1=be("ChevronLeft",tue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nue=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],qH=be("ChevronRight",nue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rue=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],ux=be("ChevronUp",rue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aue=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Vu=be("CircleAlert",aue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sue=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],_n=be("CircleCheckBig",sue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iue=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],B3=be("CircleHelp",iue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oue=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],RM=be("CircleX",oue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lue=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],VH=be("Circle",lue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cue=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Mr=be("Clock",cue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const due=[["path",{d:"M10.188 8.5A6 6 0 0 1 16 4a1 1 0 0 0 6 6 6 6 0 0 1-3 5.197",key:"erj67n"}],["path",{d:"M13 16a3 3 0 1 1 0 6H7a5 5 0 1 1 4.9-6Z",key:"p44pc9"}]],$m=be("CloudMoon",due);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uue=[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]],hue=be("CloudRain",uue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mue=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],fue=be("Cloud",mue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pue=[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]],xue=be("CodeXml",pue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gue=[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]],KD=be("Code",gue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vue=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],Gn=be("Coins",vue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yue=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Fb=be("Compass",yue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bue=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],hx=be("Copy",bue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wue=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Um=be("CreditCard",wue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ue=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Bn=be("Crown",_ue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jue=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],HH=be("Database",jue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nue=[["rect",{width:"12",height:"12",x:"2",y:"10",rx:"2",ry:"2",key:"6agr2n"}],["path",{d:"m17.92 14 3.5-3.5a2.24 2.24 0 0 0 0-3l-5-4.92a2.24 2.24 0 0 0-3 0L10 6",key:"1o487t"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M10 14h.01",key:"ssrbsk"}],["path",{d:"M15 6h.01",key:"cblpky"}],["path",{d:"M18 9h.01",key:"2061c0"}]],Sue=be("Dices",Nue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cue=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Ng=be("DollarSign",Cue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eue=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Wo=be("Download",Eue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aue=[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]],OM=be("Droplet",Aue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mue=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],GH=be("Droplets",Mue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pue=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],Tue=be("EllipsisVertical",Pue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kue=[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]],Rue=be("Eraser",kue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oue=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],$b=be("ExternalLink",Oue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Due=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],ip=be("EyeOff",Due);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iue=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Vr=be("Eye",Iue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lue=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],Fue=be("Facebook",Lue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ue=[["path",{d:"M12.67 19a2 2 0 0 0 1.416-.588l6.154-6.172a6 6 0 0 0-8.49-8.49L5.586 9.914A2 2 0 0 0 5 11.328V18a1 1 0 0 0 1 1z",key:"18jl4k"}],["path",{d:"M16 8 2 22",key:"vp34q"}],["path",{d:"M17.5 15H9",key:"1oz8nu"}]],Uue=be("Feather",$ue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bue=[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]],zue=be("FileCode",Bue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const que=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],li=be("FileText",que);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vue=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],Hue=be("File",Vue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gue=[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]],Wue=be("Filter",Gue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kue=[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]],z3=be("Flag",Kue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xue=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],ci=be("Flame",Xue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yue=[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]],Que=be("Focus",Yue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zue=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],Jue=be("Gamepad2",Zue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ehe=[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]],WH=be("Gem",ehe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const the=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],_1=be("Gift",the);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nhe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],rhe=be("Globe",nhe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ahe=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],she=be("GraduationCap",ahe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ihe=[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]],ohe=be("Hand",ihe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lhe=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],che=be("HardDrive",lhe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dhe=[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]],mx=be("Headphones",dhe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uhe=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],$n=be("Heart",uhe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hhe=[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}]],DM=be("Hexagon",hhe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mhe=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],fhe=be("History",mhe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const phe=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],KH=be("House",phe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xhe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Sg=be("Image",xhe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ghe=[["path",{d:"M12 12c-2-2.67-4-4-6-4a4 4 0 1 0 0 8c2 0 4-1.33 6-4Zm0 0c2 2.67 4 4 6 4a4 4 0 0 0 0-8c-2 0-4 1.33-6 4Z",key:"1z0uae"}]],XD=be("Infinity",ghe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vhe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],XH=be("Info",vhe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yhe=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],bhe=be("Instagram",yhe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const whe=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],H0=be("Lightbulb",whe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _he=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],zt=be("LoaderCircle",_he);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jhe=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],pf=be("Lock",jhe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nhe=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],She=be("LogOut",Nhe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Che=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],q3=be("Mail",Che);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ehe=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],op=be("MapPin",Ehe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ahe=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],Ts=be("Map",Ahe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mhe=[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],V3=be("Maximize2",Mhe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Phe=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],Ub=be("Medal",Phe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const The=[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]],fu=be("Megaphone",The);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const khe=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],Da=be("MessageCircle",khe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rhe=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],Pr=be("MessageSquare",Rhe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ohe=[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],YH=be("MicOff",Ohe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dhe=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],mo=be("Mic",Dhe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ihe=[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],H3=be("Minimize2",Ihe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lhe=[["path",{d:"M5 12h14",key:"1ays0h"}]],QH=be("Minus",Lhe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fhe=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],td=be("Moon",Fhe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $he=[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}]],Uhe=be("Mountain",$he);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bhe=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]],ZH=be("Move",Bhe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zhe=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],pu=be("Music",zhe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qhe=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],JH=be("Navigation",qhe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vhe=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Ou=be("Package",Vhe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hhe=[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]],xf=be("Palette",Hhe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ghe=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],cd=be("Pause",Ghe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Whe=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],Khe=be("PenLine",Whe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xhe=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],io=be("Pen",Xhe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yhe=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],YD=be("Pencil",Yhe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qhe=[["path",{d:"M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91",key:"z86iuo"}],["line",{x1:"22",x2:"2",y1:"2",y2:"22",key:"11kh81"}]],Zhe=be("PhoneOff",Qhe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jhe=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],eG=be("Phone",Jhe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eme=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],Qa=be("Play",eme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tme=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],_r=be("Plus",tme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nme=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],G0=be("QrCode",nme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rme=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],fx=be("RefreshCw",rme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ame=[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]],G3=be("Reply",ame);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sme=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Bb=be("RotateCcw",sme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ime=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],oa=be("Save",ime);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ome=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],$s=be("Search",ome);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lme=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Hr=be("Send",lme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cme=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],dme=be("Server",cme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ume=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],dd=be("Settings",ume);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hme=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],$l=be("Share2",hme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mme=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],tG=be("ShieldCheck",mme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fme=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],ud=be("Shield",fme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pme=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],Ia=be("ShoppingBag",pme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xme=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],gme=be("ShoppingCart",xme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vme=[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]],nG=be("SkipBack",vme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yme=[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]],rG=be("SkipForward",yme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bme=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],wme=be("Skull",bme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _me=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],aG=be("Smartphone",_me);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jme=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],sG=be("Smile",jme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nme=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}]],Sme=be("Sparkle",Nme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cme=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],_e=be("Sparkles",Cme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eme=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],j1=be("SquarePen",Eme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ame=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Mme=be("Square",Ame);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pme=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Wn=be("Star",Pme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tme=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],IM=be("Sun",Tme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kme=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]],ri=be("Swords",kme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rme=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Ome=be("Tag",Rme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dme=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],dh=be("Target",Dme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ime=[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]],Lme=be("ThumbsDown",Ime);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fme=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],$me=be("ThumbsUp",Fme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ume=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],qr=be("Trash2",Ume);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bme=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],W3=be("Trash",Bme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zme=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Jn=be("TrendingUp",zme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qme=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],N1=be("TriangleAlert",qme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vme=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],Tl=be("Trophy",Vme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hme=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Gme=be("Truck",Hme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wme=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],Kme=be("Twitter",Wme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xme=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],Yme=be("Upload",Xme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qme=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],iG=be("UserMinus",Qme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zme=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Hu=be("UserPlus",Zme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jme=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Gu=be("User",Jme);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const efe=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Kn=be("Users",efe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tfe=[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],oG=be("VideoOff",tfe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nfe=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],La=be("Video",nfe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rfe=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],Ko=be("Volume2",rfe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const afe=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],K3=be("VolumeX",afe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sfe=[["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}],["path",{d:"M5 7c0-1.1.9-2 2-2h10a2 2 0 0 1 2 2v12H5V7Z",key:"1ezoue"}],["path",{d:"M22 19H2",key:"nuriw5"}]],ife=be("Vote",sfe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ofe=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],si=be("WandSparkles",ofe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lfe=[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]],cfe=be("Waves",lfe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dfe=[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]],X3=be("Wind",dfe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ufe=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],nt=be("X",ufe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hfe=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],gr=be("Zap",hfe);function lt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function QD(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function tc(...t){return e=>{let n=!1;const a=t.map(s=>{const i=QD(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<a.length;s++){const i=a[s];typeof i=="function"?i():QD(t[s],null)}}}}function mn(...t){return w.useCallback(tc(...t),t)}function mfe(t,e){const n=w.createContext(e),a=i=>{const{children:o,...l}=i,c=w.useMemo(()=>l,Object.values(l));return r.jsx(n.Provider,{value:c,children:o})};a.displayName=t+"Provider";function s(i){const o=w.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[a,s]}function Fi(t,e=[]){let n=[];function a(i,o){const l=w.createContext(o),c=n.length;n=[...n,o];const d=h=>{var b;const{scope:f,children:v,...x}=h,g=((b=f==null?void 0:f[t])==null?void 0:b[c])||l,y=w.useMemo(()=>x,Object.values(x));return r.jsx(g.Provider,{value:y,children:v})};d.displayName=i+"Provider";function u(h,f){var g;const v=((g=f==null?void 0:f[t])==null?void 0:g[c])||l,x=w.useContext(v);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[d,u]}const s=()=>{const i=n.map(o=>w.createContext(o));return function(l){const c=(l==null?void 0:l[t])||i;return w.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[a,ffe(s,...e)]}function ffe(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const a=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=a.reduce((l,{useScope:c,scopeName:d})=>{const h=c(i)[`__scope${d}`];return{...l,...h}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Jr=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},pfe=S3[" useInsertionEffect ".trim().toString()]||Jr;function Hl({prop:t,defaultProp:e,onChange:n=()=>{},caller:a}){const[s,i,o]=xfe({defaultProp:e,onChange:n}),l=t!==void 0,c=l?t:s;{const u=w.useRef(t!==void 0);w.useEffect(()=>{const h=u.current;h!==l&&console.warn(`${a} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=l},[l,a])}const d=w.useCallback(u=>{var h;if(l){const f=gfe(u)?u(t):u;f!==t&&((h=o.current)==null||h.call(o,f))}else i(u)},[l,t,i,o]);return[c,d]}function xfe({defaultProp:t,onChange:e}){const[n,a]=w.useState(t),s=w.useRef(n),i=w.useRef(e);return pfe(()=>{i.current=e},[e]),w.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,a,i]}function gfe(t){return typeof t=="function"}function vfe(t){const e=yfe(t),n=w.forwardRef((a,s)=>{const{children:i,...o}=a,l=w.Children.toArray(i),c=l.find(wfe);if(c){const d=c.props.children,u=l.map(h=>h===c?w.Children.count(d)>1?w.Children.only(null):w.isValidElement(d)?d.props.children:null:h);return r.jsx(e,{...o,ref:s,children:w.isValidElement(d)?w.cloneElement(d,void 0,u):null})}return r.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function yfe(t){const e=w.forwardRef((n,a)=>{const{children:s,...i}=n;if(w.isValidElement(s)){const o=jfe(s),l=_fe(i,s.props);return s.type!==w.Fragment&&(l.ref=a?tc(a,o):o),w.cloneElement(s,l)}return w.Children.count(s)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var bfe=Symbol("radix.slottable");function wfe(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===bfe}function _fe(t,e){const n={...e};for(const a in e){const s=t[a],i=e[a];/^on[A-Z]/.test(a)?s&&i?n[a]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(n[a]=s):a==="style"?n[a]={...s,...i}:a==="className"&&(n[a]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function jfe(t){var a,s;let e=(a=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:a.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Nfe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],qt=Nfe.reduce((t,e)=>{const n=vfe(`Primitive.${e}`),a=w.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(c,{...l,ref:i})});return a.displayName=`Primitive.${e}`,{...t,[e]:a}},{});function lG(t,e){t&&_g.flushSync(()=>t.dispatchEvent(e))}function ZD(t){const e=Sfe(t),n=w.forwardRef((a,s)=>{const{children:i,...o}=a,l=w.Children.toArray(i),c=l.find(Efe);if(c){const d=c.props.children,u=l.map(h=>h===c?w.Children.count(d)>1?w.Children.only(null):w.isValidElement(d)?d.props.children:null:h);return r.jsx(e,{...o,ref:s,children:w.isValidElement(d)?w.cloneElement(d,void 0,u):null})}return r.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function Sfe(t){const e=w.forwardRef((n,a)=>{const{children:s,...i}=n;if(w.isValidElement(s)){const o=Mfe(s),l=Afe(i,s.props);return s.type!==w.Fragment&&(l.ref=a?tc(a,o):o),w.cloneElement(s,l)}return w.Children.count(s)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Cfe=Symbol("radix.slottable");function Efe(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Cfe}function Afe(t,e){const n={...e};for(const a in e){const s=t[a],i=e[a];/^on[A-Z]/.test(a)?s&&i?n[a]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(n[a]=s):a==="style"?n[a]={...s,...i}:a==="className"&&(n[a]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function Mfe(t){var a,s;let e=(a=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:a.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function S1(t){const e=t+"CollectionProvider",[n,a]=Fi(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:y,children:b}=g,_=ae.useRef(null),j=ae.useRef(new Map).current;return r.jsx(s,{scope:y,itemMap:j,collectionRef:_,children:b})};o.displayName=e;const l=t+"CollectionSlot",c=ZD(l),d=ae.forwardRef((g,y)=>{const{scope:b,children:_}=g,j=i(l,b),S=mn(y,j.collectionRef);return r.jsx(c,{ref:S,children:_})});d.displayName=l;const u=t+"CollectionItemSlot",h="data-radix-collection-item",f=ZD(u),v=ae.forwardRef((g,y)=>{const{scope:b,children:_,...j}=g,S=ae.useRef(null),C=mn(y,S),E=i(u,b);return ae.useEffect(()=>(E.itemMap.set(S,{ref:S,...j}),()=>void E.itemMap.delete(S))),r.jsx(f,{[h]:"",ref:C,children:_})});v.displayName=u;function x(g){const y=i(t+"CollectionConsumer",g);return ae.useCallback(()=>{const _=y.collectionRef.current;if(!_)return[];const j=Array.from(_.querySelectorAll(`[${h}]`));return Array.from(y.itemMap.values()).sort((E,P)=>j.indexOf(E.ref.current)-j.indexOf(P.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:d,ItemSlot:v},x,a]}var Pfe=w.createContext(void 0);function lp(t){const e=w.useContext(Pfe);return t||e||"ltr"}function Sa(t){const e=w.useRef(t);return w.useEffect(()=>{e.current=t}),w.useMemo(()=>(...n)=>{var a;return(a=e.current)==null?void 0:a.call(e,...n)},[])}function Tfe(t,e=globalThis==null?void 0:globalThis.document){const n=Sa(t);w.useEffect(()=>{const a=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",a,{capture:!0}),()=>e.removeEventListener("keydown",a,{capture:!0})},[n,e])}var kfe="DismissableLayer",LM="dismissableLayer.update",Rfe="dismissableLayer.pointerDownOutside",Ofe="dismissableLayer.focusOutside",JD,cG=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),C1=w.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=t,d=w.useContext(cG),[u,h]=w.useState(null),f=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=w.useState({}),x=mn(e,P=>h(P)),g=Array.from(d.layers),[y]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),b=g.indexOf(y),_=u?g.indexOf(u):-1,j=d.layersWithOutsidePointerEventsDisabled.size>0,S=_>=b,C=Lfe(P=>{const T=P.target,M=[...d.branches].some(k=>k.contains(T));!S||M||(s==null||s(P),o==null||o(P),P.defaultPrevented||l==null||l())},f),E=Ffe(P=>{const T=P.target;[...d.branches].some(k=>k.contains(T))||(i==null||i(P),o==null||o(P),P.defaultPrevented||l==null||l())},f);return Tfe(P=>{_===d.layers.size-1&&(a==null||a(P),!P.defaultPrevented&&l&&(P.preventDefault(),l()))},f),w.useEffect(()=>{if(u)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(JD=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),eI(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=JD)}},[u,f,n,d]),w.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),eI())},[u,d]),w.useEffect(()=>{const P=()=>v({});return document.addEventListener(LM,P),()=>document.removeEventListener(LM,P)},[]),r.jsx(qt.div,{...c,ref:x,style:{pointerEvents:j?S?"auto":"none":void 0,...t.style},onFocusCapture:lt(t.onFocusCapture,E.onFocusCapture),onBlurCapture:lt(t.onBlurCapture,E.onBlurCapture),onPointerDownCapture:lt(t.onPointerDownCapture,C.onPointerDownCapture)})});C1.displayName=kfe;var Dfe="DismissableLayerBranch",Ife=w.forwardRef((t,e)=>{const n=w.useContext(cG),a=w.useRef(null),s=mn(e,a);return w.useEffect(()=>{const i=a.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),r.jsx(qt.div,{...t,ref:s})});Ife.displayName=Dfe;function Lfe(t,e=globalThis==null?void 0:globalThis.document){const n=Sa(t),a=w.useRef(!1),s=w.useRef(()=>{});return w.useEffect(()=>{const i=l=>{if(l.target&&!a.current){let c=function(){dG(Rfe,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);a.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>a.current=!0}}function Ffe(t,e=globalThis==null?void 0:globalThis.document){const n=Sa(t),a=w.useRef(!1);return w.useEffect(()=>{const s=i=>{i.target&&!a.current&&dG(Ofe,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function eI(){const t=new CustomEvent(LM);document.dispatchEvent(t)}function dG(t,e,n,{discrete:a}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),a?lG(s,i):s.dispatchEvent(i)}var KN=0;function Y3(){w.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??tI()),document.body.insertAdjacentElement("beforeend",t[1]??tI()),KN++,()=>{KN===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),KN--}},[])}function tI(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var XN="focusScope.autoFocusOnMount",YN="focusScope.autoFocusOnUnmount",nI={bubbles:!1,cancelable:!0},$fe="FocusScope",E1=w.forwardRef((t,e)=>{const{loop:n=!1,trapped:a=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[l,c]=w.useState(null),d=Sa(s),u=Sa(i),h=w.useRef(null),f=mn(e,g=>c(g)),v=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(a){let g=function(j){if(v.paused||!l)return;const S=j.target;l.contains(S)?h.current=S:Rc(h.current,{select:!0})},y=function(j){if(v.paused||!l)return;const S=j.relatedTarget;S!==null&&(l.contains(S)||Rc(h.current,{select:!0}))},b=function(j){if(document.activeElement===document.body)for(const C of j)C.removedNodes.length>0&&Rc(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",y);const _=new MutationObserver(b);return l&&_.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",y),_.disconnect()}}},[a,l,v.paused]),w.useEffect(()=>{if(l){aI.add(v);const g=document.activeElement;if(!l.contains(g)){const b=new CustomEvent(XN,nI);l.addEventListener(XN,d),l.dispatchEvent(b),b.defaultPrevented||(Ufe(Hfe(uG(l)),{select:!0}),document.activeElement===g&&Rc(l))}return()=>{l.removeEventListener(XN,d),setTimeout(()=>{const b=new CustomEvent(YN,nI);l.addEventListener(YN,u),l.dispatchEvent(b),b.defaultPrevented||Rc(g??document.body,{select:!0}),l.removeEventListener(YN,u),aI.remove(v)},0)}}},[l,d,u,v]);const x=w.useCallback(g=>{if(!n&&!a||v.paused)return;const y=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,b=document.activeElement;if(y&&b){const _=g.currentTarget,[j,S]=Bfe(_);j&&S?!g.shiftKey&&b===S?(g.preventDefault(),n&&Rc(j,{select:!0})):g.shiftKey&&b===j&&(g.preventDefault(),n&&Rc(S,{select:!0})):b===_&&g.preventDefault()}},[n,a,v.paused]);return r.jsx(qt.div,{tabIndex:-1,...o,ref:f,onKeyDown:x})});E1.displayName=$fe;function Ufe(t,{select:e=!1}={}){const n=document.activeElement;for(const a of t)if(Rc(a,{select:e}),document.activeElement!==n)return}function Bfe(t){const e=uG(t),n=rI(e,t),a=rI(e.reverse(),t);return[n,a]}function uG(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const s=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||s?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function rI(t,e){for(const n of t)if(!zfe(n,{upTo:e}))return n}function zfe(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function qfe(t){return t instanceof HTMLInputElement&&"select"in t}function Rc(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&qfe(t)&&e&&t.select()}}var aI=Vfe();function Vfe(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=sI(t,e),t.unshift(e)},remove(e){var n;t=sI(t,e),(n=t[0])==null||n.resume()}}}function sI(t,e){const n=[...t],a=n.indexOf(e);return a!==-1&&n.splice(a,1),n}function Hfe(t){return t.filter(e=>e.tagName!=="A")}var Gfe=S3[" useId ".trim().toString()]||(()=>{}),Wfe=0;function $o(t){const[e,n]=w.useState(Gfe());return Jr(()=>{n(a=>a??String(Wfe++))},[t]),e?`radix-${e}`:""}const Kfe=["top","right","bottom","left"],hd=Math.min,ei=Math.max,zb=Math.round,cy=Math.floor,Uo=t=>({x:t,y:t}),Xfe={left:"right",right:"left",bottom:"top",top:"bottom"},Yfe={start:"end",end:"start"};function FM(t,e,n){return ei(t,hd(e,n))}function Gl(t,e){return typeof t=="function"?t(e):t}function Wl(t){return t.split("-")[0]}function cp(t){return t.split("-")[1]}function Q3(t){return t==="x"?"y":"x"}function Z3(t){return t==="y"?"height":"width"}const Qfe=new Set(["top","bottom"]);function Io(t){return Qfe.has(Wl(t))?"y":"x"}function J3(t){return Q3(Io(t))}function Zfe(t,e,n){n===void 0&&(n=!1);const a=cp(t),s=J3(t),i=Z3(s);let o=s==="x"?a===(n?"end":"start")?"right":"left":a==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=qb(o)),[o,qb(o)]}function Jfe(t){const e=qb(t);return[$M(t),e,$M(e)]}function $M(t){return t.replace(/start|end/g,e=>Yfe[e])}const iI=["left","right"],oI=["right","left"],epe=["top","bottom"],tpe=["bottom","top"];function npe(t,e,n){switch(t){case"top":case"bottom":return n?e?oI:iI:e?iI:oI;case"left":case"right":return e?epe:tpe;default:return[]}}function rpe(t,e,n,a){const s=cp(t);let i=npe(Wl(t),n==="start",a);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map($M)))),i}function qb(t){return t.replace(/left|right|bottom|top/g,e=>Xfe[e])}function ape(t){return{top:0,right:0,bottom:0,left:0,...t}}function hG(t){return typeof t!="number"?ape(t):{top:t,right:t,bottom:t,left:t}}function Vb(t){const{x:e,y:n,width:a,height:s}=t;return{width:a,height:s,top:n,left:e,right:e+a,bottom:n+s,x:e,y:n}}function lI(t,e,n){let{reference:a,floating:s}=t;const i=Io(e),o=J3(e),l=Z3(o),c=Wl(e),d=i==="y",u=a.x+a.width/2-s.width/2,h=a.y+a.height/2-s.height/2,f=a[l]/2-s[l]/2;let v;switch(c){case"top":v={x:u,y:a.y-s.height};break;case"bottom":v={x:u,y:a.y+a.height};break;case"right":v={x:a.x+a.width,y:h};break;case"left":v={x:a.x-s.width,y:h};break;default:v={x:a.x,y:a.y}}switch(cp(e)){case"start":v[o]-=f*(n&&d?-1:1);break;case"end":v[o]+=f*(n&&d?-1:1);break}return v}const spe=async(t,e,n)=>{const{placement:a="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:u,y:h}=lI(d,a,c),f=a,v={},x=0;for(let g=0;g<l.length;g++){const{name:y,fn:b}=l[g],{x:_,y:j,data:S,reset:C}=await b({x:u,y:h,initialPlacement:a,placement:f,strategy:s,middlewareData:v,rects:d,platform:o,elements:{reference:t,floating:e}});u=_??u,h=j??h,v={...v,[y]:{...v[y],...S}},C&&x<=50&&(x++,typeof C=="object"&&(C.placement&&(f=C.placement),C.rects&&(d=C.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):C.rects),{x:u,y:h}=lI(d,f,c)),g=-1)}return{x:u,y:h,placement:f,strategy:s,middlewareData:v}};async function px(t,e){var n;e===void 0&&(e={});const{x:a,y:s,platform:i,rects:o,elements:l,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:f=!1,padding:v=0}=Gl(e,t),x=hG(v),y=l[f?h==="floating"?"reference":"floating":h],b=Vb(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(y)))==null||n?y:y.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),_=h==="floating"?{x:a,y:s,width:o.floating.width,height:o.floating.height}:o.reference,j=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),S=await(i.isElement==null?void 0:i.isElement(j))?await(i.getScale==null?void 0:i.getScale(j))||{x:1,y:1}:{x:1,y:1},C=Vb(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:_,offsetParent:j,strategy:c}):_);return{top:(b.top-C.top+x.top)/S.y,bottom:(C.bottom-b.bottom+x.bottom)/S.y,left:(b.left-C.left+x.left)/S.x,right:(C.right-b.right+x.right)/S.x}}const ipe=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:a,placement:s,rects:i,platform:o,elements:l,middlewareData:c}=e,{element:d,padding:u=0}=Gl(t,e)||{};if(d==null)return{};const h=hG(u),f={x:n,y:a},v=J3(s),x=Z3(v),g=await o.getDimensions(d),y=v==="y",b=y?"top":"left",_=y?"bottom":"right",j=y?"clientHeight":"clientWidth",S=i.reference[x]+i.reference[v]-f[v]-i.floating[x],C=f[v]-i.reference[v],E=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let P=E?E[j]:0;(!P||!await(o.isElement==null?void 0:o.isElement(E)))&&(P=l.floating[j]||i.floating[x]);const T=S/2-C/2,M=P/2-g[x]/2-1,k=hd(h[b],M),O=hd(h[_],M),$=k,F=P-g[x]-O,B=P/2-g[x]/2+T,G=FM($,B,F),I=!c.arrow&&cp(s)!=null&&B!==G&&i.reference[x]/2-(B<$?k:O)-g[x]/2<0,L=I?B<$?B-$:B-F:0;return{[v]:f[v]+L,data:{[v]:G,centerOffset:B-G-L,...I&&{alignmentOffset:L}},reset:I}}}),ope=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,a;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=e,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:g=!0,...y}=Gl(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const b=Wl(s),_=Io(l),j=Wl(l)===l,S=await(c.isRTL==null?void 0:c.isRTL(d.floating)),C=f||(j||!g?[qb(l)]:Jfe(l)),E=x!=="none";!f&&E&&C.push(...rpe(l,g,x,S));const P=[l,...C],T=await px(e,y),M=[];let k=((a=i.flip)==null?void 0:a.overflows)||[];if(u&&M.push(T[b]),h){const B=Zfe(s,o,S);M.push(T[B[0]],T[B[1]])}if(k=[...k,{placement:s,overflows:M}],!M.every(B=>B<=0)){var O,$;const B=(((O=i.flip)==null?void 0:O.index)||0)+1,G=P[B];if(G&&(!(h==="alignment"?_!==Io(G):!1)||k.every(U=>Io(U.placement)===_?U.overflows[0]>0:!0)))return{data:{index:B,overflows:k},reset:{placement:G}};let I=($=k.filter(L=>L.overflows[0]<=0).sort((L,U)=>L.overflows[1]-U.overflows[1])[0])==null?void 0:$.placement;if(!I)switch(v){case"bestFit":{var F;const L=(F=k.filter(U=>{if(E){const z=Io(U.placement);return z===_||z==="y"}return!0}).map(U=>[U.placement,U.overflows.filter(z=>z>0).reduce((z,K)=>z+K,0)]).sort((U,z)=>U[1]-z[1])[0])==null?void 0:F[0];L&&(I=L);break}case"initialPlacement":I=l;break}if(s!==I)return{reset:{placement:I}}}return{}}}};function cI(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function dI(t){return Kfe.some(e=>t[e]>=0)}const lpe=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:a="referenceHidden",...s}=Gl(t,e);switch(a){case"referenceHidden":{const i=await px(e,{...s,elementContext:"reference"}),o=cI(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:dI(o)}}}case"escaped":{const i=await px(e,{...s,altBoundary:!0}),o=cI(i,n.floating);return{data:{escapedOffsets:o,escaped:dI(o)}}}default:return{}}}}},mG=new Set(["left","top"]);async function cpe(t,e){const{placement:n,platform:a,elements:s}=t,i=await(a.isRTL==null?void 0:a.isRTL(s.floating)),o=Wl(n),l=cp(n),c=Io(n)==="y",d=mG.has(o)?-1:1,u=i&&c?-1:1,h=Gl(e,t);let{mainAxis:f,crossAxis:v,alignmentAxis:x}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof x=="number"&&(v=l==="end"?x*-1:x),c?{x:v*u,y:f*d}:{x:f*d,y:v*u}}const dpe=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,a;const{x:s,y:i,placement:o,middlewareData:l}=e,c=await cpe(e,t);return o===((n=l.offset)==null?void 0:n.placement)&&(a=l.arrow)!=null&&a.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},upe=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:a,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:y=>{let{x:b,y:_}=y;return{x:b,y:_}}},...c}=Gl(t,e),d={x:n,y:a},u=await px(e,c),h=Io(Wl(s)),f=Q3(h);let v=d[f],x=d[h];if(i){const y=f==="y"?"top":"left",b=f==="y"?"bottom":"right",_=v+u[y],j=v-u[b];v=FM(_,v,j)}if(o){const y=h==="y"?"top":"left",b=h==="y"?"bottom":"right",_=x+u[y],j=x-u[b];x=FM(_,x,j)}const g=l.fn({...e,[f]:v,[h]:x});return{...g,data:{x:g.x-n,y:g.y-a,enabled:{[f]:i,[h]:o}}}}}},hpe=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:a,placement:s,rects:i,middlewareData:o}=e,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=Gl(t,e),u={x:n,y:a},h=Io(s),f=Q3(h);let v=u[f],x=u[h];const g=Gl(l,e),y=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const j=f==="y"?"height":"width",S=i.reference[f]-i.floating[j]+y.mainAxis,C=i.reference[f]+i.reference[j]-y.mainAxis;v<S?v=S:v>C&&(v=C)}if(d){var b,_;const j=f==="y"?"width":"height",S=mG.has(Wl(s)),C=i.reference[h]-i.floating[j]+(S&&((b=o.offset)==null?void 0:b[h])||0)+(S?0:y.crossAxis),E=i.reference[h]+i.reference[j]+(S?0:((_=o.offset)==null?void 0:_[h])||0)-(S?y.crossAxis:0);x<C?x=C:x>E&&(x=E)}return{[f]:v,[h]:x}}}},mpe=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,a;const{placement:s,rects:i,platform:o,elements:l}=e,{apply:c=()=>{},...d}=Gl(t,e),u=await px(e,d),h=Wl(s),f=cp(s),v=Io(s)==="y",{width:x,height:g}=i.floating;let y,b;h==="top"||h==="bottom"?(y=h,b=f===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(b=h,y=f==="end"?"top":"bottom");const _=g-u.top-u.bottom,j=x-u.left-u.right,S=hd(g-u[y],_),C=hd(x-u[b],j),E=!e.middlewareData.shift;let P=S,T=C;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(T=j),(a=e.middlewareData.shift)!=null&&a.enabled.y&&(P=_),E&&!f){const k=ei(u.left,0),O=ei(u.right,0),$=ei(u.top,0),F=ei(u.bottom,0);v?T=x-2*(k!==0||O!==0?k+O:ei(u.left,u.right)):P=g-2*($!==0||F!==0?$+F:ei(u.top,u.bottom))}await c({...e,availableWidth:T,availableHeight:P});const M=await o.getDimensions(l.floating);return x!==M.width||g!==M.height?{reset:{rects:!0}}:{}}}};function A1(){return typeof window<"u"}function dp(t){return fG(t)?(t.nodeName||"").toLowerCase():"#document"}function ii(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function tl(t){var e;return(e=(fG(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function fG(t){return A1()?t instanceof Node||t instanceof ii(t).Node:!1}function xo(t){return A1()?t instanceof Element||t instanceof ii(t).Element:!1}function Xo(t){return A1()?t instanceof HTMLElement||t instanceof ii(t).HTMLElement:!1}function uI(t){return!A1()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ii(t).ShadowRoot}const fpe=new Set(["inline","contents"]);function Cg(t){const{overflow:e,overflowX:n,overflowY:a,display:s}=go(t);return/auto|scroll|overlay|hidden|clip/.test(e+a+n)&&!fpe.has(s)}const ppe=new Set(["table","td","th"]);function xpe(t){return ppe.has(dp(t))}const gpe=[":popover-open",":modal"];function M1(t){return gpe.some(e=>{try{return t.matches(e)}catch{return!1}})}const vpe=["transform","translate","scale","rotate","perspective"],ype=["transform","translate","scale","rotate","perspective","filter"],bpe=["paint","layout","strict","content"];function e4(t){const e=t4(),n=xo(t)?go(t):t;return vpe.some(a=>n[a]?n[a]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||ype.some(a=>(n.willChange||"").includes(a))||bpe.some(a=>(n.contain||"").includes(a))}function wpe(t){let e=md(t);for(;Xo(e)&&!gf(e);){if(e4(e))return e;if(M1(e))return null;e=md(e)}return null}function t4(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const _pe=new Set(["html","body","#document"]);function gf(t){return _pe.has(dp(t))}function go(t){return ii(t).getComputedStyle(t)}function P1(t){return xo(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function md(t){if(dp(t)==="html")return t;const e=t.assignedSlot||t.parentNode||uI(t)&&t.host||tl(t);return uI(e)?e.host:e}function pG(t){const e=md(t);return gf(e)?t.ownerDocument?t.ownerDocument.body:t.body:Xo(e)&&Cg(e)?e:pG(e)}function xx(t,e,n){var a;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=pG(t),i=s===((a=t.ownerDocument)==null?void 0:a.body),o=ii(s);if(i){const l=UM(o);return e.concat(o,o.visualViewport||[],Cg(s)?s:[],l&&n?xx(l):[])}return e.concat(s,xx(s,[],n))}function UM(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function xG(t){const e=go(t);let n=parseFloat(e.width)||0,a=parseFloat(e.height)||0;const s=Xo(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:a,l=zb(n)!==i||zb(a)!==o;return l&&(n=i,a=o),{width:n,height:a,$:l}}function n4(t){return xo(t)?t:t.contextElement}function Bm(t){const e=n4(t);if(!Xo(e))return Uo(1);const n=e.getBoundingClientRect(),{width:a,height:s,$:i}=xG(e);let o=(i?zb(n.width):n.width)/a,l=(i?zb(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const jpe=Uo(0);function gG(t){const e=ii(t);return!t4()||!e.visualViewport?jpe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Npe(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==ii(t)?!1:e}function Wu(t,e,n,a){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=n4(t);let o=Uo(1);e&&(a?xo(a)&&(o=Bm(a)):o=Bm(t));const l=Npe(i,n,a)?gG(i):Uo(0);let c=(s.left+l.x)/o.x,d=(s.top+l.y)/o.y,u=s.width/o.x,h=s.height/o.y;if(i){const f=ii(i),v=a&&xo(a)?ii(a):a;let x=f,g=UM(x);for(;g&&a&&v!==x;){const y=Bm(g),b=g.getBoundingClientRect(),_=go(g),j=b.left+(g.clientLeft+parseFloat(_.paddingLeft))*y.x,S=b.top+(g.clientTop+parseFloat(_.paddingTop))*y.y;c*=y.x,d*=y.y,u*=y.x,h*=y.y,c+=j,d+=S,x=ii(g),g=UM(x)}}return Vb({width:u,height:h,x:c,y:d})}function T1(t,e){const n=P1(t).scrollLeft;return e?e.left+n:Wu(tl(t)).left+n}function vG(t,e){const n=t.getBoundingClientRect(),a=n.left+e.scrollLeft-T1(t,n),s=n.top+e.scrollTop;return{x:a,y:s}}function Spe(t){let{elements:e,rect:n,offsetParent:a,strategy:s}=t;const i=s==="fixed",o=tl(a),l=e?M1(e.floating):!1;if(a===o||l&&i)return n;let c={scrollLeft:0,scrollTop:0},d=Uo(1);const u=Uo(0),h=Xo(a);if((h||!h&&!i)&&((dp(a)!=="body"||Cg(o))&&(c=P1(a)),Xo(a))){const v=Wu(a);d=Bm(a),u.x=v.x+a.clientLeft,u.y=v.y+a.clientTop}const f=o&&!h&&!i?vG(o,c):Uo(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+u.x+f.x,y:n.y*d.y-c.scrollTop*d.y+u.y+f.y}}function Cpe(t){return Array.from(t.getClientRects())}function Epe(t){const e=tl(t),n=P1(t),a=t.ownerDocument.body,s=ei(e.scrollWidth,e.clientWidth,a.scrollWidth,a.clientWidth),i=ei(e.scrollHeight,e.clientHeight,a.scrollHeight,a.clientHeight);let o=-n.scrollLeft+T1(t);const l=-n.scrollTop;return go(a).direction==="rtl"&&(o+=ei(e.clientWidth,a.clientWidth)-s),{width:s,height:i,x:o,y:l}}const hI=25;function Ape(t,e){const n=ii(t),a=tl(t),s=n.visualViewport;let i=a.clientWidth,o=a.clientHeight,l=0,c=0;if(s){i=s.width,o=s.height;const u=t4();(!u||u&&e==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}const d=T1(a);if(d<=0){const u=a.ownerDocument,h=u.body,f=getComputedStyle(h),v=u.compatMode==="CSS1Compat"&&parseFloat(f.marginLeft)+parseFloat(f.marginRight)||0,x=Math.abs(a.clientWidth-h.clientWidth-v);x<=hI&&(i-=x)}else d<=hI&&(i+=d);return{width:i,height:o,x:l,y:c}}const Mpe=new Set(["absolute","fixed"]);function Ppe(t,e){const n=Wu(t,!0,e==="fixed"),a=n.top+t.clientTop,s=n.left+t.clientLeft,i=Xo(t)?Bm(t):Uo(1),o=t.clientWidth*i.x,l=t.clientHeight*i.y,c=s*i.x,d=a*i.y;return{width:o,height:l,x:c,y:d}}function mI(t,e,n){let a;if(e==="viewport")a=Ape(t,n);else if(e==="document")a=Epe(tl(t));else if(xo(e))a=Ppe(e,n);else{const s=gG(t);a={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Vb(a)}function yG(t,e){const n=md(t);return n===e||!xo(n)||gf(n)?!1:go(n).position==="fixed"||yG(n,e)}function Tpe(t,e){const n=e.get(t);if(n)return n;let a=xx(t,[],!1).filter(l=>xo(l)&&dp(l)!=="body"),s=null;const i=go(t).position==="fixed";let o=i?md(t):t;for(;xo(o)&&!gf(o);){const l=go(o),c=e4(o);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&Mpe.has(s.position)||Cg(o)&&!c&&yG(t,o))?a=a.filter(u=>u!==o):s=l,o=md(o)}return e.set(t,a),a}function kpe(t){let{element:e,boundary:n,rootBoundary:a,strategy:s}=t;const o=[...n==="clippingAncestors"?M1(e)?[]:Tpe(e,this._c):[].concat(n),a],l=o[0],c=o.reduce((d,u)=>{const h=mI(e,u,s);return d.top=ei(h.top,d.top),d.right=hd(h.right,d.right),d.bottom=hd(h.bottom,d.bottom),d.left=ei(h.left,d.left),d},mI(e,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Rpe(t){const{width:e,height:n}=xG(t);return{width:e,height:n}}function Ope(t,e,n){const a=Xo(e),s=tl(e),i=n==="fixed",o=Wu(t,!0,i,e);let l={scrollLeft:0,scrollTop:0};const c=Uo(0);function d(){c.x=T1(s)}if(a||!a&&!i)if((dp(e)!=="body"||Cg(s))&&(l=P1(e)),a){const v=Wu(e,!0,i,e);c.x=v.x+e.clientLeft,c.y=v.y+e.clientTop}else s&&d();i&&!a&&s&&d();const u=s&&!a&&!i?vG(s,l):Uo(0),h=o.left+l.scrollLeft-c.x-u.x,f=o.top+l.scrollTop-c.y-u.y;return{x:h,y:f,width:o.width,height:o.height}}function QN(t){return go(t).position==="static"}function fI(t,e){if(!Xo(t)||go(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return tl(t)===n&&(n=n.ownerDocument.body),n}function bG(t,e){const n=ii(t);if(M1(t))return n;if(!Xo(t)){let s=md(t);for(;s&&!gf(s);){if(xo(s)&&!QN(s))return s;s=md(s)}return n}let a=fI(t,e);for(;a&&xpe(a)&&QN(a);)a=fI(a,e);return a&&gf(a)&&QN(a)&&!e4(a)?n:a||wpe(t)||n}const Dpe=async function(t){const e=this.getOffsetParent||bG,n=this.getDimensions,a=await n(t.floating);return{reference:Ope(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function Ipe(t){return go(t).direction==="rtl"}const Lpe={convertOffsetParentRelativeRectToViewportRelativeRect:Spe,getDocumentElement:tl,getClippingRect:kpe,getOffsetParent:bG,getElementRects:Dpe,getClientRects:Cpe,getDimensions:Rpe,getScale:Bm,isElement:xo,isRTL:Ipe};function wG(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Fpe(t,e){let n=null,a;const s=tl(t);function i(){var l;clearTimeout(a),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const d=t.getBoundingClientRect(),{left:u,top:h,width:f,height:v}=d;if(l||e(),!f||!v)return;const x=cy(h),g=cy(s.clientWidth-(u+f)),y=cy(s.clientHeight-(h+v)),b=cy(u),j={rootMargin:-x+"px "+-g+"px "+-y+"px "+-b+"px",threshold:ei(0,hd(1,c))||1};let S=!0;function C(E){const P=E[0].intersectionRatio;if(P!==c){if(!S)return o();P?o(!1,P):a=setTimeout(()=>{o(!1,1e-7)},1e3)}P===1&&!wG(d,t.getBoundingClientRect())&&o(),S=!1}try{n=new IntersectionObserver(C,{...j,root:s.ownerDocument})}catch{n=new IntersectionObserver(C,j)}n.observe(t)}return o(!0),i}function $pe(t,e,n,a){a===void 0&&(a={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=a,d=n4(t),u=s||i?[...d?xx(d):[],...xx(e)]:[];u.forEach(b=>{s&&b.addEventListener("scroll",n,{passive:!0}),i&&b.addEventListener("resize",n)});const h=d&&l?Fpe(d,n):null;let f=-1,v=null;o&&(v=new ResizeObserver(b=>{let[_]=b;_&&_.target===d&&v&&(v.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var j;(j=v)==null||j.observe(e)})),n()}),d&&!c&&v.observe(d),v.observe(e));let x,g=c?Wu(t):null;c&&y();function y(){const b=Wu(t);g&&!wG(g,b)&&n(),g=b,x=requestAnimationFrame(y)}return n(),()=>{var b;u.forEach(_=>{s&&_.removeEventListener("scroll",n),i&&_.removeEventListener("resize",n)}),h==null||h(),(b=v)==null||b.disconnect(),v=null,c&&cancelAnimationFrame(x)}}const Upe=dpe,Bpe=upe,zpe=ope,qpe=mpe,Vpe=lpe,pI=ipe,Hpe=hpe,Gpe=(t,e,n)=>{const a=new Map,s={platform:Lpe,...n},i={...s.platform,_c:a};return spe(t,e,{...s,platform:i})};var Wpe=typeof document<"u",Kpe=function(){},fb=Wpe?w.useLayoutEffect:Kpe;function Hb(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,a,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(a=n;a--!==0;)if(!Hb(t[a],e[a]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(a=n;a--!==0;)if(!{}.hasOwnProperty.call(e,s[a]))return!1;for(a=n;a--!==0;){const i=s[a];if(!(i==="_owner"&&t.$$typeof)&&!Hb(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function _G(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function xI(t,e){const n=_G(t);return Math.round(e*n)/n}function ZN(t){const e=w.useRef(t);return fb(()=>{e.current=t}),e}function Xpe(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:a=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=t,[u,h]=w.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,v]=w.useState(a);Hb(f,a)||v(a);const[x,g]=w.useState(null),[y,b]=w.useState(null),_=w.useCallback(U=>{U!==E.current&&(E.current=U,g(U))},[]),j=w.useCallback(U=>{U!==P.current&&(P.current=U,b(U))},[]),S=i||x,C=o||y,E=w.useRef(null),P=w.useRef(null),T=w.useRef(u),M=c!=null,k=ZN(c),O=ZN(s),$=ZN(d),F=w.useCallback(()=>{if(!E.current||!P.current)return;const U={placement:e,strategy:n,middleware:f};O.current&&(U.platform=O.current),Gpe(E.current,P.current,U).then(z=>{const K={...z,isPositioned:$.current!==!1};B.current&&!Hb(T.current,K)&&(T.current=K,_g.flushSync(()=>{h(K)}))})},[f,e,n,O,$]);fb(()=>{d===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,h(U=>({...U,isPositioned:!1})))},[d]);const B=w.useRef(!1);fb(()=>(B.current=!0,()=>{B.current=!1}),[]),fb(()=>{if(S&&(E.current=S),C&&(P.current=C),S&&C){if(k.current)return k.current(S,C,F);F()}},[S,C,F,k,M]);const G=w.useMemo(()=>({reference:E,floating:P,setReference:_,setFloating:j}),[_,j]),I=w.useMemo(()=>({reference:S,floating:C}),[S,C]),L=w.useMemo(()=>{const U={position:n,left:0,top:0};if(!I.floating)return U;const z=xI(I.floating,u.x),K=xI(I.floating,u.y);return l?{...U,transform:"translate("+z+"px, "+K+"px)",..._G(I.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:z,top:K}},[n,l,I.floating,u.x,u.y]);return w.useMemo(()=>({...u,update:F,refs:G,elements:I,floatingStyles:L}),[u,F,G,I,L])}const Ype=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:a,padding:s}=typeof t=="function"?t(n):t;return a&&e(a)?a.current!=null?pI({element:a.current,padding:s}).fn(n):{}:a?pI({element:a,padding:s}).fn(n):{}}}},Qpe=(t,e)=>({...Upe(t),options:[t,e]}),Zpe=(t,e)=>({...Bpe(t),options:[t,e]}),Jpe=(t,e)=>({...Hpe(t),options:[t,e]}),e0e=(t,e)=>({...zpe(t),options:[t,e]}),t0e=(t,e)=>({...qpe(t),options:[t,e]}),n0e=(t,e)=>({...Vpe(t),options:[t,e]}),r0e=(t,e)=>({...Ype(t),options:[t,e]});var a0e="Arrow",jG=w.forwardRef((t,e)=>{const{children:n,width:a=10,height:s=5,...i}=t;return r.jsx(qt.svg,{...i,ref:e,width:a,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:r.jsx("polygon",{points:"0,0 30,0 15,10"})})});jG.displayName=a0e;var s0e=jG;function k1(t){const[e,n]=w.useState(void 0);return Jr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const a=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=t.offsetWidth,l=t.offsetHeight;n({width:o,height:l})});return a.observe(t,{box:"border-box"}),()=>a.unobserve(t)}else n(void 0)},[t]),e}var r4="Popper",[NG,R1]=Fi(r4),[i0e,SG]=NG(r4),CG=t=>{const{__scopePopper:e,children:n}=t,[a,s]=w.useState(null);return r.jsx(i0e,{scope:e,anchor:a,onAnchorChange:s,children:n})};CG.displayName=r4;var EG="PopperAnchor",AG=w.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:a,...s}=t,i=SG(EG,n),o=w.useRef(null),l=mn(e,o),c=w.useRef(null);return w.useEffect(()=>{const d=c.current;c.current=(a==null?void 0:a.current)||o.current,d!==c.current&&i.onAnchorChange(c.current)}),a?null:r.jsx(qt.div,{...s,ref:l})});AG.displayName=EG;var a4="PopperContent",[o0e,l0e]=NG(a4),MG=w.forwardRef((t,e)=>{var xe,Ie,fe,Ne,Le,re;const{__scopePopper:n,side:a="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:v="optimized",onPlaced:x,...g}=t,y=SG(a4,n),[b,_]=w.useState(null),j=mn(e,he=>_(he)),[S,C]=w.useState(null),E=k1(S),P=(E==null?void 0:E.width)??0,T=(E==null?void 0:E.height)??0,M=a+(i!=="center"?"-"+i:""),k=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},O=Array.isArray(d)?d:[d],$=O.length>0,F={padding:k,boundary:O.filter(d0e),altBoundary:$},{refs:B,floatingStyles:G,placement:I,isPositioned:L,middlewareData:U}=Xpe({strategy:"fixed",placement:M,whileElementsMounted:(...he)=>$pe(...he,{animationFrame:v==="always"}),elements:{reference:y.anchor},middleware:[Qpe({mainAxis:s+T,alignmentAxis:o}),c&&Zpe({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?Jpe():void 0,...F}),c&&e0e({...F}),t0e({...F,apply:({elements:he,rects:Ee,availableWidth:Xe,availableHeight:Ve})=>{const{width:at,height:de}=Ee.reference,Z=he.floating.style;Z.setProperty("--radix-popper-available-width",`${Xe}px`),Z.setProperty("--radix-popper-available-height",`${Ve}px`),Z.setProperty("--radix-popper-anchor-width",`${at}px`),Z.setProperty("--radix-popper-anchor-height",`${de}px`)}}),S&&r0e({element:S,padding:l}),u0e({arrowWidth:P,arrowHeight:T}),f&&n0e({strategy:"referenceHidden",...F})]}),[z,K]=kG(I),V=Sa(x);Jr(()=>{L&&(V==null||V())},[L,V]);const Y=(xe=U.arrow)==null?void 0:xe.x,ee=(Ie=U.arrow)==null?void 0:Ie.y,se=((fe=U.arrow)==null?void 0:fe.centerOffset)!==0,[pe,Pe]=w.useState();return Jr(()=>{b&&Pe(window.getComputedStyle(b).zIndex)},[b]),r.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:L?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:pe,"--radix-popper-transform-origin":[(Ne=U.transformOrigin)==null?void 0:Ne.x,(Le=U.transformOrigin)==null?void 0:Le.y].join(" "),...((re=U.hide)==null?void 0:re.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:r.jsx(o0e,{scope:n,placedSide:z,onArrowChange:C,arrowX:Y,arrowY:ee,shouldHideArrow:se,children:r.jsx(qt.div,{"data-side":z,"data-align":K,...g,ref:j,style:{...g.style,animation:L?void 0:"none"}})})})});MG.displayName=a4;var PG="PopperArrow",c0e={top:"bottom",right:"left",bottom:"top",left:"right"},TG=w.forwardRef(function(e,n){const{__scopePopper:a,...s}=e,i=l0e(PG,a),o=c0e[i.placedSide];return r.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:r.jsx(s0e,{...s,ref:n,style:{...s.style,display:"block"}})})});TG.displayName=PG;function d0e(t){return t!==null}var u0e=t=>({name:"transformOrigin",options:t,fn(e){var y,b,_;const{placement:n,rects:a,middlewareData:s}=e,o=((y=s.arrow)==null?void 0:y.centerOffset)!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[d,u]=kG(n),h={start:"0%",center:"50%",end:"100%"}[u],f=(((b=s.arrow)==null?void 0:b.x)??0)+l/2,v=(((_=s.arrow)==null?void 0:_.y)??0)+c/2;let x="",g="";return d==="bottom"?(x=o?h:`${f}px`,g=`${-c}px`):d==="top"?(x=o?h:`${f}px`,g=`${a.floating.height+c}px`):d==="right"?(x=`${-c}px`,g=o?h:`${v}px`):d==="left"&&(x=`${a.floating.width+c}px`,g=o?h:`${v}px`),{data:{x,y:g}}}});function kG(t){const[e,n="center"]=t.split("-");return[e,n]}var RG=CG,OG=AG,DG=MG,IG=TG,h0e="Portal",O1=w.forwardRef((t,e)=>{var l;const{container:n,...a}=t,[s,i]=w.useState(!1);Jr(()=>i(!0),[]);const o=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?Joe.createPortal(r.jsx(qt.div,{...a,ref:e}),o):null});O1.displayName=h0e;function m0e(t,e){return w.useReducer((n,a)=>e[n][a]??n,t)}var Us=t=>{const{present:e,children:n}=t,a=f0e(e),s=typeof n=="function"?n({present:a.isPresent}):w.Children.only(n),i=mn(a.ref,p0e(s));return typeof n=="function"||a.isPresent?w.cloneElement(s,{ref:i}):null};Us.displayName="Presence";function f0e(t){const[e,n]=w.useState(),a=w.useRef(null),s=w.useRef(t),i=w.useRef("none"),o=t?"mounted":"unmounted",[l,c]=m0e(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const d=dy(a.current);i.current=l==="mounted"?d:"none"},[l]),Jr(()=>{const d=a.current,u=s.current;if(u!==t){const f=i.current,v=dy(d);t?c("MOUNT"):v==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&f!==v?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),Jr(()=>{if(e){let d;const u=e.ownerDocument.defaultView??window,h=v=>{const g=dy(a.current).includes(CSS.escape(v.animationName));if(v.target===e&&g&&(c("ANIMATION_END"),!s.current)){const y=e.style.animationFillMode;e.style.animationFillMode="forwards",d=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=y)})}},f=v=>{v.target===e&&(i.current=dy(a.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{u.clearTimeout(d),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:w.useCallback(d=>{a.current=d?getComputedStyle(d):null,n(d)},[])}}function dy(t){return(t==null?void 0:t.animationName)||"none"}function p0e(t){var a,s;let e=(a=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:a.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var JN="rovingFocusGroup.onEntryFocus",x0e={bubbles:!1,cancelable:!0},Eg="RovingFocusGroup",[BM,LG,g0e]=S1(Eg),[v0e,D1]=Fi(Eg,[g0e]),[y0e,b0e]=v0e(Eg),FG=w.forwardRef((t,e)=>r.jsx(BM.Provider,{scope:t.__scopeRovingFocusGroup,children:r.jsx(BM.Slot,{scope:t.__scopeRovingFocusGroup,children:r.jsx(w0e,{...t,ref:e})})}));FG.displayName=Eg;var w0e=w.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:a,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...h}=t,f=w.useRef(null),v=mn(e,f),x=lp(i),[g,y]=Hl({prop:o,defaultProp:l??null,onChange:c,caller:Eg}),[b,_]=w.useState(!1),j=Sa(d),S=LG(n),C=w.useRef(!1),[E,P]=w.useState(0);return w.useEffect(()=>{const T=f.current;if(T)return T.addEventListener(JN,j),()=>T.removeEventListener(JN,j)},[j]),r.jsx(y0e,{scope:n,orientation:a,dir:x,loop:s,currentTabStopId:g,onItemFocus:w.useCallback(T=>y(T),[y]),onItemShiftTab:w.useCallback(()=>_(!0),[]),onFocusableItemAdd:w.useCallback(()=>P(T=>T+1),[]),onFocusableItemRemove:w.useCallback(()=>P(T=>T-1),[]),children:r.jsx(qt.div,{tabIndex:b||E===0?-1:0,"data-orientation":a,...h,ref:v,style:{outline:"none",...t.style},onMouseDown:lt(t.onMouseDown,()=>{C.current=!0}),onFocus:lt(t.onFocus,T=>{const M=!C.current;if(T.target===T.currentTarget&&M&&!b){const k=new CustomEvent(JN,x0e);if(T.currentTarget.dispatchEvent(k),!k.defaultPrevented){const O=S().filter(I=>I.focusable),$=O.find(I=>I.active),F=O.find(I=>I.id===g),G=[$,F,...O].filter(Boolean).map(I=>I.ref.current);BG(G,u)}}C.current=!1}),onBlur:lt(t.onBlur,()=>_(!1))})})}),$G="RovingFocusGroupItem",UG=w.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:a=!0,active:s=!1,tabStopId:i,children:o,...l}=t,c=$o(),d=i||c,u=b0e($G,n),h=u.currentTabStopId===d,f=LG(n),{onFocusableItemAdd:v,onFocusableItemRemove:x,currentTabStopId:g}=u;return w.useEffect(()=>{if(a)return v(),()=>x()},[a,v,x]),r.jsx(BM.ItemSlot,{scope:n,id:d,focusable:a,active:s,children:r.jsx(qt.span,{tabIndex:h?0:-1,"data-orientation":u.orientation,...l,ref:e,onMouseDown:lt(t.onMouseDown,y=>{a?u.onItemFocus(d):y.preventDefault()}),onFocus:lt(t.onFocus,()=>u.onItemFocus(d)),onKeyDown:lt(t.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){u.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const b=N0e(y,u.orientation,u.dir);if(b!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let j=f().filter(S=>S.focusable).map(S=>S.ref.current);if(b==="last")j.reverse();else if(b==="prev"||b==="next"){b==="prev"&&j.reverse();const S=j.indexOf(y.currentTarget);j=u.loop?S0e(j,S+1):j.slice(S+1)}setTimeout(()=>BG(j))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:g!=null}):o})})});UG.displayName=$G;var _0e={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function j0e(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function N0e(t,e,n){const a=j0e(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return _0e[a]}function BG(t,e=!1){const n=document.activeElement;for(const a of t)if(a===n||(a.focus({preventScroll:e}),document.activeElement!==n))return}function S0e(t,e){return t.map((n,a)=>t[(e+a)%t.length])}var zG=FG,qG=UG;function C0e(t){const e=E0e(t),n=w.forwardRef((a,s)=>{const{children:i,...o}=a,l=w.Children.toArray(i),c=l.find(M0e);if(c){const d=c.props.children,u=l.map(h=>h===c?w.Children.count(d)>1?w.Children.only(null):w.isValidElement(d)?d.props.children:null:h);return r.jsx(e,{...o,ref:s,children:w.isValidElement(d)?w.cloneElement(d,void 0,u):null})}return r.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function E0e(t){const e=w.forwardRef((n,a)=>{const{children:s,...i}=n;if(w.isValidElement(s)){const o=T0e(s),l=P0e(i,s.props);return s.type!==w.Fragment&&(l.ref=a?tc(a,o):o),w.cloneElement(s,l)}return w.Children.count(s)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var A0e=Symbol("radix.slottable");function M0e(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===A0e}function P0e(t,e){const n={...e};for(const a in e){const s=t[a],i=e[a];/^on[A-Z]/.test(a)?s&&i?n[a]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(n[a]=s):a==="style"?n[a]={...s,...i}:a==="className"&&(n[a]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function T0e(t){var a,s;let e=(a=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:a.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var k0e=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Kh=new WeakMap,uy=new WeakMap,hy={},e2=0,VG=function(t){return t&&(t.host||VG(t.parentNode))},R0e=function(t,e){return e.map(function(n){if(t.contains(n))return n;var a=VG(n);return a&&t.contains(a)?a:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},O0e=function(t,e,n,a){var s=R0e(e,Array.isArray(t)?t:[t]);hy[n]||(hy[n]=new WeakMap);var i=hy[n],o=[],l=new Set,c=new Set(s),d=function(h){!h||l.has(h)||(l.add(h),d(h.parentNode))};s.forEach(d);var u=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(f){if(l.has(f))u(f);else try{var v=f.getAttribute(a),x=v!==null&&v!=="false",g=(Kh.get(f)||0)+1,y=(i.get(f)||0)+1;Kh.set(f,g),i.set(f,y),o.push(f),g===1&&x&&uy.set(f,!0),y===1&&f.setAttribute(n,"true"),x||f.setAttribute(a,"true")}catch(b){console.error("aria-hidden: cannot operate on ",f,b)}})};return u(e),l.clear(),e2++,function(){o.forEach(function(h){var f=Kh.get(h)-1,v=i.get(h)-1;Kh.set(h,f),i.set(h,v),f||(uy.has(h)||h.removeAttribute(a),uy.delete(h)),v||h.removeAttribute(n)}),e2--,e2||(Kh=new WeakMap,Kh=new WeakMap,uy=new WeakMap,hy={})}},s4=function(t,e,n){n===void 0&&(n="data-aria-hidden");var a=Array.from(Array.isArray(t)?t:[t]),s=k0e(t);return s?(a.push.apply(a,Array.from(s.querySelectorAll("[aria-live], script"))),O0e(a,s,n,"aria-hidden")):function(){return null}},pb="right-scroll-bar-position",xb="width-before-scroll-bar",D0e="with-scroll-bars-hidden",I0e="--removed-body-scroll-bar-size";function t2(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function L0e(t,e){var n=w.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(a){var s=n.value;s!==a&&(n.value=a,n.callback(a,s))}}}})[0];return n.callback=e,n.facade}var F0e=typeof window<"u"?w.useLayoutEffect:w.useEffect,gI=new WeakMap;function $0e(t,e){var n=L0e(null,function(a){return t.forEach(function(s){return t2(s,a)})});return F0e(function(){var a=gI.get(n);if(a){var s=new Set(a),i=new Set(t),o=n.current;s.forEach(function(l){i.has(l)||t2(l,null)}),i.forEach(function(l){s.has(l)||t2(l,o)})}gI.set(n,t)},[t]),n}function U0e(t){return t}function B0e(t,e){e===void 0&&(e=U0e);var n=[],a=!1,s={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,a);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(a=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){a=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(i),o=n}var c=function(){var u=o;o=[],u.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),n}}}};return s}function z0e(t){t===void 0&&(t={});var e=B0e(null);return e.options=Mi({async:!0,ssr:!1},t),e}var HG=function(t){var e=t.sideCar,n=gd(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=e.read();if(!a)throw new Error("Sidecar medium not found");return w.createElement(a,Mi({},n))};HG.isSideCarExport=!0;function q0e(t,e){return t.useMedium(e),HG}var GG=z0e(),n2=function(){},I1=w.forwardRef(function(t,e){var n=w.useRef(null),a=w.useState({onScrollCapture:n2,onWheelCapture:n2,onTouchMoveCapture:n2}),s=a[0],i=a[1],o=t.forwardProps,l=t.children,c=t.className,d=t.removeScrollBar,u=t.enabled,h=t.shards,f=t.sideCar,v=t.noRelative,x=t.noIsolation,g=t.inert,y=t.allowPinchZoom,b=t.as,_=b===void 0?"div":b,j=t.gapMode,S=gd(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=f,E=$0e([n,e]),P=Mi(Mi({},S),s);return w.createElement(w.Fragment,null,u&&w.createElement(C,{sideCar:GG,removeScrollBar:d,shards:h,noRelative:v,noIsolation:x,inert:g,setCallbacks:i,allowPinchZoom:!!y,lockRef:n,gapMode:j}),o?w.cloneElement(w.Children.only(l),Mi(Mi({},P),{ref:E})):w.createElement(_,Mi({},P,{className:c,ref:E}),l))});I1.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};I1.classNames={fullWidth:xb,zeroRight:pb};var V0e=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function H0e(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=V0e();return e&&t.setAttribute("nonce",e),t}function G0e(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function W0e(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var K0e=function(){var t=0,e=null;return{add:function(n){t==0&&(e=H0e())&&(G0e(e,n),W0e(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},X0e=function(){var t=K0e();return function(e,n){w.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},WG=function(){var t=X0e(),e=function(n){var a=n.styles,s=n.dynamic;return t(a,s),null};return e},Y0e={left:0,top:0,right:0,gap:0},r2=function(t){return parseInt(t||"",10)||0},Q0e=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],a=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[r2(n),r2(a),r2(s)]},Z0e=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Y0e;var e=Q0e(t),n=document.documentElement.clientWidth,a=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,a-n+e[2]-e[0])}},J0e=WG(),zm="data-scroll-locked",exe=function(t,e,n,a){var s=t.left,i=t.top,o=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(D0e,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(l,"px ").concat(a,`;
  }
  body[`).concat(zm,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(a,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(a,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(pb,` {
    right: `).concat(l,"px ").concat(a,`;
  }
  
  .`).concat(xb,` {
    margin-right: `).concat(l,"px ").concat(a,`;
  }
  
  .`).concat(pb," .").concat(pb,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(xb," .").concat(xb,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(zm,`] {
    `).concat(I0e,": ").concat(l,`px;
  }
`)},vI=function(){var t=parseInt(document.body.getAttribute(zm)||"0",10);return isFinite(t)?t:0},txe=function(){w.useEffect(function(){return document.body.setAttribute(zm,(vI()+1).toString()),function(){var t=vI()-1;t<=0?document.body.removeAttribute(zm):document.body.setAttribute(zm,t.toString())}},[])},nxe=function(t){var e=t.noRelative,n=t.noImportant,a=t.gapMode,s=a===void 0?"margin":a;txe();var i=w.useMemo(function(){return Z0e(s)},[s]);return w.createElement(J0e,{styles:exe(i,!e,s,n?"":"!important")})},zM=!1;if(typeof window<"u")try{var my=Object.defineProperty({},"passive",{get:function(){return zM=!0,!0}});window.addEventListener("test",my,my),window.removeEventListener("test",my,my)}catch{zM=!1}var Xh=zM?{passive:!1}:!1,rxe=function(t){return t.tagName==="TEXTAREA"},KG=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!rxe(t)&&n[e]==="visible")},axe=function(t){return KG(t,"overflowY")},sxe=function(t){return KG(t,"overflowX")},yI=function(t,e){var n=e.ownerDocument,a=e;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var s=XG(t,a);if(s){var i=YG(t,a),o=i[1],l=i[2];if(o>l)return!0}a=a.parentNode}while(a&&a!==n.body);return!1},ixe=function(t){var e=t.scrollTop,n=t.scrollHeight,a=t.clientHeight;return[e,n,a]},oxe=function(t){var e=t.scrollLeft,n=t.scrollWidth,a=t.clientWidth;return[e,n,a]},XG=function(t,e){return t==="v"?axe(e):sxe(e)},YG=function(t,e){return t==="v"?ixe(e):oxe(e)},lxe=function(t,e){return t==="h"&&e==="rtl"?-1:1},cxe=function(t,e,n,a,s){var i=lxe(t,window.getComputedStyle(e).direction),o=i*a,l=n.target,c=e.contains(l),d=!1,u=o>0,h=0,f=0;do{if(!l)break;var v=YG(t,l),x=v[0],g=v[1],y=v[2],b=g-y-i*x;(x||b)&&XG(t,l)&&(h+=b,f+=x);var _=l.parentNode;l=_&&_.nodeType===Node.DOCUMENT_FRAGMENT_NODE?_.host:_}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(u&&Math.abs(h)<1||!u&&Math.abs(f)<1)&&(d=!0),d},fy=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},bI=function(t){return[t.deltaX,t.deltaY]},wI=function(t){return t&&"current"in t?t.current:t},dxe=function(t,e){return t[0]===e[0]&&t[1]===e[1]},uxe=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},hxe=0,Yh=[];function mxe(t){var e=w.useRef([]),n=w.useRef([0,0]),a=w.useRef(),s=w.useState(hxe++)[0],i=w.useState(WG)[0],o=w.useRef(t);w.useEffect(function(){o.current=t},[t]),w.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var g=k3([t.lockRef.current],(t.shards||[]).map(wI),!0).filter(Boolean);return g.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var l=w.useCallback(function(g,y){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var b=fy(g),_=n.current,j="deltaX"in g?g.deltaX:_[0]-b[0],S="deltaY"in g?g.deltaY:_[1]-b[1],C,E=g.target,P=Math.abs(j)>Math.abs(S)?"h":"v";if("touches"in g&&P==="h"&&E.type==="range")return!1;var T=yI(P,E);if(!T)return!0;if(T?C=P:(C=P==="v"?"h":"v",T=yI(P,E)),!T)return!1;if(!a.current&&"changedTouches"in g&&(j||S)&&(a.current=C),!C)return!0;var M=a.current||C;return cxe(M,y,g,M==="h"?j:S)},[]),c=w.useCallback(function(g){var y=g;if(!(!Yh.length||Yh[Yh.length-1]!==i)){var b="deltaY"in y?bI(y):fy(y),_=e.current.filter(function(C){return C.name===y.type&&(C.target===y.target||y.target===C.shadowParent)&&dxe(C.delta,b)})[0];if(_&&_.should){y.cancelable&&y.preventDefault();return}if(!_){var j=(o.current.shards||[]).map(wI).filter(Boolean).filter(function(C){return C.contains(y.target)}),S=j.length>0?l(y,j[0]):!o.current.noIsolation;S&&y.cancelable&&y.preventDefault()}}},[]),d=w.useCallback(function(g,y,b,_){var j={name:g,delta:y,target:b,should:_,shadowParent:fxe(b)};e.current.push(j),setTimeout(function(){e.current=e.current.filter(function(S){return S!==j})},1)},[]),u=w.useCallback(function(g){n.current=fy(g),a.current=void 0},[]),h=w.useCallback(function(g){d(g.type,bI(g),g.target,l(g,t.lockRef.current))},[]),f=w.useCallback(function(g){d(g.type,fy(g),g.target,l(g,t.lockRef.current))},[]);w.useEffect(function(){return Yh.push(i),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,Xh),document.addEventListener("touchmove",c,Xh),document.addEventListener("touchstart",u,Xh),function(){Yh=Yh.filter(function(g){return g!==i}),document.removeEventListener("wheel",c,Xh),document.removeEventListener("touchmove",c,Xh),document.removeEventListener("touchstart",u,Xh)}},[]);var v=t.removeScrollBar,x=t.inert;return w.createElement(w.Fragment,null,x?w.createElement(i,{styles:uxe(s)}):null,v?w.createElement(nxe,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function fxe(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const pxe=q0e(GG,mxe);var L1=w.forwardRef(function(t,e){return w.createElement(I1,Mi({},t,{ref:e,sideCar:pxe}))});L1.classNames=I1.classNames;var qM=["Enter"," "],xxe=["ArrowDown","PageUp","Home"],QG=["ArrowUp","PageDown","End"],gxe=[...xxe,...QG],vxe={ltr:[...qM,"ArrowRight"],rtl:[...qM,"ArrowLeft"]},yxe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ag="Menu",[gx,bxe,wxe]=S1(Ag),[uh,ZG]=Fi(Ag,[wxe,R1,D1]),F1=R1(),JG=D1(),[_xe,hh]=uh(Ag),[jxe,Mg]=uh(Ag),eW=t=>{const{__scopeMenu:e,open:n=!1,children:a,dir:s,onOpenChange:i,modal:o=!0}=t,l=F1(e),[c,d]=w.useState(null),u=w.useRef(!1),h=Sa(i),f=lp(s);return w.useEffect(()=>{const v=()=>{u.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>u.current=!1;return document.addEventListener("keydown",v,{capture:!0}),()=>{document.removeEventListener("keydown",v,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),r.jsx(RG,{...l,children:r.jsx(_xe,{scope:e,open:n,onOpenChange:h,content:c,onContentChange:d,children:r.jsx(jxe,{scope:e,onClose:w.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:u,dir:f,modal:o,children:a})})})};eW.displayName=Ag;var Nxe="MenuAnchor",i4=w.forwardRef((t,e)=>{const{__scopeMenu:n,...a}=t,s=F1(n);return r.jsx(OG,{...s,...a,ref:e})});i4.displayName=Nxe;var o4="MenuPortal",[Sxe,tW]=uh(o4,{forceMount:void 0}),nW=t=>{const{__scopeMenu:e,forceMount:n,children:a,container:s}=t,i=hh(o4,e);return r.jsx(Sxe,{scope:e,forceMount:n,children:r.jsx(Us,{present:n||i.open,children:r.jsx(O1,{asChild:!0,container:s,children:a})})})};nW.displayName=o4;var Oi="MenuContent",[Cxe,l4]=uh(Oi),rW=w.forwardRef((t,e)=>{const n=tW(Oi,t.__scopeMenu),{forceMount:a=n.forceMount,...s}=t,i=hh(Oi,t.__scopeMenu),o=Mg(Oi,t.__scopeMenu);return r.jsx(gx.Provider,{scope:t.__scopeMenu,children:r.jsx(Us,{present:a||i.open,children:r.jsx(gx.Slot,{scope:t.__scopeMenu,children:o.modal?r.jsx(Exe,{...s,ref:e}):r.jsx(Axe,{...s,ref:e})})})})}),Exe=w.forwardRef((t,e)=>{const n=hh(Oi,t.__scopeMenu),a=w.useRef(null),s=mn(e,a);return w.useEffect(()=>{const i=a.current;if(i)return s4(i)},[]),r.jsx(c4,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:lt(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),Axe=w.forwardRef((t,e)=>{const n=hh(Oi,t.__scopeMenu);return r.jsx(c4,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Mxe=C0e("MenuContent.ScrollLock"),c4=w.forwardRef((t,e)=>{const{__scopeMenu:n,loop:a=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:f,onDismiss:v,disableOutsideScroll:x,...g}=t,y=hh(Oi,n),b=Mg(Oi,n),_=F1(n),j=JG(n),S=bxe(n),[C,E]=w.useState(null),P=w.useRef(null),T=mn(e,P,y.onContentChange),M=w.useRef(0),k=w.useRef(""),O=w.useRef(0),$=w.useRef(null),F=w.useRef("right"),B=w.useRef(0),G=x?L1:w.Fragment,I=x?{as:Mxe,allowPinchZoom:!0}:void 0,L=z=>{var xe,Ie;const K=k.current+z,V=S().filter(fe=>!fe.disabled),Y=document.activeElement,ee=(xe=V.find(fe=>fe.ref.current===Y))==null?void 0:xe.textValue,se=V.map(fe=>fe.textValue),pe=Bxe(se,K,ee),Pe=(Ie=V.find(fe=>fe.textValue===pe))==null?void 0:Ie.ref.current;(function fe(Ne){k.current=Ne,window.clearTimeout(M.current),Ne!==""&&(M.current=window.setTimeout(()=>fe(""),1e3))})(K),Pe&&setTimeout(()=>Pe.focus())};w.useEffect(()=>()=>window.clearTimeout(M.current),[]),Y3();const U=w.useCallback(z=>{var V,Y;return F.current===((V=$.current)==null?void 0:V.side)&&qxe(z,(Y=$.current)==null?void 0:Y.area)},[]);return r.jsx(Cxe,{scope:n,searchRef:k,onItemEnter:w.useCallback(z=>{U(z)&&z.preventDefault()},[U]),onItemLeave:w.useCallback(z=>{var K;U(z)||((K=P.current)==null||K.focus(),E(null))},[U]),onTriggerLeave:w.useCallback(z=>{U(z)&&z.preventDefault()},[U]),pointerGraceTimerRef:O,onPointerGraceIntentChange:w.useCallback(z=>{$.current=z},[]),children:r.jsx(G,{...I,children:r.jsx(E1,{asChild:!0,trapped:s,onMountAutoFocus:lt(i,z=>{var K;z.preventDefault(),(K=P.current)==null||K.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:r.jsx(C1,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:f,onDismiss:v,children:r.jsx(zG,{asChild:!0,...j,dir:b.dir,orientation:"vertical",loop:a,currentTabStopId:C,onCurrentTabStopIdChange:E,onEntryFocus:lt(c,z=>{b.isUsingKeyboardRef.current||z.preventDefault()}),preventScrollOnEntryFocus:!0,children:r.jsx(DG,{role:"menu","aria-orientation":"vertical","data-state":yW(y.open),"data-radix-menu-content":"",dir:b.dir,..._,...g,ref:T,style:{outline:"none",...g.style},onKeyDown:lt(g.onKeyDown,z=>{const V=z.target.closest("[data-radix-menu-content]")===z.currentTarget,Y=z.ctrlKey||z.altKey||z.metaKey,ee=z.key.length===1;V&&(z.key==="Tab"&&z.preventDefault(),!Y&&ee&&L(z.key));const se=P.current;if(z.target!==se||!gxe.includes(z.key))return;z.preventDefault();const Pe=S().filter(xe=>!xe.disabled).map(xe=>xe.ref.current);QG.includes(z.key)&&Pe.reverse(),$xe(Pe)}),onBlur:lt(t.onBlur,z=>{z.currentTarget.contains(z.target)||(window.clearTimeout(M.current),k.current="")}),onPointerMove:lt(t.onPointerMove,vx(z=>{const K=z.target,V=B.current!==z.clientX;if(z.currentTarget.contains(K)&&V){const Y=z.clientX>B.current?"right":"left";F.current=Y,B.current=z.clientX}}))})})})})})})});rW.displayName=Oi;var Pxe="MenuGroup",d4=w.forwardRef((t,e)=>{const{__scopeMenu:n,...a}=t;return r.jsx(qt.div,{role:"group",...a,ref:e})});d4.displayName=Pxe;var Txe="MenuLabel",aW=w.forwardRef((t,e)=>{const{__scopeMenu:n,...a}=t;return r.jsx(qt.div,{...a,ref:e})});aW.displayName=Txe;var Gb="MenuItem",_I="menu.itemSelect",$1=w.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:a,...s}=t,i=w.useRef(null),o=Mg(Gb,t.__scopeMenu),l=l4(Gb,t.__scopeMenu),c=mn(e,i),d=w.useRef(!1),u=()=>{const h=i.current;if(!n&&h){const f=new CustomEvent(_I,{bubbles:!0,cancelable:!0});h.addEventListener(_I,v=>a==null?void 0:a(v),{once:!0}),lG(h,f),f.defaultPrevented?d.current=!1:o.onClose()}};return r.jsx(sW,{...s,ref:c,disabled:n,onClick:lt(t.onClick,u),onPointerDown:h=>{var f;(f=t.onPointerDown)==null||f.call(t,h),d.current=!0},onPointerUp:lt(t.onPointerUp,h=>{var f;d.current||(f=h.currentTarget)==null||f.click()}),onKeyDown:lt(t.onKeyDown,h=>{const f=l.searchRef.current!=="";n||f&&h.key===" "||qM.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});$1.displayName=Gb;var sW=w.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:a=!1,textValue:s,...i}=t,o=l4(Gb,n),l=JG(n),c=w.useRef(null),d=mn(e,c),[u,h]=w.useState(!1),[f,v]=w.useState("");return w.useEffect(()=>{const x=c.current;x&&v((x.textContent??"").trim())},[i.children]),r.jsx(gx.ItemSlot,{scope:n,disabled:a,textValue:s??f,children:r.jsx(qG,{asChild:!0,...l,focusable:!a,children:r.jsx(qt.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":a||void 0,"data-disabled":a?"":void 0,...i,ref:d,onPointerMove:lt(t.onPointerMove,vx(x=>{a?o.onItemLeave(x):(o.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:lt(t.onPointerLeave,vx(x=>o.onItemLeave(x))),onFocus:lt(t.onFocus,()=>h(!0)),onBlur:lt(t.onBlur,()=>h(!1))})})})}),kxe="MenuCheckboxItem",iW=w.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:a,...s}=t;return r.jsx(uW,{scope:t.__scopeMenu,checked:n,children:r.jsx($1,{role:"menuitemcheckbox","aria-checked":Wb(n)?"mixed":n,...s,ref:e,"data-state":h4(n),onSelect:lt(s.onSelect,()=>a==null?void 0:a(Wb(n)?!0:!n),{checkForDefaultPrevented:!1})})})});iW.displayName=kxe;var oW="MenuRadioGroup",[Rxe,Oxe]=uh(oW,{value:void 0,onValueChange:()=>{}}),lW=w.forwardRef((t,e)=>{const{value:n,onValueChange:a,...s}=t,i=Sa(a);return r.jsx(Rxe,{scope:t.__scopeMenu,value:n,onValueChange:i,children:r.jsx(d4,{...s,ref:e})})});lW.displayName=oW;var cW="MenuRadioItem",dW=w.forwardRef((t,e)=>{const{value:n,...a}=t,s=Oxe(cW,t.__scopeMenu),i=n===s.value;return r.jsx(uW,{scope:t.__scopeMenu,checked:i,children:r.jsx($1,{role:"menuitemradio","aria-checked":i,...a,ref:e,"data-state":h4(i),onSelect:lt(a.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});dW.displayName=cW;var u4="MenuItemIndicator",[uW,Dxe]=uh(u4,{checked:!1}),hW=w.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:a,...s}=t,i=Dxe(u4,n);return r.jsx(Us,{present:a||Wb(i.checked)||i.checked===!0,children:r.jsx(qt.span,{...s,ref:e,"data-state":h4(i.checked)})})});hW.displayName=u4;var Ixe="MenuSeparator",mW=w.forwardRef((t,e)=>{const{__scopeMenu:n,...a}=t;return r.jsx(qt.div,{role:"separator","aria-orientation":"horizontal",...a,ref:e})});mW.displayName=Ixe;var Lxe="MenuArrow",fW=w.forwardRef((t,e)=>{const{__scopeMenu:n,...a}=t,s=F1(n);return r.jsx(IG,{...s,...a,ref:e})});fW.displayName=Lxe;var Fxe="MenuSub",[tXe,pW]=uh(Fxe),I0="MenuSubTrigger",xW=w.forwardRef((t,e)=>{const n=hh(I0,t.__scopeMenu),a=Mg(I0,t.__scopeMenu),s=pW(I0,t.__scopeMenu),i=l4(I0,t.__scopeMenu),o=w.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,d={__scopeMenu:t.__scopeMenu},u=w.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return w.useEffect(()=>u,[u]),w.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),r.jsx(i4,{asChild:!0,...d,children:r.jsx(sW,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":yW(n.open),...t,ref:tc(e,s.onTriggerChange),onClick:h=>{var f;(f=t.onClick)==null||f.call(t,h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:lt(t.onPointerMove,vx(h=>{i.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:lt(t.onPointerLeave,vx(h=>{var v,x;u();const f=(v=n.content)==null?void 0:v.getBoundingClientRect();if(f){const g=(x=n.content)==null?void 0:x.dataset.side,y=g==="right",b=y?-5:5,_=f[y?"left":"right"],j=f[y?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+b,y:h.clientY},{x:_,y:f.top},{x:j,y:f.top},{x:j,y:f.bottom},{x:_,y:f.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:lt(t.onKeyDown,h=>{var v;const f=i.searchRef.current!=="";t.disabled||f&&h.key===" "||vxe[a.dir].includes(h.key)&&(n.onOpenChange(!0),(v=n.content)==null||v.focus(),h.preventDefault())})})})});xW.displayName=I0;var gW="MenuSubContent",vW=w.forwardRef((t,e)=>{const n=tW(Oi,t.__scopeMenu),{forceMount:a=n.forceMount,...s}=t,i=hh(Oi,t.__scopeMenu),o=Mg(Oi,t.__scopeMenu),l=pW(gW,t.__scopeMenu),c=w.useRef(null),d=mn(e,c);return r.jsx(gx.Provider,{scope:t.__scopeMenu,children:r.jsx(Us,{present:a||i.open,children:r.jsx(gx.Slot,{scope:t.__scopeMenu,children:r.jsx(c4,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var h;o.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:lt(t.onFocusOutside,u=>{u.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:lt(t.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:lt(t.onKeyDown,u=>{var v;const h=u.currentTarget.contains(u.target),f=yxe[o.dir].includes(u.key);h&&f&&(i.onOpenChange(!1),(v=l.trigger)==null||v.focus(),u.preventDefault())})})})})})});vW.displayName=gW;function yW(t){return t?"open":"closed"}function Wb(t){return t==="indeterminate"}function h4(t){return Wb(t)?"indeterminate":t?"checked":"unchecked"}function $xe(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function Uxe(t,e){return t.map((n,a)=>t[(e+a)%t.length])}function Bxe(t,e,n){const s=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=Uxe(t,Math.max(i,0));s.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function zxe(t,e){const{x:n,y:a}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const l=e[i],c=e[o],d=l.x,u=l.y,h=c.x,f=c.y;u>a!=f>a&&n<(h-d)*(a-u)/(f-u)+d&&(s=!s)}return s}function qxe(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return zxe(n,e)}function vx(t){return e=>e.pointerType==="mouse"?t(e):void 0}var Vxe=eW,Hxe=i4,Gxe=nW,Wxe=rW,Kxe=d4,Xxe=aW,Yxe=$1,Qxe=iW,Zxe=lW,Jxe=dW,ege=hW,tge=mW,nge=fW,rge=xW,age=vW,U1="DropdownMenu",[sge]=Fi(U1,[ZG]),fs=ZG(),[ige,bW]=sge(U1),wW=t=>{const{__scopeDropdownMenu:e,children:n,dir:a,open:s,defaultOpen:i,onOpenChange:o,modal:l=!0}=t,c=fs(e),d=w.useRef(null),[u,h]=Hl({prop:s,defaultProp:i??!1,onChange:o,caller:U1});return r.jsx(ige,{scope:e,triggerId:$o(),triggerRef:d,contentId:$o(),open:u,onOpenChange:h,onOpenToggle:w.useCallback(()=>h(f=>!f),[h]),modal:l,children:r.jsx(Vxe,{...c,open:u,onOpenChange:h,dir:a,modal:l,children:n})})};wW.displayName=U1;var _W="DropdownMenuTrigger",jW=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:a=!1,...s}=t,i=bW(_W,n),o=fs(n);return r.jsx(Hxe,{asChild:!0,...o,children:r.jsx(qt.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":a?"":void 0,disabled:a,...s,ref:tc(e,i.triggerRef),onPointerDown:lt(t.onPointerDown,l=>{!a&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:lt(t.onKeyDown,l=>{a||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});jW.displayName=_W;var oge="DropdownMenuPortal",NW=t=>{const{__scopeDropdownMenu:e,...n}=t,a=fs(e);return r.jsx(Gxe,{...a,...n})};NW.displayName=oge;var SW="DropdownMenuContent",CW=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,s=bW(SW,n),i=fs(n),o=w.useRef(!1);return r.jsx(Wxe,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...a,ref:e,onCloseAutoFocus:lt(t.onCloseAutoFocus,l=>{var c;o.current||(c=s.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:lt(t.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,u=c.button===2||d;(!s.modal||u)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});CW.displayName=SW;var lge="DropdownMenuGroup",cge=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,s=fs(n);return r.jsx(Kxe,{...s,...a,ref:e})});cge.displayName=lge;var dge="DropdownMenuLabel",EW=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,s=fs(n);return r.jsx(Xxe,{...s,...a,ref:e})});EW.displayName=dge;var uge="DropdownMenuItem",AW=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,s=fs(n);return r.jsx(Yxe,{...s,...a,ref:e})});AW.displayName=uge;var hge="DropdownMenuCheckboxItem",MW=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,s=fs(n);return r.jsx(Qxe,{...s,...a,ref:e})});MW.displayName=hge;var mge="DropdownMenuRadioGroup",fge=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,s=fs(n);return r.jsx(Zxe,{...s,...a,ref:e})});fge.displayName=mge;var pge="DropdownMenuRadioItem",PW=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,s=fs(n);return r.jsx(Jxe,{...s,...a,ref:e})});PW.displayName=pge;var xge="DropdownMenuItemIndicator",TW=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,s=fs(n);return r.jsx(ege,{...s,...a,ref:e})});TW.displayName=xge;var gge="DropdownMenuSeparator",kW=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,s=fs(n);return r.jsx(tge,{...s,...a,ref:e})});kW.displayName=gge;var vge="DropdownMenuArrow",yge=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,s=fs(n);return r.jsx(nge,{...s,...a,ref:e})});yge.displayName=vge;var bge="DropdownMenuSubTrigger",RW=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,s=fs(n);return r.jsx(rge,{...s,...a,ref:e})});RW.displayName=bge;var wge="DropdownMenuSubContent",OW=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,s=fs(n);return r.jsx(age,{...s,...a,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});OW.displayName=wge;var _ge=wW,jge=jW,Nge=NW,DW=CW,IW=EW,LW=AW,FW=MW,$W=PW,UW=TW,BW=kW,zW=RW,qW=OW;function VW(t){var e,n,a="";if(typeof t=="string"||typeof t=="number")a+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=VW(t[e]))&&(a&&(a+=" "),a+=n)}else for(n in t)t[n]&&(a&&(a+=" "),a+=n);return a}function un(){for(var t,e,n=0,a="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=VW(t))&&(a&&(a+=" "),a+=e);return a}const Sge=(t,e)=>{const n=new Array(t.length+e.length);for(let a=0;a<t.length;a++)n[a]=t[a];for(let a=0;a<e.length;a++)n[t.length+a]=e[a];return n},Cge=(t,e)=>({classGroupId:t,validator:e}),HW=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),Kb="-",jI=[],Ege="arbitrary..",Age=t=>{const e=Pge(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:a}=t;return{getClassGroupId:o=>{if(o.startsWith("[")&&o.endsWith("]"))return Mge(o);const l=o.split(Kb),c=l[0]===""&&l.length>1?1:0;return GW(l,c,e)},getConflictingClassGroupIds:(o,l)=>{if(l){const c=a[o],d=n[o];return c?d?Sge(d,c):c:d||jI}return n[o]||jI}}},GW=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const s=t[e],i=n.nextPart.get(s);if(i){const d=GW(t,e+1,i);if(d)return d}const o=n.validators;if(o===null)return;const l=e===0?t.join(Kb):t.slice(e).join(Kb),c=o.length;for(let d=0;d<c;d++){const u=o[d];if(u.validator(l))return u.classGroupId}},Mge=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),a=e.slice(0,n);return a?Ege+a:void 0})(),Pge=t=>{const{theme:e,classGroups:n}=t;return Tge(n,e)},Tge=(t,e)=>{const n=HW();for(const a in t){const s=t[a];m4(s,n,a,e)}return n},m4=(t,e,n,a)=>{const s=t.length;for(let i=0;i<s;i++){const o=t[i];kge(o,e,n,a)}},kge=(t,e,n,a)=>{if(typeof t=="string"){Rge(t,e,n);return}if(typeof t=="function"){Oge(t,e,n,a);return}Dge(t,e,n,a)},Rge=(t,e,n)=>{const a=t===""?e:WW(e,t);a.classGroupId=n},Oge=(t,e,n,a)=>{if(Ige(t)){m4(t(a),e,n,a);return}e.validators===null&&(e.validators=[]),e.validators.push(Cge(n,t))},Dge=(t,e,n,a)=>{const s=Object.entries(t),i=s.length;for(let o=0;o<i;o++){const[l,c]=s[o];m4(c,WW(e,l),n,a)}},WW=(t,e)=>{let n=t;const a=e.split(Kb),s=a.length;for(let i=0;i<s;i++){const o=a[i];let l=n.nextPart.get(o);l||(l=HW(),n.nextPart.set(o,l)),n=l}return n},Ige=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,Lge=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),a=Object.create(null);const s=(i,o)=>{n[i]=o,e++,e>t&&(e=0,a=n,n=Object.create(null))};return{get(i){let o=n[i];if(o!==void 0)return o;if((o=a[i])!==void 0)return s(i,o),o},set(i,o){i in n?n[i]=o:s(i,o)}}},VM="!",NI=":",Fge=[],SI=(t,e,n,a,s)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:a,isExternal:s}),$ge=t=>{const{prefix:e,experimentalParseClassName:n}=t;let a=s=>{const i=[];let o=0,l=0,c=0,d;const u=s.length;for(let g=0;g<u;g++){const y=s[g];if(o===0&&l===0){if(y===NI){i.push(s.slice(c,g)),c=g+1;continue}if(y==="/"){d=g;continue}}y==="["?o++:y==="]"?o--:y==="("?l++:y===")"&&l--}const h=i.length===0?s:s.slice(c);let f=h,v=!1;h.endsWith(VM)?(f=h.slice(0,-1),v=!0):h.startsWith(VM)&&(f=h.slice(1),v=!0);const x=d&&d>c?d-c:void 0;return SI(i,v,f,x)};if(e){const s=e+NI,i=a;a=o=>o.startsWith(s)?i(o.slice(s.length)):SI(Fge,!1,o,void 0,!0)}if(n){const s=a;a=i=>n({className:i,parseClassName:s})}return a},Uge=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,a)=>{e.set(n,1e6+a)}),n=>{const a=[];let s=[];for(let i=0;i<n.length;i++){const o=n[i],l=o[0]==="[",c=e.has(o);l||c?(s.length>0&&(s.sort(),a.push(...s),s=[]),a.push(o)):s.push(o)}return s.length>0&&(s.sort(),a.push(...s)),a}},Bge=t=>({cache:Lge(t.cacheSize),parseClassName:$ge(t),sortModifiers:Uge(t),...Age(t)}),zge=/\s+/,qge=(t,e)=>{const{parseClassName:n,getClassGroupId:a,getConflictingClassGroupIds:s,sortModifiers:i}=e,o=[],l=t.trim().split(zge);let c="";for(let d=l.length-1;d>=0;d-=1){const u=l[d],{isExternal:h,modifiers:f,hasImportantModifier:v,baseClassName:x,maybePostfixModifierPosition:g}=n(u);if(h){c=u+(c.length>0?" "+c:c);continue}let y=!!g,b=a(y?x.substring(0,g):x);if(!b){if(!y){c=u+(c.length>0?" "+c:c);continue}if(b=a(x),!b){c=u+(c.length>0?" "+c:c);continue}y=!1}const _=f.length===0?"":f.length===1?f[0]:i(f).join(":"),j=v?_+VM:_,S=j+b;if(o.indexOf(S)>-1)continue;o.push(S);const C=s(b,y);for(let E=0;E<C.length;++E){const P=C[E];o.push(j+P)}c=u+(c.length>0?" "+c:c)}return c},Vge=(...t)=>{let e=0,n,a,s="";for(;e<t.length;)(n=t[e++])&&(a=KW(n))&&(s&&(s+=" "),s+=a);return s},KW=t=>{if(typeof t=="string")return t;let e,n="";for(let a=0;a<t.length;a++)t[a]&&(e=KW(t[a]))&&(n&&(n+=" "),n+=e);return n},Hge=(t,...e)=>{let n,a,s,i;const o=c=>{const d=e.reduce((u,h)=>h(u),t());return n=Bge(d),a=n.cache.get,s=n.cache.set,i=l,l(c)},l=c=>{const d=a(c);if(d)return d;const u=qge(c,n);return s(c,u),u};return i=o,(...c)=>i(Vge(...c))},Gge=[],na=t=>{const e=n=>n[t]||Gge;return e.isThemeGetter=!0,e},XW=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,YW=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Wge=/^\d+\/\d+$/,Kge=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Xge=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Yge=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Qge=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Zge=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Qh=t=>Wge.test(t),yn=t=>!!t&&!Number.isNaN(Number(t)),Cc=t=>!!t&&Number.isInteger(Number(t)),a2=t=>t.endsWith("%")&&yn(t.slice(0,-1)),fl=t=>Kge.test(t),Jge=()=>!0,eve=t=>Xge.test(t)&&!Yge.test(t),QW=()=>!1,tve=t=>Qge.test(t),nve=t=>Zge.test(t),rve=t=>!Nt(t)&&!St(t),ave=t=>up(t,eK,QW),Nt=t=>XW.test(t),Vd=t=>up(t,tK,eve),s2=t=>up(t,cve,yn),CI=t=>up(t,ZW,QW),sve=t=>up(t,JW,nve),py=t=>up(t,nK,tve),St=t=>YW.test(t),f0=t=>hp(t,tK),ive=t=>hp(t,dve),EI=t=>hp(t,ZW),ove=t=>hp(t,eK),lve=t=>hp(t,JW),xy=t=>hp(t,nK,!0),up=(t,e,n)=>{const a=XW.exec(t);return a?a[1]?e(a[1]):n(a[2]):!1},hp=(t,e,n=!1)=>{const a=YW.exec(t);return a?a[1]?e(a[1]):n:!1},ZW=t=>t==="position"||t==="percentage",JW=t=>t==="image"||t==="url",eK=t=>t==="length"||t==="size"||t==="bg-size",tK=t=>t==="length",cve=t=>t==="number",dve=t=>t==="family-name",nK=t=>t==="shadow",uve=()=>{const t=na("color"),e=na("font"),n=na("text"),a=na("font-weight"),s=na("tracking"),i=na("leading"),o=na("breakpoint"),l=na("container"),c=na("spacing"),d=na("radius"),u=na("shadow"),h=na("inset-shadow"),f=na("text-shadow"),v=na("drop-shadow"),x=na("blur"),g=na("perspective"),y=na("aspect"),b=na("ease"),_=na("animate"),j=()=>["auto","avoid","all","avoid-page","page","left","right","column"],S=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],C=()=>[...S(),St,Nt],E=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto","contain","none"],T=()=>[St,Nt,c],M=()=>[Qh,"full","auto",...T()],k=()=>[Cc,"none","subgrid",St,Nt],O=()=>["auto",{span:["full",Cc,St,Nt]},Cc,St,Nt],$=()=>[Cc,"auto",St,Nt],F=()=>["auto","min","max","fr",St,Nt],B=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],G=()=>["start","end","center","stretch","center-safe","end-safe"],I=()=>["auto",...T()],L=()=>[Qh,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...T()],U=()=>[t,St,Nt],z=()=>[...S(),EI,CI,{position:[St,Nt]}],K=()=>["no-repeat",{repeat:["","x","y","space","round"]}],V=()=>["auto","cover","contain",ove,ave,{size:[St,Nt]}],Y=()=>[a2,f0,Vd],ee=()=>["","none","full",d,St,Nt],se=()=>["",yn,f0,Vd],pe=()=>["solid","dashed","dotted","double"],Pe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],xe=()=>[yn,a2,EI,CI],Ie=()=>["","none",x,St,Nt],fe=()=>["none",yn,St,Nt],Ne=()=>["none",yn,St,Nt],Le=()=>[yn,St,Nt],re=()=>[Qh,"full",...T()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[fl],breakpoint:[fl],color:[Jge],container:[fl],"drop-shadow":[fl],ease:["in","out","in-out"],font:[rve],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[fl],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[fl],shadow:[fl],spacing:["px",yn],text:[fl],"text-shadow":[fl],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Qh,Nt,St,y]}],container:["container"],columns:[{columns:[yn,Nt,St,l]}],"break-after":[{"break-after":j()}],"break-before":[{"break-before":j()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:C()}],overflow:[{overflow:E()}],"overflow-x":[{"overflow-x":E()}],"overflow-y":[{"overflow-y":E()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:M()}],"inset-x":[{"inset-x":M()}],"inset-y":[{"inset-y":M()}],start:[{start:M()}],end:[{end:M()}],top:[{top:M()}],right:[{right:M()}],bottom:[{bottom:M()}],left:[{left:M()}],visibility:["visible","invisible","collapse"],z:[{z:[Cc,"auto",St,Nt]}],basis:[{basis:[Qh,"full","auto",l,...T()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[yn,Qh,"auto","initial","none",Nt]}],grow:[{grow:["",yn,St,Nt]}],shrink:[{shrink:["",yn,St,Nt]}],order:[{order:[Cc,"first","last","none",St,Nt]}],"grid-cols":[{"grid-cols":k()}],"col-start-end":[{col:O()}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":k()}],"row-start-end":[{row:O()}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":F()}],"auto-rows":[{"auto-rows":F()}],gap:[{gap:T()}],"gap-x":[{"gap-x":T()}],"gap-y":[{"gap-y":T()}],"justify-content":[{justify:[...B(),"normal"]}],"justify-items":[{"justify-items":[...G(),"normal"]}],"justify-self":[{"justify-self":["auto",...G()]}],"align-content":[{content:["normal",...B()]}],"align-items":[{items:[...G(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...G(),{baseline:["","last"]}]}],"place-content":[{"place-content":B()}],"place-items":[{"place-items":[...G(),"baseline"]}],"place-self":[{"place-self":["auto",...G()]}],p:[{p:T()}],px:[{px:T()}],py:[{py:T()}],ps:[{ps:T()}],pe:[{pe:T()}],pt:[{pt:T()}],pr:[{pr:T()}],pb:[{pb:T()}],pl:[{pl:T()}],m:[{m:I()}],mx:[{mx:I()}],my:[{my:I()}],ms:[{ms:I()}],me:[{me:I()}],mt:[{mt:I()}],mr:[{mr:I()}],mb:[{mb:I()}],ml:[{ml:I()}],"space-x":[{"space-x":T()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":T()}],"space-y-reverse":["space-y-reverse"],size:[{size:L()}],w:[{w:[l,"screen",...L()]}],"min-w":[{"min-w":[l,"screen","none",...L()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...L()]}],h:[{h:["screen","lh",...L()]}],"min-h":[{"min-h":["screen","lh","none",...L()]}],"max-h":[{"max-h":["screen","lh",...L()]}],"font-size":[{text:["base",n,f0,Vd]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[a,St,s2]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",a2,Nt]}],"font-family":[{font:[ive,Nt,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,St,Nt]}],"line-clamp":[{"line-clamp":[yn,"none",St,s2]}],leading:[{leading:[i,...T()]}],"list-image":[{"list-image":["none",St,Nt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",St,Nt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:U()}],"text-color":[{text:U()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...pe(),"wavy"]}],"text-decoration-thickness":[{decoration:[yn,"from-font","auto",St,Vd]}],"text-decoration-color":[{decoration:U()}],"underline-offset":[{"underline-offset":[yn,"auto",St,Nt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",St,Nt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",St,Nt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:z()}],"bg-repeat":[{bg:K()}],"bg-size":[{bg:V()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Cc,St,Nt],radial:["",St,Nt],conic:[Cc,St,Nt]},lve,sve]}],"bg-color":[{bg:U()}],"gradient-from-pos":[{from:Y()}],"gradient-via-pos":[{via:Y()}],"gradient-to-pos":[{to:Y()}],"gradient-from":[{from:U()}],"gradient-via":[{via:U()}],"gradient-to":[{to:U()}],rounded:[{rounded:ee()}],"rounded-s":[{"rounded-s":ee()}],"rounded-e":[{"rounded-e":ee()}],"rounded-t":[{"rounded-t":ee()}],"rounded-r":[{"rounded-r":ee()}],"rounded-b":[{"rounded-b":ee()}],"rounded-l":[{"rounded-l":ee()}],"rounded-ss":[{"rounded-ss":ee()}],"rounded-se":[{"rounded-se":ee()}],"rounded-ee":[{"rounded-ee":ee()}],"rounded-es":[{"rounded-es":ee()}],"rounded-tl":[{"rounded-tl":ee()}],"rounded-tr":[{"rounded-tr":ee()}],"rounded-br":[{"rounded-br":ee()}],"rounded-bl":[{"rounded-bl":ee()}],"border-w":[{border:se()}],"border-w-x":[{"border-x":se()}],"border-w-y":[{"border-y":se()}],"border-w-s":[{"border-s":se()}],"border-w-e":[{"border-e":se()}],"border-w-t":[{"border-t":se()}],"border-w-r":[{"border-r":se()}],"border-w-b":[{"border-b":se()}],"border-w-l":[{"border-l":se()}],"divide-x":[{"divide-x":se()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":se()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...pe(),"hidden","none"]}],"divide-style":[{divide:[...pe(),"hidden","none"]}],"border-color":[{border:U()}],"border-color-x":[{"border-x":U()}],"border-color-y":[{"border-y":U()}],"border-color-s":[{"border-s":U()}],"border-color-e":[{"border-e":U()}],"border-color-t":[{"border-t":U()}],"border-color-r":[{"border-r":U()}],"border-color-b":[{"border-b":U()}],"border-color-l":[{"border-l":U()}],"divide-color":[{divide:U()}],"outline-style":[{outline:[...pe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[yn,St,Nt]}],"outline-w":[{outline:["",yn,f0,Vd]}],"outline-color":[{outline:U()}],shadow:[{shadow:["","none",u,xy,py]}],"shadow-color":[{shadow:U()}],"inset-shadow":[{"inset-shadow":["none",h,xy,py]}],"inset-shadow-color":[{"inset-shadow":U()}],"ring-w":[{ring:se()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:U()}],"ring-offset-w":[{"ring-offset":[yn,Vd]}],"ring-offset-color":[{"ring-offset":U()}],"inset-ring-w":[{"inset-ring":se()}],"inset-ring-color":[{"inset-ring":U()}],"text-shadow":[{"text-shadow":["none",f,xy,py]}],"text-shadow-color":[{"text-shadow":U()}],opacity:[{opacity:[yn,St,Nt]}],"mix-blend":[{"mix-blend":[...Pe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Pe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[yn]}],"mask-image-linear-from-pos":[{"mask-linear-from":xe()}],"mask-image-linear-to-pos":[{"mask-linear-to":xe()}],"mask-image-linear-from-color":[{"mask-linear-from":U()}],"mask-image-linear-to-color":[{"mask-linear-to":U()}],"mask-image-t-from-pos":[{"mask-t-from":xe()}],"mask-image-t-to-pos":[{"mask-t-to":xe()}],"mask-image-t-from-color":[{"mask-t-from":U()}],"mask-image-t-to-color":[{"mask-t-to":U()}],"mask-image-r-from-pos":[{"mask-r-from":xe()}],"mask-image-r-to-pos":[{"mask-r-to":xe()}],"mask-image-r-from-color":[{"mask-r-from":U()}],"mask-image-r-to-color":[{"mask-r-to":U()}],"mask-image-b-from-pos":[{"mask-b-from":xe()}],"mask-image-b-to-pos":[{"mask-b-to":xe()}],"mask-image-b-from-color":[{"mask-b-from":U()}],"mask-image-b-to-color":[{"mask-b-to":U()}],"mask-image-l-from-pos":[{"mask-l-from":xe()}],"mask-image-l-to-pos":[{"mask-l-to":xe()}],"mask-image-l-from-color":[{"mask-l-from":U()}],"mask-image-l-to-color":[{"mask-l-to":U()}],"mask-image-x-from-pos":[{"mask-x-from":xe()}],"mask-image-x-to-pos":[{"mask-x-to":xe()}],"mask-image-x-from-color":[{"mask-x-from":U()}],"mask-image-x-to-color":[{"mask-x-to":U()}],"mask-image-y-from-pos":[{"mask-y-from":xe()}],"mask-image-y-to-pos":[{"mask-y-to":xe()}],"mask-image-y-from-color":[{"mask-y-from":U()}],"mask-image-y-to-color":[{"mask-y-to":U()}],"mask-image-radial":[{"mask-radial":[St,Nt]}],"mask-image-radial-from-pos":[{"mask-radial-from":xe()}],"mask-image-radial-to-pos":[{"mask-radial-to":xe()}],"mask-image-radial-from-color":[{"mask-radial-from":U()}],"mask-image-radial-to-color":[{"mask-radial-to":U()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":S()}],"mask-image-conic-pos":[{"mask-conic":[yn]}],"mask-image-conic-from-pos":[{"mask-conic-from":xe()}],"mask-image-conic-to-pos":[{"mask-conic-to":xe()}],"mask-image-conic-from-color":[{"mask-conic-from":U()}],"mask-image-conic-to-color":[{"mask-conic-to":U()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:z()}],"mask-repeat":[{mask:K()}],"mask-size":[{mask:V()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",St,Nt]}],filter:[{filter:["","none",St,Nt]}],blur:[{blur:Ie()}],brightness:[{brightness:[yn,St,Nt]}],contrast:[{contrast:[yn,St,Nt]}],"drop-shadow":[{"drop-shadow":["","none",v,xy,py]}],"drop-shadow-color":[{"drop-shadow":U()}],grayscale:[{grayscale:["",yn,St,Nt]}],"hue-rotate":[{"hue-rotate":[yn,St,Nt]}],invert:[{invert:["",yn,St,Nt]}],saturate:[{saturate:[yn,St,Nt]}],sepia:[{sepia:["",yn,St,Nt]}],"backdrop-filter":[{"backdrop-filter":["","none",St,Nt]}],"backdrop-blur":[{"backdrop-blur":Ie()}],"backdrop-brightness":[{"backdrop-brightness":[yn,St,Nt]}],"backdrop-contrast":[{"backdrop-contrast":[yn,St,Nt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",yn,St,Nt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[yn,St,Nt]}],"backdrop-invert":[{"backdrop-invert":["",yn,St,Nt]}],"backdrop-opacity":[{"backdrop-opacity":[yn,St,Nt]}],"backdrop-saturate":[{"backdrop-saturate":[yn,St,Nt]}],"backdrop-sepia":[{"backdrop-sepia":["",yn,St,Nt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":T()}],"border-spacing-x":[{"border-spacing-x":T()}],"border-spacing-y":[{"border-spacing-y":T()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",St,Nt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[yn,"initial",St,Nt]}],ease:[{ease:["linear","initial",b,St,Nt]}],delay:[{delay:[yn,St,Nt]}],animate:[{animate:["none",_,St,Nt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[g,St,Nt]}],"perspective-origin":[{"perspective-origin":C()}],rotate:[{rotate:fe()}],"rotate-x":[{"rotate-x":fe()}],"rotate-y":[{"rotate-y":fe()}],"rotate-z":[{"rotate-z":fe()}],scale:[{scale:Ne()}],"scale-x":[{"scale-x":Ne()}],"scale-y":[{"scale-y":Ne()}],"scale-z":[{"scale-z":Ne()}],"scale-3d":["scale-3d"],skew:[{skew:Le()}],"skew-x":[{"skew-x":Le()}],"skew-y":[{"skew-y":Le()}],transform:[{transform:[St,Nt,"","none","gpu","cpu"]}],"transform-origin":[{origin:C()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:re()}],"translate-x":[{"translate-x":re()}],"translate-y":[{"translate-y":re()}],"translate-z":[{"translate-z":re()}],"translate-none":["translate-none"],accent:[{accent:U()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:U()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",St,Nt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",St,Nt]}],fill:[{fill:["none",...U()]}],"stroke-w":[{stroke:[yn,f0,Vd,s2]}],stroke:[{stroke:["none",...U()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},hve=Hge(uve);function Wt(...t){return hve(un(t))}const yx=_ge,bx=jge,mve=w.forwardRef(({className:t,inset:e,children:n,...a},s)=>r.jsxs(zW,{ref:s,className:Wt("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...a,children:[n,r.jsx(qH,{className:"ml-auto"})]}));mve.displayName=zW.displayName;const fve=w.forwardRef(({className:t,...e},n)=>r.jsx(qW,{ref:n,className:Wt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));fve.displayName=qW.displayName;const vf=w.forwardRef(({className:t,sideOffset:e=4,...n},a)=>r.jsx(Nge,{children:r.jsx(DW,{ref:a,sideOffset:e,className:Wt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));vf.displayName=DW.displayName;const yf=w.forwardRef(({className:t,inset:e,...n},a)=>r.jsx(LW,{ref:a,className:Wt("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",e&&"pl-8",t),...n}));yf.displayName=LW.displayName;const pve=w.forwardRef(({className:t,children:e,checked:n,...a},s)=>r.jsxs(FW,{ref:s,className:Wt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...a,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(UW,{children:r.jsx(Rn,{className:"h-4 w-4"})})}),e]}));pve.displayName=FW.displayName;const xve=w.forwardRef(({className:t,children:e,...n},a)=>r.jsxs($W,{ref:a,className:Wt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(UW,{children:r.jsx(VH,{className:"h-2 w-2 fill-current"})})}),e]}));xve.displayName=$W.displayName;const gve=w.forwardRef(({className:t,inset:e,...n},a)=>r.jsx(IW,{ref:a,className:Wt("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));gve.displayName=IW.displayName;const rK=w.forwardRef(({className:t,...e},n)=>r.jsx(BW,{ref:n,className:Wt("-mx-1 my-1 h-px bg-muted",t),...e}));rK.displayName=BW.displayName;const AI=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,MI=un,B1=(t,e)=>n=>{var a;if((e==null?void 0:e.variants)==null)return MI(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(d=>{const u=n==null?void 0:n[d],h=i==null?void 0:i[d];if(u===null)return null;const f=AI(u)||AI(h);return s[d][f]}),l=n&&Object.entries(n).reduce((d,u)=>{let[h,f]=u;return f===void 0||(d[h]=f),d},{}),c=e==null||(a=e.compoundVariants)===null||a===void 0?void 0:a.reduce((d,u)=>{let{class:h,className:f,...v}=u;return Object.entries(v).every(x=>{let[g,y]=x;return Array.isArray(y)?y.includes({...i,...l}[g]):{...i,...l}[g]===y})?[...d,h,f]:d},[]);return MI(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)},vve=B1("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function De({className:t,variant:e,...n}){return r.jsx("div",{className:Wt(vve({variant:e}),t),...n})}var yve=Symbol.for("react.lazy"),Xb=S3[" use ".trim().toString()];function bve(t){return typeof t=="object"&&t!==null&&"then"in t}function aK(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===yve&&"_payload"in t&&bve(t._payload)}function Pg(t){const e=_ve(t),n=w.forwardRef((a,s)=>{let{children:i,...o}=a;aK(i)&&typeof Xb=="function"&&(i=Xb(i._payload));const l=w.Children.toArray(i),c=l.find(Nve);if(c){const d=c.props.children,u=l.map(h=>h===c?w.Children.count(d)>1?w.Children.only(null):w.isValidElement(d)?d.props.children:null:h);return r.jsx(e,{...o,ref:s,children:w.isValidElement(d)?w.cloneElement(d,void 0,u):null})}return r.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var wve=Pg("Slot");function _ve(t){const e=w.forwardRef((n,a)=>{let{children:s,...i}=n;if(aK(s)&&typeof Xb=="function"&&(s=Xb(s._payload)),w.isValidElement(s)){const o=Cve(s),l=Sve(i,s.props);return s.type!==w.Fragment&&(l.ref=a?tc(a,o):o),w.cloneElement(s,l)}return w.Children.count(s)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var jve=Symbol("radix.slottable");function Nve(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===jve}function Sve(t,e){const n={...e};for(const a in e){const s=t[a],i=e[a];/^on[A-Z]/.test(a)?s&&i?n[a]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(n[a]=s):a==="style"?n[a]={...s,...i}:a==="className"&&(n[a]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function Cve(t){var a,s;let e=(a=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:a.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const Eve=B1("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),W=w.forwardRef(({className:t,variant:e,size:n,asChild:a=!1,...s},i)=>{const o=a?wve:"button";return r.jsx(o,{className:Wt(Eve({variant:e,size:n,className:t})),ref:i,...s})});W.displayName="Button";const je=w.forwardRef(({className:t,type:e,...n},a)=>r.jsx("input",{type:e,className:Wt("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:a,...n}));je.displayName="Input";const f4=w.createContext({});function mp(t){const e=w.useRef(null);return e.current===null&&(e.current=t()),e.current}const p4=typeof window<"u",z1=p4?w.useLayoutEffect:w.useEffect,q1=w.createContext(null);function x4(t,e){t.indexOf(e)===-1&&t.push(e)}function g4(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Yo=(t,e,n)=>n>e?e:n<t?t:n;let wx=()=>{};const Kl={},sK=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function iK(t){return typeof t=="object"&&t!==null}const oK=t=>/^0[^.\s]+$/u.test(t);function v4(t){let e;return()=>(e===void 0&&(e=t()),e)}const ks=t=>t,Ave=(t,e)=>n=>e(t(n)),Tg=(...t)=>t.reduce(Ave),bf=(t,e,n)=>{const a=e-t;return a===0?1:(n-t)/a};class y4{constructor(){this.subscriptions=[]}add(e){return x4(this.subscriptions,e),()=>g4(this.subscriptions,e)}notify(e,n,a){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,a);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,a)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Bo=t=>t*1e3,ki=t=>t/1e3;function b4(t,e){return e?t*(1e3/e):0}const lK=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Mve=1e-7,Pve=12;function Tve(t,e,n,a,s){let i,o,l=0;do o=e+(n-e)/2,i=lK(o,a,s)-t,i>0?n=o:e=o;while(Math.abs(i)>Mve&&++l<Pve);return o}function kg(t,e,n,a){if(t===e&&n===a)return ks;const s=i=>Tve(i,0,1,t,n);return i=>i===0||i===1?i:lK(s(i),e,a)}const cK=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,dK=t=>e=>1-t(1-e),uK=kg(.33,1.53,.69,.99),w4=dK(uK),hK=cK(w4),mK=t=>(t*=2)<1?.5*w4(t):.5*(2-Math.pow(2,-10*(t-1))),_4=t=>1-Math.sin(Math.acos(t)),fK=dK(_4),pK=cK(_4),kve=kg(.42,0,1,1),Rve=kg(0,0,.58,1),xK=kg(.42,0,.58,1),Ove=t=>Array.isArray(t)&&typeof t[0]!="number",gK=t=>Array.isArray(t)&&typeof t[0]=="number",Dve={linear:ks,easeIn:kve,easeInOut:xK,easeOut:Rve,circIn:_4,circInOut:pK,circOut:fK,backIn:w4,backInOut:hK,backOut:uK,anticipate:mK},Ive=t=>typeof t=="string",PI=t=>{if(gK(t)){wx(t.length===4);const[e,n,a,s]=t;return kg(e,n,a,s)}else if(Ive(t))return Dve[t];return t},gy=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Lve(t,e){let n=new Set,a=new Set,s=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(u){o.has(u)&&(d.schedule(u),t()),u(l)}const d={schedule:(u,h=!1,f=!1)=>{const x=f&&s?n:a;return h&&o.add(u),x.has(u)||x.add(u),u},cancel:u=>{a.delete(u),o.delete(u)},process:u=>{if(l=u,s){i=!0;return}s=!0,[n,a]=[a,n],n.forEach(c),n.clear(),s=!1,i&&(i=!1,d.process(u))}};return d}const Fve=40;function vK(t,e){let n=!1,a=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=gy.reduce((j,S)=>(j[S]=Lve(i),j),{}),{setup:l,read:c,resolveKeyframes:d,preUpdate:u,update:h,preRender:f,render:v,postRender:x}=o,g=()=>{const j=Kl.useManualTiming?s.timestamp:performance.now();n=!1,Kl.useManualTiming||(s.delta=a?1e3/60:Math.max(Math.min(j-s.timestamp,Fve),1)),s.timestamp=j,s.isProcessing=!0,l.process(s),c.process(s),d.process(s),u.process(s),h.process(s),f.process(s),v.process(s),x.process(s),s.isProcessing=!1,n&&e&&(a=!1,t(g))},y=()=>{n=!0,a=!0,s.isProcessing||t(g)};return{schedule:gy.reduce((j,S)=>{const C=o[S];return j[S]=(E,P=!1,T=!1)=>(n||y(),C.schedule(E,P,T)),j},{}),cancel:j=>{for(let S=0;S<gy.length;S++)o[gy[S]].cancel(j)},state:s,steps:o}}const{schedule:Zn,cancel:vo,state:wa,steps:i2}=vK(typeof requestAnimationFrame<"u"?requestAnimationFrame:ks,!0);let gb;function $ve(){gb=void 0}const As={now:()=>(gb===void 0&&As.set(wa.isProcessing||Kl.useManualTiming?wa.timestamp:performance.now()),gb),set:t=>{gb=t,queueMicrotask($ve)}},yK=t=>e=>typeof e=="string"&&e.startsWith(t),j4=yK("--"),Uve=yK("var(--"),N4=t=>Uve(t)?Bve.test(t.split("/*")[0].trim()):!1,Bve=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,fp={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},_x={...fp,transform:t=>Yo(0,1,t)},vy={...fp,default:1},W0=t=>Math.round(t*1e5)/1e5,S4=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function zve(t){return t==null}const qve=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,C4=(t,e)=>n=>!!(typeof n=="string"&&qve.test(n)&&n.startsWith(t)||e&&!zve(n)&&Object.prototype.hasOwnProperty.call(n,e)),bK=(t,e,n)=>a=>{if(typeof a!="string")return a;const[s,i,o,l]=a.match(S4);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},Vve=t=>Yo(0,255,t),o2={...fp,transform:t=>Math.round(Vve(t))},xu={test:C4("rgb","red"),parse:bK("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:a=1})=>"rgba("+o2.transform(t)+", "+o2.transform(e)+", "+o2.transform(n)+", "+W0(_x.transform(a))+")"};function Hve(t){let e="",n="",a="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),a=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),a=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,a+=a,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(a,16),alpha:s?parseInt(s,16)/255:1}}const HM={test:C4("#"),parse:Hve,transform:xu.transform},Rg=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Oc=Rg("deg"),zo=Rg("%"),tn=Rg("px"),Gve=Rg("vh"),Wve=Rg("vw"),TI={...zo,parse:t=>zo.parse(t)/100,transform:t=>zo.transform(t*100)},_m={test:C4("hsl","hue"),parse:bK("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:a=1})=>"hsla("+Math.round(t)+", "+zo.transform(W0(e))+", "+zo.transform(W0(n))+", "+W0(_x.transform(a))+")"},Qr={test:t=>xu.test(t)||HM.test(t)||_m.test(t),parse:t=>xu.test(t)?xu.parse(t):_m.test(t)?_m.parse(t):HM.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?xu.transform(t):_m.transform(t),getAnimatableNone:t=>{const e=Qr.parse(t);return e.alpha=0,Qr.transform(e)}},Kve=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Xve(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(S4))==null?void 0:e.length)||0)+(((n=t.match(Kve))==null?void 0:n.length)||0)>0}const wK="number",_K="color",Yve="var",Qve="var(",kI="${}",Zve=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function jx(t){const e=t.toString(),n=[],a={color:[],number:[],var:[]},s=[];let i=0;const l=e.replace(Zve,c=>(Qr.test(c)?(a.color.push(i),s.push(_K),n.push(Qr.parse(c))):c.startsWith(Qve)?(a.var.push(i),s.push(Yve),n.push(c)):(a.number.push(i),s.push(wK),n.push(parseFloat(c))),++i,kI)).split(kI);return{values:n,split:l,indexes:a,types:s}}function jK(t){return jx(t).values}function NK(t){const{split:e,types:n}=jx(t),a=e.length;return s=>{let i="";for(let o=0;o<a;o++)if(i+=e[o],s[o]!==void 0){const l=n[o];l===wK?i+=W0(s[o]):l===_K?i+=Qr.transform(s[o]):i+=s[o]}return i}}const Jve=t=>typeof t=="number"?0:Qr.test(t)?Qr.getAnimatableNone(t):t;function eye(t){const e=jK(t);return NK(t)(e.map(Jve))}const fd={test:Xve,parse:jK,createTransformer:NK,getAnimatableNone:eye};function l2(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function tye({hue:t,saturation:e,lightness:n,alpha:a}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const l=n<.5?n*(1+e):n+e-n*e,c=2*n-l;s=l2(c,l,t+1/3),i=l2(c,l,t),o=l2(c,l,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:a}}function Yb(t,e){return n=>n>0?e:t}const Er=(t,e,n)=>t+(e-t)*n,c2=(t,e,n)=>{const a=t*t,s=n*(e*e-a)+a;return s<0?0:Math.sqrt(s)},nye=[HM,xu,_m],rye=t=>nye.find(e=>e.test(t));function RI(t){const e=rye(t);if(!e)return!1;let n=e.parse(t);return e===_m&&(n=tye(n)),n}const OI=(t,e)=>{const n=RI(t),a=RI(e);if(!n||!a)return Yb(t,e);const s={...n};return i=>(s.red=c2(n.red,a.red,i),s.green=c2(n.green,a.green,i),s.blue=c2(n.blue,a.blue,i),s.alpha=Er(n.alpha,a.alpha,i),xu.transform(s))},GM=new Set(["none","hidden"]);function aye(t,e){return GM.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function sye(t,e){return n=>Er(t,e,n)}function E4(t){return typeof t=="number"?sye:typeof t=="string"?N4(t)?Yb:Qr.test(t)?OI:lye:Array.isArray(t)?SK:typeof t=="object"?Qr.test(t)?OI:iye:Yb}function SK(t,e){const n=[...t],a=n.length,s=t.map((i,o)=>E4(i)(i,e[o]));return i=>{for(let o=0;o<a;o++)n[o]=s[o](i);return n}}function iye(t,e){const n={...t,...e},a={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(a[s]=E4(t[s])(t[s],e[s]));return s=>{for(const i in a)n[i]=a[i](s);return n}}function oye(t,e){const n=[],a={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],o=t.indexes[i][a[i]],l=t.values[o]??0;n[s]=l,a[i]++}return n}const lye=(t,e)=>{const n=fd.createTransformer(e),a=jx(t),s=jx(e);return a.indexes.var.length===s.indexes.var.length&&a.indexes.color.length===s.indexes.color.length&&a.indexes.number.length>=s.indexes.number.length?GM.has(t)&&!s.values.length||GM.has(e)&&!a.values.length?aye(t,e):Tg(SK(oye(a,s),s.values),n):Yb(t,e)};function CK(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Er(t,e,n):E4(t)(t,e)}const cye=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Zn.update(e,n),stop:()=>vo(e),now:()=>wa.isProcessing?wa.timestamp:As.now()}},EK=(t,e,n=10)=>{let a="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)a+=Math.round(t(i/(s-1))*1e4)/1e4+", ";return`linear(${a.substring(0,a.length-2)})`},Qb=2e4;function A4(t){let e=0;const n=50;let a=t.next(e);for(;!a.done&&e<Qb;)e+=n,a=t.next(e);return e>=Qb?1/0:e}function dye(t,e=100,n){const a=n({...t,keyframes:[0,e]}),s=Math.min(A4(a),Qb);return{type:"keyframes",ease:i=>a.next(s*i).value/e,duration:ki(s)}}const uye=5;function AK(t,e,n){const a=Math.max(e-uye,0);return b4(n-t(a),e-a)}const Dr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},d2=.001;function hye({duration:t=Dr.duration,bounce:e=Dr.bounce,velocity:n=Dr.velocity,mass:a=Dr.mass}){let s,i,o=1-e;o=Yo(Dr.minDamping,Dr.maxDamping,o),t=Yo(Dr.minDuration,Dr.maxDuration,ki(t)),o<1?(s=d=>{const u=d*o,h=u*t,f=u-n,v=WM(d,o),x=Math.exp(-h);return d2-f/v*x},i=d=>{const h=d*o*t,f=h*n+n,v=Math.pow(o,2)*Math.pow(d,2)*t,x=Math.exp(-h),g=WM(Math.pow(d,2),o);return(-s(d)+d2>0?-1:1)*((f-v)*x)/g}):(s=d=>{const u=Math.exp(-d*t),h=(d-n)*t+1;return-d2+u*h},i=d=>{const u=Math.exp(-d*t),h=(n-d)*(t*t);return u*h});const l=5/t,c=fye(s,i,l);if(t=Bo(t),isNaN(c))return{stiffness:Dr.stiffness,damping:Dr.damping,duration:t};{const d=Math.pow(c,2)*a;return{stiffness:d,damping:o*2*Math.sqrt(a*d),duration:t}}}const mye=12;function fye(t,e,n){let a=n;for(let s=1;s<mye;s++)a=a-t(a)/e(a);return a}function WM(t,e){return t*Math.sqrt(1-e*e)}const pye=["duration","bounce"],xye=["stiffness","damping","mass"];function DI(t,e){return e.some(n=>t[n]!==void 0)}function gye(t){let e={velocity:Dr.velocity,stiffness:Dr.stiffness,damping:Dr.damping,mass:Dr.mass,isResolvedFromDuration:!1,...t};if(!DI(t,xye)&&DI(t,pye))if(t.visualDuration){const n=t.visualDuration,a=2*Math.PI/(n*1.2),s=a*a,i=2*Yo(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Dr.mass,stiffness:s,damping:i}}else{const n=hye(t);e={...e,...n,mass:Dr.mass},e.isResolvedFromDuration=!0}return e}function Zb(t=Dr.visualDuration,e=Dr.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:a,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:d,mass:u,duration:h,velocity:f,isResolvedFromDuration:v}=gye({...n,velocity:-ki(n.velocity||0)}),x=f||0,g=d/(2*Math.sqrt(c*u)),y=o-i,b=ki(Math.sqrt(c/u)),_=Math.abs(y)<5;a||(a=_?Dr.restSpeed.granular:Dr.restSpeed.default),s||(s=_?Dr.restDelta.granular:Dr.restDelta.default);let j;if(g<1){const C=WM(b,g);j=E=>{const P=Math.exp(-g*b*E);return o-P*((x+g*b*y)/C*Math.sin(C*E)+y*Math.cos(C*E))}}else if(g===1)j=C=>o-Math.exp(-b*C)*(y+(x+b*y)*C);else{const C=b*Math.sqrt(g*g-1);j=E=>{const P=Math.exp(-g*b*E),T=Math.min(C*E,300);return o-P*((x+g*b*y)*Math.sinh(T)+C*y*Math.cosh(T))/C}}const S={calculatedDuration:v&&h||null,next:C=>{const E=j(C);if(v)l.done=C>=h;else{let P=C===0?x:0;g<1&&(P=C===0?Bo(x):AK(j,C,E));const T=Math.abs(P)<=a,M=Math.abs(o-E)<=s;l.done=T&&M}return l.value=l.done?o:E,l},toString:()=>{const C=Math.min(A4(S),Qb),E=EK(P=>S.next(C*P).value,C,30);return C+"ms "+E},toTransition:()=>{}};return S}Zb.applyToOptions=t=>{const e=dye(t,100,Zb);return t.ease=e.ease,t.duration=Bo(e.duration),t.type="keyframes",t};function KM({keyframes:t,velocity:e=0,power:n=.8,timeConstant:a=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}){const h=t[0],f={done:!1,value:h},v=T=>l!==void 0&&T<l||c!==void 0&&T>c,x=T=>l===void 0?c:c===void 0||Math.abs(l-T)<Math.abs(c-T)?l:c;let g=n*e;const y=h+g,b=o===void 0?y:o(y);b!==y&&(g=b-h);const _=T=>-g*Math.exp(-T/a),j=T=>b+_(T),S=T=>{const M=_(T),k=j(T);f.done=Math.abs(M)<=d,f.value=f.done?b:k};let C,E;const P=T=>{v(f.value)&&(C=T,E=Zb({keyframes:[f.value,x(f.value)],velocity:AK(j,T,f.value),damping:s,stiffness:i,restDelta:d,restSpeed:u}))};return P(0),{calculatedDuration:null,next:T=>{let M=!1;return!E&&C===void 0&&(M=!0,S(T),P(T)),C!==void 0&&T>=C?E.next(T-C):(!M&&S(T),f)}}}function vye(t,e,n){const a=[],s=n||Kl.mix||CK,i=t.length-1;for(let o=0;o<i;o++){let l=s(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||ks:e;l=Tg(c,l)}a.push(l)}return a}function M4(t,e,{clamp:n=!0,ease:a,mixer:s}={}){const i=t.length;if(wx(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=vye(e,a,s),c=l.length,d=u=>{if(o&&u<t[0])return e[0];let h=0;if(c>1)for(;h<t.length-2&&!(u<t[h+1]);h++);const f=bf(t[h],t[h+1],u);return l[h](f)};return n?u=>d(Yo(t[0],t[i-1],u)):d}function yye(t,e){const n=t[t.length-1];for(let a=1;a<=e;a++){const s=bf(0,e,a);t.push(Er(n,1,s))}}function MK(t){const e=[0];return yye(e,t.length-1),e}function bye(t,e){return t.map(n=>n*e)}function wye(t,e){return t.map(()=>e||xK).splice(0,t.length-1)}function K0({duration:t=300,keyframes:e,times:n,ease:a="easeInOut"}){const s=Ove(a)?a.map(PI):PI(a),i={done:!1,value:e[0]},o=bye(n&&n.length===e.length?n:MK(e),t),l=M4(o,e,{ease:Array.isArray(s)?s:wye(e,s)});return{calculatedDuration:t,next:c=>(i.value=l(c),i.done=c>=t,i)}}const _ye=t=>t!==null;function P4(t,{repeat:e,repeatType:n="loop"},a,s=1){const i=t.filter(_ye),l=s<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!l||a===void 0?i[l]:a}const jye={decay:KM,inertia:KM,tween:K0,keyframes:K0,spring:Zb};function PK(t){typeof t.type=="string"&&(t.type=jye[t.type])}class T4{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const Nye=t=>t/100;class k4 extends T4{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var a,s;const{motionValue:n}=this.options;n&&n.updatedAt!==As.now()&&this.tick(As.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(a=this.options).onStop)==null||s.call(a))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;PK(e);const{type:n=K0,repeat:a=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=e;let{keyframes:l}=e;const c=n||K0;c!==K0&&typeof l[0]!="number"&&(this.mixKeyframes=Tg(Nye,CK(l[0],l[1])),l=[0,100]);const d=c({...e,keyframes:l});i==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...l].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=A4(d));const{calculatedDuration:u}=d;this.calculatedDuration=u,this.resolvedDuration=u+s,this.totalDuration=this.resolvedDuration*(a+1)-s,this.generator=d}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:a,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return a.next(0);const{delay:d=0,keyframes:u,repeat:h,repeatType:f,repeatDelay:v,type:x,onUpdate:g,finalKeyframe:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const b=this.currentTime-d*(this.playbackSpeed>=0?1:-1),_=this.playbackSpeed>=0?b<0:b>s;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let j=this.currentTime,S=a;if(h){const T=Math.min(this.currentTime,s)/l;let M=Math.floor(T),k=T%1;!k&&T>=1&&(k=1),k===1&&M--,M=Math.min(M,h+1),!!(M%2)&&(f==="reverse"?(k=1-k,v&&(k-=v/l)):f==="mirror"&&(S=o)),j=Yo(0,1,k)*l}const C=_?{done:!1,value:u[0]}:S.next(j);i&&(C.value=i(C.value));let{done:E}=C;!_&&c!==null&&(E=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&E);return P&&x!==KM&&(C.value=P4(u,this.options,y,this.speed)),g&&g(C.value),P&&this.finish(),C}then(e,n){return this.finished.then(e,n)}get duration(){return ki(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ki(e)}get time(){return ki(this.currentTime)}set time(e){var n;e=Bo(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(As.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ki(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:e=cye,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(i=(s=this.options).onPlay)==null||i.call(s);const a=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=a):this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime||(this.startTime=n??a),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(As.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function Sye(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const gu=t=>t*180/Math.PI,XM=t=>{const e=gu(Math.atan2(t[1],t[0]));return YM(e)},Cye={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:XM,rotateZ:XM,skewX:t=>gu(Math.atan(t[1])),skewY:t=>gu(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},YM=t=>(t=t%360,t<0&&(t+=360),t),II=XM,LI=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),FI=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Eye={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:LI,scaleY:FI,scale:t=>(LI(t)+FI(t))/2,rotateX:t=>YM(gu(Math.atan2(t[6],t[5]))),rotateY:t=>YM(gu(Math.atan2(-t[2],t[0]))),rotateZ:II,rotate:II,skewX:t=>gu(Math.atan(t[4])),skewY:t=>gu(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function QM(t){return t.includes("scale")?1:0}function ZM(t,e){if(!t||t==="none")return QM(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let a,s;if(n)a=Eye,s=n;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);a=Cye,s=l}if(!s)return QM(e);const i=a[e],o=s[1].split(",").map(Mye);return typeof i=="function"?i(o):o[i]}const Aye=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return ZM(n,e)};function Mye(t){return parseFloat(t.trim())}const pp=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],xp=new Set(pp),$I=t=>t===fp||t===tn,Pye=new Set(["x","y","z"]),Tye=pp.filter(t=>!Pye.has(t));function kye(t){const e=[];return Tye.forEach(n=>{const a=t.getValue(n);a!==void 0&&(e.push([n,a.get()]),a.set(n.startsWith("scale")?1:0))}),e}const Du={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>ZM(e,"x"),y:(t,{transform:e})=>ZM(e,"y")};Du.translateX=Du.x;Du.translateY=Du.y;const Iu=new Set;let JM=!1,eP=!1,tP=!1;function TK(){if(eP){const t=Array.from(Iu).filter(a=>a.needsMeasurement),e=new Set(t.map(a=>a.element)),n=new Map;e.forEach(a=>{const s=kye(a);s.length&&(n.set(a,s),a.render())}),t.forEach(a=>a.measureInitialState()),e.forEach(a=>{a.render();const s=n.get(a);s&&s.forEach(([i,o])=>{var l;(l=a.getValue(i))==null||l.set(o)})}),t.forEach(a=>a.measureEndState()),t.forEach(a=>{a.suspendedScrollY!==void 0&&window.scrollTo(0,a.suspendedScrollY)})}eP=!1,JM=!1,Iu.forEach(t=>t.complete(tP)),Iu.clear()}function kK(){Iu.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(eP=!0)})}function Rye(){tP=!0,kK(),TK(),tP=!1}class R4{constructor(e,n,a,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=a,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Iu.add(this),JM||(JM=!0,Zn.read(kK),Zn.resolveKeyframes(TK))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:a,motionValue:s}=this;if(e[0]===null){const i=s==null?void 0:s.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(a&&n){const l=a.readValue(n,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),s&&i===void 0&&s.set(e[0])}Sye(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Iu.delete(this)}cancel(){this.state==="scheduled"&&(Iu.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Oye=t=>t.startsWith("--");function Dye(t,e,n){Oye(e)?t.style.setProperty(e,n):t.style[e]=n}const RK=v4(()=>window.ScrollTimeline!==void 0),Iye={};function Lye(t,e){const n=v4(t);return()=>Iye[e]??n()}const OK=Lye(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),L0=([t,e,n,a])=>`cubic-bezier(${t}, ${e}, ${n}, ${a})`,UI={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:L0([0,.65,.55,1]),circOut:L0([.55,0,1,.45]),backIn:L0([.31,.01,.66,-.59]),backOut:L0([.33,1.53,.69,.99])};function DK(t,e){if(t)return typeof t=="function"?OK()?EK(t,e):"ease-out":gK(t)?L0(t):Array.isArray(t)?t.map(n=>DK(n,e)||UI.easeOut):UI[t]}function Fye(t,e,n,{delay:a=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:l="easeOut",times:c}={},d=void 0){const u={[e]:n};c&&(u.offset=c);const h=DK(l,s);Array.isArray(h)&&(u.easing=h);const f={delay:a,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return d&&(f.pseudoElement=d),t.animate(u,f)}function IK(t){return typeof t=="function"&&"applyToOptions"in t}function $ye({type:t,...e}){return IK(t)&&OK()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Uye extends T4{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:a,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,wx(typeof e.type!="string");const d=$ye(e);this.animation=Fye(n,a,s,d,i),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const u=P4(s,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(u):Dye(n,a,u),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,a;const e=((a=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:a.call(n).duration)||0;return ki(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ki(e)}get time(){return ki(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Bo(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var a;return this.allowFlatten&&((a=this.animation.effect)==null||a.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&RK()?(this.animation.timeline=e,ks):n(this)}}const LK={anticipate:mK,backInOut:hK,circInOut:pK};function Bye(t){return t in LK}function zye(t){typeof t.ease=="string"&&Bye(t.ease)&&(t.ease=LK[t.ease])}const BI=10;class qye extends Uye{constructor(e){zye(e),PK(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:a,onComplete:s,element:i,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const l=new k4({...o,autoplay:!1}),c=Bo(this.finishedTime??this.time);n.setWithVelocity(l.sample(c-BI).value,l.sample(c).value,BI),l.stop()}}const zI=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(fd.test(t)||t==="0")&&!t.startsWith("url("));function Vye(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Hye(t,e,n,a){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=zI(s,e),l=zI(i,e);return!o||!l?!1:Vye(t)||(n==="spring"||IK(n))&&a}function nP(t){t.duration=0,t.type="keyframes"}const Gye=new Set(["opacity","clipPath","filter","transform"]),Wye=v4(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Kye(t){var u;const{motionValue:e,name:n,repeatDelay:a,repeatType:s,damping:i,type:o}=t;if(!(((u=e==null?void 0:e.owner)==null?void 0:u.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=e.owner.getProps();return Wye()&&n&&Gye.has(n)&&(n!=="transform"||!d)&&!c&&!a&&s!=="mirror"&&i!==0&&o!=="inertia"}const Xye=40;class Yye extends T4{constructor({autoplay:e=!0,delay:n=0,type:a="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:l,name:c,motionValue:d,element:u,...h}){var x;super(),this.stop=()=>{var g,y;this._animation&&(this._animation.stop(),(g=this.stopTimeline)==null||g.call(this)),(y=this.keyframeResolver)==null||y.cancel()},this.createdAt=As.now();const f={autoplay:e,delay:n,type:a,repeat:s,repeatDelay:i,repeatType:o,name:c,motionValue:d,element:u,...h},v=(u==null?void 0:u.KeyframeResolver)||R4;this.keyframeResolver=new v(l,(g,y,b)=>this.onKeyframesResolved(g,y,f,!b),c,d,u),(x=this.keyframeResolver)==null||x.scheduleResolve()}onKeyframesResolved(e,n,a,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:l,delay:c,isHandoff:d,onUpdate:u}=a;this.resolvedAt=As.now(),Hye(e,i,o,l)||((Kl.instantAnimations||!c)&&(u==null||u(P4(e,a,n))),e[0]=e[e.length-1],nP(a),a.repeat=0);const f={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>Xye?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...a,keyframes:e},v=!d&&Kye(f)?new qye({...f,element:f.motionValue.owner.current}):new k4(f);v.finished.then(()=>this.notifyFinished()).catch(ks),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),Rye()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const Qye=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Zye(t){const e=Qye.exec(t);if(!e)return[,];const[,n,a,s]=e;return[`--${n??a}`,s]}function FK(t,e,n=1){const[a,s]=Zye(t);if(!a)return;const i=window.getComputedStyle(e).getPropertyValue(a);if(i){const o=i.trim();return sK(o)?parseFloat(o):o}return N4(s)?FK(s,e,n+1):s}function O4(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const $K=new Set(["width","height","top","left","right","bottom",...pp]),Jye={test:t=>t==="auto",parse:t=>t},UK=t=>e=>e.test(t),BK=[fp,tn,zo,Oc,Wve,Gve,Jye],qI=t=>BK.find(UK(t));function ebe(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||oK(t):!0}const tbe=new Set(["brightness","contrast","saturate","opacity"]);function nbe(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[a]=n.match(S4)||[];if(!a)return t;const s=n.replace(a,"");let i=tbe.has(e)?1:0;return a!==n&&(i*=100),e+"("+i+s+")"}const rbe=/\b([a-z-]*)\(.*?\)/gu,rP={...fd,getAnimatableNone:t=>{const e=t.match(rbe);return e?e.map(nbe).join(" "):t}},VI={...fp,transform:Math.round},abe={rotate:Oc,rotateX:Oc,rotateY:Oc,rotateZ:Oc,scale:vy,scaleX:vy,scaleY:vy,scaleZ:vy,skew:Oc,skewX:Oc,skewY:Oc,distance:tn,translateX:tn,translateY:tn,translateZ:tn,x:tn,y:tn,z:tn,perspective:tn,transformPerspective:tn,opacity:_x,originX:TI,originY:TI,originZ:tn},D4={borderWidth:tn,borderTopWidth:tn,borderRightWidth:tn,borderBottomWidth:tn,borderLeftWidth:tn,borderRadius:tn,radius:tn,borderTopLeftRadius:tn,borderTopRightRadius:tn,borderBottomRightRadius:tn,borderBottomLeftRadius:tn,width:tn,maxWidth:tn,height:tn,maxHeight:tn,top:tn,right:tn,bottom:tn,left:tn,padding:tn,paddingTop:tn,paddingRight:tn,paddingBottom:tn,paddingLeft:tn,margin:tn,marginTop:tn,marginRight:tn,marginBottom:tn,marginLeft:tn,backgroundPositionX:tn,backgroundPositionY:tn,...abe,zIndex:VI,fillOpacity:_x,strokeOpacity:_x,numOctaves:VI},sbe={...D4,color:Qr,backgroundColor:Qr,outlineColor:Qr,fill:Qr,stroke:Qr,borderColor:Qr,borderTopColor:Qr,borderRightColor:Qr,borderBottomColor:Qr,borderLeftColor:Qr,filter:rP,WebkitFilter:rP},zK=t=>sbe[t];function qK(t,e){let n=zK(t);return n!==rP&&(n=fd),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const ibe=new Set(["auto","none","0"]);function obe(t,e,n){let a=0,s;for(;a<t.length&&!s;){const i=t[a];typeof i=="string"&&!ibe.has(i)&&jx(i).values.length&&(s=t[a]),a++}if(s&&n)for(const i of e)t[i]=qK(n,s)}class lbe extends R4{constructor(e,n,a,s,i){super(e,n,a,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:a}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let d=e[c];if(typeof d=="string"&&(d=d.trim(),N4(d))){const u=FK(d,n.current);u!==void 0&&(e[c]=u),c===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!$K.has(a)||e.length!==2)return;const[s,i]=e,o=qI(s),l=qI(i);if(o!==l)if($I(o)&&$I(l))for(let c=0;c<e.length;c++){const d=e[c];typeof d=="string"&&(e[c]=parseFloat(d))}else Du[a]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,a=[];for(let s=0;s<e.length;s++)(e[s]===null||ebe(e[s]))&&a.push(s);a.length&&obe(e,a,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:a}=this;if(!e||!e.current)return;a==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Du[a](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(a,s).jump(s,!1)}measureEndState(){var l;const{element:e,name:n,unresolvedKeyframes:a}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=a.length-1,o=a[i];a[i]=Du[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,d])=>{e.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function I4(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const s=document.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const VK=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function L4(t){return iK(t)&&"offsetHeight"in t}const HI=30,cbe=t=>!isNaN(parseFloat(t)),X0={current:void 0};class dbe{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=a=>{var i;const s=As.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(a),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=As.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=cbe(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new y4);const a=this.events[e].add(n);return e==="change"?()=>{a(),Zn.read(()=>{this.events.change.getSize()||this.stop()})}:a}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,a){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-a}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return X0.current&&X0.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=As.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>HI)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,HI);return b4(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function uo(t,e){return new dbe(t,e)}const{schedule:F4}=vK(queueMicrotask,!1),Zi={x:!1,y:!1};function HK(){return Zi.x||Zi.y}function ube(t){return t==="x"||t==="y"?Zi[t]?null:(Zi[t]=!0,()=>{Zi[t]=!1}):Zi.x||Zi.y?null:(Zi.x=Zi.y=!0,()=>{Zi.x=Zi.y=!1})}function GK(t,e){const n=I4(t),a=new AbortController,s={passive:!0,...e,signal:a.signal};return[n,s,()=>a.abort()]}function GI(t){return!(t.pointerType==="touch"||HK())}function hbe(t,e,n={}){const[a,s,i]=GK(t,n),o=l=>{if(!GI(l))return;const{target:c}=l,d=e(c,l);if(typeof d!="function"||!c)return;const u=h=>{GI(h)&&(d(h),c.removeEventListener("pointerleave",u))};c.addEventListener("pointerleave",u,s)};return a.forEach(l=>{l.addEventListener("pointerenter",o,s)}),i}const WK=(t,e)=>e?t===e?!0:WK(t,e.parentElement):!1,$4=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,mbe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function fbe(t){return mbe.has(t.tagName)||t.tabIndex!==-1}const vb=new WeakSet;function WI(t){return e=>{e.key==="Enter"&&t(e)}}function u2(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const pbe=(t,e)=>{const n=t.currentTarget;if(!n)return;const a=WI(()=>{if(vb.has(n))return;u2(n,"down");const s=WI(()=>{u2(n,"up")}),i=()=>u2(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",a,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",a),e)};function KI(t){return $4(t)&&!HK()}function xbe(t,e,n={}){const[a,s,i]=GK(t,n),o=l=>{const c=l.currentTarget;if(!KI(l))return;vb.add(c);const d=e(c,l),u=(v,x)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),vb.has(c)&&vb.delete(c),KI(v)&&typeof d=="function"&&d(v,{success:x})},h=v=>{u(v,c===window||c===document||n.useGlobalTarget||WK(c,v.target))},f=v=>{u(v,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",f,s)};return a.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,s),L4(l)&&(l.addEventListener("focus",d=>pbe(d,s)),!fbe(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function U4(t){return iK(t)&&"ownerSVGElement"in t}const yb=new WeakMap;let Dc;const KK=(t,e,n)=>(a,s)=>s&&s[0]?s[0][t+"Size"]:U4(a)&&"getBBox"in a?a.getBBox()[e]:a[n],gbe=KK("inline","width","offsetWidth"),vbe=KK("block","height","offsetHeight");function ybe({target:t,borderBoxSize:e}){var n;(n=yb.get(t))==null||n.forEach(a=>{a(t,{get width(){return gbe(t,e)},get height(){return vbe(t,e)}})})}function bbe(t){t.forEach(ybe)}function wbe(){typeof ResizeObserver>"u"||(Dc=new ResizeObserver(bbe))}function _be(t,e){Dc||wbe();const n=I4(t);return n.forEach(a=>{let s=yb.get(a);s||(s=new Set,yb.set(a,s)),s.add(e),Dc==null||Dc.observe(a)}),()=>{n.forEach(a=>{const s=yb.get(a);s==null||s.delete(e),s!=null&&s.size||Dc==null||Dc.unobserve(a)})}}const bb=new Set;let jm;function jbe(){jm=()=>{const t={get width(){return window.innerWidth},get height(){return window.innerHeight}};bb.forEach(e=>e(t))},window.addEventListener("resize",jm)}function Nbe(t){return bb.add(t),jm||jbe(),()=>{bb.delete(t),!bb.size&&typeof jm=="function"&&(window.removeEventListener("resize",jm),jm=void 0)}}function Sbe(t,e){return typeof t=="function"?Nbe(t):_be(t,e)}function XK(t,e){let n;const a=()=>{const{currentTime:s}=e,o=(s===null?0:s.value)/100;n!==o&&t(o),n=o};return Zn.preUpdate(a,!0),()=>vo(a)}function Cbe(t){return U4(t)&&t.tagName==="svg"}function Ebe(...t){const e=!Array.isArray(t[0]),n=e?0:-1,a=t[0+n],s=t[1+n],i=t[2+n],o=t[3+n],l=M4(s,i,o);return e?l(a):l}const Xa=t=>!!(t&&t.getVelocity),Abe=[...BK,Qr,fd],Mbe=t=>Abe.find(UK(t)),V1=w.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function XI(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Pbe(...t){return e=>{let n=!1;const a=t.map(s=>{const i=XI(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<a.length;s++){const i=a[s];typeof i=="function"?i():XI(t[s],null)}}}}function Tbe(...t){return w.useCallback(Pbe(...t),t)}class kbe extends w.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const a=n.offsetParent,s=L4(a)&&a.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Rbe({children:t,isPresent:e,anchorX:n,root:a}){const s=w.useId(),i=w.useRef(null),o=w.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=w.useContext(V1),c=Tbe(i,t==null?void 0:t.ref);return w.useInsertionEffect(()=>{const{width:d,height:u,top:h,left:f,right:v}=o.current;if(e||!i.current||!d||!u)return;const x=n==="left"?`left: ${f}`:`right: ${v}`;i.current.dataset.motionPopId=s;const g=document.createElement("style");l&&(g.nonce=l);const y=a??document.head;return y.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${u}px !important;
            ${x}px !important;
            top: ${h}px !important;
          }
        `),()=>{y.contains(g)&&y.removeChild(g)}},[e]),r.jsx(kbe,{isPresent:e,childRef:i,sizeRef:o,children:w.cloneElement(t,{ref:c})})}const Obe=({children:t,initial:e,isPresent:n,onExitComplete:a,custom:s,presenceAffectsLayout:i,mode:o,anchorX:l,root:c})=>{const d=mp(Dbe),u=w.useId();let h=!0,f=w.useMemo(()=>(h=!1,{id:u,initial:e,isPresent:n,custom:s,onExitComplete:v=>{d.set(v,!0);for(const x of d.values())if(!x)return;a&&a()},register:v=>(d.set(v,!1),()=>d.delete(v))}),[n,d,a]);return i&&h&&(f={...f}),w.useMemo(()=>{d.forEach((v,x)=>d.set(x,!1))},[n]),w.useEffect(()=>{!n&&!d.size&&a&&a()},[n]),o==="popLayout"&&(t=r.jsx(Rbe,{isPresent:n,anchorX:l,root:c,children:t})),r.jsx(q1.Provider,{value:f,children:t})};function Dbe(){return new Map}function YK(t=!0){const e=w.useContext(q1);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:a,register:s}=e,i=w.useId();w.useEffect(()=>{if(t)return s(i)},[t]);const o=w.useCallback(()=>t&&a&&a(i),[i,a,t]);return!n&&a?[!1,o]:[!0]}const yy=t=>t.key||"";function YI(t){const e=[];return w.Children.forEach(t,n=>{w.isValidElement(n)&&e.push(n)}),e}const gt=({children:t,custom:e,initial:n=!0,onExitComplete:a,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1,anchorX:l="left",root:c})=>{const[d,u]=YK(o),h=w.useMemo(()=>YI(t),[t]),f=o&&!d?[]:h.map(yy),v=w.useRef(!0),x=w.useRef(h),g=mp(()=>new Map),[y,b]=w.useState(h),[_,j]=w.useState(h);z1(()=>{v.current=!1,x.current=h;for(let E=0;E<_.length;E++){const P=yy(_[E]);f.includes(P)?g.delete(P):g.get(P)!==!0&&g.set(P,!1)}},[_,f.length,f.join("-")]);const S=[];if(h!==y){let E=[...h];for(let P=0;P<_.length;P++){const T=_[P],M=yy(T);f.includes(M)||(E.splice(P,0,T),S.push(T))}return i==="wait"&&S.length&&(E=S),j(YI(E)),b(h),null}const{forceRender:C}=w.useContext(f4);return r.jsx(r.Fragment,{children:_.map(E=>{const P=yy(E),T=o&&!d?!1:h===_||f.includes(P),M=()=>{if(g.has(P))g.set(P,!0);else return;let k=!0;g.forEach(O=>{O||(k=!1)}),k&&(C==null||C(),j(x.current),o&&(u==null||u()),a&&a())};return r.jsx(Obe,{isPresent:T,initial:!v.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:i,root:c,onExitComplete:T?void 0:M,anchorX:l,children:E},P)})})},QK=w.createContext({strict:!1}),QI={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},wf={};for(const t in QI)wf[t]={isEnabled:e=>QI[t].some(n=>!!e[n])};function Ibe(t){for(const e in t)wf[e]={...wf[e],...t[e]}}const Lbe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Jb(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Lbe.has(t)}let ZK=t=>!Jb(t);function Fbe(t){typeof t=="function"&&(ZK=e=>e.startsWith("on")?!Jb(e):t(e))}try{Fbe(require("@emotion/is-prop-valid").default)}catch{}function $be(t,e,n){const a={};for(const s in t)s==="values"&&typeof t.values=="object"||(ZK(s)||n===!0&&Jb(s)||!e&&!Jb(s)||t.draggable&&s.startsWith("onDrag"))&&(a[s]=t[s]);return a}const H1=w.createContext({});function G1(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Nx(t){return typeof t=="string"||Array.isArray(t)}const B4=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],z4=["initial",...B4];function W1(t){return G1(t.animate)||z4.some(e=>Nx(t[e]))}function JK(t){return!!(W1(t)||t.variants)}function Ube(t,e){if(W1(t)){const{initial:n,animate:a}=t;return{initial:n===!1||Nx(n)?n:void 0,animate:Nx(a)?a:void 0}}return t.inherit!==!1?e:{}}function Bbe(t){const{initial:e,animate:n}=Ube(t,w.useContext(H1));return w.useMemo(()=>({initial:e,animate:n}),[ZI(e),ZI(n)])}function ZI(t){return Array.isArray(t)?t.join(" "):t}const Sx={};function zbe(t){for(const e in t)Sx[e]=t[e],j4(e)&&(Sx[e].isCSSVariable=!0)}function eX(t,{layout:e,layoutId:n}){return xp.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Sx[t]||t==="opacity")}const qbe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Vbe=pp.length;function Hbe(t,e,n){let a="",s=!0;for(let i=0;i<Vbe;i++){const o=pp[i],l=t[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const d=VK(l,D4[o]);if(!c){s=!1;const u=qbe[o]||o;a+=`${u}(${d}) `}n&&(e[o]=d)}}return a=a.trim(),n?a=n(e,s?"":a):s&&(a="none"),a}function q4(t,e,n){const{style:a,vars:s,transformOrigin:i}=t;let o=!1,l=!1;for(const c in e){const d=e[c];if(xp.has(c)){o=!0;continue}else if(j4(c)){s[c]=d;continue}else{const u=VK(d,D4[c]);c.startsWith("origin")?(l=!0,i[c]=u):a[c]=u}}if(e.transform||(o||n?a.transform=Hbe(e,t.transform,n):a.transform&&(a.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:u=0}=i;a.transformOrigin=`${c} ${d} ${u}`}}const V4=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function tX(t,e,n){for(const a in e)!Xa(e[a])&&!eX(a,n)&&(t[a]=e[a])}function Gbe({transformTemplate:t},e){return w.useMemo(()=>{const n=V4();return q4(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Wbe(t,e){const n=t.style||{},a={};return tX(a,n,t),Object.assign(a,Gbe(t,e)),a}function Kbe(t,e){const n={},a=Wbe(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=a,n}const Xbe={offset:"stroke-dashoffset",array:"stroke-dasharray"},Ybe={offset:"strokeDashoffset",array:"strokeDasharray"};function Qbe(t,e,n=1,a=0,s=!0){t.pathLength=1;const i=s?Xbe:Ybe;t[i.offset]=tn.transform(-a);const o=tn.transform(e),l=tn.transform(n);t[i.array]=`${o} ${l}`}function nX(t,{attrX:e,attrY:n,attrScale:a,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...l},c,d,u){if(q4(t,l,d),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:f}=t;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete h.transformBox),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),a!==void 0&&(h.scale=a),s!==void 0&&Qbe(h,s,i,o,!1)}const rX=()=>({...V4(),attrs:{}}),aX=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Zbe(t,e,n,a){const s=w.useMemo(()=>{const i=rX();return nX(i,e,aX(a),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};tX(i,t.style,t),s.style={...i,...s.style}}return s}const Jbe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function H4(t){return typeof t!="string"||t.includes("-")?!1:!!(Jbe.indexOf(t)>-1||/[A-Z]/u.test(t))}function ewe(t,e,n,{latestValues:a},s,i=!1){const l=(H4(t)?Zbe:Kbe)(e,a,s,t),c=$be(e,typeof t=="string",i),d=t!==w.Fragment?{...c,...l,ref:n}:{},{children:u}=e,h=w.useMemo(()=>Xa(u)?u.get():u,[u]);return w.createElement(t,{...d,children:h})}function JI(t){const e=[{},{}];return t==null||t.values.forEach((n,a)=>{e[0][a]=n.get(),e[1][a]=n.getVelocity()}),e}function G4(t,e,n,a){if(typeof e=="function"){const[s,i]=JI(a);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=JI(a);e=e(n!==void 0?n:t.custom,s,i)}return e}function wb(t){return Xa(t)?t.get():t}function twe({scrapeMotionValuesFromProps:t,createRenderState:e},n,a,s){return{latestValues:nwe(n,a,s,t),renderState:e()}}function nwe(t,e,n,a){const s={},i=a(t,{});for(const f in i)s[f]=wb(i[f]);let{initial:o,animate:l}=t;const c=W1(t),d=JK(t);e&&d&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const h=u?l:o;if(h&&typeof h!="boolean"&&!G1(h)){const f=Array.isArray(h)?h:[h];for(let v=0;v<f.length;v++){const x=G4(t,f[v]);if(x){const{transitionEnd:g,transition:y,...b}=x;for(const _ in b){let j=b[_];if(Array.isArray(j)){const S=u?j.length-1:0;j=j[S]}j!==null&&(s[_]=j)}for(const _ in g)s[_]=g[_]}}}return s}const sX=t=>(e,n)=>{const a=w.useContext(H1),s=w.useContext(q1),i=()=>twe(t,e,a,s);return n?i():mp(i)};function W4(t,e,n){var i;const{style:a}=t,s={};for(const o in a)(Xa(a[o])||e.style&&Xa(e.style[o])||eX(o,t)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=a[o]);return s}const rwe=sX({scrapeMotionValuesFromProps:W4,createRenderState:V4});function iX(t,e,n){const a=W4(t,e,n);for(const s in t)if(Xa(t[s])||Xa(e[s])){const i=pp.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;a[i]=t[s]}return a}const awe=sX({scrapeMotionValuesFromProps:iX,createRenderState:rX}),swe=Symbol.for("motionComponentSymbol");function Nm(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function iwe(t,e,n){return w.useCallback(a=>{a&&t.onMount&&t.onMount(a),e&&(a?e.mount(a):e.unmount()),n&&(typeof n=="function"?n(a):Nm(n)&&(n.current=a))},[e])}const K4=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),owe="framerAppearId",oX="data-"+K4(owe),lX=w.createContext({});function lwe(t,e,n,a,s){var g,y;const{visualElement:i}=w.useContext(H1),o=w.useContext(QK),l=w.useContext(q1),c=w.useContext(V1).reducedMotion,d=w.useRef(null);a=a||o.renderer,!d.current&&a&&(d.current=a(t,{visualState:e,parent:i,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const u=d.current,h=w.useContext(lX);u&&!u.projection&&s&&(u.type==="html"||u.type==="svg")&&cwe(d.current,n,s,h);const f=w.useRef(!1);w.useInsertionEffect(()=>{u&&f.current&&u.update(n,l)});const v=n[oX],x=w.useRef(!!v&&!((g=window.MotionHandoffIsComplete)!=null&&g.call(window,v))&&((y=window.MotionHasOptimisedAnimation)==null?void 0:y.call(window,v)));return z1(()=>{u&&(f.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),x.current&&u.animationState&&u.animationState.animateChanges())}),w.useEffect(()=>{u&&(!x.current&&u.animationState&&u.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var b;(b=window.MotionHandoffMarkAsComplete)==null||b.call(window,v)}),x.current=!1),u.enteringChildren=void 0)}),u}function cwe(t,e,n,a){const{layoutId:s,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d,layoutCrossfade:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:cX(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||l&&Nm(l),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:a,crossfade:u,layoutScroll:c,layoutRoot:d})}function cX(t){if(t)return t.options.allowProjection!==!1?t.projection:cX(t.parent)}function h2(t,{forwardMotionProps:e=!1}={},n,a){n&&Ibe(n);const s=H4(t)?awe:rwe;function i(l,c){let d;const u={...w.useContext(V1),...l,layoutId:dwe(l)},{isStatic:h}=u,f=Bbe(l),v=s(l,h);if(!h&&p4){uwe();const x=hwe(u);d=x.MeasureLayout,f.visualElement=lwe(t,v,u,a,x.ProjectionNode)}return r.jsxs(H1.Provider,{value:f,children:[d&&f.visualElement?r.jsx(d,{visualElement:f.visualElement,...u}):null,ewe(t,l,iwe(v,f.visualElement,c),v,h,e)]})}i.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=w.forwardRef(i);return o[swe]=t,o}function dwe({layoutId:t}){const e=w.useContext(f4).id;return e&&t!==void 0?e+"-"+t:t}function uwe(t,e){w.useContext(QK).strict}function hwe(t){const{drag:e,layout:n}=wf;if(!e&&!n)return{};const a={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function mwe(t,e){if(typeof Proxy>"u")return h2;const n=new Map,a=(i,o)=>h2(i,o,t,e),s=(i,o)=>a(i,o);return new Proxy(s,{get:(i,o)=>o==="create"?a:(n.has(o)||n.set(o,h2(o,void 0,t,e)),n.get(o))})}function dX({top:t,left:e,right:n,bottom:a}){return{x:{min:e,max:n},y:{min:t,max:a}}}function fwe({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function pwe(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),a=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:a.y,right:a.x}}function m2(t){return t===void 0||t===1}function aP({scale:t,scaleX:e,scaleY:n}){return!m2(t)||!m2(e)||!m2(n)}function tu(t){return aP(t)||uX(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function uX(t){return e6(t.x)||e6(t.y)}function e6(t){return t&&t!=="0%"}function ew(t,e,n){const a=t-n,s=e*a;return n+s}function t6(t,e,n,a,s){return s!==void 0&&(t=ew(t,s,a)),ew(t,n,a)+e}function sP(t,e=0,n=1,a,s){t.min=t6(t.min,e,n,a,s),t.max=t6(t.max,e,n,a,s)}function hX(t,{x:e,y:n}){sP(t.x,e.translate,e.scale,e.originPoint),sP(t.y,n.translate,n.scale,n.originPoint)}const n6=.999999999999,r6=1.0000000000001;function xwe(t,e,n,a=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let l=0;l<s;l++){i=n[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(a&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Cm(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,hX(t,o)),a&&tu(i.latestValues)&&Cm(t,i.latestValues))}e.x<r6&&e.x>n6&&(e.x=1),e.y<r6&&e.y>n6&&(e.y=1)}function Sm(t,e){t.min=t.min+e,t.max=t.max+e}function a6(t,e,n,a,s=.5){const i=Er(t.min,t.max,s);sP(t,e,n,i,a)}function Cm(t,e){a6(t.x,e.x,e.scaleX,e.scale,e.originX),a6(t.y,e.y,e.scaleY,e.scale,e.originY)}function mX(t,e){return dX(pwe(t.getBoundingClientRect(),e))}function gwe(t,e,n){const a=mX(t,n),{scroll:s}=e;return s&&(Sm(a.x,s.offset.x),Sm(a.y,s.offset.y)),a}const s6=()=>({translate:0,scale:1,origin:0,originPoint:0}),Em=()=>({x:s6(),y:s6()}),i6=()=>({min:0,max:0}),zr=()=>({x:i6(),y:i6()}),iP={current:null},fX={current:!1};function vwe(){if(fX.current=!0,!!p4)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>iP.current=t.matches;t.addEventListener("change",e),e()}else iP.current=!1}const ywe=new WeakMap;function bwe(t,e,n){for(const a in e){const s=e[a],i=n[a];if(Xa(s))t.addValue(a,s);else if(Xa(i))t.addValue(a,uo(s,{owner:t}));else if(i!==s)if(t.hasValue(a)){const o=t.getValue(a);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(a);t.addValue(a,uo(o!==void 0?o:s,{owner:t}))}}for(const a in n)e[a]===void 0&&t.removeValue(a);return e}const o6=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class wwe{scrapeMotionValuesFromProps(e,n,a){return{}}constructor({parent:e,props:n,presenceContext:a,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=R4,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=As.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,Zn.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=d,this.parent=e,this.props=n,this.presenceContext=a,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=W1(n),this.isVariantNode=JK(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const v=h[f];c[f]!==void 0&&Xa(v)&&v.set(c[f])}}mount(e){var n;this.current=e,ywe.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((a,s)=>this.bindToMotionValue(s,a)),fX.current||vwe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:iP.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),vo(this.notifyUpdate),vo(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const a=this.features[n];a&&(a.unmount(),a.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const a=xp.has(e);a&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Zn.preRender(this.notifyUpdate),a&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in wf){const n=wf[e];if(!n)continue;const{isEnabled:a,Feature:s}=n;if(!this.features[e]&&s&&a(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):zr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let a=0;a<o6.length;a++){const s=o6[a];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=bwe(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const a=this.values.get(e);n!==a&&(a&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let a=this.values.get(e);return a===void 0&&n!==void 0&&(a=uo(n===null?void 0:n,{owner:this}),this.addValue(e,a)),a}readValue(e,n){let a=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return a!=null&&(typeof a=="string"&&(sK(a)||oK(a))?a=parseFloat(a):!Mbe(a)&&fd.test(n)&&(a=qK(e,n)),this.setBaseTarget(e,Xa(a)?a.get():a)),Xa(a)?a.get():a}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var i;const{initial:n}=this.props;let a;if(typeof n=="string"||typeof n=="object"){const o=G4(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(a=o[e])}if(n&&a!==void 0)return a;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Xa(s)?s:this.initialValues[e]!==void 0&&a===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new y4),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){F4.render(this.render)}}class pX extends wwe{constructor(){super(...arguments),this.KeyframeResolver=lbe}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:a}){delete n[e],delete a[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Xa(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function xX(t,{style:e,vars:n},a,s){const i=t.style;let o;for(o in e)i[o]=e[o];s==null||s.applyProjectionStyles(i,a);for(o in n)i.setProperty(o,n[o])}function _we(t){return window.getComputedStyle(t)}class jwe extends pX{constructor(){super(...arguments),this.type="html",this.renderInstance=xX}readValueFromInstance(e,n){var a;if(xp.has(n))return(a=this.projection)!=null&&a.isProjecting?QM(n):Aye(e,n);{const s=_we(e),i=(j4(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return mX(e,n)}build(e,n,a){q4(e,n,a.transformTemplate)}scrapeMotionValuesFromProps(e,n,a){return W4(e,n,a)}}const gX=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Nwe(t,e,n,a){xX(t,e,void 0,a);for(const s in e.attrs)t.setAttribute(gX.has(s)?s:K4(s),e.attrs[s])}class Swe extends pX{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=zr}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(xp.has(n)){const a=zK(n);return a&&a.default||0}return n=gX.has(n)?n:K4(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,a){return iX(e,n,a)}build(e,n,a){nX(e,n,this.isSVGTag,a.transformTemplate,a.style)}renderInstance(e,n,a,s){Nwe(e,n,a,s)}mount(e){this.isSVGTag=aX(e.tagName),super.mount(e)}}const Cwe=(t,e)=>H4(t)?new Swe(e):new jwe(e,{allowProjection:t!==w.Fragment});function qm(t,e,n){const a=t.getProps();return G4(a,e,n!==void 0?n:a.custom,t)}const oP=t=>Array.isArray(t);function Ewe(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,uo(n))}function Awe(t){return oP(t)?t[t.length-1]||0:t}function Mwe(t,e){const n=qm(t,e);let{transitionEnd:a={},transition:s={},...i}=n||{};i={...i,...a};for(const o in i){const l=Awe(i[o]);Ewe(t,o,l)}}function Pwe(t){return!!(Xa(t)&&t.add)}function lP(t,e){const n=t.getValue("willChange");if(Pwe(n))return n.add(e);if(!n&&Kl.WillChange){const a=new Kl.WillChange("auto");t.addValue("willChange",a),a.add(e)}}function vX(t){return t.props[oX]}const Twe=t=>t!==null;function kwe(t,{repeat:e,repeatType:n="loop"},a){const s=t.filter(Twe),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[i]}const Rwe={type:"spring",stiffness:500,damping:25,restSpeed:10},Owe=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Dwe={type:"keyframes",duration:.8},Iwe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Lwe=(t,{keyframes:e})=>e.length>2?Dwe:xp.has(t)?t.startsWith("scale")?Owe(e[1]):Rwe:Iwe;function Fwe({when:t,delay:e,delayChildren:n,staggerChildren:a,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const X4=(t,e,n,a={},s,i)=>o=>{const l=O4(a,t)||{},c=l.delay||a.delay||0;let{elapsed:d=0}=a;d=d-Bo(c);const u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-d,onUpdate:f=>{e.set(f),l.onUpdate&&l.onUpdate(f)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:i?void 0:s};Fwe(l)||Object.assign(u,Lwe(t,u)),u.duration&&(u.duration=Bo(u.duration)),u.repeatDelay&&(u.repeatDelay=Bo(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let h=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(nP(u),u.delay===0&&(h=!0)),(Kl.instantAnimations||Kl.skipAnimations)&&(h=!0,nP(u),u.delay=0),u.allowFlatten=!l.type&&!l.ease,h&&!i&&e.get()!==void 0){const f=kwe(u.keyframes,l);if(f!==void 0){Zn.update(()=>{u.onUpdate(f),u.onComplete()});return}}return l.isSync?new k4(u):new Yye(u)};function $we({protectedKeys:t,needsAnimating:e},n){const a=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,a}function yX(t,e,{delay:n=0,transitionOverride:a,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...l}=e;a&&(i=a);const c=[],d=s&&t.animationState&&t.animationState.getState()[s];for(const u in l){const h=t.getValue(u,t.latestValues[u]??null),f=l[u];if(f===void 0||d&&$we(d,u))continue;const v={delay:n,...O4(i||{},u)},x=h.get();if(x!==void 0&&!h.isAnimating&&!Array.isArray(f)&&f===x&&!v.velocity)continue;let g=!1;if(window.MotionHandoffAnimation){const b=vX(t);if(b){const _=window.MotionHandoffAnimation(b,u,Zn);_!==null&&(v.startTime=_,g=!0)}}lP(t,u),h.start(X4(u,h,f,t.shouldReduceMotion&&$K.has(u)?{type:!1}:v,t,g));const y=h.animation;y&&c.push(y)}return o&&Promise.all(c).then(()=>{Zn.update(()=>{o&&Mwe(t,o)})}),c}function bX(t,e,n,a=0,s=1){const i=Array.from(t).sort((d,u)=>d.sortNodePosition(u)).indexOf(e),o=t.size,l=(o-1)*a;return typeof n=="function"?n(i,o):s===1?i*a:l-i*a}function cP(t,e,n={}){var c;const a=qm(t,e,n.type==="exit"?(c=t.presenceContext)==null?void 0:c.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=a||{};n.transitionOverride&&(s=n.transitionOverride);const i=a?()=>Promise.all(yX(t,a,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:f}=s;return Uwe(t,e,d,u,h,f,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[d,u]=l==="beforeChildren"?[i,o]:[o,i];return d().then(()=>u())}else return Promise.all([i(),o(n.delay)])}function Uwe(t,e,n=0,a=0,s=0,i=1,o){const l=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),l.push(cP(c,e,{...o,delay:n+(typeof a=="function"?0:a)+bX(t.variantChildren,c,a,s,i)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(l)}function Bwe(t,e,n={}){t.notify("AnimationStart",e);let a;if(Array.isArray(e)){const s=e.map(i=>cP(t,i,n));a=Promise.all(s)}else if(typeof e=="string")a=cP(t,e,n);else{const s=typeof e=="function"?qm(t,e,n.custom):e;a=Promise.all(yX(t,s,n))}return a.then(()=>{t.notify("AnimationComplete",e)})}function wX(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let a=0;a<n;a++)if(e[a]!==t[a])return!1;return!0}const zwe=z4.length;function _X(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?_X(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<zwe;n++){const a=z4[n],s=t.props[a];(Nx(s)||s===!1)&&(e[a]=s)}return e}const qwe=[...B4].reverse(),Vwe=B4.length;function Hwe(t){return e=>Promise.all(e.map(({animation:n,options:a})=>Bwe(t,n,a)))}function Gwe(t){let e=Hwe(t),n=l6(),a=!0;const s=c=>(d,u)=>{var f;const h=qm(t,u,c==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);if(h){const{transition:v,transitionEnd:x,...g}=h;d={...d,...g,...x}}return d};function i(c){e=c(t)}function o(c){const{props:d}=t,u=_X(t.parent)||{},h=[],f=new Set;let v={},x=1/0;for(let y=0;y<Vwe;y++){const b=qwe[y],_=n[b],j=d[b]!==void 0?d[b]:u[b],S=Nx(j),C=b===c?_.isActive:null;C===!1&&(x=y);let E=j===u[b]&&j!==d[b]&&S;if(E&&a&&t.manuallyAnimateOnMount&&(E=!1),_.protectedKeys={...v},!_.isActive&&C===null||!j&&!_.prevProp||G1(j)||typeof j=="boolean")continue;const P=Wwe(_.prevProp,j);let T=P||b===c&&_.isActive&&!E&&S||y>x&&S,M=!1;const k=Array.isArray(j)?j:[j];let O=k.reduce(s(b),{});C===!1&&(O={});const{prevResolvedValues:$={}}=_,F={...$,...O},B=L=>{T=!0,f.has(L)&&(M=!0,f.delete(L)),_.needsAnimating[L]=!0;const U=t.getValue(L);U&&(U.liveStyle=!1)};for(const L in F){const U=O[L],z=$[L];if(v.hasOwnProperty(L))continue;let K=!1;oP(U)&&oP(z)?K=!wX(U,z):K=U!==z,K?U!=null?B(L):f.add(L):U!==void 0&&f.has(L)?B(L):_.protectedKeys[L]=!0}_.prevProp=j,_.prevResolvedValues=O,_.isActive&&(v={...v,...O}),a&&t.blockInitialAnimation&&(T=!1);const G=E&&P;T&&(!G||M)&&h.push(...k.map(L=>{const U={type:b};if(typeof L=="string"&&a&&!G&&t.manuallyAnimateOnMount&&t.parent){const{parent:z}=t,K=qm(z,L);if(z.enteringChildren&&K){const{delayChildren:V}=K.transition||{};U.delay=bX(z.enteringChildren,t,V)}}return{animation:L,options:U}}))}if(f.size){const y={};if(typeof d.initial!="boolean"){const b=qm(t,Array.isArray(d.initial)?d.initial[0]:d.initial);b&&b.transition&&(y.transition=b.transition)}f.forEach(b=>{const _=t.getBaseTarget(b),j=t.getValue(b);j&&(j.liveStyle=!0),y[b]=_??null}),h.push({animation:y})}let g=!!h.length;return a&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(g=!1),a=!1,g?e(h):Promise.resolve()}function l(c,d){var h;if(n[c].isActive===d)return Promise.resolve();(h=t.variantChildren)==null||h.forEach(f=>{var v;return(v=f.animationState)==null?void 0:v.setActive(c,d)}),n[c].isActive=d;const u=o(c);for(const f in n)n[f].protectedKeys={};return u}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>n,reset:()=>{n=l6()}}}function Wwe(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!wX(e,t):!1}function Hd(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function l6(){return{animate:Hd(!0),whileInView:Hd(),whileHover:Hd(),whileTap:Hd(),whileDrag:Hd(),whileFocus:Hd(),exit:Hd()}}class yd{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Kwe extends yd{constructor(e){super(e),e.animationState||(e.animationState=Gwe(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();G1(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let Xwe=0;class Ywe extends yd{constructor(){super(...arguments),this.id=Xwe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===a)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Qwe={animation:{Feature:Kwe},exit:{Feature:Ywe}};function Cx(t,e,n,a={passive:!0}){return t.addEventListener(e,n,a),()=>t.removeEventListener(e,n)}function Og(t){return{point:{x:t.pageX,y:t.pageY}}}const Zwe=t=>e=>$4(e)&&t(e,Og(e));function Y0(t,e,n,a){return Cx(t,e,Zwe(n),a)}const jX=1e-4,Jwe=1-jX,e1e=1+jX,NX=.01,t1e=0-NX,n1e=0+NX;function ls(t){return t.max-t.min}function r1e(t,e,n){return Math.abs(t-e)<=n}function c6(t,e,n,a=.5){t.origin=a,t.originPoint=Er(e.min,e.max,t.origin),t.scale=ls(n)/ls(e),t.translate=Er(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Jwe&&t.scale<=e1e||isNaN(t.scale))&&(t.scale=1),(t.translate>=t1e&&t.translate<=n1e||isNaN(t.translate))&&(t.translate=0)}function Q0(t,e,n,a){c6(t.x,e.x,n.x,a?a.originX:void 0),c6(t.y,e.y,n.y,a?a.originY:void 0)}function d6(t,e,n){t.min=n.min+e.min,t.max=t.min+ls(e)}function a1e(t,e,n){d6(t.x,e.x,n.x),d6(t.y,e.y,n.y)}function u6(t,e,n){t.min=e.min-n.min,t.max=t.min+ls(e)}function Z0(t,e,n){u6(t.x,e.x,n.x),u6(t.y,e.y,n.y)}function _i(t){return[t("x"),t("y")]}const SX=({current:t})=>t?t.ownerDocument.defaultView:null,h6=(t,e)=>Math.abs(t-e);function s1e(t,e){const n=h6(t.x,e.x),a=h6(t.y,e.y);return Math.sqrt(n**2+a**2)}class CX{constructor(e,n,{transformPagePoint:a,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=p2(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,x=s1e(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!v&&!x)return;const{point:g}=f,{timestamp:y}=wa;this.history.push({...g,timestamp:y});const{onStart:b,onMove:_}=this.handlers;v||(b&&b(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,f)},this.handlePointerMove=(f,v)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=f2(v,this.transformPagePoint),Zn.update(this.updatePoint,!0)},this.handlePointerUp=(f,v)=>{this.end();const{onEnd:x,onSessionEnd:g,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=p2(f.type==="pointercancel"?this.lastMoveEventInfo:f2(v,this.transformPagePoint),this.history);this.startEvent&&x&&x(f,b),g&&g(f,b)},!$4(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=a,this.distanceThreshold=o,this.contextWindow=s||window;const l=Og(e),c=f2(l,this.transformPagePoint),{point:d}=c,{timestamp:u}=wa;this.history=[{...d,timestamp:u}];const{onSessionStart:h}=n;h&&h(e,p2(c,this.history)),this.removeListeners=Tg(Y0(this.contextWindow,"pointermove",this.handlePointerMove),Y0(this.contextWindow,"pointerup",this.handlePointerUp),Y0(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),vo(this.updatePoint)}}function f2(t,e){return e?{point:e(t.point)}:t}function m6(t,e){return{x:t.x-e.x,y:t.y-e.y}}function p2({point:t},e){return{point:t,delta:m6(t,EX(e)),offset:m6(t,i1e(e)),velocity:o1e(e,.1)}}function i1e(t){return t[0]}function EX(t){return t[t.length-1]}function o1e(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,a=null;const s=EX(t);for(;n>=0&&(a=t[n],!(s.timestamp-a.timestamp>Bo(e)));)n--;if(!a)return{x:0,y:0};const i=ki(s.timestamp-a.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-a.x)/i,y:(s.y-a.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function l1e(t,{min:e,max:n},a){return e!==void 0&&t<e?t=a?Er(e,t,a.min):Math.max(t,e):n!==void 0&&t>n&&(t=a?Er(n,t,a.max):Math.min(t,n)),t}function f6(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function c1e(t,{top:e,left:n,bottom:a,right:s}){return{x:f6(t.x,n,s),y:f6(t.y,e,a)}}function p6(t,e){let n=e.min-t.min,a=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,a]=[a,n]),{min:n,max:a}}function d1e(t,e){return{x:p6(t.x,e.x),y:p6(t.y,e.y)}}function u1e(t,e){let n=.5;const a=ls(t),s=ls(e);return s>a?n=bf(e.min,e.max-a,t.min):a>s&&(n=bf(t.min,t.max-s,e.min)),Yo(0,1,n)}function h1e(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const dP=.35;function m1e(t=dP){return t===!1?t=0:t===!0&&(t=dP),{x:x6(t,"left","right"),y:x6(t,"top","bottom")}}function x6(t,e,n){return{min:g6(t,e),max:g6(t,n)}}function g6(t,e){return typeof t=="number"?t:t[e]||0}const f1e=new WeakMap;class p1e{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=zr(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:a}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Og(h).point)},o=(h,f)=>{const{drag:v,dragPropagation:x,onDragStart:g}=this.getProps();if(v&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=ube(v),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),_i(b=>{let _=this.getAxisMotionValue(b).get()||0;if(zo.test(_)){const{projection:j}=this.visualElement;if(j&&j.layout){const S=j.layout.layoutBox[b];S&&(_=ls(S)*(parseFloat(_)/100))}}this.originPoint[b]=_}),g&&Zn.postRender(()=>g(h,f)),lP(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},l=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f;const{dragPropagation:v,dragDirectionLock:x,onDirectionLock:g,onDrag:y}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:b}=f;if(x&&this.currentDirection===null){this.currentDirection=x1e(b),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",f.point,b),this.updateAxis("y",f.point,b),this.visualElement.render(),y&&y(h,f)},c=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f,this.stop(h,f),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>_i(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)==null?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new CX(e,{onSessionStart:i,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:a,contextWindow:SX(this.visualElement)})}stop(e,n){const a=e||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!a)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&Zn.postRender(()=>l(a,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:a}=this.getProps();!a&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,a){const{drag:s}=this.getProps();if(!a||!by(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+a[e];this.constraints&&this.constraints[e]&&(o=l1e(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:n}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;e&&Nm(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&a?this.constraints=c1e(a.layoutBox,e):this.constraints=!1,this.elastic=m1e(n),s!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&_i(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=h1e(a.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Nm(e))return!1;const a=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=gwe(a,s.root,this.visualElement.getTransformPagePoint());let o=d1e(s.layout.layoutBox,i);if(n){const l=n(fwe(o));this.hasMutatedConstraints=!!l,l&&(o=dX(l))}return o}startAnimation(e){const{drag:n,dragMomentum:a,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=_i(u=>{if(!by(u,n,this.currentDirection))return;let h=c&&c[u]||{};o&&(h={min:0,max:0});const f=s?200:1e6,v=s?40:1e7,x={type:"inertia",velocity:a?e[u]:0,bounceStiffness:f,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(u,x)});return Promise.all(d).then(l)}startAxisValueAnimation(e,n){const a=this.getAxisMotionValue(e);return lP(this.visualElement,e),a.start(X4(e,a,0,n,this.visualElement,!1))}stopAnimation(){_i(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){_i(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,a=this.visualElement.getProps(),s=a[n];return s||this.visualElement.getValue(e,(a.initial?a.initial[e]:void 0)||0)}snapToCursor(e){_i(n=>{const{drag:a}=this.getProps();if(!by(n,a,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[n];i.set(e[n]-Er(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:a}=this.visualElement;if(!Nm(n)||!a||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};_i(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();s[o]=u1e({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",a.root&&a.root.updateScroll(),a.updateLayout(),this.resolveConstraints(),_i(o=>{if(!by(o,e,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(Er(c,d,s[o]))})}addListeners(){if(!this.visualElement.current)return;f1e.set(this.visualElement,this);const e=this.visualElement.current,n=Y0(e,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),a=()=>{const{dragConstraints:c}=this.getProps();Nm(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",a);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Zn.read(a);const o=Cx(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(_i(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=c[u].translate,h.set(h.get()+c[u].translate))}),this.visualElement.render())}));return()=>{o(),n(),i(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:a=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=dP,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:a,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function by(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function x1e(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class g1e extends yd{constructor(e){super(e),this.removeGroupControls=ks,this.removeListeners=ks,this.controls=new p1e(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ks}unmount(){this.removeGroupControls(),this.removeListeners()}}const v6=t=>(e,n)=>{t&&Zn.postRender(()=>t(e,n))};class v1e extends yd{constructor(){super(...arguments),this.removePointerDownListener=ks}onPointerDown(e){this.session=new CX(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:SX(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:a,onPanEnd:s}=this.node.getProps();return{onSessionStart:v6(e),onStart:v6(n),onMove:a,onEnd:(i,o)=>{delete this.session,s&&Zn.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=Y0(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const _b={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function y6(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const p0={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(tn.test(t))t=parseFloat(t);else return t;const n=y6(t,e.target.x),a=y6(t,e.target.y);return`${n}% ${a}%`}},y1e={correct:(t,{treeScale:e,projectionDelta:n})=>{const a=t,s=fd.parse(t);if(s.length>5)return a;const i=fd.createTransformer(t),o=typeof s[0]!="number"?1:0,l=n.x.scale*e.x,c=n.y.scale*e.y;s[0+o]/=l,s[1+o]/=c;const d=Er(l,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=d),typeof s[3+o]=="number"&&(s[3+o]/=d),i(s)}};let x2=!1;class b1e extends w.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:a,layoutId:s}=this.props,{projection:i}=e;zbe(w1e),i&&(n.group&&n.group.add(i),a&&a.register&&s&&a.register(i),x2&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),_b.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:a,drag:s,isPresent:i}=this.props,{projection:o}=a;return o&&(o.isPresent=i,x2=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||Zn.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),F4.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:a}=this.props,{projection:s}=e;x2=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),a&&a.deregister&&a.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function AX(t){const[e,n]=YK(),a=w.useContext(f4);return r.jsx(b1e,{...t,layoutGroup:a,switchLayoutGroup:w.useContext(lX),isPresent:e,safeToRemove:n})}const w1e={borderRadius:{...p0,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:p0,borderTopRightRadius:p0,borderBottomLeftRadius:p0,borderBottomRightRadius:p0,boxShadow:y1e};function _1e(t,e,n){const a=Xa(t)?t:uo(t);return a.start(X4("",a,e,n)),a.animation}const j1e=(t,e)=>t.depth-e.depth;class N1e{constructor(){this.children=[],this.isDirty=!1}add(e){x4(this.children,e),this.isDirty=!0}remove(e){g4(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(j1e),this.isDirty=!1,this.children.forEach(e)}}function S1e(t,e){const n=As.now(),a=({timestamp:s})=>{const i=s-n;i>=e&&(vo(a),t(i-e))};return Zn.setup(a,!0),()=>vo(a)}const MX=["TopLeft","TopRight","BottomLeft","BottomRight"],C1e=MX.length,b6=t=>typeof t=="string"?parseFloat(t):t,w6=t=>typeof t=="number"||tn.test(t);function E1e(t,e,n,a,s,i){s?(t.opacity=Er(0,n.opacity??1,A1e(a)),t.opacityExit=Er(e.opacity??1,0,M1e(a))):i&&(t.opacity=Er(e.opacity??1,n.opacity??1,a));for(let o=0;o<C1e;o++){const l=`border${MX[o]}Radius`;let c=_6(e,l),d=_6(n,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||w6(c)===w6(d)?(t[l]=Math.max(Er(b6(c),b6(d),a),0),(zo.test(d)||zo.test(c))&&(t[l]+="%")):t[l]=d}(e.rotate||n.rotate)&&(t.rotate=Er(e.rotate||0,n.rotate||0,a))}function _6(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const A1e=PX(0,.5,fK),M1e=PX(.5,.95,ks);function PX(t,e,n){return a=>a<t?0:a>e?1:n(bf(t,e,a))}function j6(t,e){t.min=e.min,t.max=e.max}function gi(t,e){j6(t.x,e.x),j6(t.y,e.y)}function N6(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function S6(t,e,n,a,s){return t-=e,t=ew(t,1/n,a),s!==void 0&&(t=ew(t,1/s,a)),t}function P1e(t,e=0,n=1,a=.5,s,i=t,o=t){if(zo.test(e)&&(e=parseFloat(e),e=Er(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=Er(i.min,i.max,a);t===i&&(l-=e),t.min=S6(t.min,e,n,l,s),t.max=S6(t.max,e,n,l,s)}function C6(t,e,[n,a,s],i,o){P1e(t,e[n],e[a],e[s],e.scale,i,o)}const T1e=["x","scaleX","originX"],k1e=["y","scaleY","originY"];function E6(t,e,n,a){C6(t.x,e,T1e,n?n.x:void 0,a?a.x:void 0),C6(t.y,e,k1e,n?n.y:void 0,a?a.y:void 0)}function A6(t){return t.translate===0&&t.scale===1}function TX(t){return A6(t.x)&&A6(t.y)}function M6(t,e){return t.min===e.min&&t.max===e.max}function R1e(t,e){return M6(t.x,e.x)&&M6(t.y,e.y)}function P6(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function kX(t,e){return P6(t.x,e.x)&&P6(t.y,e.y)}function T6(t){return ls(t.x)/ls(t.y)}function k6(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class O1e{constructor(){this.members=[]}add(e){x4(this.members,e),e.scheduleRender()}remove(e){if(g4(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let a;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){a=i;break}}return a?(this.promote(a),!0):!1}promote(e,n){const a=this.lead;if(e!==a&&(this.prevLead=a,this.lead=e,e.show(),a)){a.instance&&a.scheduleRender(),e.scheduleRender(),e.resumeFrom=a,n&&(e.resumeFrom.preserveOpacity=!0),a.snapshot&&(e.snapshot=a.snapshot,e.snapshot.latestValues=a.animationValues||a.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&a.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:a}=e;n.onExitComplete&&n.onExitComplete(),a&&a.options.onExitComplete&&a.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function D1e(t,e,n){let a="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(a=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(a+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:d,rotate:u,rotateX:h,rotateY:f,skewX:v,skewY:x}=n;d&&(a=`perspective(${d}px) ${a}`),u&&(a+=`rotate(${u}deg) `),h&&(a+=`rotateX(${h}deg) `),f&&(a+=`rotateY(${f}deg) `),v&&(a+=`skewX(${v}deg) `),x&&(a+=`skewY(${x}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(a+=`scale(${l}, ${c})`),a||"none"}const g2=["","X","Y","Z"],I1e=1e3;let L1e=0;function v2(t,e,n,a){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),a&&(a[t]=0))}function RX(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=vX(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Zn,!(s||i))}const{parent:a}=t;a&&!a.hasCheckedOptimisedAppear&&RX(a)}function OX({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:a,resetTransform:s}){return class{constructor(o={},l=e==null?void 0:e()){this.id=L1e++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(U1e),this.nodes.forEach(V1e),this.nodes.forEach(H1e),this.nodes.forEach(B1e)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new N1e)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new y4),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=U4(o)&&!Cbe(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),t){let u,h=0;const f=()=>this.root.updateBlockedByResize=!1;Zn.read(()=>{h=window.innerWidth}),t(o,()=>{const v=window.innerWidth;v!==h&&(h=v,this.root.updateBlockedByResize=!0,u&&u(),u=S1e(f,250),_b.hasAnimatedSinceResize&&(_b.hasAnimatedSinceResize=!1,this.nodes.forEach(D6)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||d.getDefaultTransition()||Y1e,{onLayoutAnimationStart:g,onLayoutAnimationComplete:y}=d.getProps(),b=!this.targetLayout||!kX(this.targetLayout,v),_=!h&&f;if(this.options.layoutRoot||this.resumeFrom||_||h&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const j={...O4(x,"layout"),onPlay:g,onComplete:y};(d.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j),this.setAnimationOrigin(u,_)}else h||D6(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),vo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(G1e),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&RX(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(R6);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(O6);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(q1e),this.nodes.forEach(F1e),this.nodes.forEach($1e)):this.nodes.forEach(O6),this.clearAllSnapshots();const l=As.now();wa.delta=Yo(0,1e3/60,l-wa.timestamp),wa.timestamp=l,wa.isProcessing=!0,i2.update.process(wa),i2.preRender.process(wa),i2.render.process(wa),wa.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,F4.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(z1e),this.sharedNodes.forEach(W1e)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Zn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Zn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ls(this.snapshot.measuredBox.x)&&!ls(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=zr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=a(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!TX(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;o&&this.instance&&(l||tu(this.latestValues)||u)&&(s(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),Q1e(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:o}=this.options;if(!o)return zr();const l=o.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(Z1e))){const{scroll:u}=this.root;u&&(Sm(l.x,u.offset.x),Sm(l.y,u.offset.y))}return l}removeElementScroll(o){var c;const l=zr();if(gi(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let d=0;d<this.path.length;d++){const u=this.path[d],{scroll:h,options:f}=u;u!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&gi(l,o),Sm(l.x,h.offset.x),Sm(l.y,h.offset.y))}return l}applyTransform(o,l=!1){const c=zr();gi(c,o);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Cm(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),tu(u.latestValues)&&Cm(c,u.latestValues)}return tu(this.latestValues)&&Cm(c,this.latestValues),c}removeTransform(o){const l=zr();gi(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!tu(d.latestValues))continue;aP(d.latestValues)&&d.updateSnapshot();const u=zr(),h=d.measurePageBox();gi(u,h),E6(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return tu(this.latestValues)&&E6(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==wa.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var f;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:h}=this.options;if(!(!this.layout||!(u||h))){if(this.resolvedRelativeTargetAt=wa.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=zr(),this.relativeTargetOrigin=zr(),Z0(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),gi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=zr(),this.targetWithTransforms=zr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),a1e(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):gi(this.target,this.layout.layoutBox),hX(this.target,this.targetDelta)):gi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=zr(),this.relativeTargetOrigin=zr(),Z0(this.relativeTargetOrigin,this.target,v.target),gi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||aP(this.parent.latestValues)||uX(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var x;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===wa.timestamp&&(c=!1),c)return;const{layout:d,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||u))return;gi(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;xwe(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=zr());const{target:v}=o;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(N6(this.prevProjectionDelta.x,this.projectionDelta.x),N6(this.prevProjectionDelta.y,this.projectionDelta.y)),Q0(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!k6(this.projectionDelta.x,this.prevProjectionDelta.x)||!k6(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Em(),this.projectionDelta=Em(),this.projectionDeltaWithTransform=Em()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},h=Em();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=zr(),v=c?c.source:void 0,x=this.layout?this.layout.source:void 0,g=v!==x,y=this.getStack(),b=!y||y.members.length<=1,_=!!(g&&!b&&this.options.crossfade===!0&&!this.path.some(X1e));this.animationProgress=0;let j;this.mixTargetDelta=S=>{const C=S/1e3;I6(h.x,o.x,C),I6(h.y,o.y,C),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Z0(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),K1e(this.relativeTarget,this.relativeTargetOrigin,f,C),j&&R1e(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=zr()),gi(j,this.relativeTarget)),g&&(this.animationValues=u,E1e(u,d,this.latestValues,C,_,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,d;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(d=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||d.stop(),this.pendingAnimation&&(vo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Zn.update(()=>{_b.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=uo(0)),this.currentAnimation=_1e(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),o.onUpdate&&o.onUpdate(u)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(I1e),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&DX(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||zr();const h=ls(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const f=ls(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+f}gi(l,c),Cm(l,u),Q0(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new O1e),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&v2("z",o,d,this.animationValues);for(let u=0;u<g2.length;u++)v2(`rotate${g2[u]}`,o,d,this.animationValues),v2(`skew${g2[u]}`,o,d,this.animationValues);o.render();for(const u in d)o.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=wb(l==null?void 0:l.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=wb(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!tu(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const u=d.animationValues||d.latestValues;this.applyTransformsToTarget();let h=D1e(this.projectionDeltaWithTransform,this.treeScale,u);c&&(h=c(u,h)),o.transform=h;const{x:f,y:v}=this.projectionDelta;o.transformOrigin=`${f.origin*100}% ${v.origin*100}% 0`,d.animationValues?o.opacity=d===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=d===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const x in Sx){if(u[x]===void 0)continue;const{correct:g,applyTo:y,isCSSVariable:b}=Sx[x],_=h==="none"?u[x]:g(u[x],d);if(y){const j=y.length;for(let S=0;S<j;S++)o[y[S]]=_}else b?this.options.visualElement.renderState.vars[x]=_:o[x]=_}this.options.layoutId&&(o.pointerEvents=d===this?wb(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(R6),this.root.sharedNodes.clear()}}}function F1e(t){t.updateLayout()}function $1e(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:s}=t.layout,{animationType:i}=t.options,o=e.source!==t.layout.source;i==="size"?_i(h=>{const f=o?e.measuredBox[h]:e.layoutBox[h],v=ls(f);f.min=a[h].min,f.max=f.min+v}):DX(i,e.layoutBox,a)&&_i(h=>{const f=o?e.measuredBox[h]:e.layoutBox[h],v=ls(a[h]);f.max=f.min+v,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+v)});const l=Em();Q0(l,a,e.layoutBox);const c=Em();o?Q0(c,t.applyTransform(s,!0),e.measuredBox):Q0(c,a,e.layoutBox);const d=!TX(l);let u=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:v}=h;if(f&&v){const x=zr();Z0(x,e.layoutBox,f.layoutBox);const g=zr();Z0(g,a,v.layoutBox),kX(x,g)||(u=!0),h.options.layoutRoot&&(t.relativeTarget=g,t.relativeTargetOrigin=x,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:a,snapshot:e,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:u})}else if(t.isLead()){const{onExitComplete:a}=t.options;a&&a()}t.options.transition=void 0}function U1e(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function B1e(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function z1e(t){t.clearSnapshot()}function R6(t){t.clearMeasurements()}function O6(t){t.isLayoutDirty=!1}function q1e(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function D6(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function V1e(t){t.resolveTargetDelta()}function H1e(t){t.calcProjection()}function G1e(t){t.resetSkewAndRotation()}function W1e(t){t.removeLeadSnapshot()}function I6(t,e,n){t.translate=Er(e.translate,0,n),t.scale=Er(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function L6(t,e,n,a){t.min=Er(e.min,n.min,a),t.max=Er(e.max,n.max,a)}function K1e(t,e,n,a){L6(t.x,e.x,n.x,a),L6(t.y,e.y,n.y,a)}function X1e(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Y1e={duration:.45,ease:[.4,0,.1,1]},F6=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),$6=F6("applewebkit/")&&!F6("chrome/")?Math.round:ks;function U6(t){t.min=$6(t.min),t.max=$6(t.max)}function Q1e(t){U6(t.x),U6(t.y)}function DX(t,e,n){return t==="position"||t==="preserve-aspect"&&!r1e(T6(e),T6(n),.2)}function Z1e(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const J1e=OX({attachResizeListener:(t,e)=>Cx(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),y2={current:void 0},IX=OX({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!y2.current){const t=new J1e({});t.mount(window),t.setOptions({layoutScroll:!0}),y2.current=t}return y2.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),e_e={pan:{Feature:v1e},drag:{Feature:g1e,ProjectionNode:IX,MeasureLayout:AX}};function B6(t,e,n){const{props:a}=t;t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=a[s];i&&Zn.postRender(()=>i(e,Og(e)))}class t_e extends yd{mount(){const{current:e}=this.node;e&&(this.unmount=hbe(e,(n,a)=>(B6(this.node,a,"Start"),s=>B6(this.node,s,"End"))))}unmount(){}}class n_e extends yd{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Tg(Cx(this.node.current,"focus",()=>this.onFocus()),Cx(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function z6(t,e,n){const{props:a}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&a.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=a[s];i&&Zn.postRender(()=>i(e,Og(e)))}class r_e extends yd{mount(){const{current:e}=this.node;e&&(this.unmount=xbe(e,(n,a)=>(z6(this.node,a,"Start"),(s,{success:i})=>z6(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const uP=new WeakMap,b2=new WeakMap,a_e=t=>{const e=uP.get(t.target);e&&e(t)},s_e=t=>{t.forEach(a_e)};function i_e({root:t,...e}){const n=t||document;b2.has(n)||b2.set(n,{});const a=b2.get(n),s=JSON.stringify(e);return a[s]||(a[s]=new IntersectionObserver(s_e,{root:t,...e})),a[s]}function o_e(t,e,n){const a=i_e(e);return uP.set(t,n),a.observe(t),()=>{uP.delete(t),a.unobserve(t)}}const l_e={some:0,all:1};class c_e extends yd{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:a,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:a,threshold:typeof s=="number"?s:l_e[s]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),f=d?u:h;f&&f(c)};return o_e(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(d_e(e,n))&&this.startObserver()}unmount(){}}function d_e({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const u_e={inView:{Feature:c_e},tap:{Feature:r_e},focus:{Feature:n_e},hover:{Feature:t_e}},h_e={layout:{ProjectionNode:IX,MeasureLayout:AX}},m_e={...Qwe,...u_e,...e_e,...h_e},q=mwe(m_e,Cwe),f_e=50,q6=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),p_e=()=>({time:0,x:q6(),y:q6()}),x_e={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function V6(t,e,n,a){const s=n[e],{length:i,position:o}=x_e[e],l=s.current,c=n.time;s.current=t[`scroll${o}`],s.scrollLength=t[`scroll${i}`]-t[`client${i}`],s.offset.length=0,s.offset[0]=0,s.offset[1]=s.scrollLength,s.progress=bf(0,s.scrollLength,s.current);const d=a-c;s.velocity=d>f_e?0:b4(s.current-l,d)}function g_e(t,e,n){V6(t,"x",e,n),V6(t,"y",e,n),e.time=n}function v_e(t,e){const n={x:0,y:0};let a=t;for(;a&&a!==e;)if(L4(a))n.x+=a.offsetLeft,n.y+=a.offsetTop,a=a.offsetParent;else if(a.tagName==="svg"){const s=a.getBoundingClientRect();a=a.parentElement;const i=a.getBoundingClientRect();n.x+=s.left-i.left,n.y+=s.top-i.top}else if(a instanceof SVGGraphicsElement){const{x:s,y:i}=a.getBBox();n.x+=s,n.y+=i;let o=null,l=a.parentNode;for(;!o;)l.tagName==="svg"&&(o=l),l=a.parentNode;a=o}else break;return n}const hP={start:0,center:.5,end:1};function H6(t,e,n=0){let a=0;if(t in hP&&(t=hP[t]),typeof t=="string"){const s=parseFloat(t);t.endsWith("px")?a=s:t.endsWith("%")?t=s/100:t.endsWith("vw")?a=s/100*document.documentElement.clientWidth:t.endsWith("vh")?a=s/100*document.documentElement.clientHeight:t=s}return typeof t=="number"&&(a=e*t),n+a}const y_e=[0,0];function b_e(t,e,n,a){let s=Array.isArray(t)?t:y_e,i=0,o=0;return typeof t=="number"?s=[t,t]:typeof t=="string"&&(t=t.trim(),t.includes(" ")?s=t.split(" "):s=[t,hP[t]?t:"0"]),i=H6(s[0],n,a),o=H6(s[1],e),i-o}const w_e={All:[[0,0],[1,1]]},__e={x:0,y:0};function j_e(t){return"getBBox"in t&&t.tagName!=="svg"?t.getBBox():{width:t.clientWidth,height:t.clientHeight}}function N_e(t,e,n){const{offset:a=w_e.All}=n,{target:s=t,axis:i="y"}=n,o=i==="y"?"height":"width",l=s!==t?v_e(s,t):__e,c=s===t?{width:t.scrollWidth,height:t.scrollHeight}:j_e(s),d={width:t.clientWidth,height:t.clientHeight};e[i].offset.length=0;let u=!e[i].interpolate;const h=a.length;for(let f=0;f<h;f++){const v=b_e(a[f],d[o],c[o],l[i]);!u&&v!==e[i].interpolatorOffsets[f]&&(u=!0),e[i].offset[f]=v}u&&(e[i].interpolate=M4(e[i].offset,MK(a),{clamp:!1}),e[i].interpolatorOffsets=[...e[i].offset]),e[i].progress=Yo(0,1,e[i].interpolate(e[i].current))}function S_e(t,e=t,n){if(n.x.targetOffset=0,n.y.targetOffset=0,e!==t){let a=e;for(;a&&a!==t;)n.x.targetOffset+=a.offsetLeft,n.y.targetOffset+=a.offsetTop,a=a.offsetParent}n.x.targetLength=e===t?e.scrollWidth:e.clientWidth,n.y.targetLength=e===t?e.scrollHeight:e.clientHeight,n.x.containerLength=t.clientWidth,n.y.containerLength=t.clientHeight}function C_e(t,e,n,a={}){return{measure:s=>{S_e(t,a.target,n),g_e(t,n,s),(a.offset||a.target)&&N_e(t,n,a)},notify:()=>e(n)}}const x0=new WeakMap,G6=new WeakMap,w2=new WeakMap,W6=t=>t===document.scrollingElement?window:t;function LX(t,{container:e=document.scrollingElement,...n}={}){if(!e)return ks;let a=w2.get(e);a||(a=new Set,w2.set(e,a));const s=p_e(),i=C_e(e,t,s,n);if(a.add(i),!x0.has(e)){const l=()=>{for(const h of a)h.measure(wa.timestamp);Zn.preUpdate(c)},c=()=>{for(const h of a)h.notify()},d=()=>Zn.read(l);x0.set(e,d);const u=W6(e);window.addEventListener("resize",d,{passive:!0}),e!==document.documentElement&&G6.set(e,Sbe(e,d)),u.addEventListener("scroll",d,{passive:!0}),d()}const o=x0.get(e);return Zn.read(o,!1,!0),()=>{var d;vo(o);const l=w2.get(e);if(!l||(l.delete(i),l.size))return;const c=x0.get(e);x0.delete(e),c&&(W6(e).removeEventListener("scroll",c),(d=G6.get(e))==null||d(),window.removeEventListener("resize",c))}}const K6=new Map;function E_e(t){const e={value:0},n=LX(a=>{e.value=a[t.axis].progress*100},t);return{currentTime:e,cancel:n}}function FX({source:t,container:e,...n}){const{axis:a}=n;t&&(e=t);const s=K6.get(e)??new Map;K6.set(e,s);const i=n.target??"self",o=s.get(i)??{},l=a+(n.offset??[]).join(",");return o[l]||(o[l]=!n.target&&RK()?new ScrollTimeline({source:e,axis:a}):E_e({container:e,...n})),o[l]}function A_e(t,e){const n=FX(e);return t.attachTimeline({timeline:e.target?void 0:n,observe:a=>(a.pause(),XK(s=>{a.time=a.iterationDuration*s},n))})}function M_e(t){return t.length===2}function P_e(t,e){return M_e(t)?LX(n=>{t(n[e.axis].progress,n)},e):XK(t,FX(e))}function T_e(t,{axis:e="y",container:n=document.scrollingElement,...a}={}){if(!n)return ks;const s={axis:e,container:n,...a};return typeof t=="function"?P_e(t,s):A_e(t,s)}const k_e=()=>({scrollX:uo(0),scrollY:uo(0),scrollXProgress:uo(0),scrollYProgress:uo(0)}),wy=t=>t?!t.current:!1;function $X({container:t,target:e,...n}={}){const a=mp(k_e),s=w.useRef(null),i=w.useRef(!1),o=w.useCallback(()=>(s.current=T_e((l,{x:c,y:d})=>{a.scrollX.set(c.current),a.scrollXProgress.set(c.progress),a.scrollY.set(d.current),a.scrollYProgress.set(d.progress)},{...n,container:(t==null?void 0:t.current)||void 0,target:(e==null?void 0:e.current)||void 0}),()=>{var l;(l=s.current)==null||l.call(s)}),[t,e,JSON.stringify(n.offset)]);return z1(()=>{if(i.current=!1,wy(t)||wy(e)){i.current=!0;return}else return o()},[o]),w.useEffect(()=>{if(i.current)return wx(!wy(t)),wx(!wy(e)),o()},[o]),a}function mP(t){const e=mp(()=>uo(t)),{isStatic:n}=w.useContext(V1);if(n){const[,a]=w.useState(t);w.useEffect(()=>e.on("change",a),[])}return e}function UX(t,e){const n=mP(e()),a=()=>n.set(e());return a(),z1(()=>{const s=()=>Zn.preRender(a,!1,!0),i=t.map(o=>o.on("change",s));return()=>{i.forEach(o=>o()),vo(a)}}),n}function R_e(t){X0.current=[],t();const e=UX(X0.current,t);return X0.current=void 0,e}function Am(t,e,n,a){if(typeof t=="function")return R_e(t);const s=typeof e=="function"?e:Ebe(e,n,a);return Array.isArray(t)?X6(t,s):X6([t],([i])=>s(i))}function X6(t,e){const n=mp(()=>[]);return UX(t,()=>{n.length=0;const a=t.length;for(let s=0;s<a;s++)n[s]=t[s].get();return e(n)})}const O_e={some:0,all:1};function D_e(t,e,{root:n,margin:a,amount:s="some"}={}){const i=I4(t),o=new WeakMap,l=d=>{d.forEach(u=>{const h=o.get(u.target);if(u.isIntersecting!==!!h)if(u.isIntersecting){const f=e(u.target,u);typeof f=="function"?o.set(u.target,f):c.unobserve(u.target)}else typeof h=="function"&&(h(u),o.delete(u.target))})},c=new IntersectionObserver(l,{root:n,rootMargin:a,threshold:typeof s=="number"?s:O_e[s]});return i.forEach(d=>c.observe(d)),()=>c.disconnect()}function I_e(t,{root:e,margin:n,amount:a,once:s=!1,initial:i=!1}={}){const[o,l]=w.useState(i);return w.useEffect(()=>{if(!t.current||s&&o)return;const c=()=>(l(!0),s?void 0:()=>l(!1)),d={root:e&&e.current||void 0,margin:n,amount:a};return D_e(t.current,c,d)},[e,t,n,s,a]),o}function BX(t,e){return function(){return t.apply(e,arguments)}}const{toString:L_e}=Object.prototype,{getPrototypeOf:Y4}=Object,{iterator:K1,toStringTag:zX}=Symbol,X1=(t=>e=>{const n=L_e.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),bo=t=>(t=t.toLowerCase(),e=>X1(e)===t),Y1=t=>e=>typeof e===t,{isArray:gp}=Array,_f=Y1("undefined");function Dg(t){return t!==null&&!_f(t)&&t.constructor!==null&&!_f(t.constructor)&&Rs(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const qX=bo("ArrayBuffer");function F_e(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&qX(t.buffer),e}const $_e=Y1("string"),Rs=Y1("function"),VX=Y1("number"),Ig=t=>t!==null&&typeof t=="object",U_e=t=>t===!0||t===!1,jb=t=>{if(X1(t)!=="object")return!1;const e=Y4(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(zX in t)&&!(K1 in t)},B_e=t=>{if(!Ig(t)||Dg(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},z_e=bo("Date"),q_e=bo("File"),V_e=bo("Blob"),H_e=bo("FileList"),G_e=t=>Ig(t)&&Rs(t.pipe),W_e=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Rs(t.append)&&((e=X1(t))==="formdata"||e==="object"&&Rs(t.toString)&&t.toString()==="[object FormData]"))},K_e=bo("URLSearchParams"),[X_e,Y_e,Q_e,Z_e]=["ReadableStream","Request","Response","Headers"].map(bo),J_e=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Lg(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let a,s;if(typeof t!="object"&&(t=[t]),gp(t))for(a=0,s=t.length;a<s;a++)e.call(null,t[a],a,t);else{if(Dg(t))return;const i=n?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let l;for(a=0;a<o;a++)l=i[a],e.call(null,t[l],l,t)}}function HX(t,e){if(Dg(t))return null;e=e.toLowerCase();const n=Object.keys(t);let a=n.length,s;for(;a-- >0;)if(s=n[a],e===s.toLowerCase())return s;return null}const vu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,GX=t=>!_f(t)&&t!==vu;function fP(){const{caseless:t,skipUndefined:e}=GX(this)&&this||{},n={},a=(s,i)=>{const o=t&&HX(n,i)||i;jb(n[o])&&jb(s)?n[o]=fP(n[o],s):jb(s)?n[o]=fP({},s):gp(s)?n[o]=s.slice():(!e||!_f(s))&&(n[o]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&Lg(arguments[s],a);return n}const eje=(t,e,n,{allOwnKeys:a}={})=>(Lg(e,(s,i)=>{n&&Rs(s)?t[i]=BX(s,n):t[i]=s},{allOwnKeys:a}),t),tje=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),nje=(t,e,n,a)=>{t.prototype=Object.create(e.prototype,a),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},rje=(t,e,n,a)=>{let s,i,o;const l={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)o=s[i],(!a||a(o,t,e))&&!l[o]&&(e[o]=t[o],l[o]=!0);t=n!==!1&&Y4(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},aje=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const a=t.indexOf(e,n);return a!==-1&&a===n},sje=t=>{if(!t)return null;if(gp(t))return t;let e=t.length;if(!VX(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},ije=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Y4(Uint8Array)),oje=(t,e)=>{const a=(t&&t[K1]).call(t);let s;for(;(s=a.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},lje=(t,e)=>{let n;const a=[];for(;(n=t.exec(e))!==null;)a.push(n);return a},cje=bo("HTMLFormElement"),dje=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,a,s){return a.toUpperCase()+s}),Y6=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),uje=bo("RegExp"),WX=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),a={};Lg(n,(s,i)=>{let o;(o=e(s,i,t))!==!1&&(a[i]=o||s)}),Object.defineProperties(t,a)},hje=t=>{WX(t,(e,n)=>{if(Rs(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const a=t[n];if(Rs(a)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},mje=(t,e)=>{const n={},a=s=>{s.forEach(i=>{n[i]=!0})};return gp(t)?a(t):a(String(t).split(e)),n},fje=()=>{},pje=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function xje(t){return!!(t&&Rs(t.append)&&t[zX]==="FormData"&&t[K1])}const gje=t=>{const e=new Array(10),n=(a,s)=>{if(Ig(a)){if(e.indexOf(a)>=0)return;if(Dg(a))return a;if(!("toJSON"in a)){e[s]=a;const i=gp(a)?[]:{};return Lg(a,(o,l)=>{const c=n(o,s+1);!_f(c)&&(i[l]=c)}),e[s]=void 0,i}}return a};return n(t,0)},vje=bo("AsyncFunction"),yje=t=>t&&(Ig(t)||Rs(t))&&Rs(t.then)&&Rs(t.catch),KX=((t,e)=>t?setImmediate:e?((n,a)=>(vu.addEventListener("message",({source:s,data:i})=>{s===vu&&i===n&&a.length&&a.shift()()},!1),s=>{a.push(s),vu.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Rs(vu.postMessage)),bje=typeof queueMicrotask<"u"?queueMicrotask.bind(vu):typeof process<"u"&&process.nextTick||KX,wje=t=>t!=null&&Rs(t[K1]),Me={isArray:gp,isArrayBuffer:qX,isBuffer:Dg,isFormData:W_e,isArrayBufferView:F_e,isString:$_e,isNumber:VX,isBoolean:U_e,isObject:Ig,isPlainObject:jb,isEmptyObject:B_e,isReadableStream:X_e,isRequest:Y_e,isResponse:Q_e,isHeaders:Z_e,isUndefined:_f,isDate:z_e,isFile:q_e,isBlob:V_e,isRegExp:uje,isFunction:Rs,isStream:G_e,isURLSearchParams:K_e,isTypedArray:ije,isFileList:H_e,forEach:Lg,merge:fP,extend:eje,trim:J_e,stripBOM:tje,inherits:nje,toFlatObject:rje,kindOf:X1,kindOfTest:bo,endsWith:aje,toArray:sje,forEachEntry:oje,matchAll:lje,isHTMLForm:cje,hasOwnProperty:Y6,hasOwnProp:Y6,reduceDescriptors:WX,freezeMethods:hje,toObjectSet:mje,toCamelCase:dje,noop:fje,toFiniteNumber:pje,findKey:HX,global:vu,isContextDefined:GX,isSpecCompliantForm:xje,toJSONObject:gje,isAsyncFn:vje,isThenable:yje,setImmediate:KX,asap:bje,isIterable:wje};function fn(t,e,n,a,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),a&&(this.request=a),s&&(this.response=s,this.status=s.status?s.status:null)}Me.inherits(fn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Me.toJSONObject(this.config),code:this.code,status:this.status}}});const XX=fn.prototype,YX={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{YX[t]={value:t}});Object.defineProperties(fn,YX);Object.defineProperty(XX,"isAxiosError",{value:!0});fn.from=(t,e,n,a,s,i)=>{const o=Object.create(XX);Me.toFlatObject(t,o,function(u){return u!==Error.prototype},d=>d!=="isAxiosError");const l=t&&t.message?t.message:"Error",c=e==null&&t?t.code:e;return fn.call(o,l,c,n,a,s),t&&o.cause==null&&Object.defineProperty(o,"cause",{value:t,configurable:!0}),o.name=t&&t.name||"Error",i&&Object.assign(o,i),o};const _je=null;function pP(t){return Me.isPlainObject(t)||Me.isArray(t)}function QX(t){return Me.endsWith(t,"[]")?t.slice(0,-2):t}function Q6(t,e,n){return t?t.concat(e).map(function(s,i){return s=QX(s),!n&&i?"["+s+"]":s}).join(n?".":""):e}function jje(t){return Me.isArray(t)&&!t.some(pP)}const Nje=Me.toFlatObject(Me,{},null,function(e){return/^is[A-Z]/.test(e)});function Q1(t,e,n){if(!Me.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=Me.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,y){return!Me.isUndefined(y[g])});const a=n.metaTokens,s=n.visitor||u,i=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&Me.isSpecCompliantForm(e);if(!Me.isFunction(s))throw new TypeError("visitor must be a function");function d(x){if(x===null)return"";if(Me.isDate(x))return x.toISOString();if(Me.isBoolean(x))return x.toString();if(!c&&Me.isBlob(x))throw new fn("Blob is not supported. Use a Buffer instead.");return Me.isArrayBuffer(x)||Me.isTypedArray(x)?c&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function u(x,g,y){let b=x;if(x&&!y&&typeof x=="object"){if(Me.endsWith(g,"{}"))g=a?g:g.slice(0,-2),x=JSON.stringify(x);else if(Me.isArray(x)&&jje(x)||(Me.isFileList(x)||Me.endsWith(g,"[]"))&&(b=Me.toArray(x)))return g=QX(g),b.forEach(function(j,S){!(Me.isUndefined(j)||j===null)&&e.append(o===!0?Q6([g],S,i):o===null?g:g+"[]",d(j))}),!1}return pP(x)?!0:(e.append(Q6(y,g,i),d(x)),!1)}const h=[],f=Object.assign(Nje,{defaultVisitor:u,convertValue:d,isVisitable:pP});function v(x,g){if(!Me.isUndefined(x)){if(h.indexOf(x)!==-1)throw Error("Circular reference detected in "+g.join("."));h.push(x),Me.forEach(x,function(b,_){(!(Me.isUndefined(b)||b===null)&&s.call(e,b,Me.isString(_)?_.trim():_,g,f))===!0&&v(b,g?g.concat(_):[_])}),h.pop()}}if(!Me.isObject(t))throw new TypeError("data must be an object");return v(t),e}function Z6(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(a){return e[a]})}function Q4(t,e){this._pairs=[],t&&Q1(t,this,e)}const ZX=Q4.prototype;ZX.append=function(e,n){this._pairs.push([e,n])};ZX.toString=function(e){const n=e?function(a){return e.call(this,a,Z6)}:Z6;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function Sje(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function JX(t,e,n){if(!e)return t;const a=n&&n.encode||Sje;Me.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(s?i=s(e,n):i=Me.isURLSearchParams(e)?e.toString():new Q4(e,n).toString(a),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class J6{constructor(){this.handlers=[]}use(e,n,a){return this.handlers.push({fulfilled:e,rejected:n,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Me.forEach(this.handlers,function(a){a!==null&&e(a)})}}const eY={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Cje=typeof URLSearchParams<"u"?URLSearchParams:Q4,Eje=typeof FormData<"u"?FormData:null,Aje=typeof Blob<"u"?Blob:null,Mje={isBrowser:!0,classes:{URLSearchParams:Cje,FormData:Eje,Blob:Aje},protocols:["http","https","file","blob","url","data"]},Z4=typeof window<"u"&&typeof document<"u",xP=typeof navigator=="object"&&navigator||void 0,Pje=Z4&&(!xP||["ReactNative","NativeScript","NS"].indexOf(xP.product)<0),Tje=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",kje=Z4&&window.location.href||"http://localhost",Rje=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Z4,hasStandardBrowserEnv:Pje,hasStandardBrowserWebWorkerEnv:Tje,navigator:xP,origin:kje},Symbol.toStringTag,{value:"Module"})),Ka={...Rje,...Mje};function Oje(t,e){return Q1(t,new Ka.classes.URLSearchParams,{visitor:function(n,a,s,i){return Ka.isNode&&Me.isBuffer(n)?(this.append(a,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...e})}function Dje(t){return Me.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Ije(t){const e={},n=Object.keys(t);let a;const s=n.length;let i;for(a=0;a<s;a++)i=n[a],e[i]=t[i];return e}function tY(t){function e(n,a,s,i){let o=n[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=i>=n.length;return o=!o&&Me.isArray(s)?s.length:o,c?(Me.hasOwnProp(s,o)?s[o]=[s[o],a]:s[o]=a,!l):((!s[o]||!Me.isObject(s[o]))&&(s[o]=[]),e(n,a,s[o],i)&&Me.isArray(s[o])&&(s[o]=Ije(s[o])),!l)}if(Me.isFormData(t)&&Me.isFunction(t.entries)){const n={};return Me.forEachEntry(t,(a,s)=>{e(Dje(a),s,n,0)}),n}return null}function Lje(t,e,n){if(Me.isString(t))try{return(e||JSON.parse)(t),Me.trim(t)}catch(a){if(a.name!=="SyntaxError")throw a}return(n||JSON.stringify)(t)}const Fg={transitional:eY,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const a=n.getContentType()||"",s=a.indexOf("application/json")>-1,i=Me.isObject(e);if(i&&Me.isHTMLForm(e)&&(e=new FormData(e)),Me.isFormData(e))return s?JSON.stringify(tY(e)):e;if(Me.isArrayBuffer(e)||Me.isBuffer(e)||Me.isStream(e)||Me.isFile(e)||Me.isBlob(e)||Me.isReadableStream(e))return e;if(Me.isArrayBufferView(e))return e.buffer;if(Me.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(i){if(a.indexOf("application/x-www-form-urlencoded")>-1)return Oje(e,this.formSerializer).toString();if((l=Me.isFileList(e))||a.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Q1(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),Lje(e)):e}],transformResponse:[function(e){const n=this.transitional||Fg.transitional,a=n&&n.forcedJSONParsing,s=this.responseType==="json";if(Me.isResponse(e)||Me.isReadableStream(e))return e;if(e&&Me.isString(e)&&(a&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?fn.from(l,fn.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ka.classes.FormData,Blob:Ka.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Me.forEach(["delete","get","head","post","put","patch"],t=>{Fg.headers[t]={}});const Fje=Me.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),$je=t=>{const e={};let n,a,s;return t&&t.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),a=o.substring(s+1).trim(),!(!n||e[n]&&Fje[n])&&(n==="set-cookie"?e[n]?e[n].push(a):e[n]=[a]:e[n]=e[n]?e[n]+", "+a:a)}),e},eL=Symbol("internals");function g0(t){return t&&String(t).trim().toLowerCase()}function Nb(t){return t===!1||t==null?t:Me.isArray(t)?t.map(Nb):String(t)}function Uje(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=n.exec(t);)e[a[1]]=a[2];return e}const Bje=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function _2(t,e,n,a,s){if(Me.isFunction(a))return a.call(this,e,n);if(s&&(e=n),!!Me.isString(e)){if(Me.isString(a))return e.indexOf(a)!==-1;if(Me.isRegExp(a))return a.test(e)}}function zje(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,a)=>n.toUpperCase()+a)}function qje(t,e){const n=Me.toCamelCase(" "+e);["get","set","has"].forEach(a=>{Object.defineProperty(t,a+n,{value:function(s,i,o){return this[a].call(this,e,s,i,o)},configurable:!0})})}let Os=class{constructor(e){e&&this.set(e)}set(e,n,a){const s=this;function i(l,c,d){const u=g0(c);if(!u)throw new Error("header name must be a non-empty string");const h=Me.findKey(s,u);(!h||s[h]===void 0||d===!0||d===void 0&&s[h]!==!1)&&(s[h||c]=Nb(l))}const o=(l,c)=>Me.forEach(l,(d,u)=>i(d,u,c));if(Me.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(Me.isString(e)&&(e=e.trim())&&!Bje(e))o($je(e),n);else if(Me.isObject(e)&&Me.isIterable(e)){let l={},c,d;for(const u of e){if(!Me.isArray(u))throw TypeError("Object iterator must return a key-value pair");l[d=u[0]]=(c=l[d])?Me.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}o(l,n)}else e!=null&&i(n,e,a);return this}get(e,n){if(e=g0(e),e){const a=Me.findKey(this,e);if(a){const s=this[a];if(!n)return s;if(n===!0)return Uje(s);if(Me.isFunction(n))return n.call(this,s,a);if(Me.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=g0(e),e){const a=Me.findKey(this,e);return!!(a&&this[a]!==void 0&&(!n||_2(this,this[a],a,n)))}return!1}delete(e,n){const a=this;let s=!1;function i(o){if(o=g0(o),o){const l=Me.findKey(a,o);l&&(!n||_2(a,a[l],l,n))&&(delete a[l],s=!0)}}return Me.isArray(e)?e.forEach(i):i(e),s}clear(e){const n=Object.keys(this);let a=n.length,s=!1;for(;a--;){const i=n[a];(!e||_2(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const n=this,a={};return Me.forEach(this,(s,i)=>{const o=Me.findKey(a,i);if(o){n[o]=Nb(s),delete n[i];return}const l=e?zje(i):String(i).trim();l!==i&&delete n[i],n[l]=Nb(s),a[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return Me.forEach(this,(a,s)=>{a!=null&&a!==!1&&(n[s]=e&&Me.isArray(a)?a.join(", "):a)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const a=new this(e);return n.forEach(s=>a.set(s)),a}static accessor(e){const a=(this[eL]=this[eL]={accessors:{}}).accessors,s=this.prototype;function i(o){const l=g0(o);a[l]||(qje(s,o),a[l]=!0)}return Me.isArray(e)?e.forEach(i):i(e),this}};Os.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Me.reduceDescriptors(Os.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(a){this[n]=a}}});Me.freezeMethods(Os);function j2(t,e){const n=this||Fg,a=e||n,s=Os.from(a.headers);let i=a.data;return Me.forEach(t,function(l){i=l.call(n,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function nY(t){return!!(t&&t.__CANCEL__)}function vp(t,e,n){fn.call(this,t??"canceled",fn.ERR_CANCELED,e,n),this.name="CanceledError"}Me.inherits(vp,fn,{__CANCEL__:!0});function rY(t,e,n){const a=n.config.validateStatus;!n.status||!a||a(n.status)?t(n):e(new fn("Request failed with status code "+n.status,[fn.ERR_BAD_REQUEST,fn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Vje(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Hje(t,e){t=t||10;const n=new Array(t),a=new Array(t);let s=0,i=0,o;return e=e!==void 0?e:1e3,function(c){const d=Date.now(),u=a[i];o||(o=d),n[s]=c,a[s]=d;let h=i,f=0;for(;h!==s;)f+=n[h++],h=h%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),d-o<e)return;const v=u&&d-u;return v?Math.round(f*1e3/v):void 0}}function Gje(t,e){let n=0,a=1e3/e,s,i;const o=(d,u=Date.now())=>{n=u,s=null,i&&(clearTimeout(i),i=null),t(...d)};return[(...d)=>{const u=Date.now(),h=u-n;h>=a?o(d,u):(s=d,i||(i=setTimeout(()=>{i=null,o(s)},a-h)))},()=>s&&o(s)]}const tw=(t,e,n=3)=>{let a=0;const s=Hje(50,250);return Gje(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,c=o-a,d=s(c),u=o<=l;a=o;const h={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&u?(l-o)/d:void 0,event:i,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(h)},n)},tL=(t,e)=>{const n=t!=null;return[a=>e[0]({lengthComputable:n,total:t,loaded:a}),e[1]]},nL=t=>(...e)=>Me.asap(()=>t(...e)),Wje=Ka.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Ka.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Ka.origin),Ka.navigator&&/(msie|trident)/i.test(Ka.navigator.userAgent)):()=>!0,Kje=Ka.hasStandardBrowserEnv?{write(t,e,n,a,s,i,o){if(typeof document>"u")return;const l=[`${t}=${encodeURIComponent(e)}`];Me.isNumber(n)&&l.push(`expires=${new Date(n).toUTCString()}`),Me.isString(a)&&l.push(`path=${a}`),Me.isString(s)&&l.push(`domain=${s}`),i===!0&&l.push("secure"),Me.isString(o)&&l.push(`SameSite=${o}`),document.cookie=l.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Xje(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Yje(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function aY(t,e,n){let a=!Xje(e);return t&&(a||n==!1)?Yje(t,e):e}const rL=t=>t instanceof Os?{...t}:t;function Ku(t,e){e=e||{};const n={};function a(d,u,h,f){return Me.isPlainObject(d)&&Me.isPlainObject(u)?Me.merge.call({caseless:f},d,u):Me.isPlainObject(u)?Me.merge({},u):Me.isArray(u)?u.slice():u}function s(d,u,h,f){if(Me.isUndefined(u)){if(!Me.isUndefined(d))return a(void 0,d,h,f)}else return a(d,u,h,f)}function i(d,u){if(!Me.isUndefined(u))return a(void 0,u)}function o(d,u){if(Me.isUndefined(u)){if(!Me.isUndefined(d))return a(void 0,d)}else return a(void 0,u)}function l(d,u,h){if(h in e)return a(d,u);if(h in t)return a(void 0,d)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(d,u,h)=>s(rL(d),rL(u),h,!0)};return Me.forEach(Object.keys({...t,...e}),function(u){const h=c[u]||s,f=h(t[u],e[u],u);Me.isUndefined(f)&&h!==l||(n[u]=f)}),n}const sY=t=>{const e=Ku({},t);let{data:n,withXSRFToken:a,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:l}=e;if(e.headers=o=Os.from(o),e.url=JX(aY(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),Me.isFormData(n)){if(Ka.hasStandardBrowserEnv||Ka.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(Me.isFunction(n.getHeaders)){const c=n.getHeaders(),d=["content-type","content-length"];Object.entries(c).forEach(([u,h])=>{d.includes(u.toLowerCase())&&o.set(u,h)})}}if(Ka.hasStandardBrowserEnv&&(a&&Me.isFunction(a)&&(a=a(e)),a||a!==!1&&Wje(e.url))){const c=s&&i&&Kje.read(i);c&&o.set(s,c)}return e},Qje=typeof XMLHttpRequest<"u",Zje=Qje&&function(t){return new Promise(function(n,a){const s=sY(t);let i=s.data;const o=Os.from(s.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=s,u,h,f,v,x;function g(){v&&v(),x&&x(),s.cancelToken&&s.cancelToken.unsubscribe(u),s.signal&&s.signal.removeEventListener("abort",u)}let y=new XMLHttpRequest;y.open(s.method.toUpperCase(),s.url,!0),y.timeout=s.timeout;function b(){if(!y)return;const j=Os.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),C={data:!l||l==="text"||l==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:j,config:t,request:y};rY(function(P){n(P),g()},function(P){a(P),g()},C),y=null}"onloadend"in y?y.onloadend=b:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(b)},y.onabort=function(){y&&(a(new fn("Request aborted",fn.ECONNABORTED,t,y)),y=null)},y.onerror=function(S){const C=S&&S.message?S.message:"Network Error",E=new fn(C,fn.ERR_NETWORK,t,y);E.event=S||null,a(E),y=null},y.ontimeout=function(){let S=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const C=s.transitional||eY;s.timeoutErrorMessage&&(S=s.timeoutErrorMessage),a(new fn(S,C.clarifyTimeoutError?fn.ETIMEDOUT:fn.ECONNABORTED,t,y)),y=null},i===void 0&&o.setContentType(null),"setRequestHeader"in y&&Me.forEach(o.toJSON(),function(S,C){y.setRequestHeader(C,S)}),Me.isUndefined(s.withCredentials)||(y.withCredentials=!!s.withCredentials),l&&l!=="json"&&(y.responseType=s.responseType),d&&([f,x]=tw(d,!0),y.addEventListener("progress",f)),c&&y.upload&&([h,v]=tw(c),y.upload.addEventListener("progress",h),y.upload.addEventListener("loadend",v)),(s.cancelToken||s.signal)&&(u=j=>{y&&(a(!j||j.type?new vp(null,t,y):j),y.abort(),y=null)},s.cancelToken&&s.cancelToken.subscribe(u),s.signal&&(s.signal.aborted?u():s.signal.addEventListener("abort",u)));const _=Vje(s.url);if(_&&Ka.protocols.indexOf(_)===-1){a(new fn("Unsupported protocol "+_+":",fn.ERR_BAD_REQUEST,t));return}y.send(i||null)})},Jje=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let a=new AbortController,s;const i=function(d){if(!s){s=!0,l();const u=d instanceof Error?d:this.reason;a.abort(u instanceof fn?u:new vp(u instanceof Error?u.message:u))}};let o=e&&setTimeout(()=>{o=null,i(new fn(`timeout ${e} of ms exceeded`,fn.ETIMEDOUT))},e);const l=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(d=>{d.unsubscribe?d.unsubscribe(i):d.removeEventListener("abort",i)}),t=null)};t.forEach(d=>d.addEventListener("abort",i));const{signal:c}=a;return c.unsubscribe=()=>Me.asap(l),c}},eNe=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let a=0,s;for(;a<n;)s=a+e,yield t.slice(a,s),a=s},tNe=async function*(t,e){for await(const n of nNe(t))yield*eNe(n,e)},nNe=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:a}=await e.read();if(n)break;yield a}}finally{await e.cancel()}},aL=(t,e,n,a)=>{const s=tNe(t,e);let i=0,o,l=c=>{o||(o=!0,a&&a(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await s.next();if(d){l(),c.close();return}let h=u.byteLength;if(n){let f=i+=h;n(f)}c.enqueue(new Uint8Array(u))}catch(d){throw l(d),d}},cancel(c){return l(c),s.return()}},{highWaterMark:2})},sL=64*1024,{isFunction:_y}=Me,rNe=(({Request:t,Response:e})=>({Request:t,Response:e}))(Me.global),{ReadableStream:iL,TextEncoder:oL}=Me.global,lL=(t,...e)=>{try{return!!t(...e)}catch{return!1}},aNe=t=>{t=Me.merge.call({skipUndefined:!0},rNe,t);const{fetch:e,Request:n,Response:a}=t,s=e?_y(e):typeof fetch=="function",i=_y(n),o=_y(a);if(!s)return!1;const l=s&&_y(iL),c=s&&(typeof oL=="function"?(x=>g=>x.encode(g))(new oL):async x=>new Uint8Array(await new n(x).arrayBuffer())),d=i&&l&&lL(()=>{let x=!1;const g=new n(Ka.origin,{body:new iL,method:"POST",get duplex(){return x=!0,"half"}}).headers.has("Content-Type");return x&&!g}),u=o&&l&&lL(()=>Me.isReadableStream(new a("").body)),h={stream:u&&(x=>x.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(x=>{!h[x]&&(h[x]=(g,y)=>{let b=g&&g[x];if(b)return b.call(g);throw new fn(`Response type '${x}' is not supported`,fn.ERR_NOT_SUPPORT,y)})});const f=async x=>{if(x==null)return 0;if(Me.isBlob(x))return x.size;if(Me.isSpecCompliantForm(x))return(await new n(Ka.origin,{method:"POST",body:x}).arrayBuffer()).byteLength;if(Me.isArrayBufferView(x)||Me.isArrayBuffer(x))return x.byteLength;if(Me.isURLSearchParams(x)&&(x=x+""),Me.isString(x))return(await c(x)).byteLength},v=async(x,g)=>{const y=Me.toFiniteNumber(x.getContentLength());return y??f(g)};return async x=>{let{url:g,method:y,data:b,signal:_,cancelToken:j,timeout:S,onDownloadProgress:C,onUploadProgress:E,responseType:P,headers:T,withCredentials:M="same-origin",fetchOptions:k}=sY(x),O=e||fetch;P=P?(P+"").toLowerCase():"text";let $=Jje([_,j&&j.toAbortSignal()],S),F=null;const B=$&&$.unsubscribe&&(()=>{$.unsubscribe()});let G;try{if(E&&d&&y!=="get"&&y!=="head"&&(G=await v(T,b))!==0){let V=new n(g,{method:"POST",body:b,duplex:"half"}),Y;if(Me.isFormData(b)&&(Y=V.headers.get("content-type"))&&T.setContentType(Y),V.body){const[ee,se]=tL(G,tw(nL(E)));b=aL(V.body,sL,ee,se)}}Me.isString(M)||(M=M?"include":"omit");const I=i&&"credentials"in n.prototype,L={...k,signal:$,method:y.toUpperCase(),headers:T.normalize().toJSON(),body:b,duplex:"half",credentials:I?M:void 0};F=i&&new n(g,L);let U=await(i?O(F,k):O(g,L));const z=u&&(P==="stream"||P==="response");if(u&&(C||z&&B)){const V={};["status","statusText","headers"].forEach(pe=>{V[pe]=U[pe]});const Y=Me.toFiniteNumber(U.headers.get("content-length")),[ee,se]=C&&tL(Y,tw(nL(C),!0))||[];U=new a(aL(U.body,sL,ee,()=>{se&&se(),B&&B()}),V)}P=P||"text";let K=await h[Me.findKey(h,P)||"text"](U,x);return!z&&B&&B(),await new Promise((V,Y)=>{rY(V,Y,{data:K,headers:Os.from(U.headers),status:U.status,statusText:U.statusText,config:x,request:F})})}catch(I){throw B&&B(),I&&I.name==="TypeError"&&/Load failed|fetch/i.test(I.message)?Object.assign(new fn("Network Error",fn.ERR_NETWORK,x,F),{cause:I.cause||I}):fn.from(I,I&&I.code,x,F)}}},sNe=new Map,iY=t=>{let e=t&&t.env||{};const{fetch:n,Request:a,Response:s}=e,i=[a,s,n];let o=i.length,l=o,c,d,u=sNe;for(;l--;)c=i[l],d=u.get(c),d===void 0&&u.set(c,d=l?new Map:aNe(e)),u=d;return d};iY();const J4={http:_je,xhr:Zje,fetch:{get:iY}};Me.forEach(J4,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const cL=t=>`- ${t}`,iNe=t=>Me.isFunction(t)||t===null||t===!1;function oNe(t,e){t=Me.isArray(t)?t:[t];const{length:n}=t;let a,s;const i={};for(let o=0;o<n;o++){a=t[o];let l;if(s=a,!iNe(a)&&(s=J4[(l=String(a)).toLowerCase()],s===void 0))throw new fn(`Unknown adapter '${l}'`);if(s&&(Me.isFunction(s)||(s=s.get(e))))break;i[l||"#"+o]=s}if(!s){const o=Object.entries(i).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=n?o.length>1?`since :
`+o.map(cL).join(`
`):" "+cL(o[0]):"as no adapter specified";throw new fn("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s}const oY={getAdapter:oNe,adapters:J4};function N2(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new vp(null,t)}function dL(t){return N2(t),t.headers=Os.from(t.headers),t.data=j2.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),oY.getAdapter(t.adapter||Fg.adapter,t)(t).then(function(a){return N2(t),a.data=j2.call(t,t.transformResponse,a),a.headers=Os.from(a.headers),a},function(a){return nY(a)||(N2(t),a&&a.response&&(a.response.data=j2.call(t,t.transformResponse,a.response),a.response.headers=Os.from(a.response.headers))),Promise.reject(a)})}const lY="1.13.2",Z1={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Z1[t]=function(a){return typeof a===t||"a"+(e<1?"n ":" ")+t}});const uL={};Z1.transitional=function(e,n,a){function s(i,o){return"[Axios v"+lY+"] Transitional option '"+i+"'"+o+(a?". "+a:"")}return(i,o,l)=>{if(e===!1)throw new fn(s(o," has been removed"+(n?" in "+n:"")),fn.ERR_DEPRECATED);return n&&!uL[o]&&(uL[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,o,l):!0}};Z1.spelling=function(e){return(n,a)=>(console.warn(`${a} is likely a misspelling of ${e}`),!0)};function lNe(t,e,n){if(typeof t!="object")throw new fn("options must be an object",fn.ERR_BAD_OPTION_VALUE);const a=Object.keys(t);let s=a.length;for(;s-- >0;){const i=a[s],o=e[i];if(o){const l=t[i],c=l===void 0||o(l,i,t);if(c!==!0)throw new fn("option "+i+" must be "+c,fn.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new fn("Unknown option "+i,fn.ERR_BAD_OPTION)}}const Sb={assertOptions:lNe,validators:Z1},Eo=Sb.validators;let Lu=class{constructor(e){this.defaults=e||{},this.interceptors={request:new J6,response:new J6}}async request(e,n){try{return await this._request(e,n)}catch(a){if(a instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{a.stack?i&&!String(a.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+i):a.stack=i}catch{}}throw a}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Ku(this.defaults,n);const{transitional:a,paramsSerializer:s,headers:i}=n;a!==void 0&&Sb.assertOptions(a,{silentJSONParsing:Eo.transitional(Eo.boolean),forcedJSONParsing:Eo.transitional(Eo.boolean),clarifyTimeoutError:Eo.transitional(Eo.boolean)},!1),s!=null&&(Me.isFunction(s)?n.paramsSerializer={serialize:s}:Sb.assertOptions(s,{encode:Eo.function,serialize:Eo.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Sb.assertOptions(n,{baseUrl:Eo.spelling("baseURL"),withXsrfToken:Eo.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&Me.merge(i.common,i[n.method]);i&&Me.forEach(["delete","get","head","post","put","patch","common"],x=>{delete i[x]}),n.headers=Os.concat(o,i);const l=[];let c=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(c=c&&g.synchronous,l.unshift(g.fulfilled,g.rejected))});const d=[];this.interceptors.response.forEach(function(g){d.push(g.fulfilled,g.rejected)});let u,h=0,f;if(!c){const x=[dL.bind(this),void 0];for(x.unshift(...l),x.push(...d),f=x.length,u=Promise.resolve(n);h<f;)u=u.then(x[h++],x[h++]);return u}f=l.length;let v=n;for(;h<f;){const x=l[h++],g=l[h++];try{v=x(v)}catch(y){g.call(this,y);break}}try{u=dL.call(this,v)}catch(x){return Promise.reject(x)}for(h=0,f=d.length;h<f;)u=u.then(d[h++],d[h++]);return u}getUri(e){e=Ku(this.defaults,e);const n=aY(e.baseURL,e.url,e.allowAbsoluteUrls);return JX(n,e.params,e.paramsSerializer)}};Me.forEach(["delete","get","head","options"],function(e){Lu.prototype[e]=function(n,a){return this.request(Ku(a||{},{method:e,url:n,data:(a||{}).data}))}});Me.forEach(["post","put","patch"],function(e){function n(a){return function(i,o,l){return this.request(Ku(l||{},{method:e,headers:a?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Lu.prototype[e]=n(),Lu.prototype[e+"Form"]=n(!0)});let cNe=class cY{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const a=this;this.promise.then(s=>{if(!a._listeners)return;let i=a._listeners.length;for(;i-- >0;)a._listeners[i](s);a._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(l=>{a.subscribe(l),i=l}).then(s);return o.cancel=function(){a.unsubscribe(i)},o},e(function(i,o,l){a.reason||(a.reason=new vp(i,o,l),n(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=a=>{e.abort(a)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new cY(function(s){e=s}),cancel:e}}};function dNe(t){return function(n){return t.apply(null,n)}}function uNe(t){return Me.isObject(t)&&t.isAxiosError===!0}const gP={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(gP).forEach(([t,e])=>{gP[e]=t});function dY(t){const e=new Lu(t),n=BX(Lu.prototype.request,e);return Me.extend(n,Lu.prototype,e,{allOwnKeys:!0}),Me.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return dY(Ku(t,s))},n}const Fr=dY(Fg);Fr.Axios=Lu;Fr.CanceledError=vp;Fr.CancelToken=cNe;Fr.isCancel=nY;Fr.VERSION=lY;Fr.toFormData=Q1;Fr.AxiosError=fn;Fr.Cancel=Fr.CanceledError;Fr.all=function(e){return Promise.all(e)};Fr.spread=dNe;Fr.isAxiosError=uNe;Fr.mergeConfig=Ku;Fr.AxiosHeaders=Os;Fr.formToJSON=t=>tY(Me.isHTMLForm(t)?new FormData(t):t);Fr.getAdapter=oY.getAdapter;Fr.HttpStatusCode=gP;Fr.default=Fr;const{Axios:sXe,AxiosError:iXe,CanceledError:oXe,isCancel:lXe,CancelToken:cXe,VERSION:dXe,all:uXe,Cancel:hXe,isAxiosError:mXe,spread:fXe,toFormData:pXe,AxiosHeaders:xXe,HttpStatusCode:gXe,formToJSON:vXe,getAdapter:yXe,mergeConfig:bXe}=Fr;let hNe=class extends Error{constructor(e,n,a,s,i){super(e),this.name="Base44Error",this.status=n,this.code=a,this.data=s,this.originalError=i}toJSON(){return{name:this.name,message:this.message,status:this.status,code:this.code,data:this.data}}};function mNe(t){let{baseURL:e,headers:n={},token:a,requiresAuth:s=!1,appId:i,serverUrl:o}=t;const l=Fr.create({baseURL:e,headers:{"Content-Type":"application/json",Accept:"application/json",...n}});return a&&(l.defaults.headers.common.Authorization=`Bearer ${a}`),l.interceptors.request.use((c=>(typeof window<"u"&&(c.headers={...c.headers,"X-Origin-URL":window.location.href}),c))),l.interceptors.response.use((c=>c.data),(c=>{var h,f,v,x,g,y,b,_,j,S;const d=((f=(h=c.response)==null?void 0:h.data)==null?void 0:f.message)||((x=(v=c.response)==null?void 0:v.data)==null?void 0:x.detail)||c.message,u=new hNe(d,(g=c.response)==null?void 0:g.status,(b=(y=c.response)==null?void 0:y.data)==null?void 0:b.code,(_=c.response)==null?void 0:_.data,c);return console.log(s,(j=c.response)==null?void 0:j.status,typeof window<"u"),s&&((S=c.response)==null?void 0:S.status)===403&&typeof window<"u"&&(console.log("Authentication required. Redirecting to login..."),setTimeout((()=>{(function(C,E){if(typeof window>"u")return;const P=`${C}/login?from_url=${encodeURIComponent(window.location.href)}&app_id=${E}`;window.location.href=P})(o,i)}),100)),Promise.reject(u)})),l}function fNe(t,e){return new Proxy({},{get(n,a){if(typeof a=="string"&&a!=="then"&&!a.startsWith("_"))return(function(s,i,o){const l=`/apps/${i}/entities/${o}`;return{async list(c,d,u,h){const f={};return c&&(f.sort=c),d&&(f.limit=d),u&&(f.skip=u),h&&(f.fields=Array.isArray(h)?h.join(","):h),s.get(l,{params:f})},async filter(c,d,u,h,f){const v={q:JSON.stringify(c)};return d&&(v.sort=d),u&&(v.limit=u),h&&(v.skip=h),f&&(v.fields=Array.isArray(f)?f.join(","):f),s.get(l,{params:v})},get:async c=>s.get(`${l}/${c}`),create:async c=>s.post(l,c),update:async(c,d)=>s.put(`${l}/${c}`,d),delete:async c=>s.delete(`${l}/${c}`),deleteMany:async c=>s.delete(l,{data:c}),bulkCreate:async c=>s.post(`${l}/bulk`,c),async importEntities(c){const d=new FormData;return d.append("file",c,c.name),s.post(`${l}/import`,d,{headers:{"Content-Type":"multipart/form-data"}})}}})(t,e,a)}})}function pNe(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{storageKey:e="base44_access_token",paramName:n="access_token",saveToStorage:a=!0,removeFromUrl:s=!0}=t;let i=null;if(typeof window<"u"&&window.location)try{const o=new URLSearchParams(window.location.search);if(i=o.get(n),i){if(a&&xNe(i,{storageKey:e}),s){o.delete(n);const l=`${window.location.pathname}${o.toString()?`?${o.toString()}`:""}${window.location.hash}`;window.history.replaceState({},document.title,l)}return i}}catch(o){console.error("Error retrieving token from URL:",o)}if(typeof window<"u"&&window.localStorage)try{return i=window.localStorage.getItem(e),i}catch(o){console.error("Error retrieving token from localStorage:",o)}return null}function xNe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{storageKey:n="base44_access_token"}=e;if(typeof window>"u"||!window.localStorage||!t)return!1;try{return window.localStorage.setItem(n,t),!0}catch(a){return console.error("Error saving token to localStorage:",a),!1}}function gNe(t){if(!t||!t.appId)throw new Error("appId is required");const{serverUrl:e="https://base44.app",appId:n,env:a="prod",token:s,requiresAuth:i=!1}=t,o=mNe({baseURL:`${e}/api`,headers:{"X-App-Id":String(n),"X-Environment":a},token:s,requiresAuth:i,appId:n,serverUrl:e}),l=fNe(o,n),c=(function(u,h){return new Proxy({},{get(f,v){if(typeof v=="string"&&v!=="then"&&!v.startsWith("_"))return new Proxy({},{get(x,g){if(typeof g=="string"&&g!=="then"&&!g.startsWith("_"))return async y=>{if(typeof y=="string")throw new Error(`Integration ${g} must receive an object with named parameters, received: ${y}`);let b,_;return y instanceof FormData||y&&Object.values(y).some((j=>j instanceof File))?(b=new FormData,Object.keys(y).forEach((j=>{y[j]instanceof File?b.append(j,y[j],y[j].name):typeof y[j]=="object"&&y[j]!==null?b.append(j,JSON.stringify(y[j])):b.append(j,y[j])})),_="multipart/form-data"):(b=y,_="application/json"),v==="Core"?u.post(`/apps/${h}/integration-endpoints/Core/${g}`,b||y,{headers:{"Content-Type":_}}):u.post(`/apps/${h}/integration-endpoints/installable/${v}/integration-endpoints/${g}`,b||y,{headers:{"Content-Type":_}})}}})}})})(o,n),d=(function(u,h,f){return{me:async()=>u.get(`/apps/${h}/entities/User/me`),updateMe:async v=>u.put(`/apps/${h}/entities/User/me`,v),login(v){if(typeof window>"u")throw new Error("Login method can only be used in a browser environment");const x=v||window.location.href,g=`${f}/login?from_url=${encodeURIComponent(x)}&app_id=${h}`;window.location.href=g},async logout(v){if(delete u.defaults.headers.common.Authorization,typeof window<"u"&&window.localStorage)try{window.localStorage.removeItem("base44_access_token")}catch(x){console.error("Failed to remove token from localStorage:",x)}return v&&typeof window<"u"&&(window.location.href=v),Promise.resolve()},setToken(v){let x=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(v&&(u.defaults.headers.common.Authorization=`Bearer ${v}`,x&&typeof window<"u"&&window.localStorage))try{window.localStorage.setItem("base44_access_token",v)}catch(g){console.error("Failed to save token to localStorage:",g)}},async isAuthenticated(){try{return await this.me(),!0}catch{return!1}}}})(o,n,e);if(typeof window<"u"){const u=s||pNe();u&&d.setToken(u)}return i&&typeof window<"u"&&setTimeout((async()=>{try{await d.isAuthenticated()||d.login(window.location.href)}catch(u){console.error("Authentication check failed:",u),d.login(window.location.href)}}),0),{entities:l,integrations:c,auth:d,setToken(u){d.setToken(u)},getConfig:()=>({serverUrl:e,appId:n,env:a,requiresAuth:i})}}const H=gNe({appId:"690e5f6f991e09e82bef3795",requiresAuth:!1}),vNe=t=>Array.from({length:t},(e,n)=>({id:n,initialX:Math.random()*100,initialY:Math.random()*100,delay:Math.random()*3,duration:4+Math.random()*4,color:["rgba(168, 85, 247, 0.3)","rgba(236, 72, 153, 0.3)","rgba(59, 130, 246, 0.3)","rgba(251, 191, 36, 0.3)"][Math.floor(Math.random()*4)]})),yNe=vNe(8);function bNe({user:t}){const[e,n]=w.useState(!1),[a,s]=w.useState(null),i=ae.useCallback(async()=>{if(!(t!=null&&t.id))return;const u=t.level||1,h=t.xp||0,f=u*100;if(h>=f){let v=u,x=h;for(;x>=v*100;)x-=v*100,v+=1;try{s(v),n(!0),await H.auth.updateMe({level:v,xp:x}),await H.entities.Notification.create({user_id:t.id,type:"level_up",title:"Level Up! ",message:`Parabns! Voc alcanou o nvel ${v}!`,is_read:!1}),setTimeout(()=>{window.location.reload()},3e3)}catch(g){console.error("Erro ao subir de nvel:",g),n(!1)}}},[t==null?void 0:t.id,t==null?void 0:t.level,t==null?void 0:t.xp]);if(w.useEffect(()=>{i()},[i]),w.useEffect(()=>{const u=()=>{i()};return window.addEventListener("xpUpdated",u),()=>window.removeEventListener("xpUpdated",u)},[i]),!(t!=null&&t.id))return null;const o=t.level||1,l=t.xp||0,c=o*100,d=Math.min(l/c*100,100);return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"fixed top-[56px] md:top-[64px] left-0 right-0 z-40",children:r.jsxs("div",{className:"h-4 md:h-5 bg-gradient-to-r from-purple-900/40 via-purple-800/30 to-purple-900/40 backdrop-blur-sm relative overflow-hidden",children:[r.jsx(q.div,{className:"absolute inset-0 bg-gradient-to-r from-purple-600 via-pink-500 to-purple-600",initial:{width:0},animate:{width:`${d}%`},transition:{duration:.5,ease:"easeOut"}}),yNe.map(u=>r.jsx(q.div,{className:"absolute rounded-full blur-[1px]",style:{width:"2px",height:"2px",left:`${u.initialX}%`,top:`${u.initialY}%`,backgroundColor:u.color},animate:{x:[0,Math.random()*40-20,Math.random()*40-20,0],y:[0,Math.random()*8-4,Math.random()*8-4,0],opacity:[.2,.5,.3,.2],scale:[.6,1,.8,.6]},transition:{duration:u.duration,delay:u.delay,repeat:1/0,ease:"easeInOut"}},u.id)),r.jsx(q.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/15 to-transparent",animate:{x:["-100%","200%"]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}}),r.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:r.jsxs("span",{className:"text-[10px] md:text-xs font-bold text-white drop-shadow-[0_1px_4px_rgba(0,0,0,0.8)] tracking-wider",children:[Math.round(d),"%"]})})]})}),r.jsx(gt,{children:e&&r.jsx(q.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/90 backdrop-blur-md",children:r.jsxs(q.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5,ease:"backOut"},className:"relative text-center",children:[r.jsx("div",{className:"absolute inset-0",children:[...Array(20)].map((u,h)=>r.jsx(q.div,{className:"absolute w-2 h-2 bg-yellow-400 rounded-full",style:{left:"50%",top:"50%"},animate:{x:[0,Math.cos(h*18*Math.PI/180)*150],y:[0,Math.sin(h*18*Math.PI/180)*150],opacity:[1,0],scale:[1,0]},transition:{duration:1.5,delay:h*.05,ease:"easeOut"}},h))}),r.jsx(q.div,{animate:{rotate:[0,360]},transition:{duration:3,repeat:1/0,ease:"linear"},className:"absolute inset-0 flex items-center justify-center",children:[...Array(8)].map((u,h)=>r.jsx(q.div,{className:"absolute",style:{transform:`rotate(${h*45}deg) translateY(-100px)`},animate:{opacity:[.3,1,.3]},transition:{duration:2,delay:h*.2,repeat:1/0},children:r.jsx(Wn,{className:"w-6 h-6 text-yellow-400 fill-yellow-400"})},h))}),r.jsxs("div",{className:"relative z-10 bg-gradient-to-br from-purple-900/80 to-pink-900/80 rounded-3xl p-8 md:p-12 border-4 border-yellow-400 shadow-2xl shadow-yellow-400/50",children:[r.jsx(q.div,{animate:{scale:[1,1.2,1]},transition:{duration:1,repeat:1/0,ease:"easeInOut"},className:"mb-6",children:r.jsx(xr,{className:"w-24 h-24 md:w-32 md:h-32 text-yellow-400 mx-auto"})}),r.jsx(q.h2,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},className:"text-4xl md:text-6xl font-bold text-white mb-4",children:"Level Up!"}),r.jsxs(q.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.5,type:"spring"},className:"inline-flex items-center gap-3 bg-yellow-400 text-purple-900 px-8 py-4 rounded-full font-bold text-2xl md:text-3xl shadow-xl",children:[r.jsx(_e,{className:"w-8 h-8"}),"Nvel ",a,r.jsx(_e,{className:"w-8 h-8"})]}),r.jsx(q.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.7},className:"text-white/90 text-lg md:text-xl mt-6",children:"Parabns pela evoluo! "})]}),r.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(30)].map((u,h)=>r.jsx(q.div,{className:"absolute w-2 h-3 rounded-sm",style:{left:`${Math.random()*100}%`,backgroundColor:["#fbbf24","#ec4899","#a855f7","#3b82f6"][Math.floor(Math.random()*4)]},animate:{y:[-100,window.innerHeight+100],x:[0,Math.random()*100-50],rotate:[0,Math.random()*360]},transition:{duration:2+Math.random()*2,delay:Math.random()*2,repeat:1/0,ease:"linear"}},h))})]})})})]})}const hL={bruxa_natural:"#9333EA",sabio:"#F59E0B",guardiao_astral:"#3B82F6",xama:"#10B981",navegador_cosmico:"#8B5CF6",alquimista:"#6366F1",none:"#64748B"},mL={online:"#10B981",busy:"#F59E0B",offline:"#64748B"};function Lr({user:t,size:e="md",showStatus:n=!0,className:a=""}){if(!t)return null;const s={xs:"w-8 h-8",sm:"w-10 h-10",md:"w-12 h-12",lg:"w-16 h-16",xl:"w-20 h-20"},i={xs:"w-2 h-2",sm:"w-2.5 h-2.5",md:"w-3 h-3",lg:"w-4 h-4",xl:"w-5 h-5"},o=hL[t==null?void 0:t.archetype]||hL.none,l=mL[t==null?void 0:t.online_status]||mL.offline,d=n&&(()=>{if(!(t!=null&&t.last_seen))return(t==null?void 0:t.online_status)==="online"||(t==null?void 0:t.online_status)==="busy";const u=new Date(t.last_seen);return(new Date-u)/(1e3*60)<5&&((t==null?void 0:t.online_status)==="online"||(t==null?void 0:t.online_status)==="busy")})();return r.jsxs("div",{className:`relative inline-block ${a}`,children:[r.jsx("div",{className:`${s[e]} rounded-full border-2 overflow-hidden flex-shrink-0`,style:{borderColor:o},children:t!=null&&t.avatar_url?r.jsx("img",{src:t.avatar_url,alt:t.display_name||t.full_name||"Avatar",className:"w-full h-full object-cover"}):r.jsx("div",{className:"w-full h-full flex items-center justify-center",style:{backgroundColor:`${o}20`},children:r.jsx(_e,{className:"w-1/2 h-1/2",style:{color:o}})})}),d&&r.jsx("div",{className:`absolute bottom-0 right-0 ${i[e]} rounded-full border-2 border-black`,style:{backgroundColor:l}})]})}const wNe={follow:Hu,reaction:$n,comment:Da,level_up:Jn,achievement:xr,daily_blessing:_e,synchronicity:_e,duel_challenge:Bn,duel_result:Bn,announcement:Ps},S2=new Set,_Ne=async t=>{if(!S2.has(t))try{S2.add(t),setTimeout(()=>{S2.delete(t)},2e3);const n={follow:"new_follower",reaction:"reaction",comment:"comment",level_up:"level_up",achievement:"achievement",announcement:"notification"}[t]||"notification",a=await H.entities.SystemSound.filter({sound_name:n,is_active:!0});if(a.length>0&&a[0].audio_url){const s=new Audio(a[0].audio_url);s.volume=a[0].volume||.5,s.play().catch(i=>console.log("Audio play prevented:",i))}}catch(e){console.error("Error playing sound:",e)}},jNe=async t=>{if("Notification"in window&&Notification.permission==="granted")try{const e=new Notification(t.title,{body:t.message,icon:t.from_user_avatar||"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/690e5f6f991e09e82bef3795/a3f627646_imgi_2_337f3cf9e282bc41c87500e885414629.png",badge:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/690e5f6f991e09e82bef3795/a3f627646_imgi_2_337f3cf9e282bc41c87500e885414629.png",tag:t.id,requireInteraction:!1,silent:!1});e.onclick=()=>{window.focus(),t.action_url&&(window.location.href=t.action_url),e.close()}}catch(e){console.error("Browser notification error:",e)}};function uY({notification:t,onClose:e}){const[n,a]=w.useState(!0),s=Sn(),i=wNe[t.type]||Ps;w.useEffect(()=>{_Ne(t.type),jNe(t);const c=setTimeout(()=>{a(!1),setTimeout(e,300)},5e3);return()=>clearTimeout(c)},[]);const o=()=>{a(!1),setTimeout(e,300)},l=()=>{if(o(),t.action_url)s(t.action_url);else if(t.related_entity_id)switch(t.related_entity_type){case"post":s(ft("Hub"));break;case"comment":s(ft("Hub"));break;case"user":s(ft(`Perfil?username=${t.from_user_id}`));break;default:s(ft("Notificacoes"));break}else s(ft("Notificacoes"))};return r.jsx(gt,{children:n&&r.jsx(q.div,{initial:{opacity:0,y:-20,x:20},animate:{opacity:1,y:0,x:0},exit:{opacity:0,y:-20,x:20},onClick:l,className:"bg-gradient-to-r from-purple-900 to-purple-800 border border-purple-600/50 rounded-xl shadow-2xl p-4 max-w-sm w-full backdrop-blur-sm cursor-pointer hover:border-purple-500 transition",children:r.jsxs("div",{className:"flex items-start gap-3",children:[t.from_user_avatar?r.jsx("img",{src:t.from_user_avatar,alt:"",className:"w-10 h-10 rounded-full flex-shrink-0 border-2 border-purple-400"}):r.jsx("div",{className:"w-10 h-10 rounded-full bg-purple-700 flex items-center justify-center flex-shrink-0",children:r.jsx(i,{className:"w-5 h-5 text-white"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-white font-semibold text-sm mb-1",children:t.title}),r.jsx("p",{className:"text-purple-200 text-xs line-clamp-2",children:t.message})]}),r.jsx("button",{onClick:c=>{c.stopPropagation(),o()},className:"text-purple-300 hover:text-white transition flex-shrink-0",children:r.jsx(nt,{className:"w-4 h-4"})})]})})})}const X=w.forwardRef(({className:t,...e},n)=>r.jsx("div",{ref:n,className:Wt("rounded-xl border bg-card text-card-foreground shadow",t),...e}));X.displayName="Card";const NNe=w.forwardRef(({className:t,...e},n)=>r.jsx("div",{ref:n,className:Wt("flex flex-col space-y-1.5 p-6",t),...e}));NNe.displayName="CardHeader";const SNe=w.forwardRef(({className:t,...e},n)=>r.jsx("div",{ref:n,className:Wt("font-semibold leading-none tracking-tight",t),...e}));SNe.displayName="CardTitle";const CNe=w.forwardRef(({className:t,...e},n)=>r.jsx("div",{ref:n,className:Wt("text-sm text-muted-foreground",t),...e}));CNe.displayName="CardDescription";const ek=w.forwardRef(({className:t,...e},n)=>r.jsx("div",{ref:n,className:Wt("p-6 pt-0",t),...e}));ek.displayName="CardContent";const ENe=w.forwardRef(({className:t,...e},n)=>r.jsx("div",{ref:n,className:Wt("flex items-center p-6 pt-0",t),...e}));ENe.displayName="CardFooter";function Ex(t,[e,n]){return Math.min(n,Math.max(e,t))}function J1(t){const e=w.useRef({value:t,previous:t});return w.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var hY=["PageUp","PageDown"],mY=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],fY={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},yp="Slider",[vP,ANe,MNe]=S1(yp),[pY]=Fi(yp,[MNe]),[PNe,e_]=pY(yp),xY=w.forwardRef((t,e)=>{const{name:n,min:a=0,max:s=100,step:i=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:d=[a],value:u,onValueChange:h=()=>{},onValueCommit:f=()=>{},inverted:v=!1,form:x,...g}=t,y=w.useRef(new Set),b=w.useRef(0),j=o==="horizontal"?TNe:kNe,[S=[],C]=Hl({prop:u,defaultProp:d,onChange:O=>{var F;(F=[...y.current][b.current])==null||F.focus(),h(O)}}),E=w.useRef(S);function P(O){const $=LNe(S,O);k(O,$)}function T(O){k(O,b.current)}function M(){const O=E.current[b.current];S[b.current]!==O&&f(S)}function k(O,$,{commit:F}={commit:!1}){const B=BNe(i),G=zNe(Math.round((O-a)/i)*i+a,B),I=Ex(G,[a,s]);C((L=[])=>{const U=DNe(L,I,$);if(UNe(U,c*i)){b.current=U.indexOf(I);const z=String(U)!==String(L);return z&&F&&f(U),z?U:L}else return L})}return r.jsx(PNe,{scope:t.__scopeSlider,name:n,disabled:l,min:a,max:s,valueIndexToChangeRef:b,thumbs:y.current,values:S,orientation:o,form:x,children:r.jsx(vP.Provider,{scope:t.__scopeSlider,children:r.jsx(vP.Slot,{scope:t.__scopeSlider,children:r.jsx(j,{"aria-disabled":l,"data-disabled":l?"":void 0,...g,ref:e,onPointerDown:lt(g.onPointerDown,()=>{l||(E.current=S)}),min:a,max:s,inverted:v,onSlideStart:l?void 0:P,onSlideMove:l?void 0:T,onSlideEnd:l?void 0:M,onHomeKeyDown:()=>!l&&k(a,0,{commit:!0}),onEndKeyDown:()=>!l&&k(s,S.length-1,{commit:!0}),onStepKeyDown:({event:O,direction:$})=>{if(!l){const G=hY.includes(O.key)||O.shiftKey&&mY.includes(O.key)?10:1,I=b.current,L=S[I],U=i*G*$;k(L+U,I,{commit:!0})}}})})})})});xY.displayName=yp;var[gY,vY]=pY(yp,{startEdge:"left",endEdge:"right",size:"width",direction:1}),TNe=w.forwardRef((t,e)=>{const{min:n,max:a,dir:s,inverted:i,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:d,...u}=t,[h,f]=w.useState(null),v=mn(e,j=>f(j)),x=w.useRef(void 0),g=lp(s),y=g==="ltr",b=y&&!i||!y&&i;function _(j){const S=x.current||h.getBoundingClientRect(),C=[0,S.width],P=tk(C,b?[n,a]:[a,n]);return x.current=S,P(j-S.left)}return r.jsx(gY,{scope:t.__scopeSlider,startEdge:b?"left":"right",endEdge:b?"right":"left",direction:b?1:-1,size:"width",children:r.jsx(yY,{dir:g,"data-orientation":"horizontal",...u,ref:v,style:{...u.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:j=>{const S=_(j.clientX);o==null||o(S)},onSlideMove:j=>{const S=_(j.clientX);l==null||l(S)},onSlideEnd:()=>{x.current=void 0,c==null||c()},onStepKeyDown:j=>{const C=fY[b?"from-left":"from-right"].includes(j.key);d==null||d({event:j,direction:C?-1:1})}})})}),kNe=w.forwardRef((t,e)=>{const{min:n,max:a,inverted:s,onSlideStart:i,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...d}=t,u=w.useRef(null),h=mn(e,u),f=w.useRef(void 0),v=!s;function x(g){const y=f.current||u.current.getBoundingClientRect(),b=[0,y.height],j=tk(b,v?[a,n]:[n,a]);return f.current=y,j(g-y.top)}return r.jsx(gY,{scope:t.__scopeSlider,startEdge:v?"bottom":"top",endEdge:v?"top":"bottom",size:"height",direction:v?1:-1,children:r.jsx(yY,{"data-orientation":"vertical",...d,ref:h,style:{...d.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const y=x(g.clientY);i==null||i(y)},onSlideMove:g=>{const y=x(g.clientY);o==null||o(y)},onSlideEnd:()=>{f.current=void 0,l==null||l()},onStepKeyDown:g=>{const b=fY[v?"from-bottom":"from-top"].includes(g.key);c==null||c({event:g,direction:b?-1:1})}})})}),yY=w.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:a,onSlideMove:s,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...d}=t,u=e_(yp,n);return r.jsx(qt.span,{...d,ref:e,onKeyDown:lt(t.onKeyDown,h=>{h.key==="Home"?(o(h),h.preventDefault()):h.key==="End"?(l(h),h.preventDefault()):hY.concat(mY).includes(h.key)&&(c(h),h.preventDefault())}),onPointerDown:lt(t.onPointerDown,h=>{const f=h.target;f.setPointerCapture(h.pointerId),h.preventDefault(),u.thumbs.has(f)?f.focus():a(h)}),onPointerMove:lt(t.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&s(h)}),onPointerUp:lt(t.onPointerUp,h=>{const f=h.target;f.hasPointerCapture(h.pointerId)&&(f.releasePointerCapture(h.pointerId),i(h))})})}),bY="SliderTrack",wY=w.forwardRef((t,e)=>{const{__scopeSlider:n,...a}=t,s=e_(bY,n);return r.jsx(qt.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...a,ref:e})});wY.displayName=bY;var yP="SliderRange",_Y=w.forwardRef((t,e)=>{const{__scopeSlider:n,...a}=t,s=e_(yP,n),i=vY(yP,n),o=w.useRef(null),l=mn(e,o),c=s.values.length,d=s.values.map(f=>SY(f,s.min,s.max)),u=c>1?Math.min(...d):0,h=100-Math.max(...d);return r.jsx(qt.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...a,ref:l,style:{...t.style,[i.startEdge]:u+"%",[i.endEdge]:h+"%"}})});_Y.displayName=yP;var bP="SliderThumb",jY=w.forwardRef((t,e)=>{const n=ANe(t.__scopeSlider),[a,s]=w.useState(null),i=mn(e,l=>s(l)),o=w.useMemo(()=>a?n().findIndex(l=>l.ref.current===a):-1,[n,a]);return r.jsx(RNe,{...t,ref:i,index:o})}),RNe=w.forwardRef((t,e)=>{const{__scopeSlider:n,index:a,name:s,...i}=t,o=e_(bP,n),l=vY(bP,n),[c,d]=w.useState(null),u=mn(e,_=>d(_)),h=c?o.form||!!c.closest("form"):!0,f=k1(c),v=o.values[a],x=v===void 0?0:SY(v,o.min,o.max),g=INe(a,o.values.length),y=f==null?void 0:f[l.size],b=y?FNe(y,x,l.direction):0;return w.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),r.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${x}% + ${b}px)`},children:[r.jsx(vP.ItemSlot,{scope:t.__scopeSlider,children:r.jsx(qt.span,{role:"slider","aria-label":t["aria-label"]||g,"aria-valuemin":o.min,"aria-valuenow":v,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...i,ref:u,style:v===void 0?{display:"none"}:t.style,onFocus:lt(t.onFocus,()=>{o.valueIndexToChangeRef.current=a})})}),h&&r.jsx(NY,{name:s??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:v},a)]})});jY.displayName=bP;var ONe="RadioBubbleInput",NY=w.forwardRef(({__scopeSlider:t,value:e,...n},a)=>{const s=w.useRef(null),i=mn(s,a),o=J1(e);return w.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&u){const h=new Event("input",{bubbles:!0});u.call(l,e),l.dispatchEvent(h)}},[o,e]),r.jsx(qt.input,{style:{display:"none"},...n,ref:i,defaultValue:e})});NY.displayName=ONe;function DNe(t=[],e,n){const a=[...t];return a[n]=e,a.sort((s,i)=>s-i)}function SY(t,e,n){const i=100/(n-e)*(t-e);return Ex(i,[0,100])}function INe(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function LNe(t,e){if(t.length===1)return 0;const n=t.map(s=>Math.abs(s-e)),a=Math.min(...n);return n.indexOf(a)}function FNe(t,e,n){const a=t/2,i=tk([0,50],[0,a]);return(a-i(e)*n)*n}function $Ne(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function UNe(t,e){if(e>0){const n=$Ne(t);return Math.min(...n)>=e}return!0}function tk(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const a=(e[1]-e[0])/(t[1]-t[0]);return e[0]+a*(n-t[0])}}function BNe(t){return(String(t).split(".")[1]||"").length}function zNe(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var CY=xY,qNe=wY,VNe=_Y,HNe=jY;const jf=w.forwardRef(({className:t,...e},n)=>r.jsxs(CY,{ref:n,className:Wt("relative flex w-full touch-none select-none items-center",t),...e,children:[r.jsx(qNe,{className:"relative h-1.5 w-full grow overflow-hidden rounded-full bg-slate-800",children:r.jsx(VNe,{className:"absolute h-full bg-gradient-to-r from-purple-500 to-pink-500"})}),r.jsx(HNe,{className:"block h-4 w-4 rounded-full border-2 border-purple-500 bg-white shadow transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-purple-500 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));jf.displayName=CY.displayName;function GNe({audio:t,onClose:e,onNext:n,onPrevious:a,playlist:s=[]}){const[i,o]=w.useState(!1),[l,c]=w.useState(0),[d,u]=w.useState(0),[h,f]=w.useState(1),[v,x]=w.useState(!1),[g,y]=w.useState(!0),[b,_]=w.useState({x:0,y:0}),[j,S]=w.useState(!1),[C,E]=w.useState({x:0,y:0}),P=w.useRef(null);w.useEffect(()=>{if(t&&P.current){const z=t.url||t.audio_url;if(!z)return;if(z.includes("youtube.com")||z.includes("youtu.be")){console.log("YouTube audio no suportado em <audio>, use iframe");return}P.current.src=z,P.current.load();const K=P.current.play();K!==void 0&&K.then(()=>{o(!0)}).catch(V=>{console.log("Autoplay bloqueado, aguardando interao do usurio:",V),o(!1)})}},[t]),w.useEffect(()=>{const z=P.current;if(!z)return;const K=()=>c(z.currentTime),V=()=>u(z.duration),Y=()=>{o(!1),n&&n()};return z.addEventListener("timeupdate",K),z.addEventListener("loadedmetadata",V),z.addEventListener("ended",Y),()=>{z.removeEventListener("timeupdate",K),z.removeEventListener("loadedmetadata",V),z.removeEventListener("ended",Y)}},[n]);const T=()=>{i?P.current.pause():P.current.play(),o(!i)},M=z=>{const K=z[0]/100*d;P.current.currentTime=K,c(K)},k=z=>{const K=z[0]/100;f(K),P.current.volume=K,x(K===0)},O=()=>{v?(P.current.volume=h,x(!1)):(P.current.volume=0,x(!0))},$=z=>{if(isNaN(z))return"0:00";const K=Math.floor(z/60),V=Math.floor(z%60);return`${K}:${V.toString().padStart(2,"0")}`},F=z=>{z.target.closest(".no-drag")||(S(!0),E({x:z.clientX-b.x,y:z.clientY-b.y}))},B=z=>{if(!j)return;const K=z.clientX-C.x,V=z.clientY-C.y,Y=Math.min(window.innerWidth*.9,380),ee=window.innerWidth-Y,se=window.innerHeight-180;_({x:Math.max(0,Math.min(K,ee)),y:Math.max(0,Math.min(V,se))})},G=()=>{S(!1)},I=z=>{if(z.target.closest(".no-drag"))return;const K=z.touches[0];S(!0),E({x:K.clientX-b.x,y:K.clientY-b.y})},L=z=>{if(!j)return;const K=z.touches[0],V=K.clientX-C.x,Y=K.clientY-C.y,ee=Math.min(window.innerWidth*.9,380),se=window.innerWidth-ee,pe=window.innerHeight-180;_({x:Math.max(0,Math.min(V,se)),y:Math.max(0,Math.min(Y,pe))})},U=()=>{S(!1)};return w.useEffect(()=>{if(j)return window.addEventListener("mousemove",B),window.addEventListener("mouseup",G),window.addEventListener("touchmove",L),window.addEventListener("touchend",U),()=>{window.removeEventListener("mousemove",B),window.removeEventListener("mouseup",G),window.removeEventListener("touchmove",L),window.removeEventListener("touchend",U)}},[j,C,b]),t?r.jsx(gt,{children:r.jsx(q.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},style:{position:"fixed",zIndex:90,...g?{left:b.x||b.x===0?`${b.x}px`:"50%",bottom:"80px",transform:b.x||b.x===0?"none":"translateX(-50%)",width:"90%",maxWidth:"380px",cursor:j?"grabbing":"grab"}:{bottom:"80px",left:"50%",transform:"translateX(-50%)",width:"90%",maxWidth:"600px"}},onMouseDown:g?F:void 0,onTouchStart:g?I:void 0,children:r.jsxs(X,{className:`bg-gradient-to-br from-slate-900 via-purple-900/40 to-slate-900 border-purple-500/30 ${g?"rounded-2xl":"rounded-t-2xl rounded-b-none mx-4"} shadow-2xl overflow-hidden ${j?"shadow-purple-500/50":""}`,children:[r.jsx("audio",{ref:P}),!g&&r.jsxs("div",{className:"p-4 md:p-6 no-drag",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex-1 min-w-0 mr-4",children:[r.jsx("h3",{className:"text-white font-bold text-lg md:text-xl mb-1 truncate",children:t.title}),r.jsx("p",{className:"text-purple-300 text-sm truncate",children:t.description})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(W,{variant:"ghost",size:"icon",onClick:()=>y(!0),className:"text-gray-400 hover:text-white",children:r.jsx(H3,{className:"w-5 h-5"})}),r.jsx(W,{variant:"ghost",size:"icon",onClick:e,className:"text-gray-400 hover:text-white",children:r.jsx(nt,{className:"w-5 h-5"})})]})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx(jf,{value:[d>0?l/d*100:0],onValueChange:M,max:100,step:.1,className:"w-full"}),r.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-2",children:[r.jsx("span",{children:$(l)}),r.jsx("span",{children:$(d)})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(W,{variant:"ghost",size:"icon",onClick:O,className:"text-gray-400 hover:text-white",children:v?r.jsx(K3,{className:"w-5 h-5"}):r.jsx(Ko,{className:"w-5 h-5"})}),r.jsx("div",{className:"w-24",children:r.jsx(jf,{value:[v?0:h*100],onValueChange:k,max:100,step:1})})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[a&&r.jsx(W,{variant:"ghost",size:"icon",onClick:a,className:"text-purple-400 hover:text-purple-300",children:r.jsx(nG,{className:"w-5 h-5"})}),r.jsx(W,{onClick:T,className:"w-12 h-12 rounded-full bg-gradient-to-br from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600",children:i?r.jsx(cd,{className:"w-6 h-6 text-white"}):r.jsx(Qa,{className:"w-6 h-6 text-white ml-1"})}),n&&r.jsx(W,{variant:"ghost",size:"icon",onClick:n,className:"text-purple-400 hover:text-purple-300",children:r.jsx(rG,{className:"w-5 h-5"})})]}),r.jsx("div",{className:"w-24"})]})]}),g&&r.jsxs("div",{className:"p-3 flex items-center gap-3",children:[r.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-purple-900/30 hover:bg-purple-800/50 transition flex-shrink-0",children:r.jsx(ZH,{className:"w-4 h-4 text-purple-400"})}),r.jsx(W,{onClick:T,className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 flex-shrink-0 no-drag",children:i?r.jsx(cd,{className:"w-4 h-4 text-white"}):r.jsx(Qa,{className:"w-4 h-4 text-white ml-0.5"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-white text-sm font-semibold truncate",children:t.title}),r.jsx("div",{className:"w-full bg-slate-700 h-1 rounded-full mt-1 overflow-hidden",children:r.jsx("div",{className:"h-full bg-gradient-to-r from-purple-500 to-pink-500 transition-all",style:{width:`${d>0?l/d*100:0}%`}})})]}),r.jsxs("div",{className:"flex gap-1 no-drag",children:[r.jsx(W,{variant:"ghost",size:"icon",onClick:()=>y(!1),className:"text-gray-400 hover:text-white w-8 h-8",children:r.jsx(V3,{className:"w-4 h-4"})}),r.jsx(W,{variant:"ghost",size:"icon",onClick:e,className:"text-gray-400 hover:text-white w-8 h-8",children:r.jsx(nt,{className:"w-4 h-4"})})]})]})]})})}):null}function WNe(){const[t,e]=w.useState(!1),[n,a]=w.useState(null),[s,i]=w.useState(!1),[o,l]=w.useState(!1);w.useEffect(()=>{const f=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone||document.referrer.includes("android-app://");if(l(f),f){console.log("App j est instalado! ");return}const v=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;i(v);const x=localStorage.getItem("pwa-install-prompt-shown"),g=new Date().toDateString();if(x===g){console.log("Prompt j mostrado hoje");return}if(localStorage.getItem("pwa-install-never")==="true"){console.log("Usurio optou por nunca mostrar");return}const y=b=>{console.log("beforeinstallprompt disparado! "),b.preventDefault(),a(b),setTimeout(()=>{e(!0),localStorage.setItem("pwa-install-prompt-shown",g)},5e3)};if(window.addEventListener("beforeinstallprompt",y),v){const b=setTimeout(()=>{e(!0),localStorage.setItem("pwa-install-prompt-shown",g)},5e3);return()=>clearTimeout(b)}return window.addEventListener("appinstalled",b=>{console.log("App instalado com sucesso! "),e(!1),localStorage.setItem("pwa-installed","true")}),()=>{window.removeEventListener("beforeinstallprompt",y)}},[]);const c=async()=>{var f;if(s){(f=document.getElementById("ios-instructions"))==null||f.scrollIntoView({behavior:"smooth",block:"center"});return}if(n)try{await n.prompt();const{outcome:v}=await n.userChoice;console.log(`Usurio ${v==="accepted"?"aceitou":"recusou"} instalar`),v==="accepted"&&(console.log("PWA instalado com sucesso! "),localStorage.setItem("pwa-installed","true")),a(null),e(!1)}catch(v){console.error("Erro ao instalar:",v)}else alert(`Para baixar o app:

1. Toque no menu do navegador ()
2. Selecione "Instalar app" ou "Adicionar  tela inicial"`)},d=()=>{e(!1)},u=()=>{localStorage.setItem("pwa-install-never","true"),e(!1)},h=()=>{localStorage.removeItem("pwa-install-prompt-shown"),e(!1)};return!t||o?null:r.jsx(gt,{children:r.jsx(q.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[9999] flex items-end md:items-center justify-center bg-black/70 backdrop-blur-sm p-4",onClick:d,children:r.jsx(q.div,{initial:{y:100,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:100,opacity:0,scale:.95},transition:{type:"spring",damping:25,stiffness:300},onClick:f=>f.stopPropagation(),className:"w-full max-w-md",children:r.jsxs(X,{className:"bg-gradient-to-br from-purple-900 via-purple-800 to-purple-900 border-2 border-purple-500/50 p-6 relative overflow-hidden shadow-2xl",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-pink-500/10 via-transparent to-blue-500/10"}),r.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-purple-400/20 rounded-full blur-3xl"}),r.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-pink-400/20 rounded-full blur-3xl"}),r.jsx(q.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent",animate:{x:["-200%","200%"]},transition:{duration:3,repeat:1/0,ease:"linear"}}),r.jsx("button",{onClick:d,className:"absolute top-3 right-3 w-8 h-8 rounded-full bg-purple-950/50 hover:bg-purple-950 flex items-center justify-center transition z-10",children:r.jsx(nt,{className:"w-4 h-4 text-gray-300"})}),r.jsxs("div",{className:"relative z-10",children:[r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx(q.div,{animate:{scale:[1,1.1,1],rotate:[0,5,-5,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"w-20 h-20 rounded-2xl bg-gradient-to-br from-purple-600 to-pink-600 flex items-center justify-center shadow-xl",children:r.jsx("img",{src:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/690e5f6f991e09e82bef3795/a3f627646_imgi_2_337f3cf9e282bc41c87500e885414629.png",alt:"Zamira",className:"w-16 h-16 object-contain"})})}),r.jsx("h2",{className:"text-2xl font-bold text-white text-center mb-2",children:"Baixe o App Zamira! "}),r.jsx("p",{className:"text-purple-200 text-center mb-6 text-sm",children:"Instale agora e tenha acesso instantneo ao portal mstico"}),r.jsxs("div",{className:"space-y-3 mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3 bg-purple-950/30 p-3 rounded-lg",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-purple-600/30 flex items-center justify-center flex-shrink-0",children:r.jsx(Ps,{className:"w-5 h-5 text-purple-300"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-white font-semibold text-sm",children:"Notificaes Mgicas"}),r.jsx("p",{className:"text-purple-200 text-xs",children:"Alertas de posts, mensagens e eventos csmicos"})]})]}),r.jsxs("div",{className:"flex items-center gap-3 bg-purple-950/30 p-3 rounded-lg",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-pink-600/30 flex items-center justify-center flex-shrink-0",children:r.jsx(gr,{className:"w-5 h-5 text-pink-300"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-white font-semibold text-sm",children:"Acesso Ultra-Rpido"}),r.jsx("p",{className:"text-purple-200 text-xs",children:"Abra instantaneamente sem navegador"})]})]}),r.jsxs("div",{className:"flex items-center gap-3 bg-purple-950/30 p-3 rounded-lg",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-600/30 flex items-center justify-center flex-shrink-0",children:r.jsx(_e,{className:"w-5 h-5 text-blue-300"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-white font-semibold text-sm",children:"Experincia Imersiva"}),r.jsx("p",{className:"text-purple-200 text-xs",children:"Tela cheia sem distraes"})]})]})]}),!s&&n&&r.jsx(q.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2},className:"mb-4",children:r.jsxs(W,{onClick:c,className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white font-bold h-14 text-lg shadow-xl shadow-green-500/30 hover:shadow-green-500/50 transition-all duration-300",children:[r.jsx(Wo,{className:"w-6 h-6 mr-2 animate-bounce"}),"Baixar App Agora"]})}),s?r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{id:"ios-instructions",className:"bg-purple-950/50 p-4 rounded-lg border-2 border-purple-500/30",children:[r.jsxs("p",{className:"text-white text-sm mb-3 font-semibold flex items-center gap-2",children:[r.jsx(Mde,{className:"w-4 h-4 text-green-400"}),"Siga estes passos para baixar:"]}),r.jsxs("ol",{className:"text-purple-200 text-xs space-y-2 list-decimal list-inside",children:[r.jsxs("li",{className:"pl-2",children:["Toque no boto ",r.jsx("strong",{className:"text-white",children:"Compartilhar"}),r.jsx("span",{className:"inline-block mx-1 px-1.5 py-0.5 bg-purple-700/50 rounded text-[10px]",children:""}),"(na barra inferior do Safari)"]}),r.jsxs("li",{className:"pl-2",children:["Role para baixo e toque em ",r.jsx("strong",{className:"text-white",children:'"Adicionar  Tela de Incio"'})]}),r.jsxs("li",{className:"pl-2",children:["Toque em ",r.jsx("strong",{className:"text-white",children:'"Adicionar"'})," no canto superior direito"]}),r.jsx("li",{className:"pl-2 text-green-300",children:" Pronto! O Zamira estar na sua tela inicial"})]})]}),r.jsx(W,{onClick:d,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-bold h-12",children:"Entendi, vou baixar!"}),r.jsx("button",{onClick:h,className:"w-full text-purple-300 hover:text-purple-200 text-sm",children:"Lembrar amanh"})]}):n?r.jsx("div",{className:"space-y-3",children:r.jsx(W,{onClick:h,variant:"outline",className:"w-full border-purple-400 text-purple-200 hover:bg-purple-900/30 h-11",children:"Lembrar amanh"})}):r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"bg-purple-950/50 p-4 rounded-lg border-2 border-purple-500/30",children:[r.jsx("p",{className:"text-white text-sm mb-2 font-semibold",children:" Como baixar:"}),r.jsxs("ol",{className:"text-purple-200 text-xs space-y-1.5 list-decimal list-inside",children:[r.jsx("li",{children:"Toque no menu do navegador ( ou )"}),r.jsx("li",{children:'Selecione "Instalar app" ou "Adicionar  tela inicial"'}),r.jsx("li",{children:"Confirme a instalao"})]})]}),r.jsxs(W,{onClick:c,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-bold h-12",children:[r.jsx(Wo,{className:"w-5 h-5 mr-2"}),"Ver Instrues"]}),r.jsx("button",{onClick:h,className:"w-full text-purple-300 hover:text-purple-200 text-sm",children:"Lembrar amanh"})]}),r.jsx("button",{onClick:u,className:"w-full text-purple-400 hover:text-purple-300 text-xs mt-3",children:"No mostrar novamente"})]})]})})})})}function KNe(){return w.useEffect(()=>{const t=(i,o,l="name")=>{let c=document.querySelector(`meta[${l}="${i}"]`);c||(c=document.createElement("meta"),c.setAttribute(l,i),document.head.appendChild(c)),c.setAttribute("content",o)};t("viewport","width=device-width, initial-scale=1, maximum-scale=5, user-scalable=yes, viewport-fit=cover"),t("theme-color","#8b5cf6"),t("mobile-web-app-capable","yes"),t("application-name","Zamira"),t("apple-mobile-web-app-capable","yes"),t("apple-mobile-web-app-status-bar-style","black-translucent"),t("apple-mobile-web-app-title","Zamira"),t("msapplication-TileColor","#8b5cf6"),t("msapplication-tap-highlight","no"),t("display","standalone"),t("og:type","website","property"),t("og:title","Zamira - Portal Mstico","property"),t("og:description","Sua jornada mstica de autoconhecimento, tarot, astrologia e comunidade espiritual","property"),t("og:image","https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/690e5f6f991e09e82bef3795/a3f627646_imgi_2_337f3cf9e282bc41c87500e885414629.png","property"),t("og:site_name","Zamira","property"),t("twitter:card","summary_large_image"),t("twitter:title","Zamira - Portal Mstico"),t("twitter:description","Sua jornada mstica de autoconhecimento, tarot, astrologia e comunidade espiritual"),t("twitter:image","https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/690e5f6f991e09e82bef3795/a3f627646_imgi_2_337f3cf9e282bc41c87500e885414629.png"),t("description","Zamira  seu portal mstico para autoconhecimento. Explore tarot, astrologia, numerologia e conecte-se com uma comunidade espiritual vibrante."),t("keywords","tarot, astrologia, numerologia, espiritualidade, autoconhecimento, cristais, portal mstico, comunidade espiritual"),document.documentElement.lang="pt-BR";const e=(i,o,l=null,c=null)=>{let d=document.querySelector(`link[rel="${i}"]${l?`[sizes="${l}"]`:""}`);d||(d=document.createElement("link"),d.rel=i,l&&(d.sizes=l),c&&(d.type=c),document.head.appendChild(d)),d.href=o};e("manifest","/manifest.json"),e("apple-touch-icon","https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/690e5f6f991e09e82bef3795/a3f627646_imgi_2_337f3cf9e282bc41c87500e885414629.png","180x180"),e("apple-touch-icon","https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/690e5f6f991e09e82bef3795/a3f627646_imgi_2_337f3cf9e282bc41c87500e885414629.png","152x152"),e("apple-touch-icon","https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/690e5f6f991e09e82bef3795/a3f627646_imgi_2_337f3cf9e282bc41c87500e885414629.png","120x120"),e("apple-touch-icon","https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/690e5f6f991e09e82bef3795/a3f627646_imgi_2_337f3cf9e282bc41c87500e885414629.png","76x76"),e("icon","https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/690e5f6f991e09e82bef3795/a3f627646_imgi_2_337f3cf9e282bc41c87500e885414629.png","32x32","image/png"),e("icon","https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/690e5f6f991e09e82bef3795/a3f627646_imgi_2_337f3cf9e282bc41c87500e885414629.png","16x16","image/png");const n=(i,o)=>{let l=document.querySelector(`link[rel="apple-touch-startup-image"][media="${o}"]`);l||(l=document.createElement("link"),l.rel="apple-touch-startup-image",l.media=o,document.head.appendChild(l)),l.href=i},a="https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/690e5f6f991e09e82bef3795/a3f627646_imgi_2_337f3cf9e282bc41c87500e885414629.png";n(a,"(device-width: 430px) and (device-height: 932px) and (-webkit-device-pixel-ratio: 3)"),n(a,"(device-width: 393px) and (device-height: 852px) and (-webkit-device-pixel-ratio: 3)"),n(a,"(device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3)"),n(a,"(device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3)"),n(a,"(device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3)"),n(a,"(device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3)"),n(a,"(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3)"),n(a,"(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2)"),n(a,"(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3)"),n(a,"(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3)"),n(a,"(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2)"),n(a,"(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2)"),n(a,"(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2)"),n(a,"(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2)"),n(a,"(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2)");const s=document.querySelector('link[rel="canonical"]')||document.createElement("link");s.rel="canonical",s.href=window.location.href.split("?")[0],document.querySelector('link[rel="canonical"]')||document.head.appendChild(s)},[]),null}function XNe({user:t}){return w.useEffect(()=>{if(!(t!=null&&t.id))return;const e=async(g,y=1)=>{try{if(!(t!=null&&t.id))return;const b=await H.entities.Quest.filter({action_type:g,is_active:!0});for(const _ of b){if(!(_!=null&&_.id))continue;let j=await H.entities.QuestProgress.filter({user_id:t.id,quest_id:_.id});if(j.length===0)await H.entities.QuestProgress.create({user_id:t.id,quest_id:_.id,quest_title:_.title,quest_type:_.type,current_count:y,target_count:_.target_count,is_completed:y>=_.target_count});else{const S=j[0];if(!(S!=null&&S.id))continue;const C=S.current_count+y,E=C>=_.target_count;await H.entities.QuestProgress.update(S.id,{current_count:C,is_completed:E,completed_at:E&&!S.is_completed?new Date().toISOString():S.completed_at})}}}catch(b){console.error("Erro ao atualizar progresso da misso:",b)}},n=()=>e("create_post"),a=()=>e("comment_post"),s=()=>e("react_post"),i=()=>e("daily_tarot"),o=()=>e("visit_portal"),l=()=>e("chat_message"),c=()=>e("follow_user"),d=()=>e("share_post"),u=()=>e("complete_profile"),h=()=>e("lunar_event"),f=()=>e("arena_duel"),v=()=>e("shop_purchase"),x=()=>e("voice_message");return window.addEventListener("questAction:create_post",n),window.addEventListener("questAction:comment_post",a),window.addEventListener("questAction:react_post",s),window.addEventListener("questAction:daily_tarot",i),window.addEventListener("questAction:visit_portal",o),window.addEventListener("questAction:chat_message",l),window.addEventListener("questAction:follow_user",c),window.addEventListener("questAction:share_post",d),window.addEventListener("questAction:complete_profile",u),window.addEventListener("questAction:lunar_event",h),window.addEventListener("questAction:arena_duel",f),window.addEventListener("questAction:shop_purchase",v),window.addEventListener("questAction:voice_message",x),()=>{window.removeEventListener("questAction:create_post",n),window.removeEventListener("questAction:comment_post",a),window.removeEventListener("questAction:react_post",s),window.removeEventListener("questAction:daily_tarot",i),window.removeEventListener("questAction:visit_portal",o),window.removeEventListener("questAction:chat_message",l),window.removeEventListener("questAction:follow_user",c),window.removeEventListener("questAction:share_post",d),window.removeEventListener("questAction:complete_profile",u),window.removeEventListener("questAction:lunar_event",h),window.removeEventListener("questAction:arena_duel",f),window.removeEventListener("questAction:shop_purchase",v),window.removeEventListener("questAction:voice_message",x)}},[t==null?void 0:t.id]),null}var bp=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},YNe={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},zc,N3,b7,QNe=(b7=class{constructor(){Lt(this,zc,YNe);Lt(this,N3,!1)}setTimeoutProvider(t){ct(this,zc,t)}setTimeout(t,e){return le(this,zc).setTimeout(t,e)}clearTimeout(t){le(this,zc).clearTimeout(t)}setInterval(t,e){return le(this,zc).setInterval(t,e)}clearInterval(t){le(this,zc).clearInterval(t)}},zc=new WeakMap,N3=new WeakMap,b7),yu=new QNe;function ZNe(t){setTimeout(t,0)}var Xu=typeof window>"u"||"Deno"in globalThis;function ss(){}function JNe(t,e){return typeof t=="function"?t(e):t}function wP(t){return typeof t=="number"&&t>=0&&t!==1/0}function EY(t,e){return Math.max(t+(e||0)-Date.now(),0)}function nd(t,e){return typeof t=="function"?t(e):t}function Si(t,e){return typeof t=="function"?t(e):t}function fL(t,e){const{type:n="all",exact:a,fetchStatus:s,predicate:i,queryKey:o,stale:l}=t;if(o){if(a){if(e.queryHash!==nk(o,e.options))return!1}else if(!Ax(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||s&&s!==e.state.fetchStatus||i&&!i(e))}function pL(t,e){const{exact:n,status:a,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Yu(e.options.mutationKey)!==Yu(i))return!1}else if(!Ax(e.options.mutationKey,i))return!1}return!(a&&e.state.status!==a||s&&!s(e))}function nk(t,e){return((e==null?void 0:e.queryKeyHashFn)||Yu)(t)}function Yu(t){return JSON.stringify(t,(e,n)=>_P(n)?Object.keys(n).sort().reduce((a,s)=>(a[s]=n[s],a),{}):n)}function Ax(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Ax(t[n],e[n])):!1}var e2e=Object.prototype.hasOwnProperty;function AY(t,e){if(t===e)return t;const n=xL(t)&&xL(e);if(!n&&!(_P(t)&&_P(e)))return e;const s=(n?t:Object.keys(t)).length,i=n?e:Object.keys(e),o=i.length,l=n?new Array(o):{};let c=0;for(let d=0;d<o;d++){const u=n?d:i[d],h=t[u],f=e[u];if(h===f){l[u]=h,(n?d<s:e2e.call(t,u))&&c++;continue}if(h===null||f===null||typeof h!="object"||typeof f!="object"){l[u]=f;continue}const v=AY(h,f);l[u]=v,v===h&&c++}return s===o&&c===s?t:l}function nw(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function xL(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function _P(t){if(!gL(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!gL(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function gL(t){return Object.prototype.toString.call(t)==="[object Object]"}function t2e(t){return new Promise(e=>{yu.setTimeout(e,t)})}function jP(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?AY(t,e):e}function n2e(t,e,n=0){const a=[...t,e];return n&&a.length>n?a.slice(1):a}function r2e(t,e,n=0){const a=[e,...t];return n&&a.length>n?a.slice(0,-1):a}var rk=Symbol();function MY(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===rk?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function PY(t,e){return typeof t=="function"?t(...e):!!t}var Su,qc,Jm,w7,a2e=(w7=class extends bp{constructor(){super();Lt(this,Su);Lt(this,qc);Lt(this,Jm);ct(this,Jm,e=>{if(!Xu&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){le(this,qc)||this.setEventListener(le(this,Jm))}onUnsubscribe(){var e;this.hasListeners()||((e=le(this,qc))==null||e.call(this),ct(this,qc,void 0))}setEventListener(e){var n;ct(this,Jm,e),(n=le(this,qc))==null||n.call(this),ct(this,qc,e(a=>{typeof a=="boolean"?this.setFocused(a):this.onFocus()}))}setFocused(e){le(this,Su)!==e&&(ct(this,Su,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof le(this,Su)=="boolean"?le(this,Su):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Su=new WeakMap,qc=new WeakMap,Jm=new WeakMap,w7),ak=new a2e;function NP(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function a(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{a({status:"fulfilled",value:s}),t(s)},n.reject=s=>{a({status:"rejected",reason:s}),e(s)},n}var s2e=ZNe;function i2e(){let t=[],e=0,n=l=>{l()},a=l=>{l()},s=s2e;const i=l=>{e?t.push(l):s(()=>{n(l)})},o=()=>{const l=t;t=[],l.length&&s(()=>{a(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{a=l},setScheduler:l=>{s=l}}}var ia=i2e(),ef,Vc,tf,_7,o2e=(_7=class extends bp{constructor(){super();Lt(this,ef,!0);Lt(this,Vc);Lt(this,tf);ct(this,tf,e=>{if(!Xu&&window.addEventListener){const n=()=>e(!0),a=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",a,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",a)}}})}onSubscribe(){le(this,Vc)||this.setEventListener(le(this,tf))}onUnsubscribe(){var e;this.hasListeners()||((e=le(this,Vc))==null||e.call(this),ct(this,Vc,void 0))}setEventListener(e){var n;ct(this,tf,e),(n=le(this,Vc))==null||n.call(this),ct(this,Vc,e(this.setOnline.bind(this)))}setOnline(e){le(this,ef)!==e&&(ct(this,ef,e),this.listeners.forEach(a=>{a(e)}))}isOnline(){return le(this,ef)}},ef=new WeakMap,Vc=new WeakMap,tf=new WeakMap,_7),rw=new o2e;function l2e(t){return Math.min(1e3*2**t,3e4)}function TY(t){return(t??"online")==="online"?rw.isOnline():!0}var SP=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function kY(t){let e=!1,n=0,a;const s=NP(),i=()=>s.status!=="pending",o=g=>{var y;if(!i()){const b=new SP(g);f(b),(y=t.onCancel)==null||y.call(t,b)}},l=()=>{e=!0},c=()=>{e=!1},d=()=>ak.isFocused()&&(t.networkMode==="always"||rw.isOnline())&&t.canRun(),u=()=>TY(t.networkMode)&&t.canRun(),h=g=>{i()||(a==null||a(),s.resolve(g))},f=g=>{i()||(a==null||a(),s.reject(g))},v=()=>new Promise(g=>{var y;a=b=>{(i()||d())&&g(b)},(y=t.onPause)==null||y.call(t)}).then(()=>{var g;a=void 0,i()||(g=t.onContinue)==null||g.call(t)}),x=()=>{if(i())return;let g;const y=n===0?t.initialPromise:void 0;try{g=y??t.fn()}catch(b){g=Promise.reject(b)}Promise.resolve(g).then(h).catch(b=>{var E;if(i())return;const _=t.retry??(Xu?0:3),j=t.retryDelay??l2e,S=typeof j=="function"?j(n,b):j,C=_===!0||typeof _=="number"&&n<_||typeof _=="function"&&_(n,b);if(e||!C){f(b);return}n++,(E=t.onFail)==null||E.call(t,n,b),t2e(S).then(()=>d()?void 0:v()).then(()=>{e?f(b):x()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(a==null||a(),s),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?x():v().then(x),s)}}var Cu,j7,RY=(j7=class{constructor(){Lt(this,Cu)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),wP(this.gcTime)&&ct(this,Cu,yu.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Xu?1/0:300*1e3))}clearGcTimeout(){le(this,Cu)&&(yu.clearTimeout(le(this,Cu)),ct(this,Cu,void 0))}},Cu=new WeakMap,j7),Eu,nf,Ni,Au,ba,fg,Mu,to,_l,N7,c2e=(N7=class extends RY{constructor(e){super();Lt(this,to);Lt(this,Eu);Lt(this,nf);Lt(this,Ni);Lt(this,Au);Lt(this,ba);Lt(this,fg);Lt(this,Mu);ct(this,Mu,!1),ct(this,fg,e.defaultOptions),this.setOptions(e.options),this.observers=[],ct(this,Au,e.client),ct(this,Ni,le(this,Au).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,ct(this,Eu,yL(this.options)),this.state=e.state??le(this,Eu),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=le(this,ba))==null?void 0:e.promise}setOptions(e){if(this.options={...le(this,fg),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=yL(this.options);n.data!==void 0&&(this.setState(vL(n.data,n.dataUpdatedAt)),ct(this,Eu,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&le(this,Ni).remove(this)}setData(e,n){const a=jP(this.state.data,e,this.options);return xn(this,to,_l).call(this,{data:a,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),a}setState(e,n){xn(this,to,_l).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var a,s;const n=(a=le(this,ba))==null?void 0:a.promise;return(s=le(this,ba))==null||s.cancel(e),n?n.then(ss).catch(ss):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(le(this,Eu))}isActive(){return this.observers.some(e=>Si(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===rk||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>nd(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!EY(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(a=>a.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=le(this,ba))==null||n.continue()}onOnline(){var n;const e=this.observers.find(a=>a.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=le(this,ba))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),le(this,Ni).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(le(this,ba)&&(le(this,Mu)?le(this,ba).cancel({revert:!0}):le(this,ba).cancelRetry()),this.scheduleGc()),le(this,Ni).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||xn(this,to,_l).call(this,{type:"invalidate"})}async fetch(e,n){var c,d,u,h,f,v,x,g,y,b,_,j;if(this.state.fetchStatus!=="idle"&&((c=le(this,ba))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(le(this,ba))return le(this,ba).continueRetry(),le(this,ba).promise}if(e&&this.setOptions(e),!this.options.queryFn){const S=this.observers.find(C=>C.options.queryFn);S&&this.setOptions(S.options)}const a=new AbortController,s=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(ct(this,Mu,!0),a.signal)})},i=()=>{const S=MY(this.options,n),E=(()=>{const P={client:le(this,Au),queryKey:this.queryKey,meta:this.meta};return s(P),P})();return ct(this,Mu,!1),this.options.persister?this.options.persister(S,E,this):S(E)},l=(()=>{const S={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:le(this,Au),state:this.state,fetchFn:i};return s(S),S})();(d=this.options.behavior)==null||d.onFetch(l,this),ct(this,nf,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=l.fetchOptions)==null?void 0:u.meta))&&xn(this,to,_l).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta}),ct(this,ba,kY({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,onCancel:S=>{S instanceof SP&&S.revert&&this.setState({...le(this,nf),fetchStatus:"idle"}),a.abort()},onFail:(S,C)=>{xn(this,to,_l).call(this,{type:"failed",failureCount:S,error:C})},onPause:()=>{xn(this,to,_l).call(this,{type:"pause"})},onContinue:()=>{xn(this,to,_l).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const S=await le(this,ba).start();if(S===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(S),(v=(f=le(this,Ni).config).onSuccess)==null||v.call(f,S,this),(g=(x=le(this,Ni).config).onSettled)==null||g.call(x,S,this.state.error,this),S}catch(S){if(S instanceof SP){if(S.silent)return le(this,ba).promise;if(S.revert){if(this.state.data===void 0)throw S;return this.state.data}}throw xn(this,to,_l).call(this,{type:"error",error:S}),(b=(y=le(this,Ni).config).onError)==null||b.call(y,S,this),(j=(_=le(this,Ni).config).onSettled)==null||j.call(_,this.state.data,S,this),S}finally{this.scheduleGc()}}},Eu=new WeakMap,nf=new WeakMap,Ni=new WeakMap,Au=new WeakMap,ba=new WeakMap,fg=new WeakMap,Mu=new WeakMap,to=new WeakSet,_l=function(e){const n=a=>{switch(e.type){case"failed":return{...a,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,...OY(a.data,this.options),fetchMeta:e.meta??null};case"success":const s={...a,...vL(e.data,e.dataUpdatedAt),dataUpdateCount:a.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ct(this,nf,e.manual?s:void 0),s;case"error":const i=e.error;return{...a,error:i,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...e.state}}};this.state=n(this.state),ia.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),le(this,Ni).notify({query:this,type:"updated",action:e})})},N7);function OY(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:TY(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function vL(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function yL(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,a=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var js,En,pg,rs,Pu,rf,Cl,Hc,xg,af,sf,Tu,ku,Gc,of,Hn,F0,CP,EP,AP,MP,PP,TP,kP,DY,S7,d2e=(S7=class extends bp{constructor(e,n){super();Lt(this,Hn);Lt(this,js);Lt(this,En);Lt(this,pg);Lt(this,rs);Lt(this,Pu);Lt(this,rf);Lt(this,Cl);Lt(this,Hc);Lt(this,xg);Lt(this,af);Lt(this,sf);Lt(this,Tu);Lt(this,ku);Lt(this,Gc);Lt(this,of,new Set);this.options=n,ct(this,js,e),ct(this,Hc,null),ct(this,Cl,NP()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(le(this,En).addObserver(this),bL(le(this,En),this.options)?xn(this,Hn,F0).call(this):this.updateResult(),xn(this,Hn,MP).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return RP(le(this,En),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return RP(le(this,En),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,xn(this,Hn,PP).call(this),xn(this,Hn,TP).call(this),le(this,En).removeObserver(this)}setOptions(e){const n=this.options,a=le(this,En);if(this.options=le(this,js).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Si(this.options.enabled,le(this,En))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");xn(this,Hn,kP).call(this),le(this,En).setOptions(this.options),n._defaulted&&!nw(this.options,n)&&le(this,js).getQueryCache().notify({type:"observerOptionsUpdated",query:le(this,En),observer:this});const s=this.hasListeners();s&&wL(le(this,En),a,this.options,n)&&xn(this,Hn,F0).call(this),this.updateResult(),s&&(le(this,En)!==a||Si(this.options.enabled,le(this,En))!==Si(n.enabled,le(this,En))||nd(this.options.staleTime,le(this,En))!==nd(n.staleTime,le(this,En)))&&xn(this,Hn,CP).call(this);const i=xn(this,Hn,EP).call(this);s&&(le(this,En)!==a||Si(this.options.enabled,le(this,En))!==Si(n.enabled,le(this,En))||i!==le(this,Gc))&&xn(this,Hn,AP).call(this,i)}getOptimisticResult(e){const n=le(this,js).getQueryCache().build(le(this,js),e),a=this.createResult(n,e);return h2e(this,a)&&(ct(this,rs,a),ct(this,rf,this.options),ct(this,Pu,le(this,En).state)),a}getCurrentResult(){return le(this,rs)}trackResult(e,n){return new Proxy(e,{get:(a,s)=>(this.trackProp(s),n==null||n(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&le(this,Cl).status==="pending"&&le(this,Cl).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(a,s))})}trackProp(e){le(this,of).add(e)}getCurrentQuery(){return le(this,En)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=le(this,js).defaultQueryOptions(e),a=le(this,js).getQueryCache().build(le(this,js),n);return a.fetch().then(()=>this.createResult(a,n))}fetch(e){return xn(this,Hn,F0).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),le(this,rs)))}createResult(e,n){var M;const a=le(this,En),s=this.options,i=le(this,rs),o=le(this,Pu),l=le(this,rf),d=e!==a?e.state:le(this,pg),{state:u}=e;let h={...u},f=!1,v;if(n._optimisticResults){const k=this.hasListeners(),O=!k&&bL(e,n),$=k&&wL(e,a,n,s);(O||$)&&(h={...h,...OY(u.data,e.options)}),n._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:x,errorUpdatedAt:g,status:y}=h;v=h.data;let b=!1;if(n.placeholderData!==void 0&&v===void 0&&y==="pending"){let k;i!=null&&i.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData)?(k=i.data,b=!0):k=typeof n.placeholderData=="function"?n.placeholderData((M=le(this,sf))==null?void 0:M.state.data,le(this,sf)):n.placeholderData,k!==void 0&&(y="success",v=jP(i==null?void 0:i.data,k,n),f=!0)}if(n.select&&v!==void 0&&!b)if(i&&v===(o==null?void 0:o.data)&&n.select===le(this,xg))v=le(this,af);else try{ct(this,xg,n.select),v=n.select(v),v=jP(i==null?void 0:i.data,v,n),ct(this,af,v),ct(this,Hc,null)}catch(k){ct(this,Hc,k)}le(this,Hc)&&(x=le(this,Hc),v=le(this,af),g=Date.now(),y="error");const _=h.fetchStatus==="fetching",j=y==="pending",S=y==="error",C=j&&_,E=v!==void 0,T={status:y,fetchStatus:h.fetchStatus,isPending:j,isSuccess:y==="success",isError:S,isInitialLoading:C,isLoading:C,data:v,dataUpdatedAt:h.dataUpdatedAt,error:x,errorUpdatedAt:g,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>d.dataUpdateCount||h.errorUpdateCount>d.errorUpdateCount,isFetching:_,isRefetching:_&&!j,isLoadingError:S&&!E,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:S&&E,isStale:sk(e,n),refetch:this.refetch,promise:le(this,Cl),isEnabled:Si(n.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const k=F=>{T.status==="error"?F.reject(T.error):T.data!==void 0&&F.resolve(T.data)},O=()=>{const F=ct(this,Cl,T.promise=NP());k(F)},$=le(this,Cl);switch($.status){case"pending":e.queryHash===a.queryHash&&k($);break;case"fulfilled":(T.status==="error"||T.data!==$.value)&&O();break;case"rejected":(T.status!=="error"||T.error!==$.reason)&&O();break}}return T}updateResult(){const e=le(this,rs),n=this.createResult(le(this,En),this.options);if(ct(this,Pu,le(this,En).state),ct(this,rf,this.options),le(this,Pu).data!==void 0&&ct(this,sf,le(this,En)),nw(n,e))return;ct(this,rs,n);const a=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!le(this,of).size)return!0;const o=new Set(i??le(this,of));return this.options.throwOnError&&o.add("error"),Object.keys(le(this,rs)).some(l=>{const c=l;return le(this,rs)[c]!==e[c]&&o.has(c)})};xn(this,Hn,DY).call(this,{listeners:a()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&xn(this,Hn,MP).call(this)}},js=new WeakMap,En=new WeakMap,pg=new WeakMap,rs=new WeakMap,Pu=new WeakMap,rf=new WeakMap,Cl=new WeakMap,Hc=new WeakMap,xg=new WeakMap,af=new WeakMap,sf=new WeakMap,Tu=new WeakMap,ku=new WeakMap,Gc=new WeakMap,of=new WeakMap,Hn=new WeakSet,F0=function(e){xn(this,Hn,kP).call(this);let n=le(this,En).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(ss)),n},CP=function(){xn(this,Hn,PP).call(this);const e=nd(this.options.staleTime,le(this,En));if(Xu||le(this,rs).isStale||!wP(e))return;const a=EY(le(this,rs).dataUpdatedAt,e)+1;ct(this,Tu,yu.setTimeout(()=>{le(this,rs).isStale||this.updateResult()},a))},EP=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(le(this,En)):this.options.refetchInterval)??!1},AP=function(e){xn(this,Hn,TP).call(this),ct(this,Gc,e),!(Xu||Si(this.options.enabled,le(this,En))===!1||!wP(le(this,Gc))||le(this,Gc)===0)&&ct(this,ku,yu.setInterval(()=>{(this.options.refetchIntervalInBackground||ak.isFocused())&&xn(this,Hn,F0).call(this)},le(this,Gc)))},MP=function(){xn(this,Hn,CP).call(this),xn(this,Hn,AP).call(this,xn(this,Hn,EP).call(this))},PP=function(){le(this,Tu)&&(yu.clearTimeout(le(this,Tu)),ct(this,Tu,void 0))},TP=function(){le(this,ku)&&(yu.clearInterval(le(this,ku)),ct(this,ku,void 0))},kP=function(){const e=le(this,js).getQueryCache().build(le(this,js),this.options);if(e===le(this,En))return;const n=le(this,En);ct(this,En,e),ct(this,pg,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},DY=function(e){ia.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(le(this,rs))}),le(this,js).getQueryCache().notify({query:le(this,En),type:"observerResultsUpdated"})})},S7);function u2e(t,e){return Si(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function bL(t,e){return u2e(t,e)||t.state.data!==void 0&&RP(t,e,e.refetchOnMount)}function RP(t,e,n){if(Si(e.enabled,t)!==!1&&nd(e.staleTime,t)!=="static"){const a=typeof n=="function"?n(t):n;return a==="always"||a!==!1&&sk(t,e)}return!1}function wL(t,e,n,a){return(t!==e||Si(a.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&sk(t,n)}function sk(t,e){return Si(e.enabled,t)!==!1&&t.isStaleByTime(nd(e.staleTime,t))}function h2e(t,e){return!nw(t.getCurrentResult(),e)}function _L(t){return{onFetch:(e,n)=>{var u,h,f,v,x;const a=e.options,s=(f=(h=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,i=((v=e.state.data)==null?void 0:v.pages)||[],o=((x=e.state.data)==null?void 0:x.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let g=!1;const y=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},b=MY(e.options,e.fetchOptions),_=async(j,S,C)=>{if(g)return Promise.reject();if(S==null&&j.pages.length)return Promise.resolve(j);const P=(()=>{const O={client:e.client,queryKey:e.queryKey,pageParam:S,direction:C?"backward":"forward",meta:e.options.meta};return y(O),O})(),T=await b(P),{maxPages:M}=e.options,k=C?r2e:n2e;return{pages:k(j.pages,T,M),pageParams:k(j.pageParams,S,M)}};if(s&&i.length){const j=s==="backward",S=j?m2e:jL,C={pages:i,pageParams:o},E=S(a,C);l=await _(C,E,j)}else{const j=t??i.length;do{const S=c===0?o[0]??a.initialPageParam:jL(a,l);if(c>0&&S==null)break;l=await _(l,S),c++}while(c<j)}return l};e.options.persister?e.fetchFn=()=>{var g,y;return(y=(g=e.options).persister)==null?void 0:y.call(g,d,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=d}}}function jL(t,{pages:e,pageParams:n}){const a=e.length-1;return e.length>0?t.getNextPageParam(e[a],e,n[a],n):void 0}function m2e(t,{pages:e,pageParams:n}){var a;return e.length>0?(a=t.getPreviousPageParam)==null?void 0:a.call(t,e[0],e,n[0],n):void 0}var gg,Po,as,Ru,To,Ic,C7,f2e=(C7=class extends RY{constructor(e){super();Lt(this,To);Lt(this,gg);Lt(this,Po);Lt(this,as);Lt(this,Ru);ct(this,gg,e.client),this.mutationId=e.mutationId,ct(this,as,e.mutationCache),ct(this,Po,[]),this.state=e.state||IY(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){le(this,Po).includes(e)||(le(this,Po).push(e),this.clearGcTimeout(),le(this,as).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){ct(this,Po,le(this,Po).filter(n=>n!==e)),this.scheduleGc(),le(this,as).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){le(this,Po).length||(this.state.status==="pending"?this.scheduleGc():le(this,as).remove(this))}continue(){var e;return((e=le(this,Ru))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,l,c,d,u,h,f,v,x,g,y,b,_,j,S,C,E,P,T,M;const n=()=>{xn(this,To,Ic).call(this,{type:"continue"})},a={client:le(this,gg),meta:this.options.meta,mutationKey:this.options.mutationKey};ct(this,Ru,kY({fn:()=>this.options.mutationFn?this.options.mutationFn(e,a):Promise.reject(new Error("No mutationFn found")),onFail:(k,O)=>{xn(this,To,Ic).call(this,{type:"failed",failureCount:k,error:O})},onPause:()=>{xn(this,To,Ic).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>le(this,as).canRun(this)}));const s=this.state.status==="pending",i=!le(this,Ru).canStart();try{if(s)n();else{xn(this,To,Ic).call(this,{type:"pending",variables:e,isPaused:i}),await((l=(o=le(this,as).config).onMutate)==null?void 0:l.call(o,e,this,a));const O=await((d=(c=this.options).onMutate)==null?void 0:d.call(c,e,a));O!==this.state.context&&xn(this,To,Ic).call(this,{type:"pending",context:O,variables:e,isPaused:i})}const k=await le(this,Ru).start();return await((h=(u=le(this,as).config).onSuccess)==null?void 0:h.call(u,k,e,this.state.context,this,a)),await((v=(f=this.options).onSuccess)==null?void 0:v.call(f,k,e,this.state.context,a)),await((g=(x=le(this,as).config).onSettled)==null?void 0:g.call(x,k,null,this.state.variables,this.state.context,this,a)),await((b=(y=this.options).onSettled)==null?void 0:b.call(y,k,null,e,this.state.context,a)),xn(this,To,Ic).call(this,{type:"success",data:k}),k}catch(k){try{throw await((j=(_=le(this,as).config).onError)==null?void 0:j.call(_,k,e,this.state.context,this,a)),await((C=(S=this.options).onError)==null?void 0:C.call(S,k,e,this.state.context,a)),await((P=(E=le(this,as).config).onSettled)==null?void 0:P.call(E,void 0,k,this.state.variables,this.state.context,this,a)),await((M=(T=this.options).onSettled)==null?void 0:M.call(T,void 0,k,e,this.state.context,a)),k}finally{xn(this,To,Ic).call(this,{type:"error",error:k})}}finally{le(this,as).runNext(this)}}},gg=new WeakMap,Po=new WeakMap,as=new WeakMap,Ru=new WeakMap,To=new WeakSet,Ic=function(e){const n=a=>{switch(e.type){case"failed":return{...a,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"pending":return{...a,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...a,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:e.error,failureCount:a.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),ia.batch(()=>{le(this,Po).forEach(a=>{a.onMutationUpdate(e)}),le(this,as).notify({mutation:this,type:"updated",action:e})})},C7);function IY(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var El,no,vg,E7,p2e=(E7=class extends bp{constructor(e={}){super();Lt(this,El);Lt(this,no);Lt(this,vg);this.config=e,ct(this,El,new Set),ct(this,no,new Map),ct(this,vg,0)}build(e,n,a){const s=new f2e({client:e,mutationCache:this,mutationId:++Yv(this,vg)._,options:e.defaultMutationOptions(n),state:a});return this.add(s),s}add(e){le(this,El).add(e);const n=jy(e);if(typeof n=="string"){const a=le(this,no).get(n);a?a.push(e):le(this,no).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(le(this,El).delete(e)){const n=jy(e);if(typeof n=="string"){const a=le(this,no).get(n);if(a)if(a.length>1){const s=a.indexOf(e);s!==-1&&a.splice(s,1)}else a[0]===e&&le(this,no).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=jy(e);if(typeof n=="string"){const a=le(this,no).get(n),s=a==null?void 0:a.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var a;const n=jy(e);if(typeof n=="string"){const s=(a=le(this,no).get(n))==null?void 0:a.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ia.batch(()=>{le(this,El).forEach(e=>{this.notify({type:"removed",mutation:e})}),le(this,El).clear(),le(this,no).clear()})}getAll(){return Array.from(le(this,El))}find(e){const n={exact:!0,...e};return this.getAll().find(a=>pL(n,a))}findAll(e={}){return this.getAll().filter(n=>pL(e,n))}notify(e){ia.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return ia.batch(()=>Promise.all(e.map(n=>n.continue().catch(ss))))}},El=new WeakMap,no=new WeakMap,vg=new WeakMap,E7);function jy(t){var e;return(e=t.options.scope)==null?void 0:e.id}var Al,Wc,Ns,Ml,ql,Cb,OP,A7,x2e=(A7=class extends bp{constructor(n,a){super();Lt(this,ql);Lt(this,Al);Lt(this,Wc);Lt(this,Ns);Lt(this,Ml);ct(this,Al,n),this.setOptions(a),this.bindMethods(),xn(this,ql,Cb).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const a=this.options;this.options=le(this,Al).defaultMutationOptions(n),nw(this.options,a)||le(this,Al).getMutationCache().notify({type:"observerOptionsUpdated",mutation:le(this,Ns),observer:this}),a!=null&&a.mutationKey&&this.options.mutationKey&&Yu(a.mutationKey)!==Yu(this.options.mutationKey)?this.reset():((s=le(this,Ns))==null?void 0:s.state.status)==="pending"&&le(this,Ns).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=le(this,Ns))==null||n.removeObserver(this)}onMutationUpdate(n){xn(this,ql,Cb).call(this),xn(this,ql,OP).call(this,n)}getCurrentResult(){return le(this,Wc)}reset(){var n;(n=le(this,Ns))==null||n.removeObserver(this),ct(this,Ns,void 0),xn(this,ql,Cb).call(this),xn(this,ql,OP).call(this)}mutate(n,a){var s;return ct(this,Ml,a),(s=le(this,Ns))==null||s.removeObserver(this),ct(this,Ns,le(this,Al).getMutationCache().build(le(this,Al),this.options)),le(this,Ns).addObserver(this),le(this,Ns).execute(n)}},Al=new WeakMap,Wc=new WeakMap,Ns=new WeakMap,Ml=new WeakMap,ql=new WeakSet,Cb=function(){var a;const n=((a=le(this,Ns))==null?void 0:a.state)??IY();ct(this,Wc,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},OP=function(n){ia.batch(()=>{var a,s,i,o,l,c,d,u;if(le(this,Ml)&&this.hasListeners()){const h=le(this,Wc).variables,f=le(this,Wc).context,v={client:le(this,Al),meta:this.options.meta,mutationKey:this.options.mutationKey};(n==null?void 0:n.type)==="success"?((s=(a=le(this,Ml)).onSuccess)==null||s.call(a,n.data,h,f,v),(o=(i=le(this,Ml)).onSettled)==null||o.call(i,n.data,null,h,f,v)):(n==null?void 0:n.type)==="error"&&((c=(l=le(this,Ml)).onError)==null||c.call(l,n.error,h,f,v),(u=(d=le(this,Ml)).onSettled)==null||u.call(d,void 0,n.error,h,f,v))}this.listeners.forEach(h=>{h(le(this,Wc))})})},A7),ko,M7,g2e=(M7=class extends bp{constructor(e={}){super();Lt(this,ko);this.config=e,ct(this,ko,new Map)}build(e,n,a){const s=n.queryKey,i=n.queryHash??nk(s,n);let o=this.get(i);return o||(o=new c2e({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:a,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){le(this,ko).has(e.queryHash)||(le(this,ko).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=le(this,ko).get(e.queryHash);n&&(e.destroy(),n===e&&le(this,ko).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){ia.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return le(this,ko).get(e)}getAll(){return[...le(this,ko).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(a=>fL(n,a))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(a=>fL(e,a)):n}notify(e){ia.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){ia.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){ia.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ko=new WeakMap,M7),Or,Kc,Xc,lf,cf,Yc,df,uf,P7,v2e=(P7=class{constructor(t={}){Lt(this,Or);Lt(this,Kc);Lt(this,Xc);Lt(this,lf);Lt(this,cf);Lt(this,Yc);Lt(this,df);Lt(this,uf);ct(this,Or,t.queryCache||new g2e),ct(this,Kc,t.mutationCache||new p2e),ct(this,Xc,t.defaultOptions||{}),ct(this,lf,new Map),ct(this,cf,new Map),ct(this,Yc,0)}mount(){Yv(this,Yc)._++,le(this,Yc)===1&&(ct(this,df,ak.subscribe(async t=>{t&&(await this.resumePausedMutations(),le(this,Or).onFocus())})),ct(this,uf,rw.subscribe(async t=>{t&&(await this.resumePausedMutations(),le(this,Or).onOnline())})))}unmount(){var t,e;Yv(this,Yc)._--,le(this,Yc)===0&&((t=le(this,df))==null||t.call(this),ct(this,df,void 0),(e=le(this,uf))==null||e.call(this),ct(this,uf,void 0))}isFetching(t){return le(this,Or).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return le(this,Kc).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=le(this,Or).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=le(this,Or).build(this,e),a=n.state.data;return a===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(nd(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(a))}getQueriesData(t){return le(this,Or).findAll(t).map(({queryKey:e,state:n})=>{const a=n.data;return[e,a]})}setQueryData(t,e,n){const a=this.defaultQueryOptions({queryKey:t}),s=le(this,Or).get(a.queryHash),i=s==null?void 0:s.state.data,o=JNe(e,i);if(o!==void 0)return le(this,Or).build(this,a).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return ia.batch(()=>le(this,Or).findAll(t).map(({queryKey:a})=>[a,this.setQueryData(a,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=le(this,Or).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=le(this,Or);ia.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=le(this,Or);return ia.batch(()=>(n.findAll(t).forEach(a=>{a.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},a=ia.batch(()=>le(this,Or).findAll(t).map(s=>s.cancel(n)));return Promise.all(a).then(ss).catch(ss)}invalidateQueries(t,e={}){return ia.batch(()=>(le(this,Or).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},a=ia.batch(()=>le(this,Or).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(ss)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(a).then(ss)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=le(this,Or).build(this,e);return n.isStaleByTime(nd(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(ss).catch(ss)}fetchInfiniteQuery(t){return t.behavior=_L(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(ss).catch(ss)}ensureInfiniteQueryData(t){return t.behavior=_L(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return rw.isOnline()?le(this,Kc).resumePausedMutations():Promise.resolve()}getQueryCache(){return le(this,Or)}getMutationCache(){return le(this,Kc)}getDefaultOptions(){return le(this,Xc)}setDefaultOptions(t){ct(this,Xc,t)}setQueryDefaults(t,e){le(this,lf).set(Yu(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...le(this,lf).values()],n={};return e.forEach(a=>{Ax(t,a.queryKey)&&Object.assign(n,a.defaultOptions)}),n}setMutationDefaults(t,e){le(this,cf).set(Yu(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...le(this,cf).values()],n={};return e.forEach(a=>{Ax(t,a.mutationKey)&&Object.assign(n,a.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...le(this,Xc).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=nk(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===rk&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...le(this,Xc).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){le(this,Or).clear(),le(this,Kc).clear()}},Or=new WeakMap,Kc=new WeakMap,Xc=new WeakMap,lf=new WeakMap,cf=new WeakMap,Yc=new WeakMap,df=new WeakMap,uf=new WeakMap,P7),LY=w.createContext(void 0),wt=t=>{const e=w.useContext(LY);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},y2e=({client:t,children:e})=>(w.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),r.jsx(LY.Provider,{value:t,children:e})),FY=w.createContext(!1),b2e=()=>w.useContext(FY);FY.Provider;function w2e(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var _2e=w.createContext(w2e()),j2e=()=>w.useContext(_2e),N2e=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},S2e=t=>{w.useEffect(()=>{t.clearReset()},[t])},C2e=({result:t,errorResetBoundary:e,throwOnError:n,query:a,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&a&&(s&&t.data===void 0||PY(n,[t.error,a])),E2e=t=>{if(t.suspense){const n=s=>s==="static"?s:Math.max(s??1e3,1e3),a=t.staleTime;t.staleTime=typeof a=="function"?(...s)=>n(a(...s)):n(a),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},A2e=(t,e)=>t.isLoading&&t.isFetching&&!e,M2e=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,NL=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function P2e(t,e,n){var h,f,v,x,g;const a=b2e(),s=j2e(),i=wt(),o=i.defaultQueryOptions(t);(f=(h=i.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||f.call(h,o),o._optimisticResults=a?"isRestoring":"optimistic",E2e(o),N2e(o,s),S2e(s);const l=!i.getQueryCache().get(o.queryHash),[c]=w.useState(()=>new e(i,o)),d=c.getOptimisticResult(o),u=!a&&t.subscribed!==!1;if(w.useSyncExternalStore(w.useCallback(y=>{const b=u?c.subscribe(ia.batchCalls(y)):ss;return c.updateResult(),b},[c,u]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),w.useEffect(()=>{c.setOptions(o)},[o,c]),M2e(o,d))throw NL(o,c,s);if(C2e({result:d,errorResetBoundary:s,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw d.error;if((x=(v=i.getDefaultOptions().queries)==null?void 0:v._experimental_afterQuery)==null||x.call(v,o,d),o.experimental_prefetchInRender&&!Xu&&A2e(d,a)){const y=l?NL(o,c,s):(g=i.getQueryCache().get(o.queryHash))==null?void 0:g.promise;y==null||y.catch(ss).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?d:c.trackResult(d)}function Oe(t,e){return P2e(t,d2e)}function Ue(t,e){const n=wt(),[a]=w.useState(()=>new x2e(n,t));w.useEffect(()=>{a.setOptions(t)},[a,t]);const s=w.useSyncExternalStore(w.useCallback(o=>a.subscribe(ia.batchCalls(o)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),i=w.useCallback((o,l)=>{a.mutate(o,l).catch(ss)},[a]);if(s.error&&PY(a.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}function Mn(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function yo(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function T2e(t,e){const n=Mn(t);return isNaN(e)?yo(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function $Y(t,e){const n=Mn(t);if(isNaN(e))return yo(t,NaN);if(!e)return n;const a=n.getDate(),s=yo(t,n.getTime());s.setMonth(n.getMonth()+e+1,0);const i=s.getDate();return a>=i?s:(n.setFullYear(s.getFullYear(),s.getMonth(),a),n)}const UY=6048e5,k2e=864e5,BY=6e4,ik=36e5,Ny=43200,SL=1440;let zY={};function wp(){return zY}function R2e(t){zY=t}function Nf(t,e){var l,c,d,u;const n=wp(),a=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((u=(d=n.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,s=Mn(t),i=s.getDay(),o=(i<a?7:0)+i-a;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function aw(t){return Nf(t,{weekStartsOn:1})}function qY(t){const e=Mn(t),n=e.getFullYear(),a=yo(t,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const s=aw(a),i=yo(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=aw(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function Mx(t){const e=Mn(t);return e.setHours(0,0,0,0),e}function sw(t){const e=Mn(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function O2e(t,e){const n=Mx(t),a=Mx(e),s=+n-sw(n),i=+a-sw(a);return Math.round((s-i)/k2e)}function D2e(t){const e=qY(t),n=yo(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),aw(n)}function Eb(t,e){const n=Mn(t),a=Mn(e),s=n.getTime()-a.getTime();return s<0?-1:s>0?1:s}function I2e(t){return yo(t,Date.now())}function Sy(t,e){const n=Mx(t),a=Mx(e);return+n==+a}function L2e(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function F2e(t){if(!L2e(t)&&typeof t!="number")return!1;const e=Mn(t);return!isNaN(Number(e))}function $2e(t,e){const n=Mn(t),a=Mn(e),s=n.getFullYear()-a.getFullYear(),i=n.getMonth()-a.getMonth();return s*12+i}function VY(t){return e=>{const a=(t?Math[t]:Math.trunc)(e);return a===0?0:a}}function HY(t,e){return+Mn(t)-+Mn(e)}function CL(t,e,n){const a=HY(t,e)/ik;return VY(n==null?void 0:n.roundingMethod)(a)}function U2e(t){const e=Mn(t);return e.setHours(23,59,59,999),e}function DP(t){const e=Mn(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function B2e(t){const e=Mn(t);return+U2e(e)==+DP(e)}function z2e(t,e){const n=Mn(t),a=Mn(e),s=Eb(n,a),i=Math.abs($2e(n,a));let o;if(i<1)o=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-s*i);let l=Eb(n,a)===-s;B2e(Mn(t))&&i===1&&Eb(t,a)===1&&(l=!1),o=s*(i-Number(l))}return o===0?0:o}function ok(t,e,n){const a=HY(t,e)/1e3;return VY(n==null?void 0:n.roundingMethod)(a)}function EL(t,e){const n=Mn(t.start),a=Mn(t.end);let s=+n>+a;const i=s?+n:+a,o=s?a:n;o.setHours(0,0,0,0);let l=1;const c=[];for(;+o<=i;)c.push(Mn(o)),o.setDate(o.getDate()+l),o.setHours(0,0,0,0);return s?c.reverse():c}function q2e(t){const e=Mn(t);return e.setDate(1),e.setHours(0,0,0,0),e}function V2e(t){const e=Mn(t),n=yo(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function H2e(t,e){const n=e==null?void 0:e.weekStartsOn,a=Mn(t),s=a.getDay(),i=(s<n?-7:0)+6-(s-n);return a.setDate(a.getDate()+i),a.setHours(23,59,59,999),a}const G2e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},W2e=(t,e,n)=>{let a;const s=G2e[t];return typeof s=="string"?a=s:e===1?a=s.one:a=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};function Vm(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const K2e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},X2e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Y2e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Q2e={date:Vm({formats:K2e,defaultWidth:"full"}),time:Vm({formats:X2e,defaultWidth:"full"}),dateTime:Vm({formats:Y2e,defaultWidth:"full"})},Z2e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},J2e=(t,e,n,a)=>Z2e[t];function Oo(t){return(e,n)=>{const a=n!=null&&n.context?String(n.context):"standalone";let s;if(a==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=n!=null&&n.width?String(n.width):o;s=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[l]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const eSe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},tSe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},nSe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},rSe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},aSe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},sSe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},iSe=(t,e)=>{const n=Number(t),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},oSe={ordinalNumber:iSe,era:Oo({values:eSe,defaultWidth:"wide"}),quarter:Oo({values:tSe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Oo({values:nSe,defaultWidth:"wide"}),day:Oo({values:rSe,defaultWidth:"wide"}),dayPeriod:Oo({values:aSe,defaultWidth:"wide",formattingValues:sSe,defaultFormattingWidth:"wide"})};function Do(t){return(e,n={})=>{const a=n.width,s=a&&t.matchPatterns[a]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],l=a&&t.parsePatterns[a]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?cSe(l,h=>h.test(o)):lSe(l,h=>h.test(o));let d;d=t.valueCallback?t.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;const u=e.slice(o.length);return{value:d,rest:u}}}function lSe(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function cSe(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function GY(t){return(e,n={})=>{const a=e.match(t.matchPattern);if(!a)return null;const s=a[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const l=e.slice(s.length);return{value:o,rest:l}}}const dSe=/^(\d+)(th|st|nd|rd)?/i,uSe=/\d+/i,hSe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},mSe={any:[/^b/i,/^(a|c)/i]},fSe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},pSe={any:[/1/i,/2/i,/3/i,/4/i]},xSe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},gSe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},vSe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ySe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},bSe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},wSe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},_Se={ordinalNumber:GY({matchPattern:dSe,parsePattern:uSe,valueCallback:t=>parseInt(t,10)}),era:Do({matchPatterns:hSe,defaultMatchWidth:"wide",parsePatterns:mSe,defaultParseWidth:"any"}),quarter:Do({matchPatterns:fSe,defaultMatchWidth:"wide",parsePatterns:pSe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Do({matchPatterns:xSe,defaultMatchWidth:"wide",parsePatterns:gSe,defaultParseWidth:"any"}),day:Do({matchPatterns:vSe,defaultMatchWidth:"wide",parsePatterns:ySe,defaultParseWidth:"any"}),dayPeriod:Do({matchPatterns:bSe,defaultMatchWidth:"any",parsePatterns:wSe,defaultParseWidth:"any"})},WY={code:"en-US",formatDistance:W2e,formatLong:Q2e,formatRelative:J2e,localize:oSe,match:_Se,options:{weekStartsOn:0,firstWeekContainsDate:1}};function jSe(t){const e=Mn(t);return O2e(e,V2e(e))+1}function NSe(t){const e=Mn(t),n=+aw(e)-+D2e(e);return Math.round(n/UY)+1}function KY(t,e){var u,h,f,v;const n=Mn(t),a=n.getFullYear(),s=wp(),i=(e==null?void 0:e.firstWeekContainsDate)??((h=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((v=(f=s.locale)==null?void 0:f.options)==null?void 0:v.firstWeekContainsDate)??1,o=yo(t,0);o.setFullYear(a+1,0,i),o.setHours(0,0,0,0);const l=Nf(o,e),c=yo(t,0);c.setFullYear(a,0,i),c.setHours(0,0,0,0);const d=Nf(c,e);return n.getTime()>=l.getTime()?a+1:n.getTime()>=d.getTime()?a:a-1}function SSe(t,e){var l,c,d,u;const n=wp(),a=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(d=n.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,s=KY(t,e),i=yo(t,0);return i.setFullYear(s,0,a),i.setHours(0,0,0,0),Nf(i,e)}function CSe(t,e){const n=Mn(t),a=+Nf(n,e)-+SSe(n,e);return Math.round(a/UY)+1}function Qn(t,e){const n=t<0?"-":"",a=Math.abs(t).toString().padStart(e,"0");return n+a}const Ec={y(t,e){const n=t.getFullYear(),a=n>0?n:1-n;return Qn(e==="yy"?a%100:a,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Qn(n+1,2)},d(t,e){return Qn(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Qn(t.getHours()%12||12,e.length)},H(t,e){return Qn(t.getHours(),e.length)},m(t,e){return Qn(t.getMinutes(),e.length)},s(t,e){return Qn(t.getSeconds(),e.length)},S(t,e){const n=e.length,a=t.getMilliseconds(),s=Math.trunc(a*Math.pow(10,n-3));return Qn(s,e.length)}},Zh={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},AL={G:function(t,e,n){const a=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const a=t.getFullYear(),s=a>0?a:1-a;return n.ordinalNumber(s,{unit:"year"})}return Ec.y(t,e)},Y:function(t,e,n,a){const s=KY(t,a),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return Qn(o,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):Qn(i,e.length)},R:function(t,e){const n=qY(t);return Qn(n,e.length)},u:function(t,e){const n=t.getFullYear();return Qn(n,e.length)},Q:function(t,e,n){const a=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(a);case"QQ":return Qn(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,e,n){const a=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(a);case"qq":return Qn(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,e,n){const a=t.getMonth();switch(e){case"M":case"MM":return Ec.M(t,e);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(t,e,n){const a=t.getMonth();switch(e){case"L":return String(a+1);case"LL":return Qn(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(t,e,n,a){const s=CSe(t,a);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):Qn(s,e.length)},I:function(t,e,n){const a=NSe(t);return e==="Io"?n.ordinalNumber(a,{unit:"week"}):Qn(a,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Ec.d(t,e)},D:function(t,e,n){const a=jSe(t);return e==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):Qn(a,e.length)},E:function(t,e,n){const a=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(t,e,n,a){const s=t.getDay(),i=(s-a.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return Qn(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,a){const s=t.getDay(),i=(s-a.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return Qn(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const a=t.getDay(),s=a===0?7:a;switch(e){case"i":return String(s);case"ii":return Qn(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const a=t.getHours();let s;switch(a===12?s=Zh.noon:a===0?s=Zh.midnight:s=a/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const a=t.getHours();let s;switch(a>=17?s=Zh.evening:a>=12?s=Zh.afternoon:a>=4?s=Zh.morning:s=Zh.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let a=t.getHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return Ec.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Ec.H(t,e)},K:function(t,e,n){const a=t.getHours()%12;return e==="Ko"?n.ordinalNumber(a,{unit:"hour"}):Qn(a,e.length)},k:function(t,e,n){let a=t.getHours();return a===0&&(a=24),e==="ko"?n.ordinalNumber(a,{unit:"hour"}):Qn(a,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ec.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Ec.s(t,e)},S:function(t,e){return Ec.S(t,e)},X:function(t,e,n){const a=t.getTimezoneOffset();if(a===0)return"Z";switch(e){case"X":return PL(a);case"XXXX":case"XX":return nu(a);case"XXXXX":case"XXX":default:return nu(a,":")}},x:function(t,e,n){const a=t.getTimezoneOffset();switch(e){case"x":return PL(a);case"xxxx":case"xx":return nu(a);case"xxxxx":case"xxx":default:return nu(a,":")}},O:function(t,e,n){const a=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+ML(a,":");case"OOOO":default:return"GMT"+nu(a,":")}},z:function(t,e,n){const a=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+ML(a,":");case"zzzz":default:return"GMT"+nu(a,":")}},t:function(t,e,n){const a=Math.trunc(t.getTime()/1e3);return Qn(a,e.length)},T:function(t,e,n){const a=t.getTime();return Qn(a,e.length)}};function ML(t,e=""){const n=t>0?"-":"+",a=Math.abs(t),s=Math.trunc(a/60),i=a%60;return i===0?n+String(s):n+String(s)+e+Qn(i,2)}function PL(t,e){return t%60===0?(t>0?"-":"+")+Qn(Math.abs(t)/60,2):nu(t,e)}function nu(t,e=""){const n=t>0?"-":"+",a=Math.abs(t),s=Qn(Math.trunc(a/60),2),i=Qn(a%60,2);return n+s+e+i}const TL=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},XY=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},ESe=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],a=n[1],s=n[2];if(!s)return TL(t,e);let i;switch(a){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",TL(a,e)).replace("{{time}}",XY(s,e))},ASe={p:XY,P:ESe},MSe=/^D+$/,PSe=/^Y+$/,TSe=["D","DD","YY","YYYY"];function kSe(t){return MSe.test(t)}function RSe(t){return PSe.test(t)}function OSe(t,e,n){const a=DSe(t,e,n);if(console.warn(a),TSe.includes(t))throw new RangeError(a)}function DSe(t,e,n){const a=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${a} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const ISe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,LSe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,FSe=/^'([^]*?)'?$/,$Se=/''/g,USe=/[a-zA-Z]/;function kn(t,e,n){var u,h,f,v,x,g,y,b;const a=wp(),s=(n==null?void 0:n.locale)??a.locale??WY,i=(n==null?void 0:n.firstWeekContainsDate)??((h=(u=n==null?void 0:n.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??a.firstWeekContainsDate??((v=(f=a.locale)==null?void 0:f.options)==null?void 0:v.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((g=(x=n==null?void 0:n.locale)==null?void 0:x.options)==null?void 0:g.weekStartsOn)??a.weekStartsOn??((b=(y=a.locale)==null?void 0:y.options)==null?void 0:b.weekStartsOn)??0,l=Mn(t);if(!F2e(l))throw new RangeError("Invalid time value");let c=e.match(LSe).map(_=>{const j=_[0];if(j==="p"||j==="P"){const S=ASe[j];return S(_,s.formatLong)}return _}).join("").match(ISe).map(_=>{if(_==="''")return{isToken:!1,value:"'"};const j=_[0];if(j==="'")return{isToken:!1,value:BSe(_)};if(AL[j])return{isToken:!0,value:_};if(j.match(USe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+j+"`");return{isToken:!1,value:_}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return c.map(_=>{if(!_.isToken)return _.value;const j=_.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&RSe(j)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&kSe(j))&&OSe(j,e,String(t));const S=AL[j[0]];return S(l,j,s.localize,d)}).join("")}function BSe(t){const e=t.match(FSe);return e?e[1].replace($Se,"'"):t}function zSe(t,e,n){const a=wp(),s=(n==null?void 0:n.locale)??a.locale??WY,i=2520,o=Eb(t,e);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:o});let c,d;o>0?(c=Mn(e),d=Mn(t)):(c=Mn(t),d=Mn(e));const u=ok(d,c),h=(sw(d)-sw(c))/1e3,f=Math.round((u-h)/60);let v;if(f<2)return n!=null&&n.includeSeconds?u<5?s.formatDistance("lessThanXSeconds",5,l):u<10?s.formatDistance("lessThanXSeconds",10,l):u<20?s.formatDistance("lessThanXSeconds",20,l):u<40?s.formatDistance("halfAMinute",0,l):u<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):f===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",f,l);if(f<45)return s.formatDistance("xMinutes",f,l);if(f<90)return s.formatDistance("aboutXHours",1,l);if(f<SL){const x=Math.round(f/60);return s.formatDistance("aboutXHours",x,l)}else{if(f<i)return s.formatDistance("xDays",1,l);if(f<Ny){const x=Math.round(f/SL);return s.formatDistance("xDays",x,l)}else if(f<Ny*2)return v=Math.round(f/Ny),s.formatDistance("aboutXMonths",v,l)}if(v=z2e(d,c),v<12){const x=Math.round(f/Ny);return s.formatDistance("xMonths",x,l)}else{const x=v%12,g=Math.trunc(v/12);return x<3?s.formatDistance("aboutXYears",g,l):x<9?s.formatDistance("overXYears",g,l):s.formatDistance("almostXYears",g+1,l)}}function Qo(t,e){return zSe(t,I2e(t),e)}function Sf(t,e){const a=GSe(t);let s;if(a.date){const c=WSe(a.date,2);s=KSe(c.restDateString,c.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const i=s.getTime();let o=0,l;if(a.time&&(o=XSe(a.time),isNaN(o)))return new Date(NaN);if(a.timezone){if(l=YSe(a.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(i+o),d=new Date(0);return d.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),d.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),d}return new Date(i+o+l)}const Cy={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},qSe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,VSe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,HSe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function GSe(t){const e={},n=t.split(Cy.dateTimeDelimiter);let a;if(n.length>2)return e;if(/:/.test(n[0])?a=n[0]:(e.date=n[0],a=n[1],Cy.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Cy.timeZoneDelimiter)[0],a=t.substr(e.date.length,t.length))),a){const s=Cy.timezone.exec(a);s?(e.time=a.replace(s[1],""),e.timezone=s[1]):e.time=a}return e}function WSe(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),a=t.match(n);if(!a)return{year:NaN,restDateString:""};const s=a[1]?parseInt(a[1]):null,i=a[2]?parseInt(a[2]):null;return{year:i===null?s:i*100,restDateString:t.slice((a[1]||a[2]).length)}}function KSe(t,e){if(e===null)return new Date(NaN);const n=t.match(qSe);if(!n)return new Date(NaN);const a=!!n[4],s=v0(n[1]),i=v0(n[2])-1,o=v0(n[3]),l=v0(n[4]),c=v0(n[5])-1;if(a)return tCe(e,l,c)?QSe(e,l,c):new Date(NaN);{const d=new Date(0);return!JSe(e,i,o)||!eCe(e,s)?new Date(NaN):(d.setUTCFullYear(e,i,Math.max(s,o)),d)}}function v0(t){return t?parseInt(t):1}function XSe(t){const e=t.match(VSe);if(!e)return NaN;const n=C2(e[1]),a=C2(e[2]),s=C2(e[3]);return nCe(n,a,s)?n*ik+a*BY+s*1e3:NaN}function C2(t){return t&&parseFloat(t.replace(",","."))||0}function YSe(t){if(t==="Z")return 0;const e=t.match(HSe);if(!e)return 0;const n=e[1]==="+"?-1:1,a=parseInt(e[2]),s=e[3]&&parseInt(e[3])||0;return rCe(a,s)?n*(a*ik+s*BY):NaN}function QSe(t,e,n){const a=new Date(0);a.setUTCFullYear(t,0,4);const s=a.getUTCDay()||7,i=(e-1)*7+n+1-s;return a.setUTCDate(a.getUTCDate()+i),a}const ZSe=[31,null,31,30,31,30,31,31,30,31,30,31];function YY(t){return t%400===0||t%4===0&&t%100!==0}function JSe(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(ZSe[e]||(YY(t)?29:28))}function eCe(t,e){return e>=1&&e<=(YY(t)?366:365)}function tCe(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function nCe(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function rCe(t,e){return e>=0&&e<=59}function aCe(t){const e={},n=wp();for(const a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);for(const a in t)Object.prototype.hasOwnProperty.call(t,a)&&(t[a]===void 0?delete e[a]:e[a]=t[a]);R2e(e)}function kL(t,e){return $Y(t,-1)}const sCe={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},iCe=(t,e,n)=>{let a;const s=sCe[t];return typeof s=="string"?a=s:e===1?a=s.one:a=s.other.replace("{{count}}",String(e)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"em "+a:"h "+a:a},oCe={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},lCe={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},cCe={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},dCe={date:Vm({formats:oCe,defaultWidth:"full"}),time:Vm({formats:lCe,defaultWidth:"full"}),dateTime:Vm({formats:cCe,defaultWidth:"full"})},uCe={lastWeek:t=>{const e=t.getDay();return"'"+(e===0||e===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},hCe=(t,e,n,a)=>{const s=uCe[t];return typeof s=="function"?s(e):s},mCe={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},fCe={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},pCe={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},xCe={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},gCe={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},vCe={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},yCe=(t,e)=>{const n=Number(t);return(e==null?void 0:e.unit)==="week"?n+"":n+""},bCe={ordinalNumber:yCe,era:Oo({values:mCe,defaultWidth:"wide"}),quarter:Oo({values:fCe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Oo({values:pCe,defaultWidth:"wide"}),day:Oo({values:xCe,defaultWidth:"wide"}),dayPeriod:Oo({values:gCe,defaultWidth:"wide",formattingValues:vCe,defaultFormattingWidth:"wide"})},wCe=/^(\d+)[o]?/i,_Ce=/\d+/i,jCe={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},NCe={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},SCe={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},CCe={any:[/1/i,/2/i,/3/i,/4/i]},ECe={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},ACe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},MCe={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},PCe={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},TCe={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},kCe={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},RCe={ordinalNumber:GY({matchPattern:wCe,parsePattern:_Ce,valueCallback:t=>parseInt(t,10)}),era:Do({matchPatterns:jCe,defaultMatchWidth:"wide",parsePatterns:NCe,defaultParseWidth:"any"}),quarter:Do({matchPatterns:SCe,defaultMatchWidth:"wide",parsePatterns:CCe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Do({matchPatterns:ECe,defaultMatchWidth:"wide",parsePatterns:ACe,defaultParseWidth:"any"}),day:Do({matchPatterns:MCe,defaultMatchWidth:"wide",parsePatterns:PCe,defaultParseWidth:"any"}),dayPeriod:Do({matchPatterns:TCe,defaultMatchWidth:"any",parsePatterns:kCe,defaultParseWidth:"any"})},jn={code:"pt-BR",formatDistance:iCe,formatLong:dCe,formatRelative:hCe,localize:bCe,match:RCe,options:{weekStartsOn:0,firstWeekContainsDate:1}};typeof window<"u"&&aCe({locale:jn,weekStartsOn:0});const OCe=["mawemaster@gmail.com","chotteemelyn@gmail.com"],DCe=["Home","Sobre","PortalTarotPremium"],RL={bruxa_natural:"#9333EA",sabio:"#F59E0B",guardiao_astral:"#3B82F6",xama:"#10B981",navegador_cosmico:"#8B5CF6",alquimista:"#6366F1",none:"#64748B"},E2={dark:{background:"#02031C",backgroundGradient:"linear-gradient(to bottom, #02031C, #1a1a2e, #02031C)",surface:"#1e1b4b",card:"#1e293b",accent:"#a855f7",accentHover:"#9333ea",border:"rgba(168, 85, 247, 0.3)",textSecondary:"#cbd5e1"}},ICe=t=>Array.from({length:t},(e,n)=>({id:n,initialX:Math.random()*100,initialY:Math.random()*100,delay:Math.random()*5,duration:8+Math.random()*6}));ICe(12);function LCe({children:t,currentPageName:e}){const n=Li(),a=Sn(),[s,i]=w.useState(null),[o,l]=w.useState(E2.dark),[c,d]=w.useState(!0),[u,h]=w.useState(""),[f,v]=w.useState(""),[x,g]=w.useState("login"),[y,b]=w.useState(!1),[_,j]=w.useState([]),[S,C]=w.useState(0),[E,P]=w.useState(0),[T,M]=w.useState([]),[k,O]=w.useState(null),[$,F]=w.useState([]),[B,G]=w.useState(0);if(w.useRef(new Set),w.useRef(new Map),DCe.includes(e))return t;w.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[n.pathname]),w.useEffect(()=>{(async()=>{d(!0);const{data:{session:pe}}=await os.auth.getSession();pe!=null&&pe.user?await I(pe.user):i(null),d(!1)})();const{data:{subscription:se}}=os.auth.onAuthStateChange((pe,Pe)=>{Pe!=null&&Pe.user?I(Pe.user):(i(null),a(ft("Hub")))});return()=>se.unsubscribe()},[]);const I=async ee=>{try{const{data:se,error:pe}=await os.from("profiles").select("*").eq("id",ee.id).single();se?(i({...ee,...se}),E2[se.theme]&&l(E2[se.theme])):i(ee)}catch(se){console.error("Erro ao carregar perfil:",se)}},L=async ee=>{ee.preventDefault(),b(!0);try{if(x==="login"){const{error:se}=await os.auth.signInWithPassword({email:u,password:f});if(se)throw se}else{const{data:se,error:pe}=await os.auth.signUp({email:u,password:f,options:{data:{full_name:u.split("@")[0]}}});if(pe)throw pe;alert("Cadastro realizado! Se voc no entrar automaticamente, verifique seu email.")}}catch(se){alert(se.message)}finally{b(!1)}},U=async()=>{await os.auth.signOut()},z=ee=>{ee.preventDefault(),a(ft("Notificacoes"))},K=()=>{O(null),F([])},V=[{icon:KH,label:"Incio",path:"Hub"},{icon:Fb,label:"Explorar",path:"Explorar"},{icon:Vr,label:"Portal",path:"Portais",special:!0},{icon:Da,label:"Chat",path:"Chat"},{icon:Gu,label:"Conta",path:"MinhaConta"}];if(!s)return r.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center px-4",style:{backgroundColor:o.background},children:c?r.jsxs("div",{className:"text-center",children:[r.jsx(_e,{className:"w-12 h-12 text-purple-500 animate-pulse mx-auto mb-4"}),r.jsx("p",{className:"text-gray-300",children:"Conectando ao universo..."})]}):r.jsxs("div",{className:"max-w-md w-full bg-white/5 p-8 rounded-2xl border border-white/10 backdrop-blur-sm animate-in fade-in zoom-in duration-500",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("img",{src:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/690e5f6f991e09e82bef3795/a3f627646_imgi_2_337f3cf9e282bc41c87500e885414629.png",alt:"Zamira",className:"h-16 mx-auto mb-4 object-contain"}),r.jsx("h2",{className:"text-2xl font-bold text-white",children:x==="login"?"Entrar no Portal":"Criar Conta"}),r.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Sua jornada mstica comea aqui."})]}),r.jsxs("form",{onSubmit:L,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"relative",children:[r.jsx(q3,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),r.jsx(je,{type:"email",placeholder:"Seu email",className:"pl-10 bg-black/20 border-white/10 text-white",value:u,onChange:ee=>h(ee.target.value),required:!0})]}),r.jsxs("div",{className:"relative",children:[r.jsx(pf,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),r.jsx(je,{type:"password",placeholder:"Sua senha",className:"pl-10 bg-black/20 border-white/10 text-white",value:f,onChange:ee=>v(ee.target.value),required:!0,minLength:6})]})]}),r.jsx(W,{type:"submit",className:"w-full bg-purple-600 hover:bg-purple-700 text-white font-semibold h-11",disabled:y,children:y?r.jsx(_e,{className:"w-5 h-5 animate-spin"}):x==="login"?"Entrar":"Cadastrar"})]}),r.jsx("div",{className:"mt-6 text-center",children:r.jsxs("p",{className:"text-sm text-gray-400",children:[x==="login"?"Ainda no tem conta? ":"J  um iniciado? ",r.jsx("button",{onClick:()=>g(x==="login"?"signup":"login"),className:"text-purple-400 hover:text-purple-300 font-semibold underline hover:no-underline",children:x==="login"?"Criar agora":"Fazer login"})]})})]})});OCe.includes(s==null?void 0:s.email);const Y=s!=null&&s.archetype?RL[s.archetype]:RL.none;return r.jsxs("div",{className:"min-h-screen text-white",style:{background:o.backgroundGradient},children:[r.jsx("style",{children:`:root { --archetype-color: ${Y}; --theme-accent: ${o.accent}; }`}),r.jsx(KNe,{}),r.jsx(WNe,{}),r.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 backdrop-blur-xl border-b",style:{backgroundColor:o.background+"F2",borderColor:o.border},children:r.jsxs("div",{className:"max-w-7xl mx-auto px-3 h-14 md:h-16 flex items-center justify-between",children:[r.jsx(Im,{to:ft("Hub"),children:r.jsx("img",{src:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/690e5f6f991e09e82bef3795/a3f627646_imgi_2_337f3cf9e282bc41c87500e885414629.png",alt:"Zamira",className:"h-8 md:h-10 w-auto object-contain"})}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:z,className:"relative p-2 text-gray-200 hover:bg-white/10 rounded-lg",children:r.jsx(Ps,{className:"w-5 h-5"})}),r.jsxs(yx,{children:[r.jsx(bx,{asChild:!0,children:r.jsx("button",{children:r.jsx(Lr,{user:s,size:"sm"})})}),r.jsxs(vf,{align:"end",className:"bg-gray-900 border-gray-800 text-white",children:[r.jsx("div",{className:"px-2 py-1.5 text-sm font-semibold",children:s.display_name||s.email}),r.jsx(rK,{className:"bg-gray-700"}),r.jsx(yf,{onClick:U,className:"text-red-400 cursor-pointer",children:"Sair"})]})]})]})]})}),r.jsx(bNe,{user:s}),r.jsx(XNe,{user:s}),r.jsx("main",{className:"pt-[68px] pb-24",children:t}),r.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-50 backdrop-blur-xl border-t bg-black/90 border-white/10",children:r.jsx("div",{className:"flex justify-around h-16 items-center max-w-md mx-auto",children:V.map(ee=>{const se=ee.icon,pe=n.pathname===ft(ee.path);return ee.special?r.jsx(Im,{to:ft(ee.path),className:"-mt-8",children:r.jsx("div",{className:"w-14 h-14 rounded-full bg-purple-600 flex items-center justify-center shadow-lg border-4 border-black",children:r.jsx(se,{className:"w-6 h-6 text-white"})})},ee.path):r.jsxs(Im,{to:ft(ee.path),className:`flex flex-col items-center gap-1 ${pe?"text-white":"text-gray-500"}`,children:[r.jsx(se,{className:"w-6 h-6"}),r.jsx("span",{className:"text-[10px]",children:ee.label})]},ee.path)})})}),r.jsx(GNe,{audio:k,onClose:K})]})}function Es({user:t,children:e,className:n=""}){const a=Sn(),s=i=>{i.preventDefault(),i.stopPropagation(),t!=null&&t.username?a(ft("Perfil")+`?username=${t.username}`):t!=null&&t.id&&a(ft("Perfil")+`?id=${t.id}`)};return r.jsx("div",{onClick:s,className:`cursor-pointer inline-block ${n}`,children:e})}const It=w.forwardRef(({className:t,...e},n)=>r.jsx("textarea",{className:Wt("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));It.displayName="Textarea";function FCe(t,e){return w.useReducer((n,a)=>e[n][a]??n,t)}var lk="ScrollArea",[QY]=Fi(lk),[$Ce,$i]=QY(lk),ZY=w.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:a="hover",dir:s,scrollHideDelay:i=600,...o}=t,[l,c]=w.useState(null),[d,u]=w.useState(null),[h,f]=w.useState(null),[v,x]=w.useState(null),[g,y]=w.useState(null),[b,_]=w.useState(0),[j,S]=w.useState(0),[C,E]=w.useState(!1),[P,T]=w.useState(!1),M=mn(e,O=>c(O)),k=lp(s);return r.jsx($Ce,{scope:n,type:a,dir:k,scrollHideDelay:i,scrollArea:l,viewport:d,onViewportChange:u,content:h,onContentChange:f,scrollbarX:v,onScrollbarXChange:x,scrollbarXEnabled:C,onScrollbarXEnabledChange:E,scrollbarY:g,onScrollbarYChange:y,scrollbarYEnabled:P,onScrollbarYEnabledChange:T,onCornerWidthChange:_,onCornerHeightChange:S,children:r.jsx(qt.div,{dir:k,...o,ref:M,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":j+"px",...t.style}})})});ZY.displayName=lk;var JY="ScrollAreaViewport",eQ=w.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:a,nonce:s,...i}=t,o=$i(JY,n),l=w.useRef(null),c=mn(e,l,o.onViewportChange);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),r.jsx(qt.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:r.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:a})})]})});eQ.displayName=JY;var nl="ScrollAreaScrollbar",ck=w.forwardRef((t,e)=>{const{forceMount:n,...a}=t,s=$i(nl,t.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,l=t.orientation==="horizontal";return w.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),s.type==="hover"?r.jsx(UCe,{...a,ref:e,forceMount:n}):s.type==="scroll"?r.jsx(BCe,{...a,ref:e,forceMount:n}):s.type==="auto"?r.jsx(tQ,{...a,ref:e,forceMount:n}):s.type==="always"?r.jsx(dk,{...a,ref:e}):null});ck.displayName=nl;var UCe=w.forwardRef((t,e)=>{const{forceMount:n,...a}=t,s=$i(nl,t.__scopeScrollArea),[i,o]=w.useState(!1);return w.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),o(!0)},u=()=>{c=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",u)}}},[s.scrollArea,s.scrollHideDelay]),r.jsx(Us,{present:n||i,children:r.jsx(tQ,{"data-state":i?"visible":"hidden",...a,ref:e})})}),BCe=w.forwardRef((t,e)=>{const{forceMount:n,...a}=t,s=$i(nl,t.__scopeScrollArea),i=t.orientation==="horizontal",o=n_(()=>c("SCROLL_END"),100),[l,c]=FCe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return w.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,s.scrollHideDelay,c]),w.useEffect(()=>{const d=s.viewport,u=i?"scrollLeft":"scrollTop";if(d){let h=d[u];const f=()=>{const v=d[u];h!==v&&(c("SCROLL"),o()),h=v};return d.addEventListener("scroll",f),()=>d.removeEventListener("scroll",f)}},[s.viewport,i,c,o]),r.jsx(Us,{present:n||l!=="hidden",children:r.jsx(dk,{"data-state":l==="hidden"?"hidden":"visible",...a,ref:e,onPointerEnter:lt(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:lt(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),tQ=w.forwardRef((t,e)=>{const n=$i(nl,t.__scopeScrollArea),{forceMount:a,...s}=t,[i,o]=w.useState(!1),l=t.orientation==="horizontal",c=n_(()=>{if(n.viewport){const d=n.viewport.offsetWidth<n.viewport.scrollWidth,u=n.viewport.offsetHeight<n.viewport.scrollHeight;o(l?d:u)}},10);return Cf(n.viewport,c),Cf(n.content,c),r.jsx(Us,{present:a||i,children:r.jsx(dk,{"data-state":i?"visible":"hidden",...s,ref:e})})}),dk=w.forwardRef((t,e)=>{const{orientation:n="vertical",...a}=t,s=$i(nl,t.__scopeScrollArea),i=w.useRef(null),o=w.useRef(0),[l,c]=w.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=iQ(l.viewport,l.content),u={...a,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:f=>i.current=f,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:f=>o.current=f};function h(f,v){return WCe(f,o.current,l,v)}return n==="horizontal"?r.jsx(zCe,{...u,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const f=s.viewport.scrollLeft,v=OL(f,l,s.dir);i.current.style.transform=`translate3d(${v}px, 0, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollLeft=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollLeft=h(f,s.dir))}}):n==="vertical"?r.jsx(qCe,{...u,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const f=s.viewport.scrollTop,v=OL(f,l);i.current.style.transform=`translate3d(0, ${v}px, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollTop=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollTop=h(f))}}):null}),zCe=w.forwardRef((t,e)=>{const{sizes:n,onSizesChange:a,...s}=t,i=$i(nl,t.__scopeScrollArea),[o,l]=w.useState(),c=w.useRef(null),d=mn(e,c,i.onScrollbarXChange);return w.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),r.jsx(rQ,{"data-orientation":"horizontal",...s,ref:d,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":t_(n)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.x),onDragScroll:u=>t.onDragScroll(u.x),onWheelScroll:(u,h)=>{if(i.viewport){const f=i.viewport.scrollLeft+u.deltaX;t.onWheelScroll(f),lQ(f,h)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&a({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:ow(o.paddingLeft),paddingEnd:ow(o.paddingRight)}})}})}),qCe=w.forwardRef((t,e)=>{const{sizes:n,onSizesChange:a,...s}=t,i=$i(nl,t.__scopeScrollArea),[o,l]=w.useState(),c=w.useRef(null),d=mn(e,c,i.onScrollbarYChange);return w.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),r.jsx(rQ,{"data-orientation":"vertical",...s,ref:d,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":t_(n)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.y),onDragScroll:u=>t.onDragScroll(u.y),onWheelScroll:(u,h)=>{if(i.viewport){const f=i.viewport.scrollTop+u.deltaY;t.onWheelScroll(f),lQ(f,h)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&a({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:ow(o.paddingTop),paddingEnd:ow(o.paddingBottom)}})}})}),[VCe,nQ]=QY(nl),rQ=w.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:a,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:u,onResize:h,...f}=t,v=$i(nl,n),[x,g]=w.useState(null),y=mn(e,M=>g(M)),b=w.useRef(null),_=w.useRef(""),j=v.viewport,S=a.content-a.viewport,C=Sa(u),E=Sa(c),P=n_(h,10);function T(M){if(b.current){const k=M.clientX-b.current.left,O=M.clientY-b.current.top;d({x:k,y:O})}}return w.useEffect(()=>{const M=k=>{const O=k.target;(x==null?void 0:x.contains(O))&&C(k,S)};return document.addEventListener("wheel",M,{passive:!1}),()=>document.removeEventListener("wheel",M,{passive:!1})},[j,x,S,C]),w.useEffect(E,[a,E]),Cf(x,P),Cf(v.content,P),r.jsx(VCe,{scope:n,scrollbar:x,hasThumb:s,onThumbChange:Sa(i),onThumbPointerUp:Sa(o),onThumbPositionChange:E,onThumbPointerDown:Sa(l),children:r.jsx(qt.div,{...f,ref:y,style:{position:"absolute",...f.style},onPointerDown:lt(t.onPointerDown,M=>{M.button===0&&(M.target.setPointerCapture(M.pointerId),b.current=x.getBoundingClientRect(),_.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",v.viewport&&(v.viewport.style.scrollBehavior="auto"),T(M))}),onPointerMove:lt(t.onPointerMove,T),onPointerUp:lt(t.onPointerUp,M=>{const k=M.target;k.hasPointerCapture(M.pointerId)&&k.releasePointerCapture(M.pointerId),document.body.style.webkitUserSelect=_.current,v.viewport&&(v.viewport.style.scrollBehavior=""),b.current=null})})})}),iw="ScrollAreaThumb",aQ=w.forwardRef((t,e)=>{const{forceMount:n,...a}=t,s=nQ(iw,t.__scopeScrollArea);return r.jsx(Us,{present:n||s.hasThumb,children:r.jsx(HCe,{ref:e,...a})})}),HCe=w.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:a,...s}=t,i=$i(iw,n),o=nQ(iw,n),{onThumbPositionChange:l}=o,c=mn(e,h=>o.onThumbChange(h)),d=w.useRef(void 0),u=n_(()=>{d.current&&(d.current(),d.current=void 0)},100);return w.useEffect(()=>{const h=i.viewport;if(h){const f=()=>{if(u(),!d.current){const v=KCe(h,l);d.current=v,l()}};return l(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[i.viewport,u,l]),r.jsx(qt.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...a},onPointerDownCapture:lt(t.onPointerDownCapture,h=>{const v=h.target.getBoundingClientRect(),x=h.clientX-v.left,g=h.clientY-v.top;o.onThumbPointerDown({x,y:g})}),onPointerUp:lt(t.onPointerUp,o.onThumbPointerUp)})});aQ.displayName=iw;var uk="ScrollAreaCorner",sQ=w.forwardRef((t,e)=>{const n=$i(uk,t.__scopeScrollArea),a=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&a?r.jsx(GCe,{...t,ref:e}):null});sQ.displayName=uk;var GCe=w.forwardRef((t,e)=>{const{__scopeScrollArea:n,...a}=t,s=$i(uk,n),[i,o]=w.useState(0),[l,c]=w.useState(0),d=!!(i&&l);return Cf(s.scrollbarX,()=>{var h;const u=((h=s.scrollbarX)==null?void 0:h.offsetHeight)||0;s.onCornerHeightChange(u),c(u)}),Cf(s.scrollbarY,()=>{var h;const u=((h=s.scrollbarY)==null?void 0:h.offsetWidth)||0;s.onCornerWidthChange(u),o(u)}),d?r.jsx(qt.div,{...a,ref:e,style:{width:i,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function ow(t){return t?parseInt(t,10):0}function iQ(t,e){const n=t/e;return isNaN(n)?0:n}function t_(t){const e=iQ(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=(t.scrollbar.size-n)*e;return Math.max(a,18)}function WCe(t,e,n,a="ltr"){const s=t_(n),i=s/2,o=e||i,l=s-o,c=n.scrollbar.paddingStart+o,d=n.scrollbar.size-n.scrollbar.paddingEnd-l,u=n.content-n.viewport,h=a==="ltr"?[0,u]:[u*-1,0];return oQ([c,d],h)(t)}function OL(t,e,n="ltr"){const a=t_(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-s,o=e.content-e.viewport,l=i-a,c=n==="ltr"?[0,o]:[o*-1,0],d=Ex(t,c);return oQ([0,o],[0,l])(d)}function oQ(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const a=(e[1]-e[0])/(t[1]-t[0]);return e[0]+a*(n-t[0])}}function lQ(t,e){return t>0&&t<e}var KCe=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},a=0;return(function s(){const i={left:t.scrollLeft,top:t.scrollTop},o=n.left!==i.left,l=n.top!==i.top;(o||l)&&e(),n=i,a=window.requestAnimationFrame(s)})(),()=>window.cancelAnimationFrame(a)};function n_(t,e){const n=Sa(t),a=w.useRef(0);return w.useEffect(()=>()=>window.clearTimeout(a.current),[]),w.useCallback(()=>{window.clearTimeout(a.current),a.current=window.setTimeout(n,e)},[n,e])}function Cf(t,e){const n=Sa(e);Jr(()=>{let a=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(a),a=window.requestAnimationFrame(n)});return s.observe(t),()=>{window.cancelAnimationFrame(a),s.unobserve(t)}}},[t,n])}var cQ=ZY,XCe=eQ,YCe=sQ;const r_=w.forwardRef(({className:t,children:e,...n},a)=>r.jsxs(cQ,{ref:a,className:Wt("relative overflow-hidden",t),...n,children:[r.jsx(XCe,{className:"h-full w-full rounded-[inherit]",children:e}),r.jsx(dQ,{}),r.jsx(YCe,{})]}));r_.displayName=cQ.displayName;const dQ=w.forwardRef(({className:t,orientation:e="vertical",...n},a)=>r.jsx(ck,{ref:a,orientation:e,className:Wt("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:r.jsx(aQ,{className:"relative flex-1 rounded-full bg-border"})}));dQ.displayName=ck.displayName;function QCe(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}Array(12).fill(0);let IP=1;class ZCe{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:a,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:IP++,o=this.toasts.find(c=>c.id===i),l=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...e,id:i,title:a}),{...c,...e,id:i,dismissible:l,title:a}):c):this.addToast({title:a,...s,dismissible:l,id:i}),i},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(a=>a({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let a;n.loading!==void 0&&(a=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const s=Promise.resolve(e instanceof Function?e():e);let i=a!==void 0,o;const l=s.then(async d=>{if(o=["resolve",d],ae.isValidElement(d))i=!1,this.create({id:a,type:"default",message:d});else if(eEe(d)&&!d.ok){i=!1;const h=typeof n.error=="function"?await n.error(`HTTP error! status: ${d.status}`):n.error,f=typeof n.description=="function"?await n.description(`HTTP error! status: ${d.status}`):n.description,x=typeof h=="object"&&!ae.isValidElement(h)?h:{message:h};this.create({id:a,type:"error",description:f,...x})}else if(d instanceof Error){i=!1;const h=typeof n.error=="function"?await n.error(d):n.error,f=typeof n.description=="function"?await n.description(d):n.description,x=typeof h=="object"&&!ae.isValidElement(h)?h:{message:h};this.create({id:a,type:"error",description:f,...x})}else if(n.success!==void 0){i=!1;const h=typeof n.success=="function"?await n.success(d):n.success,f=typeof n.description=="function"?await n.description(d):n.description,x=typeof h=="object"&&!ae.isValidElement(h)?h:{message:h};this.create({id:a,type:"success",description:f,...x})}}).catch(async d=>{if(o=["reject",d],n.error!==void 0){i=!1;const u=typeof n.error=="function"?await n.error(d):n.error,h=typeof n.description=="function"?await n.description(d):n.description,v=typeof u=="object"&&!ae.isValidElement(u)?u:{message:u};this.create({id:a,type:"error",description:h,...v})}}).finally(()=>{i&&(this.dismiss(a),a=void 0),n.finally==null||n.finally.call(n)}),c=()=>new Promise((d,u)=>l.then(()=>o[0]==="reject"?u(o[1]):d(o[1])).catch(u));return typeof a!="string"&&typeof a!="number"?{unwrap:c}:Object.assign(a,{unwrap:c})},this.custom=(e,n)=>{const a=(n==null?void 0:n.id)||IP++;return this.create({jsx:e(a),id:a,...n}),a},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const ji=new ZCe,JCe=(t,e)=>{const n=(e==null?void 0:e.id)||IP++;return ji.addToast({title:t,...e,id:n}),n},eEe=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",tEe=JCe,nEe=()=>ji.toasts,rEe=()=>ji.getActiveToasts(),qe=Object.assign(tEe,{success:ji.success,info:ji.info,warning:ji.warning,error:ji.error,custom:ji.custom,message:ji.message,promise:ji.promise,dismiss:ji.dismiss,loading:ji.loading},{getHistory:nEe,getToasts:rEe});QCe("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");const DL={bruxa_natural:"#9333EA",sabio:"#F59E0B",guardiao_astral:"#3B82F6",xama:"#10B981",navegador_cosmico:"#8B5CF6",alquimista:"#6366F1",none:"#64748B"};function uQ({comment:t,currentUser:e,onReply:n,level:a=0}){var f,v;if(!(t!=null&&t.id)||!(e!=null&&e.id))return null;const s=DL[t.author_archetype]||DL.none,[i,o]=w.useState(!1),l=wt(),{data:c}=Oe({queryKey:["comment-replies",t.id],queryFn:()=>H.entities.Comment.filter({parent_comment_id:t.id},"created_date",50),initialData:[],enabled:i}),d=Ue({mutationFn:async()=>{if(!(e!=null&&e.id)||!(t!=null&&t.id))return;const x={...t.reactions_by_user||{}},g={...t.reactions||{}};x[e.id]?(delete x[e.id],g.like=Math.max(0,(g.like||0)-1)):(x[e.id]="like",g.like=(g.like||0)+1),await H.entities.Comment.update(t.id,{reactions:g,reactions_by_user:x})},onSuccess:()=>{l.invalidateQueries({queryKey:["post-comments"]}),l.invalidateQueries({queryKey:["comment-replies"]})}}),u=(f=t.reactions_by_user)==null?void 0:f[e.id],h=((v=t.reactions)==null?void 0:v.like)||0;return r.jsxs(q.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`${a>0?"ml-8 md:ml-12 border-l-2 border-purple-900/30 pl-3 md:pl-4":""}`,children:[r.jsxs("div",{className:"flex gap-2 md:gap-3 mb-3 md:mb-4",children:[r.jsx(Es,{user:{id:t.author_id,username:t.author_username},children:r.jsx(Lr,{user:{avatar_url:t.author_avatar,archetype:t.author_archetype},size:"sm",showStatus:!1})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"bg-slate-800/50 rounded-2xl p-3 md:p-4",children:[r.jsxs("div",{className:"flex items-center gap-1.5 md:gap-2 mb-1.5 md:mb-2",children:[r.jsx(Es,{user:{id:t.author_id,username:t.author_username},children:r.jsx("span",{className:"font-bold text-sm md:text-base",style:{color:s},children:t.author_name})}),r.jsxs("span",{className:"text-[10px] md:text-xs text-gray-500",children:[" Nv.",t.author_level]})]}),r.jsx("p",{className:"text-gray-200 text-sm md:text-base leading-relaxed mb-2 md:mb-3",children:t.content}),r.jsxs("div",{className:"flex items-center gap-3 md:gap-4 text-xs md:text-sm text-gray-400",children:[r.jsx("span",{children:kn(new Date(t.created_date),"d 'de' MMM 's' HH:mm",{locale:jn})}),r.jsxs("button",{onClick:()=>d.mutate(),className:`flex items-center gap-1 hover:text-pink-400 transition ${u?"text-pink-400":""}`,children:[r.jsx($n,{className:`w-3.5 h-3.5 md:w-4 md:h-4 ${u?"fill-current":""}`}),h>0&&r.jsx("span",{children:h})]}),r.jsxs("button",{onClick:()=>n(t),className:"flex items-center gap-1 hover:text-blue-400 transition",children:[r.jsx(G3,{className:"w-3.5 h-3.5 md:w-4 md:h-4"}),"Responder"]})]})]}),c&&c.length>0&&r.jsxs("button",{onClick:()=>o(!i),className:"text-xs md:text-sm text-purple-400 hover:text-purple-300 mt-2 ml-2",children:[i?"Ocultar":"Ver"," ",c.length," ",c.length===1?"resposta":"respostas"]})]})]}),r.jsx(gt,{children:i&&c&&c.length>0&&r.jsx(q.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:c.map(x=>r.jsx(uQ,{comment:x,currentUser:e,onReply:n,level:a+1},x.id))})})]})}function aEe({isOpen:t,onClose:e,post:n,currentUser:a}){if(!(n!=null&&n.id)||!(a!=null&&a.id))return null;const[s,i]=w.useState(""),[o,l]=w.useState(null),c=w.useRef(null),d=wt(),{data:u,isLoading:h}=Oe({queryKey:["post-comments",n.id],queryFn:()=>H.entities.Comment.filter({post_id:n.id,parent_comment_id:null},"-created_date",100),enabled:!!(n!=null&&n.id)&&t,initialData:[]}),f=Ue({mutationFn:async({content:g,parentId:y})=>{!(a!=null&&a.id)||!(n!=null&&n.id)||(await H.entities.Comment.create({post_id:n.id,author_id:a.id,author_name:a.display_name||a.full_name,author_username:a.username||a.id,author_avatar:a.avatar_url,author_level:a.level||1,author_archetype:a.archetype,content:g,parent_comment_id:y||null,reactions:{like:0},reactions_by_user:{}}),await H.entities.Post.update(n.id,{comments_count:(n.comments_count||0)+1}),n.author_id!==a.id&&await H.entities.Notification.create({user_id:n.author_id,type:"comment",title:"Novo Comentrio!",message:`${a.display_name||a.full_name} comentou no seu post`,from_user_id:a.id,from_user_name:a.display_name||a.full_name,from_user_avatar:a.avatar_url,related_entity_id:n.id,related_entity_type:"post",action_url:"/Hub"}),y&&o&&o.author_id!==a.id&&await H.entities.Notification.create({user_id:o.author_id,type:"comment",title:"Nova Resposta!",message:`${a.display_name||a.full_name} respondeu seu comentrio`,from_user_id:a.id,from_user_name:a.display_name||a.full_name,from_user_avatar:a.avatar_url,related_entity_id:n.id,related_entity_type:"post",action_url:"/Hub"}))},onSuccess:()=>{d.invalidateQueries({queryKey:["post-comments"]}),d.invalidateQueries({queryKey:["comment-replies"]}),d.invalidateQueries({queryKey:["posts"]}),i(""),l(null),qe.success("Comentrio enviado! ")}}),v=g=>{g.preventDefault(),s.trim()&&f.mutate({content:s,parentId:(o==null?void 0:o.id)||null})},x=g=>{var y;l(g),(y=c.current)==null||y.focus()};return w.useEffect(()=>{t||(i(""),l(null))},[t]),w.useEffect(()=>{t&&window.scrollTo({top:0,behavior:"smooth"})},[t]),r.jsx(gt,{children:t&&r.jsx(q.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] bg-black/70 flex items-end md:items-center justify-center p-0 md:p-4",onClick:e,children:r.jsxs(q.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:25},onClick:g=>g.stopPropagation(),className:"w-full md:max-w-2xl bg-slate-900 rounded-t-3xl md:rounded-2xl shadow-2xl flex flex-col max-h-[85vh] md:max-h-[90vh]",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 md:p-6 border-b border-purple-900/30 flex-shrink-0",children:[r.jsxs("h2",{className:"text-lg md:text-xl font-bold text-white flex items-center gap-2",children:[r.jsx(_e,{className:"w-5 h-5 md:w-6 md:h-6 text-purple-400"}),"Comentrios"]}),r.jsx("button",{onClick:e,className:"w-8 h-8 md:w-10 md:h-10 rounded-full bg-slate-700/50 hover:bg-slate-600 flex items-center justify-center transition",children:r.jsx(nt,{className:"w-4 h-4 md:w-5 md:h-5 text-gray-400"})})]}),r.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 pb-32 md:pb-4",children:h?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(_e,{className:"w-10 h-10 md:w-12 md:h-12 text-purple-500 animate-pulse mx-auto mb-3 md:mb-4"}),r.jsx("p",{className:"text-gray-400 text-sm md:text-base",children:"Carregando comentrios..."})]}):u.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(_e,{className:"w-12 h-12 md:w-16 md:h-16 text-purple-500/50 mx-auto mb-3 md:mb-4"}),r.jsx("h3",{className:"text-base md:text-lg font-semibold text-purple-300 mb-2",children:"Seja o primeiro a comentar!"}),r.jsx("p",{className:"text-gray-400 text-sm md:text-base",children:"Compartilhe seus pensamentos sobre esta publicao"})]}):r.jsx("div",{className:"space-y-4 md:space-y-6",children:u.map(g=>r.jsx(uQ,{comment:g,currentUser:a,onReply:x},g.id))})}),r.jsxs("div",{className:"sticky bottom-0 left-0 right-0 bg-slate-900 border-t border-slate-700 p-4 pb-6 md:pb-4",children:[o&&r.jsxs("div",{className:"mb-2 md:mb-3 p-2 md:p-3 bg-slate-700/30 rounded-lg flex items-center justify-between",children:[r.jsxs("span",{className:"text-xs md:text-sm text-gray-300",children:["Respondendo ",r.jsx("span",{className:"text-purple-400 font-semibold",children:o.author_name})]}),r.jsx("button",{onClick:()=>l(null),className:"text-gray-400 hover:text-white",children:r.jsx(nt,{className:"w-4 h-4"})})]}),r.jsxs("form",{onSubmit:v,className:"flex gap-2 md:gap-3",children:[r.jsx(Lr,{user:a,size:"sm",showStatus:!1}),r.jsxs("div",{className:"flex-1",children:[r.jsx(It,{ref:c,value:s,onChange:g=>i(g.target.value),placeholder:o?`Responder ${o.author_name}...`:"Adicione um comentrio...",className:"bg-slate-800 border-purple-900/30 text-white placeholder:text-gray-500 resize-none h-16 md:h-20 text-sm md:text-base",disabled:f.isPending,maxLength:500}),r.jsxs("div",{className:"flex justify-between items-center mt-2",children:[r.jsxs("span",{className:"text-xs text-gray-500",children:[s.length,"/500"]}),r.jsx(W,{type:"submit",disabled:!s.trim()||f.isPending,className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-sm md:text-base px-4 md:px-6",children:f.isPending?r.jsx(q.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:r.jsx(_e,{className:"w-4 h-4"})}):r.jsxs(r.Fragment,{children:[r.jsx(Hr,{className:"w-4 h-4 mr-1.5 md:mr-2"}),"Enviar"]})})]})]})]})]})]})})})}const sEe=()=>r.jsx("svg",{viewBox:"0 0 24 24",className:"w-6 h-6 md:w-7 md:h-7",fill:"currentColor",children:r.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),iEe=()=>r.jsx("svg",{viewBox:"0 0 24 24",className:"w-6 h-6 md:w-7 md:h-7",fill:"currentColor",children:r.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"})}),oEe=()=>r.jsx("svg",{viewBox:"0 0 24 24",className:"w-6 h-6 md:w-7 md:h-7",fill:"currentColor",children:r.jsx("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"})});function lEe({isOpen:t,onClose:e,post:n,currentUser:a}){if(!(n!=null&&n.id)||!(a!=null&&a.id))return null;const[s,i]=w.useState(!1),[o,l]=w.useState(!1),c=wt(),d=Ue({mutationFn:async()=>{!(a!=null&&a.id)||!(n!=null&&n.id)||(await H.entities.Post.update(n.id,{shares_count:(n.shares_count||0)+1}),n.author_id!==a.id&&await H.entities.Notification.create({user_id:n.author_id,type:"announcement",title:"Post Compartilhado!",message:`${a.display_name||a.full_name} compartilhou seu post`,from_user_id:a.id,from_user_name:a.display_name||a.full_name,from_user_avatar:a.avatar_url,related_entity_id:n.id,related_entity_type:"post",action_url:"/Hub"}))},onSuccess:()=>{c.invalidateQueries({queryKey:["posts"]}),l(!0),qe.success("Post compartilhado no seu feed! "),setTimeout(()=>{e(),l(!1)},1500)}}),u=()=>{if(!(n!=null&&n.id))return;const g=`${window.location.origin}/Hub?post=${n.id}`;navigator.clipboard.writeText(g),i(!0),qe.success("Link copiado!"),setTimeout(()=>i(!1),2e3)},h=()=>{d.mutate()},f=()=>{const g=`${window.location.origin}/Hub?post=${n.id}`,y=`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(g)}`;window.open(y,"_blank","width=600,height=400"),H.entities.Post.update(n.id,{shares_count:(n.shares_count||0)+1}),c.invalidateQueries({queryKey:["posts"]}),qe.success("Abrindo Facebook...")},v=()=>{var _;const g=`${window.location.origin}/Hub?post=${n.id}`,y=`Confira esta publicao mstica: "${(n.content||"").substring(0,100)}${((_=n.content)==null?void 0:_.length)>100?"...":""}"`,b=`https://wa.me/?text=${encodeURIComponent(y+`

`+g)}`;window.open(b,"_blank"),H.entities.Post.update(n.id,{shares_count:(n.shares_count||0)+1}),c.invalidateQueries({queryKey:["posts"]}),qe.success("Abrindo WhatsApp...")},x=()=>{var _;const g=`${window.location.origin}/Hub?post=${n.id}`,y=`Confira esta publicao mstica: "${(n.content||"").substring(0,100)}${((_=n.content)==null?void 0:_.length)>100?"...":""}"`,b=`https://t.me/share/url?url=${encodeURIComponent(g)}&text=${encodeURIComponent(y)}`;window.open(b,"_blank"),H.entities.Post.update(n.id,{shares_count:(n.shares_count||0)+1}),c.invalidateQueries({queryKey:["posts"]}),qe.success("Abrindo Telegram...")};return t?r.jsx(gt,{children:r.jsx(q.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-end justify-center bg-black/80 backdrop-blur-sm",onClick:e,children:r.jsxs(q.div,{initial:{opacity:0,y:100},animate:{opacity:1,y:0},exit:{opacity:0,y:100},onClick:g=>g.stopPropagation(),className:"relative w-full bg-gradient-to-b from-slate-900 to-slate-800 rounded-t-3xl shadow-2xl mb-[70px]",style:{maxHeight:"calc(90vh - 70px)"},children:[r.jsxs("div",{className:"flex items-center justify-between p-4 md:p-5 border-b border-purple-900/30",children:[r.jsxs("h2",{className:"text-lg md:text-xl font-bold text-white flex items-center gap-2",children:[r.jsx($l,{className:"w-5 h-5 md:w-6 md:h-6 text-purple-400"}),"Compartilhar"]}),r.jsx("button",{onClick:e,className:"w-9 h-9 md:w-10 md:h-10 rounded-full bg-slate-700/50 hover:bg-slate-600 flex items-center justify-center transition",children:r.jsx(nt,{className:"w-4 h-4 md:w-5 md:h-5 text-gray-400"})})]}),r.jsxs("div",{className:"overflow-y-auto",style:{maxHeight:"calc(90vh - 200px)"},children:[r.jsxs("div",{className:"p-4 md:p-5 space-y-3",children:[r.jsxs("button",{onClick:h,disabled:d.isPending||o,className:"w-full flex items-center gap-3 md:gap-4 p-3 md:p-4 bg-slate-800 hover:bg-slate-700 rounded-2xl transition group",children:[r.jsx("div",{className:"w-11 h-11 md:w-12 md:h-12 rounded-full bg-gradient-to-br from-purple-600 to-pink-600 flex items-center justify-center flex-shrink-0",children:o?r.jsx(Rn,{className:"w-5 h-5 md:w-6 md:h-6 text-white"}):r.jsx($l,{className:"w-5 h-5 md:w-6 md:h-6 text-white"})}),r.jsxs("div",{className:"flex-1 text-left",children:[r.jsx("h3",{className:"text-sm md:text-base font-semibold text-white group-hover:text-purple-300 transition",children:o?"Compartilhado!":"Compartilhar no seu Feed"}),r.jsx("p",{className:"text-xs md:text-sm text-gray-400",children:"Publique esta emanao no seu perfil"})]})]}),r.jsxs("button",{onClick:u,className:"w-full flex items-center gap-3 md:gap-4 p-3 md:p-4 bg-slate-800 hover:bg-slate-700 rounded-2xl transition group",children:[r.jsx("div",{className:"w-11 h-11 md:w-12 md:h-12 rounded-full bg-gradient-to-br from-blue-600 to-cyan-600 flex items-center justify-center flex-shrink-0",children:s?r.jsx(Rn,{className:"w-5 h-5 md:w-6 md:h-6 text-white"}):r.jsx(hx,{className:"w-5 h-5 md:w-6 md:h-6 text-white"})}),r.jsxs("div",{className:"flex-1 text-left",children:[r.jsx("h3",{className:"text-sm md:text-base font-semibold text-white group-hover:text-blue-300 transition",children:s?"Link Copiado!":"Copiar Link"}),r.jsx("p",{className:"text-xs md:text-sm text-gray-400",children:"Compartilhe onde quiser"})]})]}),r.jsxs("div",{className:"flex items-center gap-3 py-2",children:[r.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-transparent via-purple-500/30 to-transparent"}),r.jsx("span",{className:"text-xs text-gray-500",children:"Redes Sociais"}),r.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-transparent via-purple-500/30 to-transparent"})]}),r.jsxs("button",{onClick:f,className:"w-full flex items-center gap-3 md:gap-4 p-3 md:p-4 bg-slate-800 hover:bg-slate-700 rounded-2xl transition group",children:[r.jsx("div",{className:"w-11 h-11 md:w-12 md:h-12 rounded-full bg-[#1877F2] flex items-center justify-center flex-shrink-0",children:r.jsx(sEe,{})}),r.jsxs("div",{className:"flex-1 text-left",children:[r.jsx("h3",{className:"text-sm md:text-base font-semibold text-white group-hover:text-[#1877F2] transition",children:"Facebook"}),r.jsx("p",{className:"text-xs md:text-sm text-gray-400",children:"Compartilhe com seus amigos"})]})]}),r.jsxs("button",{onClick:v,className:"w-full flex items-center gap-3 md:gap-4 p-3 md:p-4 bg-slate-800 hover:bg-slate-700 rounded-2xl transition group",children:[r.jsx("div",{className:"w-11 h-11 md:w-12 md:h-12 rounded-full bg-[#25D366] flex items-center justify-center flex-shrink-0",children:r.jsx(iEe,{})}),r.jsxs("div",{className:"flex-1 text-left",children:[r.jsx("h3",{className:"text-sm md:text-base font-semibold text-white group-hover:text-[#25D366] transition",children:"WhatsApp"}),r.jsx("p",{className:"text-xs md:text-sm text-gray-400",children:"Envie para contatos e grupos"})]})]}),r.jsxs("button",{onClick:x,className:"w-full flex items-center gap-3 md:gap-4 p-3 md:p-4 bg-slate-800 hover:bg-slate-700 rounded-2xl transition group",children:[r.jsx("div",{className:"w-11 h-11 md:w-12 md:h-12 rounded-full bg-[#0088cc] flex items-center justify-center flex-shrink-0",children:r.jsx(oEe,{})}),r.jsxs("div",{className:"flex-1 text-left",children:[r.jsx("h3",{className:"text-sm md:text-base font-semibold text-white group-hover:text-[#0088cc] transition",children:"Telegram"}),r.jsx("p",{className:"text-xs md:text-sm text-gray-400",children:"Compartilhe em canais e chats"})]})]})]}),r.jsx("div",{className:"p-4 md:p-5 border-t border-purple-900/30",children:r.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-3 md:p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 md:gap-3 mb-2",children:[r.jsx("img",{src:n.author_avatar||"https://via.placeholder.com/40",alt:n.author_name,className:"w-8 h-8 md:w-10 md:h-10 rounded-full object-cover"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs md:text-sm font-semibold text-white",children:n.author_name}),r.jsxs("p",{className:"text-[10px] md:text-xs text-gray-400",children:["Nvel ",n.author_level]})]})]}),r.jsx("p",{className:"text-xs md:text-sm text-gray-300 line-clamp-3",children:n.content})]})})]})]})})}):null}var a_="Tabs",[cEe]=Fi(a_,[D1]),hQ=D1(),[dEe,hk]=cEe(a_),mQ=w.forwardRef((t,e)=>{const{__scopeTabs:n,value:a,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=t,u=lp(l),[h,f]=Hl({prop:a,onChange:s,defaultProp:i??"",caller:a_});return r.jsx(dEe,{scope:n,baseId:$o(),value:h,onValueChange:f,orientation:o,dir:u,activationMode:c,children:r.jsx(qt.div,{dir:u,"data-orientation":o,...d,ref:e})})});mQ.displayName=a_;var fQ="TabsList",pQ=w.forwardRef((t,e)=>{const{__scopeTabs:n,loop:a=!0,...s}=t,i=hk(fQ,n),o=hQ(n);return r.jsx(zG,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:a,children:r.jsx(qt.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});pQ.displayName=fQ;var xQ="TabsTrigger",gQ=w.forwardRef((t,e)=>{const{__scopeTabs:n,value:a,disabled:s=!1,...i}=t,o=hk(xQ,n),l=hQ(n),c=bQ(o.baseId,a),d=wQ(o.baseId,a),u=a===o.value;return r.jsx(qG,{asChild:!0,...l,focusable:!s,active:u,children:r.jsx(qt.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:e,onMouseDown:lt(t.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?o.onValueChange(a):h.preventDefault()}),onKeyDown:lt(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(a)}),onFocus:lt(t.onFocus,()=>{const h=o.activationMode!=="manual";!u&&!s&&h&&o.onValueChange(a)})})})});gQ.displayName=xQ;var vQ="TabsContent",yQ=w.forwardRef((t,e)=>{const{__scopeTabs:n,value:a,forceMount:s,children:i,...o}=t,l=hk(vQ,n),c=bQ(l.baseId,a),d=wQ(l.baseId,a),u=a===l.value,h=w.useRef(u);return w.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),r.jsx(Us,{present:s||u,children:({present:f})=>r.jsx(qt.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:d,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:f&&i})})});yQ.displayName=vQ;function bQ(t,e){return`${t}-trigger-${e}`}function wQ(t,e){return`${t}-content-${e}`}var uEe=mQ,_Q=pQ,jQ=gQ,NQ=yQ;const $r=uEe,Tr=w.forwardRef(({className:t,...e},n)=>r.jsx(_Q,{ref:n,className:Wt("inline-flex h-10 items-center justify-center rounded-md bg-slate-800 p-1 text-slate-400",t),...e}));Tr.displayName=_Q.displayName;const xt=w.forwardRef(({className:t,...e},n)=>r.jsx(jQ,{ref:n,className:Wt("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-white transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-purple-600 data-[state=active]:text-white data-[state=active]:shadow-sm",t),...e}));xt.displayName=jQ.displayName;const et=w.forwardRef(({className:t,...e},n)=>r.jsx(NQ,{ref:n,className:Wt("mt-2 ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400 focus-visible:ring-offset-2",t),...e}));et.displayName=NQ.displayName;const hEe=[{id:"destaque_ouro",name:"Destaque Dourado",emoji:"",description:"Post brilha em dourado por 24h, aparece mais no feed",cost:50,duration:24,minLevel:1,effect:"highlight_gold"},{id:"destaque_roxo",name:"Destaque Mstico",emoji:"",description:"Post brilha em roxo mstico por 12h, ganha aura especial",cost:30,duration:12,minLevel:1,effect:"highlight_purple"},{id:"destaque_arcoiris",name:"Destaque Arco-ris",emoji:"",description:"Post com efeito arco-ris por 48h, mxima visibilidade",cost:100,duration:48,minLevel:10,effect:"highlight_rainbow"},{id:"protecao",name:"Escudo Protetor",emoji:"",description:"Protege o post de magias sombrias por 24h",cost:40,duration:24,minLevel:5,effect:"protection"},{id:"amplificacao",name:"Amplificao Energtica",emoji:"",description:"Dobra reaes por 12h",cost:60,duration:12,minLevel:15,effect:"amplify"},{id:"cristal_puro",name:"Cristal Puro",emoji:"",description:"Post ganha brilho de cristal e bordas brilhantes",cost:80,duration:36,minLevel:20,effect:"crystal_glow"}],mEe=[{id:"enfeitico_leve",name:"Enfeitio Leve",emoji:"",description:"Post fica levemente escurecido por 6h",cost:25,duration:6,minLevel:70,effect:"bewitch_light"},{id:"enfeitico_medio",name:"Enfeitio Mdio",emoji:"",description:"Post fica muito escurecido por 12h",cost:50,duration:12,minLevel:75,effect:"bewitch_medium"},{id:"enfeitico_pesado",name:"Enfeitio Pesado",emoji:"",description:"Post fica quase invisvel por 24h",cost:100,duration:24,minLevel:80,effect:"bewitch_heavy"},{id:"tremor_mistico",name:"Tremor Mstico",emoji:"",description:"Post fica tremendo constantemente",cost:70,duration:12,minLevel:72,effect:"shake"},{id:"glitch_sombrio",name:"Glitch Sombrio",emoji:"",description:"Post com efeito de glitch/bugado",cost:90,duration:18,minLevel:77,effect:"glitch"},{id:"chamas_negras",name:"Chamas Negras",emoji:"",description:"Post envolto em chamas sombrias",cost:120,duration:24,minLevel:85,effect:"dark_flames"},{id:"distorcao",name:"Distoro Dimensional",emoji:"",description:"Post distorcido e ondulante",cost:80,duration:15,minLevel:73,effect:"distortion"},{id:"maldicao_silenciosa",name:"Maldio Silenciosa",emoji:"",description:"Post no aparece em buscas por 24h",cost:150,duration:24,minLevel:90,effect:"curse_silent"}];function fEe({isOpen:t,onClose:e,post:n,currentUser:a,onMagicCast:s}){if(!(n!=null&&n.id)||!(a!=null&&a.id))return null;const[i,o]=w.useState(null),[l,c]=w.useState(""),d=()=>{if(!i||!(a!=null&&a.id)||!(n!=null&&n.id)){qe.error("Selecione uma magia primeiro");return}if((a.ouros||0)<i.cost){qe.error("Ouros insuficientes");return}if((a.level||1)<i.minLevel){qe.error(`Voc precisa ser nvel ${i.minLevel} para usar esta magia`);return}const u=new Date;u.setHours(u.getHours()+i.duration),s({magicType:i.id,cost:i.cost,message:l,duration:i.duration,expiresAt:u.toISOString()}),e()};return r.jsx(gt,{children:t&&r.jsx(q.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-black/80",onClick:e,children:r.jsxs(q.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:u=>u.stopPropagation(),className:"bg-gradient-to-br from-slate-900 to-slate-800 rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden border border-purple-500/30",children:[r.jsxs("div",{className:"p-4 md:p-6 border-b border-purple-500/30",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-full bg-purple-600/20 flex items-center justify-center",children:r.jsx(_e,{className:"w-5 h-5 md:w-6 md:h-6 text-purple-400"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg md:text-xl font-bold text-white",children:"Grimrio de Magias"}),r.jsx("p",{className:"text-xs md:text-sm text-gray-300",children:"Lance feitios e encantos neste post"})]})]}),r.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white transition",children:r.jsx(nt,{className:"w-5 h-5 md:w-6 md:h-6"})})]}),r.jsxs("div",{className:"flex items-center gap-2 mt-4 text-yellow-400",children:[r.jsx(_e,{className:"w-4 h-4 md:w-5 md:h-5"}),r.jsxs("span",{className:"font-bold text-base md:text-lg",children:[a.ouros||0," Ouros disponveis"]})]})]}),r.jsxs("div",{className:"p-4 md:p-6 overflow-y-auto max-h-[60vh]",children:[r.jsxs($r,{defaultValue:"white",className:"w-full",children:[r.jsxs(Tr,{className:"w-full bg-slate-800 mb-6",children:[r.jsxs(xt,{value:"white",className:"flex-1 data-[state=active]:bg-purple-600",children:[r.jsx(_e,{className:"w-4 h-4 mr-2"}),r.jsx("span",{className:"hidden sm:inline",children:"Magias Brancas"}),r.jsx("span",{className:"sm:hidden",children:"Brancas"})]}),r.jsxs(xt,{value:"dark",className:"flex-1 data-[state=active]:bg-red-900",children:[r.jsx(wme,{className:"w-4 h-4 mr-2"}),r.jsx("span",{className:"hidden sm:inline",children:"Magias Sombrias"}),r.jsx("span",{className:"sm:hidden",children:"Sombrias"}),a.level<70&&r.jsx(pf,{className:"w-3 h-3 ml-1 md:ml-2"})]})]}),r.jsx(et,{value:"white",className:"space-y-3",children:hEe.map(u=>{const h=a.level>=u.minLevel,f=(i==null?void 0:i.id)===u.id;return r.jsx("button",{onClick:()=>h&&o(u),disabled:!h,className:`w-full text-left p-3 md:p-4 rounded-xl border-2 transition ${f?"border-purple-500 bg-purple-900/30":h?"border-purple-700/30 bg-purple-900/10 hover:border-purple-600/50":"border-slate-700 bg-slate-800/30 opacity-50 cursor-not-allowed"}`,children:r.jsxs("div",{className:"flex items-start justify-between gap-3",children:[r.jsxs("div",{className:"flex items-center gap-2 md:gap-3 flex-1 min-w-0",children:[r.jsx("span",{className:"text-2xl md:text-3xl flex-shrink-0",children:u.emoji}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[r.jsx("h4",{className:"text-white font-bold text-sm md:text-base",children:u.name}),!h&&r.jsxs(De,{variant:"outline",className:"text-xs",children:["Nvel ",u.minLevel,"+"]})]}),r.jsx("p",{className:"text-gray-300 text-xs md:text-sm",children:u.description})]})]}),r.jsxs("div",{className:"text-right flex-shrink-0",children:[r.jsxs("p",{className:"text-yellow-400 font-bold text-base md:text-lg whitespace-nowrap",children:[u.cost,""]}),r.jsxs("p",{className:"text-gray-400 text-xs",children:[u.duration,"h"]})]})]})},u.id)})}),r.jsx(et,{value:"dark",className:"space-y-3",children:a.level<70?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(pf,{className:"w-12 h-12 md:w-16 md:h-16 text-red-500 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg md:text-xl font-bold text-white mb-2",children:"Grimrio Trancado"}),r.jsx("p",{className:"text-gray-300 text-sm md:text-base",children:"Voc precisa ser nvel 70+ para acessar as Magias Sombrias"}),r.jsxs("p",{className:"text-red-400 text-xs md:text-sm mt-2",children:["Nvel atual: ",a.level]})]}):mEe.map(u=>{const h=a.level>=u.minLevel,f=(i==null?void 0:i.id)===u.id;return r.jsx("button",{onClick:()=>h&&o(u),disabled:!h,className:`w-full text-left p-3 md:p-4 rounded-xl border-2 transition ${f?"border-red-500 bg-red-900/30":h?"border-red-700/30 bg-red-900/10 hover:border-red-600/50":"border-slate-700 bg-slate-800/30 opacity-50 cursor-not-allowed"}`,children:r.jsxs("div",{className:"flex items-start justify-between gap-3",children:[r.jsxs("div",{className:"flex items-center gap-2 md:gap-3 flex-1 min-w-0",children:[r.jsx("span",{className:"text-2xl md:text-3xl flex-shrink-0",children:u.emoji}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[r.jsx("h4",{className:"text-white font-bold text-sm md:text-base",children:u.name}),!h&&r.jsxs(De,{variant:"outline",className:"text-xs bg-red-900 border-red-700",children:["Nvel ",u.minLevel,"+"]})]}),r.jsx("p",{className:"text-gray-300 text-xs md:text-sm",children:u.description})]})]}),r.jsxs("div",{className:"text-right flex-shrink-0",children:[r.jsxs("p",{className:"text-yellow-400 font-bold text-base md:text-lg whitespace-nowrap",children:[u.cost,""]}),r.jsxs("p",{className:"text-gray-400 text-xs",children:[u.duration,"h"]})]})]})},u.id)})})]}),i&&r.jsxs(q.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-6",children:[r.jsx("label",{className:"text-sm font-semibold text-gray-200 mb-2 block",children:"Mensagem Personalizada (opcional)"}),r.jsx(It,{value:l,onChange:u=>c(u.target.value),placeholder:"Adicione uma mensagem ao lanar a magia...",className:"bg-slate-800 border-slate-700 text-white placeholder:text-gray-500",rows:3})]})]}),r.jsx("div",{className:"p-4 md:p-6 border-t border-purple-500/30 bg-slate-900/50",children:i?r.jsxs("div",{className:"flex gap-3",children:[r.jsx(W,{onClick:()=>o(null),variant:"outline",className:"flex-1 border-slate-600 text-white",children:"Cancelar"}),r.jsxs(W,{onClick:d,disabled:!(a!=null&&a.ouros)||a.ouros<i.cost,className:`flex-1 ${i.minLevel>=70?"bg-gradient-to-r from-red-600 to-red-800 hover:from-red-700 hover:to-red-900":"bg-gradient-to-r from-purple-600 to-purple-800 hover:from-purple-700 hover:to-purple-900"}`,children:["Lanar por ",i.cost," Ouros"]})]}):r.jsx(W,{onClick:e,variant:"outline",className:"w-full border-slate-600 text-white",children:"Fechar Grimrio"})})]})})})}const pEe=[5,10,25,50,100,250];function xEe({isOpen:t,onClose:e,post:n,currentUser:a,onDonate:s}){if(!(n!=null&&n.id)||!(a!=null&&a.id))return null;const[i,o]=w.useState(5),[l,c]=w.useState("");if(!t)return null;const d=()=>{if(!(a!=null&&a.id)||!(n!=null&&n.id))return;const u=parseInt(i);if(isNaN(u)||u<=0){qe.error("Digite uma quantidade vlida!");return}if((a.ouros||0)<u){qe.error("Voc no tem Ouros suficientes");return}if(u<1){qe.error("A doao mnima  de 1 Ouro");return}if(n.author_id===a.id){qe.error("Voc no pode doar para si mesmo!");return}s({amount:u,message:l.trim()||null}),e(),o(5),c("")};return r.jsx(gt,{children:r.jsx(q.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",onClick:e,children:r.jsx(q.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},onClick:u=>u.stopPropagation(),className:"w-full max-w-md",children:r.jsxs(X,{className:"bg-gradient-to-br from-slate-900 via-yellow-900/20 to-slate-900 border-yellow-500/30 overflow-hidden",children:[r.jsxs("div",{className:"p-6 border-b border-yellow-500/30",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-white mb-2 flex items-center gap-2",children:" Doar Ouros"}),r.jsx("p",{className:"text-yellow-300 text-sm",children:"Apoie este post com Ouros"})]}),r.jsx(W,{variant:"ghost",size:"icon",onClick:e,className:"text-gray-400 hover:text-white",children:r.jsx(nt,{className:"w-6 h-6"})})]}),r.jsxs("div",{className:"flex items-center gap-2 text-yellow-400",children:[r.jsx(Gn,{className:"w-5 h-5"}),r.jsxs("span",{className:"font-bold",children:[a.ouros||0," Ouros disponveis"]})]})]}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-white font-semibold mb-3",children:"Valores Rpidos"}),r.jsx("div",{className:"grid grid-cols-3 gap-2",children:pEe.map(u=>r.jsxs("button",{onClick:()=>o(u),className:`px-4 py-3 rounded-lg border-2 transition font-bold ${Number(i)===u?"bg-gradient-to-br from-yellow-500 to-orange-500 border-yellow-400 text-white shadow-lg shadow-yellow-500/50":"bg-slate-800 border-yellow-900/30 text-yellow-400 hover:bg-slate-700"}`,children:[u," "]},u))})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-white font-semibold mb-2",children:"Quantidade Personalizada"}),r.jsxs("div",{className:"relative",children:[r.jsx(je,{type:"number",value:i,onChange:u=>o(u.target.value),placeholder:"Digite a quantidade...",min:"1",max:a.ouros||0,className:"bg-slate-800 border-yellow-900/30 text-white placeholder:text-gray-400 pl-10"}),r.jsx(Gn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-yellow-400 pointer-events-none"})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-white font-semibold mb-2",children:"Mensagem (Opcional)"}),r.jsx(It,{value:l,onChange:u=>c(u.target.value),placeholder:"Deixe uma mensagem de apoio...",maxLength:200,className:"bg-slate-800 border-yellow-900/30 text-white placeholder:text-gray-400",rows:3}),r.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[l.length," / 200 caracteres"]})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx(W,{variant:"outline",onClick:e,className:"flex-1 border-yellow-500/30 text-yellow-300 hover:bg-yellow-900/20",children:"Cancelar"}),r.jsxs(W,{onClick:d,disabled:!i||Number(i)<=0,className:"flex-1 bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600",children:[r.jsx($n,{className:"w-5 h-5 mr-2"}),"Doar ",i||0," Ouros"]})]})]})]})})})})}const gEe=[{id:"spam",label:"Spam ou Contedo Irrelevante",emoji:""},{id:"harassment",label:"Assdio ou Bullying",emoji:""},{id:"hate_speech",label:"Discurso de dio",emoji:""},{id:"violence",label:"Violncia ou Ameaas",emoji:""},{id:"nudity",label:"Nudez ou Contedo Sexual",emoji:""},{id:"misinformation",label:"Desinformao",emoji:""},{id:"other",label:"Outro Motivo",emoji:""}];function vEe({isOpen:t,onClose:e,post:n,currentUser:a}){if(!(n!=null&&n.id)||!(a!=null&&a.id))return null;wt();const[s,i]=w.useState(""),[o,l]=w.useState(""),c=Ue({mutationFn:async()=>{!(a!=null&&a.id)||!(n!=null&&n.id)||await H.entities.PostReport.create({post_id:n.id,post_content:n.content,post_author_id:n.author_id,post_author_name:n.author_name,reporter_id:a.id,reporter_name:a.display_name||a.full_name,reason:s,details:o,status:"pending"})},onSuccess:()=>{qe.success("Denncia enviada. Nossa equipe ir revisar."),e(),i(""),l("")},onError:()=>{qe.error("Erro ao enviar denncia")}}),d=()=>{if(!s){qe.error("Selecione um motivo");return}if(!(a!=null&&a.id)||!(n!=null&&n.id)){qe.error("Erro ao enviar denncia");return}c.mutate()};return t?r.jsx(gt,{children:r.jsx(q.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[150] flex items-center justify-center p-4 bg-black/80",onClick:e,children:r.jsxs(q.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:u=>u.stopPropagation(),className:"bg-gradient-to-br from-slate-900 to-slate-800 rounded-2xl max-w-lg w-full max-h-[90vh] overflow-hidden border border-red-500/30",children:[r.jsx("div",{className:"p-6 border-b border-red-500/30",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-red-600/20 flex items-center justify-center",children:r.jsx(z3,{className:"w-6 h-6 text-red-400"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-white",children:"Denunciar Publicao"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Ajude-nos a manter a comunidade segura"})]})]}),r.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white transition",children:r.jsx(nt,{className:"w-6 h-6"})})]})}),r.jsxs("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-white font-semibold mb-3",children:"Por que voc est denunciando este post?"}),r.jsx("div",{className:"space-y-2",children:gEe.map(u=>r.jsx("button",{onClick:()=>i(u.id),className:`w-full text-left p-4 rounded-xl border-2 transition ${s===u.id?"border-red-500 bg-red-900/30":"border-slate-700 bg-slate-800/30 hover:border-slate-600"}`,children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-2xl",children:u.emoji}),r.jsx("span",{className:"text-white font-medium",children:u.label})]})},u.id))})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-white font-semibold mb-2",children:"Detalhes Adicionais (Opcional)"}),r.jsx(It,{value:o,onChange:u=>l(u.target.value),placeholder:"Fornea mais informaes sobre o problema...",maxLength:500,className:"bg-slate-800 border-slate-700 text-white placeholder:text-gray-400",rows:4}),r.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[o.length," / 500 caracteres"]})]}),r.jsx("div",{className:"bg-yellow-900/20 border border-yellow-500/30 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(N1,{className:"w-5 h-5 text-yellow-400 flex-shrink-0 mt-0.5"}),r.jsxs("div",{className:"text-sm text-yellow-200",children:[r.jsx("p",{className:"font-medium mb-1",children:" Aviso Importante"}),r.jsx("p",{className:"text-xs",children:"Denncias falsas ou abusivas podem resultar em penalidades na sua conta. Use este recurso apenas para reportar violaes reais das diretrizes da comunidade."})]})]})})]}),r.jsx("div",{className:"p-6 border-t border-red-500/30 bg-slate-900/50",children:r.jsxs("div",{className:"flex gap-3",children:[r.jsx(W,{variant:"outline",onClick:e,className:"flex-1 border-slate-600 text-white",children:"Cancelar"}),r.jsx(W,{onClick:d,disabled:!s||c.isPending,className:"flex-1 bg-gradient-to-r from-red-600 to-red-800 hover:from-red-700 hover:to-red-900",children:c.isPending?"Enviando...":"Enviar Denncia"})]})})]})})}):null}const IL={bruxa_natural:"#9333EA",sabio:"#F59E0B",guardiao_astral:"#3B82F6",xama:"#10B981",navegador_cosmico:"#8B5CF6",alquimista:"#6366F1",none:"#64748B"},y0={inspirador:{icon:_e,color:"#FCD34D",label:"Inspirador"},mistico:{icon:si,color:"#A78BFA",label:"Mstico"},gratidao:{icon:ohe,color:"#F9A8D4",label:"Gratido"},poderoso:{icon:ci,color:"#F87171",label:"Poderoso"},curativo:{icon:GH,color:"#67E8F9",label:"Curativo"}},yEe={destaque_ouro:{cardClass:"bg-gradient-to-br from-yellow-900/30 via-yellow-800/20 to-yellow-900/30 border-yellow-500/50",glowClass:"shadow-2xl shadow-yellow-500/50",borderAnimation:"animate-pulse",emoji:""},destaque_roxo:{cardClass:"bg-gradient-to-br from-purple-900/30 via-purple-800/20 to-purple-900/30 border-purple-500/50",glowClass:"shadow-2xl shadow-purple-500/50",borderAnimation:"animate-pulse",emoji:""},destaque_arcoiris:{cardClass:"bg-gradient-to-r from-red-900/20 via-purple-900/20 to-blue-900/20 border-transparent",glowClass:"shadow-2xl shadow-purple-500/70",borderAnimation:"animate-pulse",special:"rainbow",emoji:""},protecao:{cardClass:"bg-gradient-to-br from-blue-900/20 to-cyan-900/20 border-cyan-500/50",glowClass:"shadow-xl shadow-cyan-500/40",borderAnimation:"",emoji:""},amplificacao:{cardClass:"bg-gradient-to-br from-yellow-900/20 to-orange-900/20 border-orange-500/50",glowClass:"shadow-xl shadow-orange-500/40",special:"amplify",emoji:""},cristal_puro:{cardClass:"bg-gradient-to-br from-cyan-900/30 via-blue-900/20 to-purple-900/30 border-cyan-400/60",glowClass:"shadow-2xl shadow-cyan-400/60",special:"crystal",emoji:""},enfeitico_leve:{cardClass:"bg-gradient-to-br from-gray-900/60 to-slate-900/60 border-gray-700/50",glowClass:"shadow-lg shadow-black/50",blur:"light",emoji:""},enfeitico_medio:{cardClass:"bg-gradient-to-br from-gray-900/80 to-black/80 border-gray-800/50",glowClass:"shadow-xl shadow-black/70",blur:"medium",emoji:""},enfeitico_pesado:{cardClass:"bg-gradient-to-br from-black/90 to-gray-900/90 border-black/80",glowClass:"shadow-2xl shadow-black/90",blur:"heavy",emoji:""},tremor_mistico:{cardClass:"bg-gradient-to-br from-purple-900/40 to-slate-900/40 border-purple-700/50",glowClass:"shadow-xl shadow-purple-500/40",special:"shake",emoji:""},glitch_sombrio:{cardClass:"bg-gradient-to-br from-red-900/30 to-slate-900/30 border-red-700/50",glowClass:"shadow-xl shadow-red-500/40",special:"glitch",emoji:""},chamas_negras:{cardClass:"bg-gradient-to-br from-red-900/40 via-orange-900/30 to-black/50 border-orange-700/50",glowClass:"shadow-2xl shadow-orange-500/60",special:"flames",emoji:""},distorcao:{cardClass:"bg-gradient-to-br from-purple-900/40 to-blue-900/40 border-purple-700/50",glowClass:"shadow-xl shadow-purple-500/50",special:"distortion",emoji:""},curse_silent:{cardClass:"bg-gradient-to-br from-black/70 to-slate-900/70 border-slate-800/50",glowClass:"shadow-xl shadow-black/60",special:"silent",emoji:""}};function bEe({post:t,currentUser:e}){var G,I;if(!(t!=null&&t.id)||!(e!=null&&e.id))return null;const n=wt(),[a,s]=w.useState(!1),[i,o]=w.useState(!1),[l,c]=w.useState(!1),[d,u]=w.useState(!1),[h,f]=w.useState(!1),[v,x]=w.useState(!1),g=(G=t.reactions_by_user)==null?void 0:G[e.id],{data:y}=Oe({queryKey:["post-comments",t.id],queryFn:()=>H.entities.PostComment.filter({post_id:t.id},"-created_date",50),enabled:!!(t!=null&&t.id),initialData:[],staleTime:3e4,gcTime:12e4}),{data:b}=Oe({queryKey:["postMagic",t.id],queryFn:async()=>{const L=await H.entities.PostMagic.filter({post_id:t.id,is_active:!0},"-created_date",1);if(L.length>0){const U=L[0];return new Date(U.expires_at)<new Date?(await H.entities.PostMagic.update(U.id,{is_active:!1}),[]):[U]}return[]},enabled:!!(t!=null&&t.id),initialData:[],refetchInterval:6e4}),{data:_}=Oe({queryKey:["postDonations",t.id],queryFn:async()=>(await H.entities.PostDonation.filter({post_id:t.id})).reduce((U,z)=>U+z.amount,0),enabled:!!(t!=null&&t.id),initialData:0}),j=b==null?void 0:b[0],S=j?yEe[j.magic_type]:null;let C="bg-gradient-to-br from-slate-900 to-slate-800 border-purple-900/30 hover:border-purple-700/50 transition",E="",P="";S&&(C=S.cardClass,E=S.glowClass,P=S.borderAnimation||"");const T=S==null?void 0:S.special,M=Ue({mutationFn:async L=>{if(!(e!=null&&e.id)||!(t!=null&&t.id))return;const U={...t.reactions_by_user||{}},z={...t.reactions||{}};g===L?(delete U[e.id],z[L]=Math.max(0,(z[L]||0)-1)):(g&&(z[g]=Math.max(0,(z[g]||0)-1)),U[e.id]=L,z[L]=(z[L]||0)+1,t.author_id!==e.id&&await H.entities.Notification.create({user_id:t.author_id,type:"reaction",title:"Nova Reao!",message:`${e.display_name||e.full_name} reagiu ao seu post`,from_user_id:e.id,from_user_name:e.display_name||e.full_name,from_user_avatar:e.avatar_url,related_entity_id:t.id,related_entity_type:"post",action_url:"/Hub"})),await H.entities.Post.update(t.id,{reactions:z,reactions_by_user:U})},onMutate:async L=>{await n.cancelQueries({queryKey:["posts"]});const U=n.getQueryData(["posts"]);return n.setQueryData(["posts"],z=>z!=null&&z.pages?{...z,pages:z.pages.map(K=>({...K,data:K.data.map(V=>{if(V.id===t.id){const Y={...V.reactions_by_user||{}},ee={...V.reactions||{}},se=Y[e.id];return se===L?(delete Y[e.id],ee[L]=Math.max(0,(ee[L]||0)-1)):(se&&(ee[se]=Math.max(0,(ee[se]||0)-1)),Y[e.id]=L,ee[L]=(ee[L]||0)+1),{...V,reactions:ee,reactions_by_user:Y}}return V})}))}:z),{previousPosts:U}},onError:(L,U,z)=>{z!=null&&z.previousPosts&&n.setQueryData(["posts"],z.previousPosts)},onSettled:()=>{n.invalidateQueries({queryKey:["posts"]})}}),k=Ue({mutationFn:async({magicType:L,cost:U,message:z,duration:K,expiresAt:V})=>{!(e!=null&&e.id)||!(t!=null&&t.id)||(await H.entities.PostMagic.create({post_id:t.id,post_author_id:t.author_id,caster_id:e.id,caster_name:e.display_name||e.full_name,caster_avatar:e.avatar_url,magic_type:L,ouros_cost:U,duration_hours:K,expires_at:V,message:z,is_active:!0}),await H.auth.updateMe({ouros:(e.ouros||0)-U}),await H.entities.Notification.create({user_id:t.author_id,type:"announcement",title:" Magia Recebida!",message:`${e.display_name||e.full_name} lanou uma magia no seu post!`,from_user_id:e.id,from_user_name:e.display_name||e.full_name,from_user_avatar:e.avatar_url,related_entity_id:t.id,related_entity_type:"post",action_url:"/Hub"}))},onSuccess:()=>{n.invalidateQueries({queryKey:["postMagic"]}),n.invalidateQueries({queryKey:["user"]}),window.location.reload()}}),O=Ue({mutationFn:async({amount:L,message:U})=>{if(!(e!=null&&e.id)||!(t!=null&&t.id))return;await H.entities.PostDonation.create({post_id:t.id,post_author_id:t.author_id,donor_id:e.id,donor_name:e.display_name||e.full_name,donor_avatar:e.avatar_url,amount:L,message:U}),await H.auth.updateMe({ouros:(e.ouros||0)-L});const z=await H.entities.User.filter({id:t.author_id});if(z.length>0){const K=z[0];await H.entities.User.update(t.author_id,{ouros:(K.ouros||0)+L})}await H.entities.Notification.create({user_id:t.author_id,type:"announcement",title:" Doao Recebida!",message:`${e.display_name||e.full_name} doou ${L} Ouros para voc!`,from_user_id:e.id,from_user_name:e.display_name||e.full_name,from_user_avatar:e.avatar_url,related_entity_id:t.id,related_entity_type:"post",action_url:"/Hub"})},onSuccess:()=>{n.invalidateQueries({queryKey:["postDonations"]}),n.invalidateQueries({queryKey:["user"]}),window.location.reload()}}),$=L=>{M.mutate(L),s(!1)},F=Object.values((t==null?void 0:t.reactions)||{}).reduce((L,U)=>L+U,0),B=IL[t==null?void 0:t.author_archetype]||IL.none;return r.jsxs(r.Fragment,{children:[r.jsx("style",{children:`
        @keyframes shake {
          0%, 100% { transform: translateX(0) translateY(0); }
          10% { transform: translateX(-2px) translateY(-2px); }
          20% { transform: translateX(2px) translateY(2px); }
          30% { transform: translateX(-2px) translateY(2px); }
          40% { transform: translateX(2px) translateY(-2px); }
          50% { transform: translateX(-2px) translateY(-2px); }
          60% { transform: translateX(2px) translateY(2px); }
          70% { transform: translateX(-2px) translateY(2px); }
          80% { transform: translateX(2px) translateY(-2px); }
          90% { transform: translateX(-2px) translateY(-2px); }
        }

        @keyframes glitch {
          0% { transform: translate(0); }
          20% { transform: translate(-2px, 2px); }
          40% { transform: translate(-2px, -2px); }
          60% { transform: translate(2px, 2px); }
          80% { transform: translate(2px, -2px); }
          100% { transform: translate(0); }
        }

        @keyframes distortion {
          0%, 100% { transform: skew(0deg); }
          25% { transform: skew(2deg, 1deg); }
          50% { transform: skew(-1deg, -2deg); }
          75% { transform: skew(1deg, -1deg); }
        }

        @keyframes rainbow-border {
          0% { border-color: #ff0000; }
          16% { border-color: #ff7f00; }
          33% { border-color: #ffff00; }
          50% { border-color: #00ff00; }
          66% { border-color: #0000ff; }
          83% { border-color: #8b00ff; }
          100% { border-color: #ff0000; }
        }

        @keyframes flames {
          0%, 100% { filter: hue-rotate(0deg) brightness(1); }
          50% { filter: hue-rotate(20deg) brightness(1.2); }
        }

        .shake { animation: shake 0.5s infinite; }
        .glitch { animation: glitch 0.3s infinite; }
        .distortion { animation: distortion 2s ease-in-out infinite; }
        .rainbow-border { animation: rainbow-border 3s linear infinite; border-width: 3px; }
        .flames { animation: flames 1.5s ease-in-out infinite; }
        .crystal-sparkle {
          position: relative;
          overflow: hidden;
        }
        .crystal-sparkle::before {
          content: '';
          position: absolute;
          top: -50%;
          left: -50%;
          width: 200%;
          height: 200%;
          background: linear-gradient(45deg, transparent 30%, rgba(255,255,255,0.3) 50%, transparent 70%);
          animation: crystal-shine 3s infinite;
        }
        @keyframes crystal-shine {
          0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
          100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }

        .caster-text {
          background: linear-gradient(90deg, #ffd700, #ffed4e, #ffd700);
          background-size: 200% 100%;
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          animation: shimmer 2s linear infinite;
          text-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
        }
        @keyframes shimmer {
          0% { background-position: -200% 0; }
          100% { background-position: 200% 0; }
        }
      `}),r.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:`relative ${T==="shake"?"shake":T==="glitch"?"glitch":T==="distortion"?"distortion":T==="flames"?"flames":T==="crystal"?"crystal-sparkle":""}`,children:r.jsxs(X,{className:`${C} ${E} ${T==="rainbow"?"rainbow-border":""} ${P}`,children:[j&&r.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 z-20",children:r.jsxs(De,{className:"bg-purple-900/90 text-white border-purple-500/50 shadow-lg px-3 py-1 flex items-center gap-1.5 whitespace-nowrap",children:[r.jsx("span",{children:S==null?void 0:S.emoji}),r.jsx("span",{className:"text-xs",children:"Encantado por"}),r.jsx("span",{className:`font-bold ${j.caster_id===t.author_id?"caster-text":""}`,children:j.caster_name})]})}),r.jsxs(ek,{className:"p-4 md:p-6 relative z-10",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex items-start gap-3 md:gap-4",children:[r.jsx(Es,{user:{id:t.author_id,username:t.author_username},children:r.jsx("div",{className:`w-10 h-10 md:w-12 md:h-12 rounded-full bg-gradient-to-br from-gray-700 to-gray-900 flex items-center justify-center border-2 flex-shrink-0 cursor-pointer ${j&&j.caster_id===t.author_id?"border-yellow-400 shadow-lg shadow-yellow-500/50":""}`,style:{borderColor:B},children:t.author_avatar?r.jsx("img",{src:t.author_avatar,alt:t.author_name,className:"w-full h-full rounded-full object-cover"}):r.jsx(_e,{className:"w-5 h-5 md:w-6 md:h-6 text-purple-400"})})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-1.5 md:gap-2 flex-wrap",children:[r.jsx(Es,{user:{id:t.author_id,username:t.author_username},children:r.jsx("h4",{className:`font-bold text-sm md:text-base truncate cursor-pointer hover:opacity-80 transition text-white ${j&&j.caster_id===t.author_id?"caster-text text-lg":""}`,children:t.author_name})}),t.author_title&&r.jsxs("span",{className:"text-[10px] md:text-xs text-gray-300",children:[" ",t.author_title]}),r.jsxs("span",{className:"text-[10px] md:text-xs text-gray-400",children:[" Nvel ",t.author_level]}),t.author_archetype&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"text-[10px] md:text-xs text-gray-400",children:""}),r.jsx("span",{className:"text-[10px] md:text-xs text-gray-300",children:t.author_archetype})]}),((I=t.author_champion_crowns)==null?void 0:I.length)>0&&r.jsx(Bn,{className:"w-3 h-3 md:w-4 md:h-4 text-yellow-400"})]}),r.jsx("p",{className:"text-[10px] md:text-xs text-gray-400 mt-0.5 md:mt-1",children:kn(new Date(t.created_date),"d 'de' MMMM 's' HH:mm",{locale:jn})})]}),t.post_type!=="simples"&&r.jsx("div",{className:"px-2 md:px-3 py-0.5 md:py-1 bg-purple-900/30 rounded-full text-[10px] md:text-xs text-purple-300 border border-purple-700/30",children:t.post_type})]}),e.id!==t.author_id&&r.jsxs(yx,{children:[r.jsx(bx,{asChild:!0,children:r.jsx(W,{variant:"ghost",size:"icon",className:"text-gray-400 hover:text-white -mr-2",children:r.jsx(Tue,{className:"w-5 h-5"})})}),r.jsx(vf,{align:"end",className:"bg-slate-900 border-purple-500/30",children:r.jsxs(yf,{onClick:()=>x(!0),className:"text-red-400 hover:text-red-300 cursor-pointer",children:[r.jsx(z3,{className:"w-4 h-4 mr-2"}),"Denunciar Publicao"]})})]})]}),S&&S.blur&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:`absolute inset-0 ${S.blur==="light"?"blur-sm bg-gray-900/60":S.blur==="medium"?"blur-md bg-gray-900/70":S.blur==="heavy"?"blur-xl bg-black/80":""} rounded-lg z-20`}),r.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center z-30 text-center p-4",children:[r.jsx("span",{className:"text-4xl md:text-5xl mb-3",children:S.emoji}),r.jsx("h4",{className:"text-white font-bold text-base md:text-lg mb-2",children:"Post Enfeitiado!"}),r.jsxs("p",{className:"text-white/80 text-xs md:text-sm mb-1",children:["por ",j.caster_name]}),j.message&&r.jsxs("p",{className:"text-white/70 text-xs italic",children:['"',j.message,'"']})]})]}),r.jsxs("div",{className:`mb-3 md:mb-4 ${S&&S.blur?"relative":""}`,children:[t.content&&r.jsx("p",{className:"text-gray-100 text-sm md:text-base whitespace-pre-wrap leading-relaxed mb-3",children:t.content}),t.audio_url&&r.jsx("div",{className:"mt-4 p-4 bg-gradient-to-br from-purple-900/40 to-pink-900/40 rounded-2xl backdrop-blur-sm border border-purple-500/30 shadow-lg",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-14 h-14 rounded-full bg-gradient-to-br from-purple-600 to-pink-600 flex items-center justify-center shadow-xl flex-shrink-0",children:r.jsx(Ko,{className:"w-7 h-7 text-white"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("p",{className:"text-sm font-semibold text-white mb-1 flex items-center gap-2",children:[r.jsx(pu,{className:"w-4 h-4"}),"udio Mstico"]}),r.jsx("audio",{controls:!0,className:"w-full h-10 rounded-lg",style:{filter:"invert(1) hue-rotate(180deg)"},children:r.jsx("source",{src:t.audio_url,type:"audio/mpeg"})})]})]})}),t.images&&t.images.length>0&&r.jsx("div",{className:`grid gap-2 ${t.images.length===1?"grid-cols-1":"grid-cols-2"}`,children:t.images.map((L,U)=>r.jsx("img",{src:L,alt:"",className:"rounded-lg w-full h-auto object-cover"},U))})]}),r.jsxs("div",{className:"flex items-center gap-2 md:gap-4 pt-3 md:pt-4 border-t border-purple-900/30 flex-wrap",children:[r.jsxs(yx,{open:a,onOpenChange:s,children:[r.jsx(bx,{asChild:!0,children:r.jsxs("button",{className:"flex items-center gap-1.5 md:gap-2 text-gray-300 hover:text-purple-400 transition group touch-manipulation",children:[r.jsx("div",{className:`p-1.5 md:p-2 rounded-full group-hover:bg-purple-900/30 transition ${g?"bg-purple-900/30":""}`,children:g&&y0[g]?ae.createElement(y0[g].icon,{className:"w-4 h-4 md:w-5 md:h-5",style:{color:y0[g].color}}):r.jsx($n,{className:"w-4 h-4 md:w-5 md:h-5"})}),r.jsx("span",{className:"text-xs md:text-sm font-medium text-white",children:F>0?F:""})]})}),r.jsx(vf,{className:"bg-slate-900 border-purple-900/30 p-3 z-[200]",align:"center",sideOffset:5,children:r.jsx("div",{className:"flex gap-3",children:Object.entries(y0).map(([L,{icon:U,color:z,label:K}])=>r.jsxs("button",{onClick:()=>$(L),className:"flex flex-col items-center gap-1.5 p-2.5 hover:bg-purple-900/30 rounded-lg transition cursor-pointer",title:K,children:[r.jsx(U,{className:"w-7 h-7 md:w-8 md:h-8",style:{color:z}}),r.jsx("span",{className:"text-[10px] text-gray-300",children:K})]},L))})})]}),r.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-1.5 md:gap-2 text-gray-300 hover:text-blue-400 transition group touch-manipulation",children:[r.jsx("div",{className:"p-1.5 md:p-2 rounded-full group-hover:bg-blue-900/30 transition",children:r.jsx(Da,{className:"w-4 h-4 md:w-5 md:h-5"})}),r.jsx("span",{className:"text-xs md:text-sm font-medium text-white",children:t.comments_count>0?t.comments_count:""})]}),r.jsxs("button",{onClick:()=>c(!0),className:"flex items-center gap-1.5 md:gap-2 text-gray-300 hover:text-green-400 transition group touch-manipulation",children:[r.jsx("div",{className:"p-1.5 md:p-2 rounded-full group-hover:bg-green-900/30 transition",children:r.jsx($l,{className:"w-4 h-4 md:w-5 md:h-5"})}),r.jsx("span",{className:"text-xs md:text-sm font-medium text-white",children:t.shares_count>0?t.shares_count:""})]}),r.jsxs("button",{onClick:()=>f(!0),className:"flex items-center gap-1.5 md:gap-2 text-gray-300 hover:text-yellow-400 transition group touch-manipulation",children:[r.jsx("div",{className:"p-1.5 md:p-2 rounded-full group-hover:bg-yellow-900/30 transition",children:r.jsx(Gn,{className:"w-4 h-4 md:w-5 md:h-5"})}),_>0&&r.jsx("span",{className:"text-xs md:text-sm font-medium text-yellow-400",children:_})]}),r.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-1.5 md:gap-2 text-gray-300 hover:text-purple-400 transition group ml-auto touch-manipulation",children:[r.jsx("div",{className:"p-1.5 md:p-2 rounded-full group-hover:bg-purple-900/30 transition",children:r.jsx(gr,{className:"w-4 h-4 md:w-5 md:h-5"})}),r.jsx("span",{className:"text-xs md:text-sm font-medium text-white",children:"Magia"})]})]}),F>0&&r.jsx("div",{className:"flex items-center gap-1 mt-3 pt-3 border-t border-purple-900/30 flex-wrap",children:Object.entries((t==null?void 0:t.reactions)||{}).map(([L,U])=>{const z=y0[L];if(!U||U===0||!z)return null;const K=z.icon;return r.jsxs("div",{className:"flex items-center gap-1 md:gap-1.5 px-2 md:px-2.5 py-1 md:py-1.5 bg-slate-800 rounded-full",children:[r.jsx(K,{className:"w-3 h-3 md:w-4 md:h-4",style:{color:z.color}}),r.jsx("span",{className:"text-[10px] md:text-xs text-gray-300 font-medium",children:U})]},L)})})]})]})}),(t==null?void 0:t.id)&&(e==null?void 0:e.id)&&r.jsxs(r.Fragment,{children:[r.jsx(aEe,{isOpen:i,onClose:()=>o(!1),post:t,currentUser:e}),r.jsx(lEe,{isOpen:l,onClose:()=>c(!1),post:t,currentUser:e}),r.jsx(fEe,{isOpen:d,onClose:()=>u(!1),post:t,currentUser:e,onMagicCast:L=>k.mutate(L)}),r.jsx(xEe,{isOpen:h,onClose:()=>f(!1),post:t,currentUser:e,onDonate:L=>O.mutate(L)}),r.jsx(vEe,{isOpen:v,onClose:()=>x(!1),post:t,currentUser:e})]})]})}const LL=[{value:"simples",label:"Post Simples",emoji:"",description:"Compartilhe um pensamento"},{value:"pergunta",label:"Pergunta",emoji:"",description:"Busque sabedoria da comunidade"},{value:"dica",label:"Dica",emoji:"",description:"Compartilhe conhecimento"},{value:"reflexao",label:"Reflexo",emoji:"",description:"Uma meditao profunda"},{value:"ritual",label:"Ritual",emoji:"",description:"Descreva uma prtica mstica"}],wEe={bruxa_natural:"#9333EA",sabio:"#F59E0B",guardiao_astral:"#3B82F6",xama:"#10B981",navegador_cosmico:"#8B5CF6",alquimista:"#6366F1",none:"#64748B"};function SQ({user:t,onClose:e,onSubmit:n,isLoading:a}){const[s,i]=w.useState(""),[o,l]=w.useState("simples"),[c,d]=w.useState([]),[u,h]=w.useState(null),[f,v]=w.useState(""),[x,g]=w.useState(!1),[y,b]=w.useState(!1),_=w.useRef(null),j=w.useRef(null),S=w.useRef(null),C=w.useRef([]);w.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const E=wEe[(t==null?void 0:t.archetype)||"none"],P=LL.find(G=>G.value===o),T=async G=>{const I=Array.from(G.target.files);if(I.length!==0){g(!0);try{const L=I.map(async z=>{const{file_url:K}=await H.integrations.Core.UploadFile({file:z});return K}),U=await Promise.all(L);d(z=>[...z,...U]),qe.success(`${I.length} imagem(ns) enviada(s)!`)}catch(L){console.error("Erro ao fazer upload:",L),qe.error("Erro ao enviar imagens")}finally{g(!1)}}},M=async G=>{const I=G.target.files[0];if(I){g(!0);try{const{file_url:L}=await H.integrations.Core.UploadFile({file:I});v(L),h(I),qe.success("udio enviado!")}catch(L){console.error("Erro ao fazer upload:",L),qe.error("Erro ao enviar udio")}finally{g(!1)}}},k=async()=>{try{const G=await navigator.mediaDevices.getUserMedia({audio:!0}),I=new MediaRecorder(G);S.current=I,C.current=[],I.ondataavailable=L=>{C.current.push(L.data)},I.onstop=async()=>{const L=new Blob(C.current,{type:"audio/webm"}),U=new File([L],"audio.webm",{type:"audio/webm"});g(!0);try{const{file_url:z}=await H.integrations.Core.UploadFile({file:U});v(z),h(U),qe.success("Gravao salva!")}catch(z){console.error("Erro ao fazer upload:",z),qe.error("Erro ao salvar gravao")}finally{g(!1)}G.getTracks().forEach(z=>z.stop())},I.start(),b(!0),qe.success("Gravando udio...")}catch(G){console.error("Erro ao iniciar gravao:",G),qe.error("Erro ao acessar microfone")}},O=()=>{S.current&&y&&(S.current.stop(),b(!1))},$=G=>{d(I=>I.filter((L,U)=>U!==G))},F=()=>{v(""),h(null)},B=()=>{if(!s.trim()&&c.length===0&&!f){qe.error("Adicione texto, imagem ou udio ao seu post");return}n({content:s.trim(),post_type:o,images:c,audio_url:f})};return r.jsx(gt,{children:r.jsx(q.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",onClick:e,children:r.jsx(q.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},onClick:G=>G.stopPropagation(),className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:r.jsxs(X,{className:"bg-gradient-to-br from-slate-900 to-slate-800 border-purple-900/30 p-4 md:p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-full border-2 overflow-hidden flex items-center justify-center flex-shrink-0",style:{borderColor:E},children:t!=null&&t.avatar_url?r.jsx("img",{src:t.avatar_url,alt:"",className:"w-full h-full object-cover"}):r.jsx(_e,{className:"w-5 h-5 md:w-6 md:h-6 text-purple-400"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-base md:text-lg font-bold text-white",children:(t==null?void 0:t.display_name)||(t==null?void 0:t.full_name)}),r.jsx("p",{className:"text-xs md:text-sm text-gray-400",children:"Criar emanao mstica"})]})]}),r.jsx(W,{variant:"ghost",size:"icon",onClick:e,className:"text-gray-400 hover:text-white",children:r.jsx(nt,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-purple-300 mb-2",children:"Tipo de Emanao"}),r.jsxs(yx,{children:[r.jsx(bx,{asChild:!0,children:r.jsxs(W,{variant:"outline",className:"w-full bg-slate-800 border-purple-900/30 text-white hover:bg-slate-700 justify-start",children:[r.jsx("span",{className:"mr-2 text-lg",children:P==null?void 0:P.emoji}),r.jsx("span",{className:"flex-1 text-left",children:P==null?void 0:P.label}),r.jsx("span",{className:"text-xs text-gray-400",children:P==null?void 0:P.description})]})}),r.jsx(vf,{className:"w-full bg-slate-900 border-purple-900/30",children:LL.map(G=>r.jsxs(yf,{onClick:()=>l(G.value),className:"text-white hover:bg-slate-800 cursor-pointer",children:[r.jsx("span",{className:"mr-2 text-lg",children:G.emoji}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-semibold",children:G.label}),r.jsx("p",{className:"text-xs text-gray-400",children:G.description})]})]},G.value))})]})]}),r.jsxs("div",{children:[r.jsx(It,{value:s,onChange:G=>i(G.target.value),placeholder:"Compartilhe sua sabedoria com o universo...",className:"bg-slate-800 border-purple-900/30 text-white placeholder:text-gray-400 min-h-[150px] text-base resize-none",maxLength:5e3}),r.jsxs("p",{className:"text-xs text-gray-400 mt-1 text-right",children:[s.length," / 5000"]})]}),c.length>0&&r.jsx("div",{className:"grid grid-cols-2 gap-2",children:c.map((G,I)=>r.jsxs("div",{className:"relative group",children:[r.jsx("img",{src:G,alt:`Preview ${I+1}`,className:"w-full h-40 object-cover rounded-lg"}),r.jsx("button",{onClick:()=>$(I),className:"absolute top-2 right-2 p-1 bg-red-600 hover:bg-red-700 rounded-full opacity-0 group-hover:opacity-100 transition",children:r.jsx(nt,{className:"w-4 h-4 text-white"})})]},I))}),f&&r.jsxs("div",{className:"bg-purple-900/20 border border-purple-500/30 rounded-lg p-3",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(mo,{className:"w-4 h-4 text-purple-400"}),r.jsx("span",{className:"text-sm text-purple-300 font-medium",children:"udio anexado"})]}),r.jsx("button",{onClick:F,className:"text-red-400 hover:text-red-300",children:r.jsx(nt,{className:"w-4 h-4"})})]}),r.jsx("audio",{src:f,controls:!0,className:"w-full"})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsx("input",{ref:_,type:"file",accept:"image/*",multiple:!0,onChange:T,className:"hidden"}),r.jsxs(W,{type:"button",variant:"outline",size:"sm",onClick:()=>{var G;return(G=_.current)==null?void 0:G.click()},disabled:x,className:"border-purple-500/30 text-purple-300 hover:bg-purple-900/20 px-3 py-2 touch-manipulation",children:[r.jsx(Sg,{className:"w-4 h-4 mr-2"}),r.jsx("span",{className:"text-xs md:text-sm",children:"Imagens"})]}),r.jsx("input",{ref:j,type:"file",accept:"audio/*",onChange:M,className:"hidden"}),r.jsxs(W,{type:"button",variant:"outline",size:"sm",onClick:()=>{var G;return(G=j.current)==null?void 0:G.click()},disabled:x||f,className:"border-purple-500/30 text-purple-300 hover:bg-purple-900/20 px-3 py-2 touch-manipulation",children:[r.jsx(mo,{className:"w-4 h-4 mr-2"}),r.jsx("span",{className:"text-xs md:text-sm",children:"Enviar udio"})]}),r.jsxs(W,{type:"button",variant:"outline",size:"sm",onClick:y?O:k,disabled:x||f,className:`border-purple-500/30 hover:bg-purple-900/20 px-3 py-2 touch-manipulation ${y?"text-red-400 animate-pulse":"text-purple-300"}`,children:[r.jsx(mo,{className:"w-4 h-4 mr-2"}),r.jsx("span",{className:"text-xs md:text-sm",children:y?"Parar":"Gravar"})]})]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsx(W,{variant:"outline",onClick:e,className:"flex-1 border-purple-900/30 text-purple-300 hover:bg-purple-900/20",children:"Cancelar"}),r.jsx(W,{onClick:B,disabled:a||x,className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",style:{background:`linear-gradient(135deg, ${E}, ${E}DD)`},children:a||x?r.jsxs(r.Fragment,{children:[r.jsx(zt,{className:"w-5 h-5 mr-2 animate-spin"}),x?"Enviando...":"Publicando..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Hr,{className:"w-5 h-5 mr-2"}),"Publicar"]})})]})]})]})})})})}function _Ee(t,e=[]){let n=[];function a(i,o){const l=w.createContext(o);l.displayName=i+"Context";const c=n.length;n=[...n,o];const d=h=>{var b;const{scope:f,children:v,...x}=h,g=((b=f==null?void 0:f[t])==null?void 0:b[c])||l,y=w.useMemo(()=>x,Object.values(x));return r.jsx(g.Provider,{value:y,children:v})};d.displayName=i+"Provider";function u(h,f){var g;const v=((g=f==null?void 0:f[t])==null?void 0:g[c])||l,x=w.useContext(v);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[d,u]}const s=()=>{const i=n.map(o=>w.createContext(o));return function(l){const c=(l==null?void 0:l[t])||i;return w.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[a,jEe(s,...e)]}function jEe(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const a=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=a.reduce((l,{useScope:c,scopeName:d})=>{const h=c(i)[`__scope${d}`];return{...l,...h}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var NEe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],CQ=NEe.reduce((t,e)=>{const n=Pg(`Primitive.${e}`),a=w.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(c,{...l,ref:i})});return a.displayName=`Primitive.${e}`,{...t,[e]:a}},{}),mk="Progress",fk=100,[SEe]=_Ee(mk),[CEe,EEe]=SEe(mk),EQ=w.forwardRef((t,e)=>{const{__scopeProgress:n,value:a=null,max:s,getValueLabel:i=AEe,...o}=t;(s||s===0)&&!FL(s)&&console.error(MEe(`${s}`,"Progress"));const l=FL(s)?s:fk;a!==null&&!$L(a,l)&&console.error(PEe(`${a}`,"Progress"));const c=$L(a,l)?a:null,d=lw(c)?i(c,l):void 0;return r.jsx(CEe,{scope:n,value:c,max:l,children:r.jsx(CQ.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":lw(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":PQ(c,l),"data-value":c??void 0,"data-max":l,...o,ref:e})})});EQ.displayName=mk;var AQ="ProgressIndicator",MQ=w.forwardRef((t,e)=>{const{__scopeProgress:n,...a}=t,s=EEe(AQ,n);return r.jsx(CQ.div,{"data-state":PQ(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...a,ref:e})});MQ.displayName=AQ;function AEe(t,e){return`${Math.round(t/e*100)}%`}function PQ(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function lw(t){return typeof t=="number"}function FL(t){return lw(t)&&!isNaN(t)&&t>0}function $L(t,e){return lw(t)&&!isNaN(t)&&t<=e&&t>=0}function MEe(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${fk}\`.`}function PEe(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${fk} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var TQ=EQ,TEe=MQ;const s_=w.forwardRef(({className:t,value:e,...n},a)=>r.jsx(TQ,{ref:a,className:Wt("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",t),...n,children:r.jsx(TEe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));s_.displayName=TQ.displayName;function kEe({user:t}){if(!t)return null;const e=t.level||1,n=t.xp||0,a=e*100,s=Math.min(n/a*100,100);return r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[r.jsxs(X,{className:"bg-gradient-to-br from-purple-900/50 to-indigo-900/50 border-purple-500/30 p-4 flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-purple-600/20 flex items-center justify-center border border-purple-500/50",children:r.jsx(Bn,{className:"w-6 h-6 text-purple-400"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex justify-between items-center mb-1",children:[r.jsxs("span",{className:"text-sm font-bold text-white",children:["Nvel ",e]}),r.jsxs("span",{className:"text-xs text-purple-300",children:[n,"/",a," XP"]})]}),r.jsx(s_,{value:s,className:"h-2 bg-purple-950",indicatorClassName:"bg-purple-500"})]})]}),r.jsxs(X,{className:"bg-gradient-to-br from-yellow-900/50 to-amber-900/50 border-yellow-500/30 p-4 flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-yellow-600/20 flex items-center justify-center border border-yellow-500/50",children:r.jsx(Wn,{className:"w-6 h-6 text-yellow-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-yellow-200 uppercase font-bold tracking-wider",children:"Seus Ouros"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:t.ouros||0})]})]}),r.jsxs(X,{className:"bg-gradient-to-br from-blue-900/50 to-cyan-900/50 border-blue-500/30 p-4 flex items-center gap-4 md:col-span-1 col-span-2 md:col-auto",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-600/20 flex items-center justify-center border border-blue-500/50",children:r.jsx(gr,{className:"w-6 h-6 text-blue-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-blue-200 uppercase font-bold tracking-wider",children:"Ofensiva"}),r.jsxs("p",{className:"text-xl font-bold text-white",children:[t.daily_streak||0," dias"]})]})]})]})}const REe="bfaf57dd1ed477eb4aff9f6b85ad28d3",OEe=()=>{const t=new Date().getHours();return t>=5&&t<12?"Bom dia":t>=12&&t<18?"Boa tarde":"Boa noite"};function LP(){var S,C;Sn();const[t,e]=w.useState(null),[n,a]=w.useState([]),[s,i]=w.useState(null),[o,l]=w.useState("Nova"),[c,d]=w.useState(!0),[u,h]=w.useState(!0),[f,v]=w.useState(!1),[x,g]=w.useState("");w.useEffect(()=>{y()},[]);const y=async()=>{d(!0);try{const{data:{session:E}}=await os.auth.getSession();if(E!=null&&E.user){const{data:P}=await os.from("profiles").select("*").eq("id",E.user.id).single(),T=P?{...E.user,...P}:E.user;e(T),g(OEe()),T.city?_(T.city):_("So Paulo"),l("Crescente"),b()}}catch(E){console.error("Erro ao carregar:",E)}finally{d(!1)}},b=async()=>{h(!0);try{const{data:E}=await os.from("posts").select("*").order("created_at",{ascending:!1}).limit(20);a(E||[])}catch(E){console.error(E)}finally{h(!1)}},_=async E=>{try{const P=await Fr.get(`https://api.openweathermap.org/data/2.5/weather?q=${E}&appid=${REe}&units=metric&lang=pt_br`);i(P.data)}catch(P){console.error("Erro Clima:",P)}},j=({condition:E})=>E?E.includes("chuva")?r.jsx(hue,{className:"w-6 h-6 text-blue-400"}):E.includes("nuvens")?r.jsx(fue,{className:"w-6 h-6 text-gray-400"}):r.jsx(IM,{className:"w-6 h-6 text-yellow-400"}):r.jsx(IM,{className:"w-6 h-6 text-yellow-400"});return c?r.jsx("div",{className:"min-h-screen bg-[#02031C] flex items-center justify-center",children:r.jsx(zt,{className:"w-10 h-10 text-purple-500 animate-spin"})}):r.jsxs("div",{className:"min-h-screen bg-[#02031C] text-white p-4 md:p-6 pb-24",children:[r.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[r.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[r.jsxs("h1",{className:"text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-600",children:[x,", ",(t==null?void 0:t.display_name)||"Viajante","!"]}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Sua jornada mstica continua."})]}),r.jsx(kEe,{user:t}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs(X,{className:"bg-white/5 border-white/10 p-4 text-center flex flex-col items-center justify-center",children:[r.jsxs("div",{className:"text-xs text-gray-400 mb-1 flex items-center gap-1",children:[r.jsx(op,{className:"w-3 h-3"})," ",(s==null?void 0:s.name)||"Local"]}),r.jsx(j,{condition:(C=(S=s==null?void 0:s.weather)==null?void 0:S[0])==null?void 0:C.description}),r.jsx("div",{className:"text-xl font-bold mt-1",children:s?Math.round(s.main.temp)+"C":"--"})]}),r.jsxs(X,{className:"bg-white/5 border-white/10 p-4 text-center flex flex-col items-center justify-center",children:[r.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Lua Atual"}),r.jsx(td,{className:"w-6 h-6 text-purple-300"}),r.jsx("div",{className:"text-xl font-bold mt-1",children:o})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("h2",{className:"text-lg font-bold flex items-center gap-2",children:[r.jsx(_e,{className:"w-4 h-4 text-purple-400"})," Feed da Comunidade"]}),r.jsx(W,{size:"sm",onClick:()=>v(!0),className:"bg-purple-600 hover:bg-purple-700 text-white border-0",children:"+ Postar"})]}),r.jsx(gt,{children:u?r.jsx("div",{className:"text-center py-8",children:r.jsx(zt,{className:"w-8 h-8 text-purple-500 animate-spin mx-auto"})}):n.length===0?r.jsxs("div",{className:"text-center p-8 bg-white/5 rounded-xl border border-dashed border-white/10",children:[r.jsx(Jn,{className:"w-12 h-12 text-purple-500/50 mx-auto mb-2"}),r.jsx("p",{className:"text-gray-400",children:"O silncio reina aqui. Seja o primeiro a falar!"})]}):n.map(E=>r.jsx(bEe,{post:E,currentUser:t},E.id))})]})]}),f&&r.jsx(SQ,{user:t,onClose:()=>v(!1),onSubmit:async E=>{await os.from("posts").insert([{content:E.content,user_id:t.id,author_name:t.display_name||t.email.split("@")[0]}]),v(!1),b()},isLoading:!1})]})}const UL={bruxa_natural:{name:"Bruxa Natural",color:"#9333EA",gradient:"from-purple-600 to-purple-800",icon:"",description:"Conectada profundamente com a natureza e seus ciclos, a Bruxa Natural comanda os elementos e as energias da Terra.",traits:["Conexo profunda com a natureza","Domnio sobre ervas e cristais","Sintonia com os ciclos lunares","Sabedoria ancestral"],bonuses:[{icon:Jn,label:"XP em rituais lunares",value:"+15%"},{icon:$n,label:"Cura e proteo",value:"+20%"},{icon:_e,label:"Magia natural",value:"+10%"}],path:"Explore a sabedoria ancestral das plantas, cristais e energias naturais. Aprofunde sua conexo com a Lua e os ciclos da natureza.",quests:["Realizar 10 rituais lunares","Coletar 20 cristais msticos","Meditar sob a lua cheia"]},sabio:{name:"Sbio",color:"#F59E0B",gradient:"from-amber-600 to-orange-800",icon:"",description:"Guardio do conhecimento mstico, o Sbio busca a verdade atravs do estudo, meditao e contemplao profunda.",traits:["Busca incessante por conhecimento","Mestre em filosofia mstica","Sabedoria em Tarot e orculos","Mentor natural"],bonuses:[{icon:Oa,label:"XP em estudos msticos",value:"+20%"},{icon:Wn,label:"Preciso em leituras",value:"+25%"},{icon:Bn,label:"Reputao na Arena",value:"+15%"}],path:"Desvende os mistrios do Tarot, da Astrologia e das filosofias msticas. Compartilhe seu conhecimento e torne-se um mestre.",quests:["Vencer 15 duelos na Arena","Completar 30 leituras de Tarot","Ensinar 5 viajantes"]},guardiao_astral:{name:"Guardio Astral",color:"#3B82F6",gradient:"from-blue-600 to-cyan-800",icon:"",description:"Protetor csmico que viaja entre dimenses, o Guardio Astral domina as energias astrais e celestiais.",traits:["Proteo contra energias negativas","Viagem astral avanada","Conexo com guias espirituais","Mestre em astrologia"],bonuses:[{icon:ud,label:"Proteo espiritual",value:"+30%"},{icon:_e,label:"Intuio astral",value:"+20%"},{icon:gr,label:"Energia csmica",value:"+15%"}],path:"Domine a arte da proteo espiritual e explore os planos astrais. Conecte-se com seus guias e proteja outros viajantes.",quests:["Proteger 10 viajantes","Completar 20 meditaes astrais","Estudar todos os planetas"]},xama:{name:"Xam",color:"#10B981",gradient:"from-green-600 to-emerald-800",icon:"",description:"Ponte entre mundos, o Xam comunica-se com espritos ancestrais e cura atravs de rituais sagrados.",traits:["Comunicao com espritos","Rituais de cura profunda","Jornadas xamnicas","Sabedoria tribal"],bonuses:[{icon:$n,label:"Cura espiritual",value:"+25%"},{icon:ci,label:"Rituais sagrados",value:"+20%"},{icon:dh,label:"Vises profticas",value:"+15%"}],path:"Aprenda rituais ancestrais e conecte-se com o mundo espiritual. Torne-se um curador e guia para sua comunidade.",quests:["Realizar 15 rituais de cura","Conversar com 10 espritos","Guiar 5 jornadas xamnicas"]},navegador_cosmico:{name:"Navegador Csmico",color:"#8B5CF6",gradient:"from-violet-600 to-purple-800",icon:"",description:"Explorador interdimensional que navega pelos mistrios do cosmos, descobrindo verdades universais ocultas.",traits:["Explorao de realidades alternativas","Domnio da sincronicidade","Viso multidimensional","Conexo com o universo"],bonuses:[{icon:_e,label:"Sincronicidades",value:"+30%"},{icon:Wn,label:"Descobertas csmicas",value:"+20%"},{icon:gr,label:"Energia universal",value:"+15%"}],path:"Desbrave os mistrios do cosmos e descubra conexes ocultas. Torne-se um mestre das sincronicidades.",quests:["Descobrir 20 sincronicidades","Explorar 10 portais","Meditar no cosmos 15 vezes"]},alquimista:{name:"Alquimista",color:"#6366F1",gradient:"from-indigo-600 to-purple-800",icon:"",description:"Transformador mstico que domina a arte da alquimia espiritual, transmutando energias e materiais.",traits:["Transmutao de energias","Criao de elixires msticos","Domnio da qumica sagrada","Transformao pessoal"],bonuses:[{icon:ci,label:"Criao de poes",value:"+25%"},{icon:xr,label:"Transmutao",value:"+20%"},{icon:Jn,label:"Evoluo espiritual",value:"+15%"}],path:"Domine a arte sagrada da alquimia e aprenda a transmutar energias. Crie poes e elixires poderosos.",quests:["Criar 20 poes msticas","Transmutar 15 energias negativas","Completar o Grande Trabalho"]}};function kQ(){const[t,e]=w.useState(null),[n,a]=w.useState(null);w.useEffect(()=>{s()},[]);const s=async()=>{try{const o=await H.auth.me();e(o),o.archetype&&o.archetype!=="none"&&a(o.archetype)}catch(o){console.error("Erro ao carregar usurio:",o)}};if(!t)return r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx(_e,{className:"w-12 h-12 text-purple-500 animate-pulse"})});const i=t.archetype&&t.archetype!=="none"?UL[t.archetype]:null;return r.jsx("div",{className:"min-h-screen bg-gradient-to-b from-[#0f0f1e] via-[#1a1a2e] to-[#0f0f1e] pb-24",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[r.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-12",children:i?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 rounded-full bg-gradient-to-br from-purple-600 to-pink-600 mb-6 text-5xl",children:i.icon}),r.jsx("h1",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-purple-400 via-pink-400 to-blue-400 bg-clip-text text-transparent mb-4",children:i.name}),r.jsx("p",{className:"text-gray-400 text-lg max-w-2xl mx-auto",children:i.description})]}):r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 rounded-full bg-gradient-to-br from-purple-600 to-pink-600 mb-6 text-5xl",children:""}),r.jsx("h1",{className:"text-3xl md:text-4xl font-bold bg-gradient-to-r from-purple-400 via-pink-400 to-blue-400 bg-clip-text text-transparent mb-4",children:" Descobrindo seu Arqutipo"}),r.jsx("p",{className:"text-white text-sm md:text-base max-w-2xl mx-auto",children:"Responda s perguntas para descobrir seu arqutipo mstico"})]})}),i?r.jsxs(r.Fragment,{children:[r.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"mb-8",children:r.jsxs(X,{className:"bg-gradient-to-br from-slate-900 to-slate-800 border-purple-900/30 p-6",children:[r.jsxs("h2",{className:"text-2xl font-bold text-purple-300 mb-4 flex items-center gap-2",children:[r.jsx(_e,{className:"w-6 h-6"}),"Caractersticas do Arqutipo"]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i.traits.map((o,l)=>r.jsxs(q.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2+l*.1},className:"flex items-center gap-3 bg-slate-800/50 p-3 rounded-lg",children:[r.jsx(qH,{className:"w-5 h-5 text-purple-400"}),r.jsx("p",{className:"text-gray-300",children:o})]},l))})]})}),r.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"mb-8",children:r.jsxs(X,{className:"bg-gradient-to-br from-slate-900 to-slate-800 border-purple-900/30 p-6",children:[r.jsxs("h2",{className:"text-2xl font-bold text-purple-300 mb-4 flex items-center gap-2",children:[r.jsx(xr,{className:"w-6 h-6"}),"Bnus e Vantagens"]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:i.bonuses.map((o,l)=>{const c=o.icon;return r.jsxs(q.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.4+l*.1},className:`bg-gradient-to-br ${i.gradient} p-4 rounded-xl`,children:[r.jsx(c,{className:"w-8 h-8 text-white mb-2"}),r.jsx("p",{className:"text-white font-semibold mb-1",children:o.label}),r.jsx("p",{className:"text-2xl font-bold text-white",children:o.value})]},l)})})]})}),r.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"mb-8",children:r.jsxs(X,{className:"bg-gradient-to-br from-slate-900 to-slate-800 border-purple-900/30 p-6",children:[r.jsxs("h2",{className:"text-2xl font-bold text-purple-300 mb-4 flex items-center gap-2",children:[r.jsx(dh,{className:"w-6 h-6"}),"Seu Caminho Espiritual"]}),r.jsx("p",{className:"text-gray-300 text-lg mb-6",children:i.path}),r.jsx("h3",{className:"text-xl font-bold text-purple-300 mb-4",children:"Misses do Arqutipo:"}),r.jsx("div",{className:"space-y-3",children:i.quests.map((o,l)=>r.jsxs(q.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.6+l*.1},className:"flex items-center gap-3 bg-slate-800/50 p-4 rounded-lg",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-purple-600 flex items-center justify-center text-white font-bold",children:l+1}),r.jsx("p",{className:"text-gray-300",children:o})]},l))})]})}),r.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},children:r.jsxs(X,{className:"bg-gradient-to-br from-slate-900 to-slate-800 border-purple-900/30 p-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-purple-300 mb-4",children:"Conhea Outros Arqutipos"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:Object.entries(UL).map(([o,l])=>r.jsxs(q.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>a(o),className:`p-4 rounded-xl text-center transition ${o===t.archetype?`bg-gradient-to-br ${l.gradient}`:"bg-slate-800/50 hover:bg-slate-700/50"}`,children:[r.jsx("div",{className:"text-4xl mb-2",children:l.icon}),r.jsx("p",{className:"text-xs font-semibold text-white",children:l.name})]},o))})]})})]}):r.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center",children:r.jsxs(X,{className:"bg-gradient-to-br from-slate-900 to-slate-800 border-purple-900/30 p-12",children:[r.jsx(_e,{className:"w-16 h-16 text-purple-500 mx-auto mb-6"}),r.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Descubra Seu Arqutipo Mstico"}),r.jsx("p",{className:"text-gray-400 mb-8 max-w-md mx-auto",children:"Complete o questionrio de arqutipos para descobrir qual caminho espiritual ressoa com sua essncia."}),r.jsx(W,{className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-lg px-8 py-6",children:"Iniciar Questionrio"})]})})]})})}function RQ({isOpen:t,onClose:e,onVoiceSent:n,user:a}){const[s,i]=w.useState(!1),[o,l]=w.useState(!1),[c,d]=w.useState(null),[u,h]=w.useState(0),[f,v]=w.useState(null),[x,g]=w.useState([]),[y,b]=w.useState(!1),_=w.useRef(null),j=w.useRef(null);w.useEffect(()=>(s&&!o?_.current=setInterval(()=>{h($=>$+1)},1e3):_.current&&clearInterval(_.current),()=>{_.current&&clearInterval(_.current)}),[s,o]);const S=async()=>{try{const $=await navigator.mediaDevices.getUserMedia({audio:!0});j.current=$;const F=new MediaRecorder($),B=[];F.ondataavailable=G=>{G.data.size>0&&B.push(G.data)},F.onstop=()=>{const G=new Blob(B,{type:"audio/webm"}),I=URL.createObjectURL(G);d(I),g(B),$.getTracks().forEach(L=>L.stop())},F.start(),v(F),i(!0),h(0)}catch($){console.error("Erro ao acessar microfone:",$),qe.error("No foi possvel acessar o microfone")}},C=()=>{f&&f.state!=="inactive"&&(f.stop(),i(!1),l(!1))},E=()=>{f&&f.state==="recording"&&(f.pause(),l(!0))},P=()=>{f&&f.state==="paused"&&(f.resume(),l(!1))},T=()=>{c&&URL.revokeObjectURL(c),d(null),g([]),h(0),j.current&&j.current.getTracks().forEach($=>$.stop())},M=async()=>{if(x.length){b(!0);try{const $=new Blob(x,{type:"audio/webm"}),F=new File([$],"audio.webm",{type:"audio/webm"}),{file_url:B}=await H.integrations.Core.UploadFile({file:F});n(B),T(),e(),qe.success("udio enviado! ")}catch($){console.error("Erro ao enviar udio:",$),qe.error("Erro ao enviar udio")}finally{b(!1)}}},k=$=>{const F=Math.floor($/60),B=$%60;return`${F}:${B.toString().padStart(2,"0")}`},O=()=>{T(),s&&C(),e()};return t?r.jsx(gt,{children:r.jsx(q.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[60] bg-black/90 backdrop-blur-sm flex items-center justify-center p-4",onClick:O,children:r.jsx(q.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:$=>$.stopPropagation(),className:"w-full max-w-md",children:r.jsxs(X,{className:"bg-gradient-to-br from-slate-900 via-purple-900/20 to-slate-900 border-2 border-purple-500/30 p-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-8",children:[r.jsx("h3",{className:"text-2xl font-bold text-white",children:"Gravar udio"}),r.jsx("button",{onClick:O,className:"text-gray-400 hover:text-white transition",children:r.jsx(nt,{className:"w-6 h-6"})})]}),r.jsxs("div",{className:"mb-8",children:[r.jsx("div",{className:"relative w-48 h-48 mx-auto",children:r.jsxs("div",{className:"absolute inset-0 flex items-center justify-center",children:[s&&!o&&r.jsxs(r.Fragment,{children:[r.jsx(q.div,{animate:{scale:[1,1.3,1],opacity:[.5,0,.5]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"absolute w-full h-full rounded-full bg-purple-600/30"}),r.jsx(q.div,{animate:{scale:[1,1.5,1],opacity:[.3,0,.3]},transition:{duration:2,repeat:1/0,ease:"easeInOut",delay:.5},className:"absolute w-full h-full rounded-full bg-purple-600/20"})]}),r.jsx("div",{className:`w-32 h-32 rounded-full flex items-center justify-center ${s?"bg-gradient-to-br from-red-600 to-red-700":"bg-gradient-to-br from-purple-600 to-purple-700"}`,children:r.jsx(mo,{className:"w-16 h-16 text-white"})})]})}),r.jsxs("div",{className:"text-center mt-6",children:[r.jsx("div",{className:"text-4xl font-bold text-white mb-2",children:k(u)}),r.jsx("p",{className:"text-sm text-gray-400",children:s?o?"Gravao pausada":"Gravando...":c?"udio gravado":"Pronto para gravar"})]})]}),c&&!s&&r.jsx("div",{className:"mb-6 bg-slate-800/50 p-4 rounded-xl",children:r.jsx("audio",{controls:!0,className:"w-full",children:r.jsx("source",{src:c,type:"audio/webm"})})}),r.jsxs("div",{className:"flex items-center justify-center gap-4",children:[!s&&!c&&r.jsxs(W,{onClick:S,size:"lg",className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 h-14 px-8",children:[r.jsx(mo,{className:"w-5 h-5 mr-2"}),"Iniciar Gravao"]}),s&&r.jsxs(r.Fragment,{children:[o?r.jsx(W,{onClick:P,size:"icon",variant:"outline",className:"h-14 w-14 rounded-full border-2 border-green-500 text-green-500 hover:bg-green-500/10",children:r.jsx(Qa,{className:"w-6 h-6"})}):r.jsx(W,{onClick:E,size:"icon",variant:"outline",className:"h-14 w-14 rounded-full border-2 border-yellow-500 text-yellow-500 hover:bg-yellow-500/10",children:r.jsx(cd,{className:"w-6 h-6"})}),r.jsx(W,{onClick:C,size:"icon",className:"h-14 w-14 rounded-full bg-gradient-to-br from-red-600 to-red-700 hover:from-red-700 hover:to-red-800",children:r.jsx(Mme,{className:"w-6 h-6"})})]}),c&&!s&&r.jsxs(r.Fragment,{children:[r.jsx(W,{onClick:T,size:"icon",variant:"outline",className:"h-14 w-14 rounded-full border-2 border-red-500 text-red-500 hover:bg-red-500/10",children:r.jsx(qr,{className:"w-6 h-6"})}),r.jsx(W,{onClick:M,disabled:y,size:"lg",className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 h-14 px-8",children:y?r.jsxs(r.Fragment,{children:[r.jsx(q.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:r.jsx(Sparkles,{className:"w-5 h-5 mr-2"})}),"Enviando..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Hr,{className:"w-5 h-5 mr-2"}),"Enviar udio"]})})]})]}),r.jsxs("p",{className:"text-center text-xs text-gray-500 mt-6",children:[!s&&!c&&"Clique para comear a gravar sua mensagem",s&&"Clique no quadrado para parar a gravao",c&&!s&&"Oua a prvia e envie ou delete para gravar novamente"]})]})})})}):null}const BL={bruxa_natural:"#9333EA",sabio:"#F59E0B",guardiao_astral:"#3B82F6",xama:"#10B981",navegador_cosmico:"#8B5CF6",alquimista:"#6366F1",none:"#64748B"};function DEe({message:t,currentUser:e,onReact:n,onReply:a}){const s=t.author_id===e.id,i=BL[t.author_archetype]||BL.none,[o,l]=w.useState(!1),c=u=>u&&u.split(/(@[\w]+)/g).map((f,v)=>f.startsWith("@")?r.jsx("span",{className:"text-purple-400 font-semibold",children:f},v):f),d=Object.values(t.reactions||{}).reduce((u,h)=>u+h,0);return r.jsxs(q.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`flex gap-2 md:gap-3 mb-3 md:mb-4 group ${s?"flex-row-reverse":"flex-row"}`,children:[r.jsx(Es,{user:{id:t.author_id},children:r.jsx(Lr,{user:{avatar_url:t.author_avatar,archetype:t.author_archetype,online_status:"online"},size:"sm",showStatus:!1})}),r.jsx("div",{className:"flex-1 max-w-[80%] md:max-w-[75%]",children:r.jsxs("div",{className:`p-3 md:p-4 rounded-2xl relative ${s?"bg-gradient-to-br from-purple-600/40 to-purple-700/40 backdrop-blur-sm":"bg-slate-800/60 backdrop-blur-sm"}`,children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1.5",children:[r.jsx(Es,{user:{id:t.author_id},children:r.jsx("span",{className:"font-bold text-sm md:text-base truncate hover:underline",style:{color:s?"#fbbf24":i},children:t.author_name})}),r.jsxs("span",{className:"text-[10px] md:text-xs text-gray-400 flex-shrink-0",children:["Nv.",t.author_level]})]}),t.message_type==="audio"&&t.media_url?r.jsxs("div",{className:"flex items-center gap-2 md:gap-3 my-2",children:[r.jsx("div",{className:"w-8 h-8 md:w-10 md:h-10 rounded-full bg-purple-600/30 flex items-center justify-center flex-shrink-0",children:r.jsx(Ko,{className:"w-4 h-4 md:w-5 md:h-5 text-purple-400"})}),r.jsx("audio",{controls:!0,className:"flex-1 h-8 md:h-10 max-w-full",children:r.jsx("source",{src:t.media_url,type:"audio/webm"})})]}):r.jsx("p",{className:"text-white text-sm md:text-base leading-relaxed break-words",children:c(t.content)}),d>0&&r.jsx("div",{className:"flex items-center gap-1 mt-2 flex-wrap",children:Object.entries(t.reactions||{}).map(([u,h])=>{if(h===0)return null;const f={sparkle:"",fire:"",heart:"",magic:""};return r.jsxs("span",{className:"text-xs bg-slate-700/50 px-2 py-0.5 rounded-full",children:[f[u]," ",h]},u)})}),r.jsxs("div",{className:"flex items-center justify-between mt-2",children:[r.jsxs("p",{className:"text-[10px] md:text-xs text-gray-500",children:[kn(new Date(t.created_date),"HH:mm",{locale:jn}),t.is_edited&&r.jsx("span",{className:"ml-1 text-gray-600",children:"(editado)"})]}),r.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition",children:[r.jsx("button",{onClick:()=>l(!o),className:"p-1.5 hover:bg-white/10 rounded-lg transition",children:r.jsx(sG,{className:"w-3.5 h-3.5 text-gray-400"})}),r.jsx("button",{onClick:()=>a(t),className:"p-1.5 hover:bg-white/10 rounded-lg transition",children:r.jsx(G3,{className:"w-3.5 h-3.5 text-gray-400"})})]})]}),r.jsx(gt,{children:o&&r.jsx(q.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"absolute z-10 bg-slate-900 border-2 border-purple-500/50 rounded-2xl p-3 shadow-2xl",style:{bottom:"100%",left:s?"auto":"0",right:s?"0":"auto",marginBottom:"8px"},children:r.jsx("div",{className:"flex gap-2",children:[{emoji:"",type:"sparkle"},{emoji:"",type:"fire"},{emoji:"",type:"heart"},{emoji:"",type:"magic"}].map(({emoji:u,type:h})=>r.jsx("button",{onClick:()=>{n(t.id,h),l(!1)},className:"text-2xl md:text-3xl hover:scale-125 transition p-2 hover:bg-white/10 rounded-lg",children:u},h))})})})]})})]})}function IEe({isOpen:t,onClose:e,currentUser:n}){const[a,s]=w.useState(""),[i,o]=w.useState(!1),[l,c]=w.useState(!1),[d,u]=w.useState(""),[h,f]=w.useState(!1),[v,x]=w.useState(0),[g,y]=w.useState(null),[b,_]=w.useState(0),j=w.useRef(null),S=w.useRef(null),C=wt(),E=["","","","","","","","","","","","","","","","","",""],{data:P=[],isLoading:T}=Oe({queryKey:["global-chat-messages"],queryFn:()=>H.entities.ChatMessage.filter({room_id:"global"},"created_date",200),enabled:t,refetchInterval:2e3}),{data:M=[]}=Oe({queryKey:["all-users-for-mention"],queryFn:async()=>await H.entities.User.list("-created_date",50),enabled:t});w.useEffect(()=>{if(t){const V=async()=>{const ee=await H.entities.ZamiraPosition.filter({is_online:!0});_(ee.length)};V();const Y=setInterval(V,1e4);return()=>clearInterval(Y)}},[t]);const k=Ue({mutationFn:async({content:V,type:Y="text",mediaUrl:ee=null})=>{await H.entities.ChatMessage.create({room_id:"global",author_id:n.id,author_name:n.display_name||n.full_name,author_avatar:n.avatar_url,author_level:n.level||1,author_archetype:n.archetype||"none",message_type:Y,content:V,media_url:ee,reactions:{},reply_to:(g==null?void 0:g.id)||null})},onSuccess:()=>{C.invalidateQueries({queryKey:["global-chat-messages"]}),s(""),y(null)}}),O=Ue({mutationFn:async({messageId:V,reactionType:Y})=>{const ee=P.find(pe=>pe.id===V);if(!ee)return;const se={...ee.reactions||{}};se[Y]=(se[Y]||0)+1,await H.entities.ChatMessage.update(V,{reactions:se})},onSuccess:()=>{C.invalidateQueries({queryKey:["global-chat-messages"]})}});w.useEffect(()=>{j.current&&j.current.scrollIntoView({behavior:"smooth"})},[P]),w.useEffect(()=>{const V=a.slice(0,v).split(/\s/).pop();if(V&&V.startsWith("@")){const Y=V.slice(1).toLowerCase();u(Y),f(!0)}else f(!1),u("")},[a,v]);const $=V=>{s(V.target.value),x(V.target.selectionStart)},F=V=>{const Y=a.slice(0,v),ee=a.slice(v),se=Y.split(/\s/);se.pop();const pe=se.join(" ")+(se.length>0?" ":""),Pe=V.username||V.id,xe=pe+`@${Pe} `+ee;s(xe),f(!1),u(""),setTimeout(()=>{S.current&&S.current.focus()},0)},B=M.filter(V=>d?(V.username||V.full_name||V.email).toLowerCase().includes(d.toLowerCase()):!0).slice(0,5),G=V=>{V.preventDefault();const Y=a.trim();Y&&k.mutate({content:Y})},I=V=>{k.mutate({content:" Mensagem de voz",type:"audio",mediaUrl:V}),o(!1)},L=(V,Y)=>{O.mutate({messageId:V,reactionType:Y})},U=V=>{y(V),S.current&&S.current.focus()},z=V=>{const Y=a.slice(0,v),ee=a.slice(v),se=Y+V+ee;s(se),x(Y.length+V.length),c(!1),setTimeout(()=>{S.current&&S.current.focus()},0)};if(!t)return null;const K=P.reduce((V,Y)=>{const ee=kn(new Date(Y.created_date),"dd 'de' MMMM",{locale:jn});return V[ee]||(V[ee]=[]),V[ee].push(Y),V},{});return r.jsxs(gt,{children:[r.jsxs(q.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex flex-col bg-black/95 backdrop-blur-sm",children:[r.jsx("div",{className:"absolute inset-0 opacity-30 pointer-events-none",style:{backgroundImage:"url('https://images.unsplash.com/photo-1419242902214-272b3f66ee7a?w=1920')",backgroundSize:"cover",backgroundPosition:"center"}}),r.jsx("div",{className:"relative bg-black/20 backdrop-blur-md border-b border-purple-900/30 p-3 md:p-4 flex-shrink-0",children:r.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-purple-400 text-xl md:text-2xl",children:"#"}),r.jsx("h2",{className:"text-lg md:text-xl lg:text-2xl font-bold text-white",children:"geral"})]}),r.jsxs("p",{className:"text-xs text-gray-400 mt-0.5",children:[r.jsx(Kn,{className:"w-3 h-3 inline mr-1"}),b," online agora"]})]}),r.jsx(W,{size:"icon",variant:"ghost",onClick:e,className:"text-gray-400 hover:text-white h-9 w-9 lg:h-10 lg:w-10",children:r.jsx(nt,{className:"w-5 h-5 lg:w-6 lg:h-6"})})]})}),r.jsx("div",{className:"relative flex-1 overflow-hidden pb-[72px] md:pb-0",children:r.jsx(r_,{className:"h-full",children:r.jsx("div",{className:"max-w-4xl mx-auto p-3 md:p-4 lg:p-6 min-h-full flex flex-col justify-end pb-1",children:T?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(q.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},children:r.jsx(_e,{className:"w-12 h-12 text-purple-500 mx-auto mb-4"})}),r.jsx("p",{className:"text-gray-400 text-sm md:text-base",children:"Carregando o portal..."})]}):P.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(_e,{className:"w-16 h-16 text-purple-500/50 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg md:text-xl font-bold text-purple-300 mb-2",children:"Seja o primeiro a falar!"}),r.jsx("p",{className:"text-gray-400 text-sm md:text-base",children:"Inicie uma conversa no portal mstico"})]}):r.jsxs("div",{children:[Object.entries(K).map(([V,Y])=>r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-3 my-6",children:[r.jsx("div",{className:"flex-1 h-px bg-purple-900/30"}),r.jsx("span",{className:"text-xs text-purple-300 font-semibold px-3 py-1 bg-purple-900/20 rounded-full",children:V}),r.jsx("div",{className:"flex-1 h-px bg-purple-900/30"})]}),Y.map(ee=>r.jsx(DEe,{message:ee,currentUser:n,onReact:L,onReply:U},ee.id))]},V)),r.jsx("div",{ref:j})]})})})}),r.jsx("div",{className:"relative bg-black/20 backdrop-blur-md border-t border-purple-900/30 p-2.5 md:p-3 lg:p-4 flex-shrink-0 mb-16 md:mb-0",children:r.jsxs("form",{onSubmit:G,className:"max-w-4xl mx-auto relative",children:[g&&r.jsxs("div",{className:"mb-2 p-2 bg-purple-900/20 rounded-lg flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[r.jsx(G3,{className:"w-4 h-4 text-purple-400 flex-shrink-0"}),r.jsxs("span",{className:"text-xs text-gray-300 truncate",children:["Respondendo ",g.author_name]})]}),r.jsx("button",{onClick:()=>y(null),className:"text-gray-400 hover:text-white",children:r.jsx(nt,{className:"w-4 h-4"})})]}),r.jsx(gt,{children:h&&B.length>0&&r.jsxs(q.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"absolute bottom-full mb-2 left-0 right-0 bg-slate-900 border-2 border-purple-500/50 rounded-2xl overflow-hidden shadow-2xl",children:[r.jsx("div",{className:"p-2 border-b border-purple-900/30 bg-slate-800/50",children:r.jsx("p",{className:"text-xs text-gray-400",children:"Mencionar:"})}),r.jsx("div",{className:"max-h-48 overflow-y-auto",children:B.map(V=>r.jsxs("button",{type:"button",onClick:()=>F(V),className:"w-full flex items-center gap-3 p-3 hover:bg-purple-900/30 transition",children:[r.jsx(Lr,{user:V,size:"sm",showStatus:!1}),r.jsxs("div",{className:"flex-1 text-left",children:[r.jsx("p",{className:"text-sm font-semibold text-white",children:V.display_name||V.full_name}),r.jsxs("p",{className:"text-xs text-gray-400",children:["@",V.username||V.id]})]})]},V.id))})]})}),r.jsxs("div",{className:"flex items-center gap-1.5 md:gap-2 bg-slate-800/50 rounded-full px-2 md:px-3 py-1.5 md:py-2",children:[r.jsxs("div",{className:"relative",children:[r.jsx(W,{type:"button",size:"icon",variant:"ghost",onClick:()=>c(!l),className:"hover:bg-slate-700 h-8 w-8 md:h-9 md:w-9 lg:h-10 lg:w-10 flex-shrink-0",children:r.jsx(sG,{className:"w-4 h-4 md:w-5 md:h-5 text-gray-400"})}),r.jsx(gt,{children:l&&r.jsx(q.div,{initial:{opacity:0,scale:.9,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:10},className:"absolute bottom-full mb-2 left-0 bg-slate-900 border-2 border-purple-500/50 rounded-2xl p-3 md:p-4 shadow-2xl z-20",children:r.jsx("div",{className:"grid grid-cols-6 gap-2",children:E.map((V,Y)=>r.jsx("button",{type:"button",onClick:()=>z(V),className:"text-2xl hover:scale-125 transition p-2 hover:bg-white/10 rounded-lg",children:V},Y))})})})]}),r.jsx(je,{ref:S,value:a,onChange:$,onSelect:V=>x(V.target.selectionStart),placeholder:"Sussurre para a comunidade...",className:"flex-1 bg-transparent border-0 text-white placeholder:text-gray-500 focus-visible:ring-0 focus-visible:ring-offset-0 h-8 md:h-9 lg:h-10 text-sm md:text-base",disabled:k.isPending}),r.jsx(W,{type:"button",size:"icon",variant:"ghost",onClick:()=>o(!0),className:"hover:bg-slate-700 h-8 w-8 md:h-9 md:w-9 lg:h-10 lg:w-10 flex-shrink-0",disabled:k.isPending,children:r.jsx(mo,{className:"w-4 h-4 md:w-5 md:h-5 text-gray-400"})}),r.jsx(W,{type:"submit",disabled:!a.trim()||k.isPending,size:"icon",className:"bg-purple-600 hover:bg-purple-700 h-8 w-8 md:h-9 md:w-9 lg:h-10 lg:w-10 rounded-full disabled:opacity-50 flex-shrink-0",children:k.isPending?r.jsx(q.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:r.jsx(_e,{className:"w-4 h-4 md:w-5 md:h-5"})}):r.jsx(Hr,{className:"w-4 h-4 md:w-5 md:h-5"})})]})]})})]}),r.jsx(RQ,{isOpen:i,onClose:()=>o(!1),onVoiceSent:I,user:n})]})}function OQ(){const[t,e]=w.useState(null),[n,a]=w.useState(!1);w.useEffect(()=>{s()},[]);const s=async()=>{try{const h=await H.auth.me();e(h)}catch(h){console.error("Erro ao carregar usurio:",h)}},{data:i=[],isLoading:o}=Oe({queryKey:["ravens-sent",t==null?void 0:t.id],queryFn:async()=>t!=null&&t.id?await H.entities.Raven.filter({sender_id:t.id},"-created_date",50):[],enabled:!!(t!=null&&t.id),refetchInterval:3e3}),{data:l=[],isLoading:c}=Oe({queryKey:["ravens-received",t==null?void 0:t.id],queryFn:async()=>t!=null&&t.id?await H.entities.Raven.filter({recipient_id:t.id},"-created_date",50):[],enabled:!!(t!=null&&t.id),refetchInterval:3e3}),d=async h=>{try{await H.entities.Raven.update(h,{is_read:!0,read_at:new Date().toISOString()})}catch(f){console.error("Erro ao marcar como lido:",f)}};if(!t)return r.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-b from-[#0f0f1e] via-[#1a1a2e] to-[#0f0f1e]",children:r.jsx(zt,{className:"w-12 h-12 text-purple-500 animate-spin"})});const u=l.filter(h=>h&&!h.is_read).length;return r.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-[#0f0f1e] via-[#1a1a2e] to-[#0f0f1e] pb-24",children:[r.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[r.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[r.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[r.jsx("img",{src:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/690e5f6f991e09e82bef3795/4332b5385_corvo.png",alt:"Corvo",className:"w-12 h-12 object-contain"}),r.jsx("h1",{className:"text-3xl md:text-4xl font-bold bg-gradient-to-r from-purple-400 via-pink-400 to-blue-400 bg-clip-text text-transparent",children:"Mensagens & Corvos"})]}),r.jsx("p",{className:"text-gray-300 text-sm md:text-base",children:"Chat global e corvos msticos para comunicao secreta"})]}),r.jsxs(W,{onClick:()=>a(!0),className:"w-full mb-6 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white py-6 text-lg",children:[r.jsx(Da,{className:"w-5 h-5 mr-2"}),"Abrir Chat Global"]}),r.jsxs($r,{defaultValue:"received",className:"w-full",children:[r.jsxs(Tr,{className:"grid grid-cols-2 w-full bg-slate-900/50 mb-6",children:[r.jsxs(xt,{value:"received",className:"relative",children:["Corvos Recebidos",u>0&&r.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:u})]}),r.jsx(xt,{value:"sent",children:"Corvos Enviados"})]}),r.jsx(et,{value:"received",children:r.jsx(gt,{children:c?r.jsx("div",{className:"flex justify-center py-8",children:r.jsx(zt,{className:"w-8 h-8 text-purple-500 animate-spin"})}):l.length===0?r.jsxs(q.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[r.jsx("img",{src:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/690e5f6f991e09e82bef3795/4332b5385_corvo.png",alt:"Nenhum corvo",className:"w-24 h-24 mx-auto mb-4 opacity-50"}),r.jsx("p",{className:"text-gray-400",children:"Nenhum corvo recebido ainda"})]}):r.jsx("div",{className:"space-y-4",children:l.map(h=>h?r.jsx(q.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},children:r.jsx(X,{className:`bg-slate-900/50 border-purple-500/30 p-4 cursor-pointer hover:bg-slate-900/70 transition ${h.is_read?"":"border-purple-500 bg-purple-900/20"}`,onClick:()=>d(h.id),children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Lr,{user:{avatar_url:h.sender_avatar||"",display_name:h.sender_name||"Viajante",full_name:h.sender_name||"Viajante"},size:"md"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h3",{className:"text-white font-bold",children:h.sender_name||"Viajante"}),r.jsx("span",{className:"text-xs text-gray-400",children:Qo(new Date(h.created_date),{addSuffix:!0,locale:jn})})]}),r.jsx("p",{className:"text-gray-300 text-sm whitespace-pre-wrap",children:h.message||""}),!h.is_read&&r.jsxs("div",{className:"mt-2 flex items-center gap-2 text-xs text-purple-400",children:[r.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full animate-pulse"}),"No lido"]})]})]})})},h.id):null)})})}),r.jsx(et,{value:"sent",children:r.jsx(gt,{children:o?r.jsx("div",{className:"flex justify-center py-8",children:r.jsx(zt,{className:"w-8 h-8 text-purple-500 animate-spin"})}):i.length===0?r.jsxs(q.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[r.jsx("img",{src:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/690e5f6f991e09e82bef3795/4332b5385_corvo.png",alt:"Nenhum corvo",className:"w-24 h-24 mx-auto mb-4 opacity-50"}),r.jsx("p",{className:"text-gray-400",children:"Voc ainda no enviou nenhum corvo"})]}):r.jsx("div",{className:"space-y-4",children:i.map(h=>h?r.jsx(q.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:r.jsx(X,{className:"bg-slate-900/50 border-purple-500/30 p-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Lr,{user:{avatar_url:h.recipient_avatar||"",display_name:h.recipient_name||"Viajante",full_name:h.recipient_name||"Viajante"},size:"md"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("h3",{className:"text-white font-bold",children:["Para: ",h.recipient_name||"Viajante"]}),r.jsx("span",{className:"text-xs text-gray-400",children:Qo(new Date(h.created_date),{addSuffix:!0,locale:jn})})]}),r.jsx("p",{className:"text-gray-300 text-sm whitespace-pre-wrap",children:h.message||""}),r.jsx("div",{className:"mt-2 flex items-center gap-2 text-xs",children:h.is_read?r.jsx("span",{className:"text-green-400",children:" Lido"}):r.jsx("span",{className:"text-gray-400",children:"Aguardando leitura"})})]})]})})},h.id):null)})})})]})]}),r.jsx(IEe,{isOpen:n,onClose:()=>a(!1),currentUser:t})]})}function DQ({isOpen:t,onClose:e,onPlayAudio:n}){const[a,s]=w.useState(null),[i,o]=w.useState(""),{data:l}=Oe({queryKey:["vocem-audios"],queryFn:()=>H.entities.VoiceContent.filter({},"order",100),enabled:t}),c=h=>{if(!h||!h.audio_url)return;s(h);let f=h.audio_url;if(h.audio_url&&(h.audio_url.includes("youtube.com")||h.audio_url.includes("youtu.be"))){const v=d(h.audio_url);v&&(f=`https://www.youtube.com/watch?v=${v}`)}n({title:h.title||"Sem ttulo",description:h.description||"",url:f,duration:h.duration?`${Math.floor(h.duration/60)}:${(h.duration%60).toString().padStart(2,"0")}`:null})},d=h=>{var f,v;return h?h.includes("youtube.com/watch")?(f=h.split("v=")[1])==null?void 0:f.split("&")[0]:h.includes("youtu.be/")?(v=h.split("youtu.be/")[1])==null?void 0:v.split("?")[0]:null:null},u=(l==null?void 0:l.filter(h=>{var f,v;return((f=h.title)==null?void 0:f.toLowerCase().includes(i.toLowerCase()))||((v=h.description)==null?void 0:v.toLowerCase().includes(i.toLowerCase()))}))||[];return r.jsx(gt,{children:t&&r.jsx(q.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80",onClick:e,children:r.jsxs(q.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:h=>h.stopPropagation(),className:"bg-gradient-to-br from-[#1a1a2e] to-[#16213e] rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden shadow-2xl",children:[r.jsxs("div",{className:"p-6 border-b border-purple-500/30",children:[" ",r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("button",{onClick:e,className:"text-gray-400 hover:text-white transition flex items-center gap-2",children:[r.jsx(Go,{className:"w-5 h-5"}),r.jsx("span",{children:"Voltar para rea do Aluno"})]}),r.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white transition",children:r.jsx(nt,{className:"w-6 h-6"})})]})]}),r.jsxs("div",{className:"p-4 md:p-6 border-b border-purple-500/30",children:[r.jsx("div",{className:"flex items-center justify-between mb-4",children:r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl md:text-3xl font-bold text-white mb-2",children:" Vocem - Meditaes Guiadas"}),r.jsxs("p",{className:"text-purple-300 text-sm md:text-base",children:[(l==null?void 0:l.length)||0," udios msticos disponveis"]})]})}),r.jsx("input",{type:"text",placeholder:"Buscar meditao...",value:i,onChange:h=>o(h.target.value),className:"w-full px-4 py-2 md:py-3 bg-slate-800 border border-purple-500/30 rounded-lg text-white placeholder:text-gray-400 focus:outline-none focus:border-purple-500"})]}),r.jsxs("div",{className:"p-4 md:p-6 overflow-y-auto max-h-[calc(85vh-200px)]",children:[r.jsx("div",{className:"grid gap-3",children:u.length>0?u.map((h,f)=>r.jsx(q.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:f*.03},children:r.jsx(X,{className:`p-4 bg-slate-800/60 border-purple-500/20 hover:border-purple-500/40 transition cursor-pointer group ${(a==null?void 0:a.id)===h.id?"border-purple-500 bg-purple-900/30":""}`,onClick:()=>c(h),children:r.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:`w-10 h-10 md:w-12 md:h-12 rounded-full flex items-center justify-center ${(a==null?void 0:a.id)===h.id?"bg-gradient-to-br from-purple-500 to-pink-500":"bg-gradient-to-br from-purple-600/50 to-pink-600/50 group-hover:from-purple-500 group-hover:to-pink-500"} transition`,children:r.jsx(Qa,{className:"w-5 h-5 md:w-6 md:h-6 text-white ml-1"})})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"text-white font-bold text-sm md:text-lg mb-1 truncate",children:h.title}),r.jsx("p",{className:"text-purple-300 text-xs md:text-sm truncate",children:h.description})]}),r.jsx("div",{className:"flex-shrink-0",children:r.jsx("span",{className:"text-gray-400 text-xs md:text-sm",children:h.duration?`${Math.floor(h.duration/60)}:${(h.duration%60).toString().padStart(2,"0")}`:"N/A"})})]})})},h.id)):r.jsxs("div",{className:"text-center py-12",children:[r.jsx(_e,{className:"w-12 h-12 text-purple-500/50 mx-auto mb-3"}),r.jsx("p",{className:"text-gray-400 text-lg",children:"Nenhuma meditao encontrada"})]})}),r.jsx("div",{className:"mt-6 p-3 md:p-4 bg-purple-900/20 border border-purple-500/30 rounded-lg",children:r.jsxs("p",{className:"text-purple-200 text-xs md:text-sm",children:[" ",r.jsx("strong",{children:"Dica:"})," Clique em qualquer udio para comear a tocar. O player aparecer na parte inferior da tela e voc poder arrast-lo para qualquer canto enquanto ouve."]})})]})]})})})}function LEe({isOpen:t,onClose:e,user:n}){const[a,s]=w.useState(""),[i,o]=w.useState(""),[l,c]=w.useState(!1),[d,u]=w.useState(!1),h=w.useRef(null),f=Sn();w.useEffect(()=>{n!=null&&n.esphera_free_question_used&&u(!0)},[n]);const v=()=>{var y;(y=h.current)==null||y.scrollIntoView({behavior:"smooth"})};w.useEffect(()=>{v()},[i]);const x=async()=>{if(!a.trim()){qe.error("Digite sua pergunta");return}if(d&&(!n.ouros||n.ouros<10)){qe.error("Voc precisa de 10 Ouros ou uma assinatura para mais perguntas");return}c(!0);try{const y=await H.functions.invoke("espheraChat",{question:a,userId:n.id});y.data.success?(o(y.data.answer),d?(await H.auth.updateMe({ouros:(n.ouros||0)-10}),qe.success("10 Ouros debitados")):(await H.auth.updateMe({esphera_free_question_used:!0}),u(!0))):qe.error(y.data.error||"Erro ao consultar Esphera")}catch(y){console.error("Erro:",y),qe.error("Erro ao consultar Esphera")}finally{c(!1)}},g=y=>{y.key==="Enter"&&!y.shiftKey&&(y.preventDefault(),x())};return r.jsx(gt,{children:t&&r.jsx(q.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[200] flex items-center justify-center p-3 md:p-4 bg-black/90 backdrop-blur-sm",onClick:e,children:r.jsx(q.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:y=>y.stopPropagation(),className:"w-full max-w-3xl max-h-[90vh] overflow-hidden",children:r.jsxs(X,{className:"bg-gradient-to-br from-purple-900/40 via-slate-900/40 to-pink-900/40 border-purple-500/30 backdrop-blur-xl",children:[r.jsxs("div",{className:"p-4 md:p-6 border-b border-purple-500/30 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 md:w-14 md:h-14 rounded-full bg-gradient-to-br from-purple-600 to-pink-600 flex items-center justify-center shadow-lg shadow-purple-500/50",children:r.jsx(Vr,{className:"w-6 h-6 md:w-7 md:h-7 text-white"})}),r.jsxs("div",{children:[r.jsxs("h2",{className:"text-lg md:text-xl font-bold text-white flex items-center gap-2",children:["Esphera AI",r.jsx(Bn,{className:"w-5 h-5 text-yellow-400"})]}),r.jsx("p",{className:"text-xs md:text-sm text-purple-200",children:"Sua Tarloga e Conselheira IA"})]})]}),r.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white transition",children:r.jsx(nt,{className:"w-5 h-5 md:w-6 md:h-6"})})]}),r.jsx("div",{className:"p-4 bg-gradient-to-r from-purple-600/20 to-pink-600/20 border-b border-purple-500/30",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(_e,{className:"w-5 h-5 text-yellow-400 flex-shrink-0 mt-0.5"}),r.jsx("div",{className:"flex-1 text-sm text-white",children:d?r.jsxs("p",{children:["Cada pergunta custa ",r.jsx("strong",{children:"10 Ouros"})," ou tenha"," ",r.jsx("button",{onClick:()=>f(ft("EspheraAI")),className:"text-yellow-300 underline font-bold hover:text-yellow-200",children:"acesso ilimitado com assinatura"})]}):r.jsxs("p",{children:[r.jsx("strong",{children:"Primeira pergunta GRTIS!"})," Perguntas adicionais custam 10 Ouros cada ou voc pode ter"," ",r.jsx("button",{onClick:()=>f(ft("EspheraAI")),className:"text-yellow-300 underline font-bold hover:text-yellow-200",children:"acesso ilimitado com assinatura"})]})})]})}),r.jsxs("div",{className:"p-4 md:p-6 max-h-[50vh] overflow-y-auto space-y-4",children:[i&&r.jsx(q.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:r.jsx("div",{className:"bg-gradient-to-br from-purple-600/30 to-pink-600/30 border border-purple-500/30 rounded-2xl p-4 md:p-5",children:r.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-purple-600 to-pink-600 flex items-center justify-center flex-shrink-0",children:r.jsx(Vr,{className:"w-4 h-4 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-purple-200 font-semibold mb-1",children:"Esphera AI"}),r.jsx("p",{className:"text-white text-sm md:text-base leading-relaxed whitespace-pre-wrap",children:i})]})]})})}),r.jsx("div",{ref:h})]}),r.jsx("div",{className:"p-4 md:p-6 border-t border-purple-500/30",children:r.jsxs("div",{className:"space-y-3",children:[r.jsx(It,{value:a,onChange:y=>s(y.target.value),onKeyPress:g,placeholder:"Faa sua pergunta para Esphera... (Ex: O que o Tarot revela sobre meu futuro profissional?)",className:"bg-slate-800/50 border-purple-500/30 text-white placeholder:text-gray-400 min-h-[100px] resize-none text-sm md:text-base",disabled:l}),r.jsxs("div",{className:"flex items-center justify-between gap-3",children:[r.jsx("p",{className:"text-xs text-gray-400",children:d?"10 Ouros por pergunta":"Primeira pergunta grtis"}),r.jsx(W,{onClick:x,disabled:l||!a.trim(),className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",children:l?r.jsxs(r.Fragment,{children:[r.jsx(zt,{className:"w-4 h-4 mr-2 animate-spin"}),"Consultando..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Hr,{className:"w-4 h-4 mr-2"}),"Perguntar"]})})]})]})})]})})})})}const cw={0:{id:0,name:"O Louco",nameEn:"The Fool",image:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/690e5f6f991e09e82bef3795/6fa99721e_22.jpg"},1:{id:1,name:"O Mago",nameEn:"The Magician",image:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/690e5f6f991e09e82bef3795/f1aa5da6f_1.jpg"},2:{id:2,name:"A Sacerdotisa",nameEn:"The High Priestess",image:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/690e5f6f991e09e82bef3795/09f81d85d_2.jpg"},3:{id:3,name:"A Imperatriz",nameEn:"The Empress",image:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/690e5f6f991e09e82bef3795/0d570156f_3.jpg"},4:{id:4,name:"O Imperador",nameEn:"The Emperor",image:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/690e5f6f991e09e82bef3795/4ded0fe56_4.jpg"},5:{id:5,name:"O Hierofante",nameEn:"The Hierophant",image:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/690e5f6f991e09e82bef3795/b4f234d11_5.jpg"},6:{id:6,name:"Os Amantes",nameEn:"The Lovers",image:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/690e5f6f991e09e82bef3795/172f35bda_6.jpg"},7:{id:7,name:"O Carro",nameEn:"The Chariot",image:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/690e5f6f991e09e82bef3795/a47f519f8_7.jpg"},8:{id:8,name:"A Fora",nameEn:"Strength",image:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/690e5f6f991e09e82bef3795/485f99f58_8.jpg"},9:{id:9,name:"O Eremita",nameEn:"The Hermit",image:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/690e5f6f991e09e82bef3795/9d51ae77d_9.jpg"},10:{id:10,name:"A Roda da Fortuna",nameEn:"Wheel of Fortune",image:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/690e5f6f991e09e82bef3795/857239342_10.jpg"},11:{id:11,name:"A Justia",nameEn:"Justice",image:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/690e5f6f991e09e82bef3795/7234544e5_11.jpg"},12:{id:12,name:"O Enforcado",nameEn:"The Hanged Man",image:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/690e5f6f991e09e82bef3795/9153f4824_12.jpg"},13:{id:13,name:"A Morte",nameEn:"Death",image:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/690e5f6f991e09e82bef3795/b522078a6_13.jpg"},14:{id:14,name:"A Temperana",nameEn:"Temperance",image:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/690e5f6f991e09e82bef3795/b16162c20_14.jpg"},15:{id:15,name:"O Diabo",nameEn:"The Devil",image:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/690e5f6f991e09e82bef3795/25fefc742_15.jpg"},16:{id:16,name:"A Torre",nameEn:"The Tower",image:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/690e5f6f991e09e82bef3795/ed6612d72_16.jpg"},17:{id:17,name:"A Estrela",nameEn:"The Star",image:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/690e5f6f991e09e82bef3795/6e8771e34_17.jpg"},18:{id:18,name:"A Lua",nameEn:"The Moon",image:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/690e5f6f991e09e82bef3795/7cd3bf768_18.jpg"},19:{id:19,name:"O Sol",nameEn:"The Sun",image:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/690e5f6f991e09e82bef3795/56d5458ed_19.jpg"},20:{id:20,name:"O Julgamento",nameEn:"Judgement",image:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/690e5f6f991e09e82bef3795/c9e89a871_20.jpg"},21:{id:21,name:"O Mundo",nameEn:"The World",image:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/690e5f6f991e09e82bef3795/2fe6e93f2_21.jpg"}},IQ=Object.values(cw),FEe=()=>{const t=Math.floor(Math.random()*22);return cw[t]},zL=(t=3)=>{const e=[...IQ],n=[];for(let a=0;a<Math.min(t,e.length);a++){const s=Math.floor(Math.random()*e.length);n.push(e[s]),e.splice(s,1)}return n},qL=[{id:"progresso",name:"Progresso",icon:Jn,color:"from-indigo-600 to-purple-600",description:"Dirio de Bordo da Alma - veja seu nvel, XP e conquistas",status:"Ativo",category:"jornada",path:"Progresso"},{id:"distintivos",name:"Distintivos",icon:xr,color:"from-yellow-600 to-orange-600",description:"Sala de Conquistas - seus Selos Msticos",status:"Ativo",category:"jornada",path:"Distintivos"},{id:"planner",name:"Planner Lunar",icon:Ya,color:"from-blue-600 to-cyan-600",description:"Organize sua vida com as fases da lua",status:"Ativo",category:"ferramentas",path:"PlannerLunar"},{id:"esphera",name:"Esphera AI",icon:Vr,color:"from-purple-600 to-pink-600",description:"Conselheira de Tarot com IA - perguntas ilimitadas",status:"Ativo",category:"ferramentas",isModal:!0},{id:"mapa-astral",name:"Mapa Astral",icon:Fb,color:"from-indigo-600 to-purple-600",description:"Planetrio da Alma - seu mapa completo",status:"Ativo",category:"ferramentas",path:"MapaAstral"},{id:"horoscopo",name:"Horscopo",icon:Wn,color:"from-yellow-600 to-orange-600",description:"Almanaque das Estrelas e Sintonia Astral",status:"Ativo",category:"ferramentas",path:"Horoscopo"},{id:"tiragem-diaria",name:"Tiragem Diria",icon:Sme,color:"from-pink-600 to-rose-600",description:"Ritual dirio com uma carta de Tarot",status:"Ativo",category:"ferramentas",path:"TiragemDiaria"},{id:"pendulo",name:"Pndulo Divinatrio",icon:OM,color:"from-cyan-600 to-blue-600",description:"Orculo do Pndulo para perguntas sim/no",status:"Ativo",category:"ferramentas",path:"Pendulo"},{id:"mandala",name:"Mandala Criativa",icon:DM,color:"from-pink-600 to-purple-600",description:"Ateli da Alma - meditao ativa colorindo",status:"Ativo",category:"ferramentas",path:"MandalaCriativa"},{id:"diario-sonhos",name:"Dirio dos Sonhos",icon:$m,color:"from-indigo-600 to-blue-600",description:"Registre e interprete seus sonhos",status:"Ativo",category:"ferramentas",path:"DiarioSonhos"},{id:"aura-digital",name:"Aura Digital",icon:gr,color:"from-yellow-600 to-pink-600",description:"Revelador da Aura - visualize sua energia",status:"Ativo",category:"ferramentas",path:"AuraDigital"},{id:"ciclo-menstrual",name:"Ciclo Menstrual",icon:cfe,color:"from-pink-600 to-rose-600",description:"Acompanhe e entenda seu ciclo",status:"Ativo",category:"ferramentas",path:"CicloMenstrual"},{id:"kamasutra",name:"Santurio Kamasutra",icon:ci,color:"from-rose-600 to-red-600",description:"Unio Sagrada  Intimidade Consciente (18+)",status:"Ativo",category:"ferramentas",path:"Kamasutra"},{id:"meditacoes",name:"Santurio do Silncio",icon:X3,color:"from-teal-600 to-green-600",description:"Biblioteca de frequncias e sons curativos",status:"Ativo",category:"conhecimento",path:"SantuarioSilencio"},{id:"enciclopedia",name:"Enciclopdia",icon:Oa,color:"from-blue-600 to-indigo-600",description:"Grimrio de referncia mstico",status:"Ativo",category:"conhecimento",path:"Enciclopedia"},{id:"quizzes",name:"Quizzes Msticos",icon:ho,color:"from-purple-600 to-pink-600",description:"Teste seu conhecimento e ganhe Ouros + XP",status:"Ativo",category:"conhecimento",path:"QuizzesMisticos"},{id:"temas",name:"Alquimia Cromtica",icon:xf,color:"from-pink-600 to-purple-600",description:"Personalize as cores do portal",status:"Ativo",category:"personalizacao",path:"Temas"},{id:"favoritos",name:"Cofre de Tesouros",icon:si,color:"from-rose-600 to-pink-600",description:"Tudo que voc salvou no Zamira",status:"Ativo",category:"personalizacao",path:"CofreTesouros"},{id:"zamira-city",name:"Cidade de Zamira",icon:Kn,color:"from-purple-600 to-blue-600",description:"Entre no metaverso mstico e explore a cidade 3D",status:"Ativo",category:"conexao",path:"ZamiraCity"}],A2={jornada:{name:"Jornada do Viajante",icon:Jn},ferramentas:{name:"Ferramentas Msticas",icon:si},conexao:{name:"Comunidade & Conexo",icon:Kn},conhecimento:{name:"Conhecimento",icon:zH},personalizacao:{name:"Personalizao",icon:dd}};function LQ(){const[t,e]=w.useState(null),[n,a]=w.useState("all"),[s,i]=w.useState(!1),[o,l]=w.useState(!1),c=Sn();w.useEffect(()=>{d()},[]);const d=async()=>{try{const x=await H.auth.me();e(x)}catch(x){console.error("Erro ao carregar usurio:",x)}},u=x=>{x.id==="esphera"?l(!0):x.path&&c(ft(x.path))},h=x=>{window.dispatchEvent(new CustomEvent("playGlobalAudio",{detail:x})),i(!1)},f=n==="all"?qL:qL.filter(x=>x.category===n);if(!t)return r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx(_e,{className:"w-12 h-12 text-purple-500 animate-pulse"})});const v=n==="all"?{name:"Todos",icon:_e}:A2[n];return r.jsxs("div",{className:"min-h-screen",children:[r.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[r.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[r.jsx("h1",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-purple-400 via-pink-400 to-blue-400 bg-clip-text text-transparent mb-4",children:"Portais Msticos"}),r.jsx("p",{className:"text-slate-300 text-lg mb-8",children:"Ferramentas para sua jornada de autoconhecimento"}),r.jsxs("div",{className:"hidden md:flex flex-wrap justify-center gap-3",children:[r.jsx("button",{onClick:()=>a("all"),className:`px-4 py-2 rounded-full transition ${n==="all"?"bg-gradient-to-r from-purple-600 to-pink-600 text-white":"bg-slate-800 text-slate-300 hover:bg-slate-700"}`,children:"Todos"}),Object.entries(A2).map(([x,g])=>{const y=g.icon;return r.jsxs("button",{onClick:()=>a(x),className:`flex items-center gap-2 px-4 py-2 rounded-full transition ${n===x?"bg-gradient-to-r from-purple-600 to-pink-600 text-white":"bg-slate-800 text-slate-300 hover:bg-slate-700"}`,children:[r.jsx(y,{className:"w-4 h-4"}),g.name]},x)})]}),r.jsx("div",{className:"md:hidden",children:r.jsxs(yx,{children:[r.jsx(bx,{asChild:!0,children:r.jsxs("button",{className:"w-full max-w-md mx-auto flex items-center justify-between gap-3 px-5 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-full shadow-lg",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[ae.createElement(v.icon,{className:"w-5 h-5"}),r.jsx("span",{className:"font-semibold",children:v.name})]}),r.jsx(ld,{className:"w-5 h-5"})]})}),r.jsxs(vf,{className:"w-[calc(100vw-2rem)] max-w-md bg-slate-900 border-purple-500/30",align:"center",children:[r.jsxs(yf,{onClick:()=>a("all"),className:"text-white hover:bg-purple-900/30 cursor-pointer py-3",children:[r.jsx(_e,{className:"w-5 h-5 mr-3"}),r.jsx("span",{className:"text-base",children:"Todos"})]}),Object.entries(A2).map(([x,g])=>{const y=g.icon;return r.jsxs(yf,{onClick:()=>a(x),className:"text-white hover:bg-purple-900/30 cursor-pointer py-3",children:[r.jsx(y,{className:"w-5 h-5 mr-3"}),r.jsx("span",{className:"text-base",children:g.name})]},x)})]})]})})]}),r.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6",children:f.map((x,g)=>{const y=x.icon,b=x.status==="Ativo";return r.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:g*.03},children:r.jsxs(X,{onClick:()=>u(x),className:`bg-gradient-to-br from-slate-900 to-slate-800 border-purple-900/30 p-6 hover:border-purple-700/50 transition group relative overflow-hidden ${x.path||x.isModal?"cursor-pointer":"cursor-default"}`,children:[r.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${x.color} opacity-0 group-hover:opacity-10 transition-opacity`}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:`w-16 h-16 rounded-full bg-gradient-to-br ${x.color} flex items-center justify-center mb-4 group-hover:scale-110 transition-transform`,children:r.jsx(y,{className:"w-8 h-8 text-white"})}),r.jsx("h3",{className:"text-xl font-bold text-purple-300 mb-2 group-hover:text-purple-200 transition",children:x.name}),r.jsx("p",{className:"text-sm text-slate-400 mb-4 line-clamp-2",children:x.description}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:`text-xs px-3 py-1 rounded-full border ${b?"bg-green-900/30 text-green-300 border-green-700/30":"bg-purple-900/30 text-purple-300 border-purple-700/30"}`,children:x.status}),(x.path||x.isModal)&&r.jsx(_e,{className:"w-4 h-4 text-purple-400 opacity-0 group-hover:opacity-100 transition"})]})]})]})},x.id)})})]}),r.jsx(DQ,{isOpen:s,onClose:()=>i(!1),onPlayAudio:h}),r.jsx(LEe,{isOpen:o,onClose:()=>l(!1),user:t})]})}function FQ(){const t=Sn(),e=wt(),[n,a]=w.useState(null);w.useEffect(()=>{s()},[]);const s=async()=>{try{const c=await H.auth.me();a(c)}catch(c){console.error("Erro ao carregar usurio:",c)}},i=Ue({mutationFn:async c=>await H.entities.Post.create({...c,author_id:n.id,author_name:n.display_name||n.full_name,author_avatar:n.avatar_url,author_level:n.level||1,author_archetype:n.archetype||"none",author_title:n.mystical_title||"",reactions:{sparkle:0,crystal_ball:0,pray:0,fire:0,water:0},reactions_by_user:{},comments_count:0,shares_count:0}),onSuccess:async()=>{e.invalidateQueries({queryKey:["posts"]}),await H.auth.updateMe({xp:(n.xp||0)+5}),t(ft("Hub"))}}),o=c=>{i.mutate(c)},l=()=>{t(ft("Hub"))};return n?r.jsx(SQ,{user:n,onClose:l,onSubmit:o,isLoading:i.isPending}):null}const VL={follow:Hu,reaction:$n,comment:Da,level_up:Jn,achievement:xr,daily_blessing:_e,synchronicity:_e,duel_challenge:Bn,duel_result:Bn,announcement:Ps};function $Q(){const t=Sn(),e=wt(),[n,a]=w.useState(null),[s,i]=w.useState("all");w.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"}),o()},[]);const o=async()=>{const g=await H.auth.me();a(g)},{data:l=[],isLoading:c}=Oe({queryKey:["notifications",n==null?void 0:n.id],queryFn:()=>H.entities.Notification.filter({user_id:n.id},"-created_date",100),enabled:!!n,staleTime:3e3,refetchInterval:5e3}),d=Ue({mutationFn:async g=>await H.entities.Notification.update(g,{is_read:!0}),onMutate:async g=>{await e.cancelQueries({queryKey:["notifications"]});const y=e.getQueryData(["notifications",n==null?void 0:n.id]);return e.setQueryData(["notifications",n==null?void 0:n.id],b=>b==null?void 0:b.map(_=>_.id===g?{..._,is_read:!0}:_)),{previousNotifs:y}},onError:(g,y,b)=>{e.setQueryData(["notifications",n==null?void 0:n.id],b.previousNotifs)},onSettled:()=>{e.invalidateQueries({queryKey:["notifications"]})}}),u=Ue({mutationFn:async g=>await H.entities.Notification.update(g,{is_read:!1}),onSuccess:()=>{e.invalidateQueries({queryKey:["notifications"]})}}),h=Ue({mutationFn:async()=>{const g=l.filter(y=>!y.is_read);await Promise.all(g.map(y=>H.entities.Notification.update(y.id,{is_read:!0})))},onSuccess:()=>{e.invalidateQueries({queryKey:["notifications"]})}}),f=Ue({mutationFn:async g=>await H.entities.Notification.delete(g),onMutate:async g=>{await e.cancelQueries({queryKey:["notifications"]});const y=e.getQueryData(["notifications",n==null?void 0:n.id]);return e.setQueryData(["notifications",n==null?void 0:n.id],b=>b==null?void 0:b.filter(_=>_.id!==g)),{previousNotifs:y}},onError:(g,y,b)=>{e.setQueryData(["notifications",n==null?void 0:n.id],b.previousNotifs)},onSettled:()=>{e.invalidateQueries({queryKey:["notifications"]})}}),v=g=>{if(g.is_read||d.mutate(g.id),g.action_url)t(g.action_url);else if(g.related_entity_id)switch(g.related_entity_type){case"post":t(ft("Hub"));break;case"comment":t(ft("Hub"));break;case"user":t(ft(`Perfil?username=${g.from_user_id}`));break}};if(!n)return r.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-[#02031C] via-slate-900 to-[#02031C]",children:r.jsx(_e,{className:"w-12 h-12 text-purple-500 animate-pulse"})});const x=l.filter(g=>!g.is_read);return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#02031C] via-slate-900 to-[#02031C] text-white pb-24",children:[r.jsx("div",{className:"sticky top-[56px] md:top-[64px] z-40 bg-[#02031C]/95 backdrop-blur-sm border-b border-purple-900/30 px-4 py-3",children:r.jsxs("div",{className:"max-w-3xl mx-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h1",{className:"text-xl md:text-2xl font-bold",children:"Ecos do Universo"}),r.jsxs("div",{className:"flex items-center gap-2",children:[x.length>0&&r.jsxs(W,{onClick:()=>h.mutate(),disabled:h.isPending,size:"sm",className:"bg-purple-600 hover:bg-purple-700",children:[r.jsx(Zde,{className:"w-4 h-4 mr-1"}),"Marcar todas"]}),r.jsx(W,{onClick:()=>t(ft("ConfiguracoesNotificacoes")),size:"icon",variant:"ghost",className:"text-gray-400 hover:text-white",children:r.jsx(dd,{className:"w-5 h-5"})})]})]}),r.jsx("p",{className:"text-gray-400 text-xs md:text-sm",children:x.length>0?`${x.length} nova${x.length>1?"s":""} notifica${x.length>1?"es":"o"}`:"Voc est em dia com o universo "})]})}),r.jsx("div",{className:"max-w-3xl mx-auto px-3 md:px-4 py-4",children:r.jsxs($r,{value:s,onValueChange:i,className:"w-full",children:[r.jsxs(Tr,{className:"w-full bg-slate-800/80 mb-4 grid grid-cols-2 h-10 md:h-11",children:[r.jsxs(xt,{value:"all",className:"text-xs md:text-sm",children:["Todas (",l.length,")"]}),r.jsxs(xt,{value:"unread",className:"text-xs md:text-sm",children:["No Lidas (",x.length,")"]})]}),r.jsx(et,{value:"all",className:"space-y-2 md:space-y-3 m-0",children:l.length===0?r.jsxs(X,{className:"bg-gradient-to-br from-slate-900 to-slate-800 border-slate-700 p-8 md:p-12 text-center",children:[r.jsx($de,{className:"w-12 h-12 md:w-16 md:h-16 text-slate-600 mx-auto mb-3 md:mb-4"}),r.jsx("p",{className:"text-gray-400 text-sm md:text-base",children:"Nenhuma notificao ainda"})]}):r.jsx(gt,{children:l.map((g,y)=>{const b=VL[g.type]||Ps;return r.jsx(q.div,{layout:!0,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{delay:y*.02},children:r.jsx(X,{onClick:()=>v(g),className:`p-3 md:p-4 transition cursor-pointer active:scale-98 ${g.is_read?"bg-gradient-to-r from-slate-900/40 to-slate-800/40 border-slate-700/50 hover:border-slate-600":"bg-gradient-to-r from-purple-900/50 to-slate-900/50 border-purple-500/50 hover:border-purple-400"}`,children:r.jsxs("div",{className:"flex items-start gap-2.5 md:gap-3",children:[g.from_user_avatar?r.jsx("img",{src:g.from_user_avatar,alt:"",className:"w-10 h-10 md:w-12 md:h-12 rounded-full border-2 border-purple-500 flex-shrink-0"}):r.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-full bg-purple-600/30 flex items-center justify-center flex-shrink-0",children:r.jsx(b,{className:"w-5 h-5 md:w-6 md:h-6 text-purple-400"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-white font-semibold text-xs md:text-sm mb-0.5 md:mb-1",children:g.title}),r.jsx("p",{className:"text-gray-400 text-[11px] md:text-xs mb-1 md:mb-2 line-clamp-2",children:g.message}),r.jsx("span",{className:"text-gray-500 text-[10px] md:text-xs",children:kn(new Date(g.created_date),"dd MMM 's' HH:mm",{locale:jn})})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[!g.is_read&&r.jsx(W,{onClick:_=>{_.stopPropagation(),d.mutate(g.id)},size:"icon",variant:"ghost",className:"text-green-400 hover:text-green-300 hover:bg-green-900/20 h-8 w-8",children:r.jsx(Rn,{className:"w-4 h-4"})}),g.is_read&&r.jsx(W,{onClick:_=>{_.stopPropagation(),u.mutate(g.id)},size:"icon",variant:"ghost",className:"text-gray-400 hover:text-gray-300 hover:bg-gray-700/20 h-8 w-8",children:r.jsx(Ps,{className:"w-4 h-4"})}),r.jsx(W,{onClick:_=>{_.stopPropagation(),f.mutate(g.id)},size:"icon",variant:"ghost",className:"text-red-400 hover:text-red-300 hover:bg-red-900/20 h-8 w-8",children:r.jsx(qr,{className:"w-4 h-4"})})]})]})})},g.id)})})}),r.jsx(et,{value:"unread",className:"space-y-2 md:space-y-3 m-0",children:x.length===0?r.jsxs(X,{className:"bg-gradient-to-br from-slate-900 to-slate-800 border-slate-700 p-8 md:p-12 text-center",children:[r.jsx(_e,{className:"w-12 h-12 md:w-16 md:h-16 text-purple-500 mx-auto mb-3 md:mb-4"}),r.jsx("p",{className:"text-gray-400 text-sm md:text-base",children:"Todas as notificaes foram lidas!"})]}):r.jsx(gt,{children:x.map((g,y)=>{const b=VL[g.type]||Ps;return r.jsx(q.div,{layout:!0,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{delay:y*.02},children:r.jsx(X,{onClick:()=>v(g),className:"bg-gradient-to-r from-purple-900/50 to-slate-900/50 border-purple-500/50 hover:border-purple-400 p-3 md:p-4 transition cursor-pointer active:scale-98",children:r.jsxs("div",{className:"flex items-start gap-2.5 md:gap-3",children:[g.from_user_avatar?r.jsx("img",{src:g.from_user_avatar,alt:"",className:"w-10 h-10 md:w-12 md:h-12 rounded-full border-2 border-purple-500 flex-shrink-0"}):r.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-full bg-purple-600/30 flex items-center justify-center flex-shrink-0",children:r.jsx(b,{className:"w-5 h-5 md:w-6 md:h-6 text-purple-400"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-white font-semibold text-xs md:text-sm mb-0.5 md:mb-1",children:g.title}),r.jsx("p",{className:"text-gray-400 text-[11px] md:text-xs mb-1 md:mb-2 line-clamp-2",children:g.message}),r.jsx("span",{className:"text-gray-500 text-[10px] md:text-xs",children:kn(new Date(g.created_date),"dd MMM 's' HH:mm",{locale:jn})})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(W,{onClick:_=>{_.stopPropagation(),d.mutate(g.id)},size:"icon",variant:"ghost",className:"text-green-400 hover:text-green-300 hover:bg-green-900/20 h-8 w-8",children:r.jsx(Rn,{className:"w-4 h-4"})}),r.jsx(W,{onClick:_=>{_.stopPropagation(),f.mutate(g.id)},size:"icon",variant:"ghost",className:"text-red-400 hover:text-red-300 hover:bg-red-900/20 h-8 w-8",children:r.jsx(qr,{className:"w-4 h-4"})})]})]})})},g.id)})})})]})})]})}function $Ee(t){const e=UEe(t),n=w.forwardRef((a,s)=>{const{children:i,...o}=a,l=w.Children.toArray(i),c=l.find(zEe);if(c){const d=c.props.children,u=l.map(h=>h===c?w.Children.count(d)>1?w.Children.only(null):w.isValidElement(d)?d.props.children:null:h);return r.jsx(e,{...o,ref:s,children:w.isValidElement(d)?w.cloneElement(d,void 0,u):null})}return r.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function UEe(t){const e=w.forwardRef((n,a)=>{const{children:s,...i}=n;if(w.isValidElement(s)){const o=VEe(s),l=qEe(i,s.props);return s.type!==w.Fragment&&(l.ref=a?tc(a,o):o),w.cloneElement(s,l)}return w.Children.count(s)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var BEe=Symbol("radix.slottable");function zEe(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===BEe}function qEe(t,e){const n={...e};for(const a in e){const s=t[a],i=e[a];/^on[A-Z]/.test(a)?s&&i?n[a]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(n[a]=s):a==="style"?n[a]={...s,...i}:a==="className"&&(n[a]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function VEe(t){var a,s;let e=(a=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:a.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var UQ=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),HEe="VisuallyHidden",GEe=w.forwardRef((t,e)=>r.jsx(qt.span,{...t,ref:e,style:{...UQ,...t.style}}));GEe.displayName=HEe;var WEe=[" ","Enter","ArrowUp","ArrowDown"],KEe=[" ","Enter"],Qu="Select",[i_,o_,XEe]=S1(Qu),[_p]=Fi(Qu,[XEe,R1]),l_=R1(),[YEe,bd]=_p(Qu),[QEe,ZEe]=_p(Qu),BQ=t=>{const{__scopeSelect:e,children:n,open:a,defaultOpen:s,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:h,disabled:f,required:v,form:x}=t,g=l_(e),[y,b]=w.useState(null),[_,j]=w.useState(null),[S,C]=w.useState(!1),E=lp(d),[P,T]=Hl({prop:a,defaultProp:s??!1,onChange:i,caller:Qu}),[M,k]=Hl({prop:o,defaultProp:l,onChange:c,caller:Qu}),O=w.useRef(null),$=y?x||!!y.closest("form"):!0,[F,B]=w.useState(new Set),G=Array.from(F).map(I=>I.props.value).join(";");return r.jsx(RG,{...g,children:r.jsxs(YEe,{required:v,scope:e,trigger:y,onTriggerChange:b,valueNode:_,onValueNodeChange:j,valueNodeHasChildren:S,onValueNodeHasChildrenChange:C,contentId:$o(),value:M,onValueChange:k,open:P,onOpenChange:T,dir:E,triggerPointerDownPosRef:O,disabled:f,children:[r.jsx(i_.Provider,{scope:e,children:r.jsx(QEe,{scope:t.__scopeSelect,onNativeOptionAdd:w.useCallback(I=>{B(L=>new Set(L).add(I))},[]),onNativeOptionRemove:w.useCallback(I=>{B(L=>{const U=new Set(L);return U.delete(I),U})},[]),children:n})}),$?r.jsxs(uZ,{"aria-hidden":!0,required:v,tabIndex:-1,name:u,autoComplete:h,value:M,onChange:I=>k(I.target.value),disabled:f,form:x,children:[M===void 0?r.jsx("option",{value:""}):null,Array.from(F)]},G):null]})})};BQ.displayName=Qu;var zQ="SelectTrigger",qQ=w.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:a=!1,...s}=t,i=l_(n),o=bd(zQ,n),l=o.disabled||a,c=mn(e,o.onTriggerChange),d=o_(n),u=w.useRef("touch"),[h,f,v]=mZ(g=>{const y=d().filter(j=>!j.disabled),b=y.find(j=>j.value===o.value),_=fZ(y,g,b);_!==void 0&&o.onValueChange(_.value)}),x=g=>{l||(o.onOpenChange(!0),v()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return r.jsx(OG,{asChild:!0,...i,children:r.jsx(qt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":hZ(o.value)?"":void 0,...s,ref:c,onClick:lt(s.onClick,g=>{g.currentTarget.focus(),u.current!=="mouse"&&x(g)}),onPointerDown:lt(s.onPointerDown,g=>{u.current=g.pointerType;const y=g.target;y.hasPointerCapture(g.pointerId)&&y.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(x(g),g.preventDefault())}),onKeyDown:lt(s.onKeyDown,g=>{const y=h.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&f(g.key),!(y&&g.key===" ")&&WEe.includes(g.key)&&(x(),g.preventDefault())})})})});qQ.displayName=zQ;var VQ="SelectValue",HQ=w.forwardRef((t,e)=>{const{__scopeSelect:n,className:a,style:s,children:i,placeholder:o="",...l}=t,c=bd(VQ,n),{onValueNodeHasChildrenChange:d}=c,u=i!==void 0,h=mn(e,c.onValueNodeChange);return Jr(()=>{d(u)},[d,u]),r.jsx(qt.span,{...l,ref:h,style:{pointerEvents:"none"},children:hZ(c.value)?r.jsx(r.Fragment,{children:o}):i})});HQ.displayName=VQ;var JEe="SelectIcon",GQ=w.forwardRef((t,e)=>{const{__scopeSelect:n,children:a,...s}=t;return r.jsx(qt.span,{"aria-hidden":!0,...s,ref:e,children:a||""})});GQ.displayName=JEe;var eAe="SelectPortal",WQ=t=>r.jsx(O1,{asChild:!0,...t});WQ.displayName=eAe;var Zu="SelectContent",KQ=w.forwardRef((t,e)=>{const n=bd(Zu,t.__scopeSelect),[a,s]=w.useState();if(Jr(()=>{s(new DocumentFragment)},[]),!n.open){const i=a;return i?_g.createPortal(r.jsx(XQ,{scope:t.__scopeSelect,children:r.jsx(i_.Slot,{scope:t.__scopeSelect,children:r.jsx("div",{children:t.children})})}),i):null}return r.jsx(YQ,{...t,ref:e})});KQ.displayName=Zu;var Ji=10,[XQ,wd]=_p(Zu),tAe="SelectContentImpl",nAe=$Ee("SelectContent.RemoveScroll"),YQ=w.forwardRef((t,e)=>{const{__scopeSelect:n,position:a="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:f,collisionPadding:v,sticky:x,hideWhenDetached:g,avoidCollisions:y,...b}=t,_=bd(Zu,n),[j,S]=w.useState(null),[C,E]=w.useState(null),P=mn(e,xe=>S(xe)),[T,M]=w.useState(null),[k,O]=w.useState(null),$=o_(n),[F,B]=w.useState(!1),G=w.useRef(!1);w.useEffect(()=>{if(j)return s4(j)},[j]),Y3();const I=w.useCallback(xe=>{const[Ie,...fe]=$().map(re=>re.ref.current),[Ne]=fe.slice(-1),Le=document.activeElement;for(const re of xe)if(re===Le||(re==null||re.scrollIntoView({block:"nearest"}),re===Ie&&C&&(C.scrollTop=0),re===Ne&&C&&(C.scrollTop=C.scrollHeight),re==null||re.focus(),document.activeElement!==Le))return},[$,C]),L=w.useCallback(()=>I([T,j]),[I,T,j]);w.useEffect(()=>{F&&L()},[F,L]);const{onOpenChange:U,triggerPointerDownPosRef:z}=_;w.useEffect(()=>{if(j){let xe={x:0,y:0};const Ie=Ne=>{var Le,re;xe={x:Math.abs(Math.round(Ne.pageX)-(((Le=z.current)==null?void 0:Le.x)??0)),y:Math.abs(Math.round(Ne.pageY)-(((re=z.current)==null?void 0:re.y)??0))}},fe=Ne=>{xe.x<=10&&xe.y<=10?Ne.preventDefault():j.contains(Ne.target)||U(!1),document.removeEventListener("pointermove",Ie),z.current=null};return z.current!==null&&(document.addEventListener("pointermove",Ie),document.addEventListener("pointerup",fe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ie),document.removeEventListener("pointerup",fe,{capture:!0})}}},[j,U,z]),w.useEffect(()=>{const xe=()=>U(!1);return window.addEventListener("blur",xe),window.addEventListener("resize",xe),()=>{window.removeEventListener("blur",xe),window.removeEventListener("resize",xe)}},[U]);const[K,V]=mZ(xe=>{const Ie=$().filter(Le=>!Le.disabled),fe=Ie.find(Le=>Le.ref.current===document.activeElement),Ne=fZ(Ie,xe,fe);Ne&&setTimeout(()=>Ne.ref.current.focus())}),Y=w.useCallback((xe,Ie,fe)=>{const Ne=!G.current&&!fe;(_.value!==void 0&&_.value===Ie||Ne)&&(M(xe),Ne&&(G.current=!0))},[_.value]),ee=w.useCallback(()=>j==null?void 0:j.focus(),[j]),se=w.useCallback((xe,Ie,fe)=>{const Ne=!G.current&&!fe;(_.value!==void 0&&_.value===Ie||Ne)&&O(xe)},[_.value]),pe=a==="popper"?FP:QQ,Pe=pe===FP?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:f,collisionPadding:v,sticky:x,hideWhenDetached:g,avoidCollisions:y}:{};return r.jsx(XQ,{scope:n,content:j,viewport:C,onViewportChange:E,itemRefCallback:Y,selectedItem:T,onItemLeave:ee,itemTextRefCallback:se,focusSelectedItem:L,selectedItemText:k,position:a,isPositioned:F,searchRef:K,children:r.jsx(L1,{as:nAe,allowPinchZoom:!0,children:r.jsx(E1,{asChild:!0,trapped:_.open,onMountAutoFocus:xe=>{xe.preventDefault()},onUnmountAutoFocus:lt(s,xe=>{var Ie;(Ie=_.trigger)==null||Ie.focus({preventScroll:!0}),xe.preventDefault()}),children:r.jsx(C1,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:xe=>xe.preventDefault(),onDismiss:()=>_.onOpenChange(!1),children:r.jsx(pe,{role:"listbox",id:_.contentId,"data-state":_.open?"open":"closed",dir:_.dir,onContextMenu:xe=>xe.preventDefault(),...b,...Pe,onPlaced:()=>B(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:lt(b.onKeyDown,xe=>{const Ie=xe.ctrlKey||xe.altKey||xe.metaKey;if(xe.key==="Tab"&&xe.preventDefault(),!Ie&&xe.key.length===1&&V(xe.key),["ArrowUp","ArrowDown","Home","End"].includes(xe.key)){let Ne=$().filter(Le=>!Le.disabled).map(Le=>Le.ref.current);if(["ArrowUp","End"].includes(xe.key)&&(Ne=Ne.slice().reverse()),["ArrowUp","ArrowDown"].includes(xe.key)){const Le=xe.target,re=Ne.indexOf(Le);Ne=Ne.slice(re+1)}setTimeout(()=>I(Ne)),xe.preventDefault()}})})})})})})});YQ.displayName=tAe;var rAe="SelectItemAlignedPosition",QQ=w.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:a,...s}=t,i=bd(Zu,n),o=wd(Zu,n),[l,c]=w.useState(null),[d,u]=w.useState(null),h=mn(e,P=>u(P)),f=o_(n),v=w.useRef(!1),x=w.useRef(!0),{viewport:g,selectedItem:y,selectedItemText:b,focusSelectedItem:_}=o,j=w.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&g&&y&&b){const P=i.trigger.getBoundingClientRect(),T=d.getBoundingClientRect(),M=i.valueNode.getBoundingClientRect(),k=b.getBoundingClientRect();if(i.dir!=="rtl"){const Le=k.left-T.left,re=M.left-Le,he=P.left-re,Ee=P.width+he,Xe=Math.max(Ee,T.width),Ve=window.innerWidth-Ji,at=Ex(re,[Ji,Math.max(Ji,Ve-Xe)]);l.style.minWidth=Ee+"px",l.style.left=at+"px"}else{const Le=T.right-k.right,re=window.innerWidth-M.right-Le,he=window.innerWidth-P.right-re,Ee=P.width+he,Xe=Math.max(Ee,T.width),Ve=window.innerWidth-Ji,at=Ex(re,[Ji,Math.max(Ji,Ve-Xe)]);l.style.minWidth=Ee+"px",l.style.right=at+"px"}const O=f(),$=window.innerHeight-Ji*2,F=g.scrollHeight,B=window.getComputedStyle(d),G=parseInt(B.borderTopWidth,10),I=parseInt(B.paddingTop,10),L=parseInt(B.borderBottomWidth,10),U=parseInt(B.paddingBottom,10),z=G+I+F+U+L,K=Math.min(y.offsetHeight*5,z),V=window.getComputedStyle(g),Y=parseInt(V.paddingTop,10),ee=parseInt(V.paddingBottom,10),se=P.top+P.height/2-Ji,pe=$-se,Pe=y.offsetHeight/2,xe=y.offsetTop+Pe,Ie=G+I+xe,fe=z-Ie;if(Ie<=se){const Le=O.length>0&&y===O[O.length-1].ref.current;l.style.bottom="0px";const re=d.clientHeight-g.offsetTop-g.offsetHeight,he=Math.max(pe,Pe+(Le?ee:0)+re+L),Ee=Ie+he;l.style.height=Ee+"px"}else{const Le=O.length>0&&y===O[0].ref.current;l.style.top="0px";const he=Math.max(se,G+g.offsetTop+(Le?Y:0)+Pe)+fe;l.style.height=he+"px",g.scrollTop=Ie-se+g.offsetTop}l.style.margin=`${Ji}px 0`,l.style.minHeight=K+"px",l.style.maxHeight=$+"px",a==null||a(),requestAnimationFrame(()=>v.current=!0)}},[f,i.trigger,i.valueNode,l,d,g,y,b,i.dir,a]);Jr(()=>j(),[j]);const[S,C]=w.useState();Jr(()=>{d&&C(window.getComputedStyle(d).zIndex)},[d]);const E=w.useCallback(P=>{P&&x.current===!0&&(j(),_==null||_(),x.current=!1)},[j,_]);return r.jsx(sAe,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:v,onScrollButtonChange:E,children:r.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:r.jsx(qt.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});QQ.displayName=rAe;var aAe="SelectPopperPosition",FP=w.forwardRef((t,e)=>{const{__scopeSelect:n,align:a="start",collisionPadding:s=Ji,...i}=t,o=l_(n);return r.jsx(DG,{...o,...i,ref:e,align:a,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});FP.displayName=aAe;var[sAe,pk]=_p(Zu,{}),$P="SelectViewport",ZQ=w.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:a,...s}=t,i=wd($P,n),o=pk($P,n),l=mn(e,i.onViewportChange),c=w.useRef(0);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),r.jsx(i_.Slot,{scope:n,children:r.jsx(qt.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:lt(s.onScroll,d=>{const u=d.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&h){const v=Math.abs(c.current-u.scrollTop);if(v>0){const x=window.innerHeight-Ji*2,g=parseFloat(h.style.minHeight),y=parseFloat(h.style.height),b=Math.max(g,y);if(b<x){const _=b+v,j=Math.min(x,_),S=_-j;h.style.height=j+"px",h.style.bottom==="0px"&&(u.scrollTop=S>0?S:0,h.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});ZQ.displayName=$P;var JQ="SelectGroup",[iAe,oAe]=_p(JQ),lAe=w.forwardRef((t,e)=>{const{__scopeSelect:n,...a}=t,s=$o();return r.jsx(iAe,{scope:n,id:s,children:r.jsx(qt.div,{role:"group","aria-labelledby":s,...a,ref:e})})});lAe.displayName=JQ;var eZ="SelectLabel",tZ=w.forwardRef((t,e)=>{const{__scopeSelect:n,...a}=t,s=oAe(eZ,n);return r.jsx(qt.div,{id:s.id,...a,ref:e})});tZ.displayName=eZ;var dw="SelectItem",[cAe,nZ]=_p(dw),rZ=w.forwardRef((t,e)=>{const{__scopeSelect:n,value:a,disabled:s=!1,textValue:i,...o}=t,l=bd(dw,n),c=wd(dw,n),d=l.value===a,[u,h]=w.useState(i??""),[f,v]=w.useState(!1),x=mn(e,_=>{var j;return(j=c.itemRefCallback)==null?void 0:j.call(c,_,a,s)}),g=$o(),y=w.useRef("touch"),b=()=>{s||(l.onValueChange(a),l.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return r.jsx(cAe,{scope:n,value:a,disabled:s,textId:g,isSelected:d,onItemTextChange:w.useCallback(_=>{h(j=>j||((_==null?void 0:_.textContent)??"").trim())},[]),children:r.jsx(i_.ItemSlot,{scope:n,value:a,disabled:s,textValue:u,children:r.jsx(qt.div,{role:"option","aria-labelledby":g,"data-highlighted":f?"":void 0,"aria-selected":d&&f,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:x,onFocus:lt(o.onFocus,()=>v(!0)),onBlur:lt(o.onBlur,()=>v(!1)),onClick:lt(o.onClick,()=>{y.current!=="mouse"&&b()}),onPointerUp:lt(o.onPointerUp,()=>{y.current==="mouse"&&b()}),onPointerDown:lt(o.onPointerDown,_=>{y.current=_.pointerType}),onPointerMove:lt(o.onPointerMove,_=>{var j;y.current=_.pointerType,s?(j=c.onItemLeave)==null||j.call(c):y.current==="mouse"&&_.currentTarget.focus({preventScroll:!0})}),onPointerLeave:lt(o.onPointerLeave,_=>{var j;_.currentTarget===document.activeElement&&((j=c.onItemLeave)==null||j.call(c))}),onKeyDown:lt(o.onKeyDown,_=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&_.key===" "||(KEe.includes(_.key)&&b(),_.key===" "&&_.preventDefault())})})})})});rZ.displayName=dw;var $0="SelectItemText",aZ=w.forwardRef((t,e)=>{const{__scopeSelect:n,className:a,style:s,...i}=t,o=bd($0,n),l=wd($0,n),c=nZ($0,n),d=ZEe($0,n),[u,h]=w.useState(null),f=mn(e,b=>h(b),c.onItemTextChange,b=>{var _;return(_=l.itemTextRefCallback)==null?void 0:_.call(l,b,c.value,c.disabled)}),v=u==null?void 0:u.textContent,x=w.useMemo(()=>r.jsx("option",{value:c.value,disabled:c.disabled,children:v},c.value),[c.disabled,c.value,v]),{onNativeOptionAdd:g,onNativeOptionRemove:y}=d;return Jr(()=>(g(x),()=>y(x)),[g,y,x]),r.jsxs(r.Fragment,{children:[r.jsx(qt.span,{id:c.textId,...i,ref:f}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?_g.createPortal(i.children,o.valueNode):null]})});aZ.displayName=$0;var sZ="SelectItemIndicator",iZ=w.forwardRef((t,e)=>{const{__scopeSelect:n,...a}=t;return nZ(sZ,n).isSelected?r.jsx(qt.span,{"aria-hidden":!0,...a,ref:e}):null});iZ.displayName=sZ;var UP="SelectScrollUpButton",oZ=w.forwardRef((t,e)=>{const n=wd(UP,t.__scopeSelect),a=pk(UP,t.__scopeSelect),[s,i]=w.useState(!1),o=mn(e,a.onScrollButtonChange);return Jr(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?r.jsx(cZ,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});oZ.displayName=UP;var BP="SelectScrollDownButton",lZ=w.forwardRef((t,e)=>{const n=wd(BP,t.__scopeSelect),a=pk(BP,t.__scopeSelect),[s,i]=w.useState(!1),o=mn(e,a.onScrollButtonChange);return Jr(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;i(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?r.jsx(cZ,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});lZ.displayName=BP;var cZ=w.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:a,...s}=t,i=wd("SelectScrollButton",n),o=w.useRef(null),l=o_(n),c=w.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return w.useEffect(()=>()=>c(),[c]),Jr(()=>{var u;const d=l().find(h=>h.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),r.jsx(qt.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:lt(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(a,50))}),onPointerMove:lt(s.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(a,50))}),onPointerLeave:lt(s.onPointerLeave,()=>{c()})})}),dAe="SelectSeparator",dZ=w.forwardRef((t,e)=>{const{__scopeSelect:n,...a}=t;return r.jsx(qt.div,{"aria-hidden":!0,...a,ref:e})});dZ.displayName=dAe;var zP="SelectArrow",uAe=w.forwardRef((t,e)=>{const{__scopeSelect:n,...a}=t,s=l_(n),i=bd(zP,n),o=wd(zP,n);return i.open&&o.position==="popper"?r.jsx(IG,{...s,...a,ref:e}):null});uAe.displayName=zP;var hAe="SelectBubbleInput",uZ=w.forwardRef(({__scopeSelect:t,value:e,...n},a)=>{const s=w.useRef(null),i=mn(a,s),o=J1(e);return w.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&u){const h=new Event("change",{bubbles:!0});u.call(l,e),l.dispatchEvent(h)}},[o,e]),r.jsx(qt.select,{...n,style:{...UQ,...n.style},ref:i,defaultValue:e})});uZ.displayName=hAe;function hZ(t){return t===""||t===void 0}function mZ(t){const e=Sa(t),n=w.useRef(""),a=w.useRef(0),s=w.useCallback(o=>{const l=n.current+o;e(l),(function c(d){n.current=d,window.clearTimeout(a.current),d!==""&&(a.current=window.setTimeout(()=>c(""),1e3))})(l)},[e]),i=w.useCallback(()=>{n.current="",window.clearTimeout(a.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(a.current),[]),[n,s,i]}function fZ(t,e,n){const s=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=mAe(t,Math.max(i,0));s.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function mAe(t,e){return t.map((n,a)=>t[(e+a)%t.length])}var fAe=BQ,pZ=qQ,pAe=HQ,xAe=GQ,gAe=WQ,xZ=KQ,vAe=ZQ,gZ=tZ,vZ=rZ,yAe=aZ,bAe=iZ,yZ=oZ,bZ=lZ,wZ=dZ;const Ds=fAe,Is=pAe,hs=w.forwardRef(({className:t,children:e,...n},a)=>r.jsxs(pZ,{ref:a,className:Wt("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,r.jsx(xAe,{asChild:!0,children:r.jsx(ld,{className:"h-4 w-4 opacity-50"})})]}));hs.displayName=pZ.displayName;const _Z=w.forwardRef(({className:t,...e},n)=>r.jsx(yZ,{ref:n,className:Wt("flex cursor-default items-center justify-center py-1",t),...e,children:r.jsx(ux,{className:"h-4 w-4"})}));_Z.displayName=yZ.displayName;const jZ=w.forwardRef(({className:t,...e},n)=>r.jsx(bZ,{ref:n,className:Wt("flex cursor-default items-center justify-center py-1",t),...e,children:r.jsx(ld,{className:"h-4 w-4"})}));jZ.displayName=bZ.displayName;const ms=w.forwardRef(({className:t,children:e,position:n="popper",...a},s)=>r.jsx(gAe,{children:r.jsxs(xZ,{ref:s,className:Wt("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...a,children:[r.jsx(_Z,{}),r.jsx(vAe,{className:Wt("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),r.jsx(jZ,{})]})}));ms.displayName=xZ.displayName;const wAe=w.forwardRef(({className:t,...e},n)=>r.jsx(gZ,{ref:n,className:Wt("px-2 py-1.5 text-sm font-semibold",t),...e}));wAe.displayName=gZ.displayName;const Ot=w.forwardRef(({className:t,children:e,...n},a)=>r.jsxs(vZ,{ref:a,className:Wt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[r.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(bAe,{children:r.jsx(Rn,{className:"h-4 w-4"})})}),r.jsx(yAe,{children:e})]}));Ot.displayName=vZ.displayName;const _Ae=w.forwardRef(({className:t,...e},n)=>r.jsx(wZ,{ref:n,className:Wt("-mx-1 my-1 h-px bg-muted",t),...e}));_Ae.displayName=wZ.displayName;function jAe(t){const e=NAe(t),n=w.forwardRef((a,s)=>{const{children:i,...o}=a,l=w.Children.toArray(i),c=l.find(CAe);if(c){const d=c.props.children,u=l.map(h=>h===c?w.Children.count(d)>1?w.Children.only(null):w.isValidElement(d)?d.props.children:null:h);return r.jsx(e,{...o,ref:s,children:w.isValidElement(d)?w.cloneElement(d,void 0,u):null})}return r.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}function NAe(t){const e=w.forwardRef((n,a)=>{const{children:s,...i}=n;if(w.isValidElement(s)){const o=AAe(s),l=EAe(i,s.props);return s.type!==w.Fragment&&(l.ref=a?tc(a,o):o),w.cloneElement(s,l)}return w.Children.count(s)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var SAe=Symbol("radix.slottable");function CAe(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===SAe}function EAe(t,e){const n={...e};for(const a in e){const s=t[a],i=e[a];/^on[A-Z]/.test(a)?s&&i?n[a]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(n[a]=s):a==="style"?n[a]={...s,...i}:a==="className"&&(n[a]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function AAe(t){var a,s;let e=(a=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:a.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var c_="Dialog",[NZ]=Fi(c_),[MAe,wo]=NZ(c_),SZ=t=>{const{__scopeDialog:e,children:n,open:a,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,l=w.useRef(null),c=w.useRef(null),[d,u]=Hl({prop:a,defaultProp:s??!1,onChange:i,caller:c_});return r.jsx(MAe,{scope:e,triggerRef:l,contentRef:c,contentId:$o(),titleId:$o(),descriptionId:$o(),open:d,onOpenChange:u,onOpenToggle:w.useCallback(()=>u(h=>!h),[u]),modal:o,children:n})};SZ.displayName=c_;var CZ="DialogTrigger",PAe=w.forwardRef((t,e)=>{const{__scopeDialog:n,...a}=t,s=wo(CZ,n),i=mn(e,s.triggerRef);return r.jsx(qt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":vk(s.open),...a,ref:i,onClick:lt(t.onClick,s.onOpenToggle)})});PAe.displayName=CZ;var xk="DialogPortal",[TAe,EZ]=NZ(xk,{forceMount:void 0}),AZ=t=>{const{__scopeDialog:e,forceMount:n,children:a,container:s}=t,i=wo(xk,e);return r.jsx(TAe,{scope:e,forceMount:n,children:w.Children.map(a,o=>r.jsx(Us,{present:n||i.open,children:r.jsx(O1,{asChild:!0,container:s,children:o})}))})};AZ.displayName=xk;var uw="DialogOverlay",MZ=w.forwardRef((t,e)=>{const n=EZ(uw,t.__scopeDialog),{forceMount:a=n.forceMount,...s}=t,i=wo(uw,t.__scopeDialog);return i.modal?r.jsx(Us,{present:a||i.open,children:r.jsx(RAe,{...s,ref:e})}):null});MZ.displayName=uw;var kAe=jAe("DialogOverlay.RemoveScroll"),RAe=w.forwardRef((t,e)=>{const{__scopeDialog:n,...a}=t,s=wo(uw,n);return r.jsx(L1,{as:kAe,allowPinchZoom:!0,shards:[s.contentRef],children:r.jsx(qt.div,{"data-state":vk(s.open),...a,ref:e,style:{pointerEvents:"auto",...a.style}})})}),Ju="DialogContent",PZ=w.forwardRef((t,e)=>{const n=EZ(Ju,t.__scopeDialog),{forceMount:a=n.forceMount,...s}=t,i=wo(Ju,t.__scopeDialog);return r.jsx(Us,{present:a||i.open,children:i.modal?r.jsx(OAe,{...s,ref:e}):r.jsx(DAe,{...s,ref:e})})});PZ.displayName=Ju;var OAe=w.forwardRef((t,e)=>{const n=wo(Ju,t.__scopeDialog),a=w.useRef(null),s=mn(e,n.contentRef,a);return w.useEffect(()=>{const i=a.current;if(i)return s4(i)},[]),r.jsx(TZ,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:lt(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:lt(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:lt(t.onFocusOutside,i=>i.preventDefault())})}),DAe=w.forwardRef((t,e)=>{const n=wo(Ju,t.__scopeDialog),a=w.useRef(!1),s=w.useRef(!1);return r.jsx(TZ,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(a.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),a.current=!1,s.current=!1},onInteractOutside:i=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(a.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),TZ=w.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,l=wo(Ju,n),c=w.useRef(null),d=mn(e,c);return Y3(),r.jsxs(r.Fragment,{children:[r.jsx(E1,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:s,onUnmountAutoFocus:i,children:r.jsx(C1,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":vk(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),r.jsxs(r.Fragment,{children:[r.jsx(IAe,{titleId:l.titleId}),r.jsx(FAe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),gk="DialogTitle",kZ=w.forwardRef((t,e)=>{const{__scopeDialog:n,...a}=t,s=wo(gk,n);return r.jsx(qt.h2,{id:s.titleId,...a,ref:e})});kZ.displayName=gk;var RZ="DialogDescription",OZ=w.forwardRef((t,e)=>{const{__scopeDialog:n,...a}=t,s=wo(RZ,n);return r.jsx(qt.p,{id:s.descriptionId,...a,ref:e})});OZ.displayName=RZ;var DZ="DialogClose",IZ=w.forwardRef((t,e)=>{const{__scopeDialog:n,...a}=t,s=wo(DZ,n);return r.jsx(qt.button,{type:"button",...a,ref:e,onClick:lt(t.onClick,()=>s.onOpenChange(!1))})});IZ.displayName=DZ;function vk(t){return t?"open":"closed"}var LZ="DialogTitleWarning",[jXe,FZ]=mfe(LZ,{contentName:Ju,titleName:gk,docsSlug:"dialog"}),IAe=({titleId:t})=>{const e=FZ(LZ),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return w.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},LAe="DialogDescriptionWarning",FAe=({contentRef:t,descriptionId:e})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${FZ(LAe).contentName}}.`;return w.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(a))},[a,t,e]),null},$Ae=SZ,UAe=AZ,$Z=MZ,UZ=PZ,BZ=kZ,zZ=OZ,BAe=IZ;const qZ=$Ae,zAe=UAe,VZ=w.forwardRef(({className:t,...e},n)=>r.jsx($Z,{ref:n,className:Wt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));VZ.displayName=$Z.displayName;const yk=w.forwardRef(({className:t,children:e,...n},a)=>r.jsxs(zAe,{children:[r.jsx(VZ,{}),r.jsxs(UZ,{ref:a,className:Wt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,r.jsxs(BAe,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[r.jsx(nt,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));yk.displayName=UZ.displayName;const HZ=({className:t,...e})=>r.jsx("div",{className:Wt("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});HZ.displayName="DialogHeader";const GZ=w.forwardRef(({className:t,...e},n)=>r.jsx(BZ,{ref:n,className:Wt("text-lg font-semibold leading-none tracking-tight",t),...e}));GZ.displayName=BZ.displayName;const qAe=w.forwardRef(({className:t,...e},n)=>r.jsx(zZ,{ref:n,className:Wt("text-sm text-muted-foreground",t),...e}));qAe.displayName=zZ.displayName;const VAe=["Tarot","Astrologia","Numerologia","Cristais","Magia","Filosofia Mstica"];function HAe({user:t,onClose:e,onSubmit:n,isLoading:a}){const[s,i]=w.useState(""),[o,l]=w.useState(""),[c,d]=w.useState(""),u=f=>{if(f.preventDefault(),!s||!o.trim()||!c.trim())return;const v=[{id:"opponent_1",name:"Luz Interior",avatar:"https://i.pravatar.cc/150?img=1",level:42,archetype:"guardiao_astral",argument:"Representa uma revelao sbita e chocante que destri as nossas percepes atuais.  um 'despertar' forado pelo universo, que nos obriga a abandonar o que no  mais sustentvel em nossa vida."},{id:"opponent_2",name:"Viajante Csmico",avatar:"https://i.pravatar.cc/150?img=8",level:35,archetype:"navegador_cosmico",argument:" sobre a necessidade de desconstruo para permitir nova construo. Representa o fim de iluses e a chance de recomear com bases mais slidas."}],x=v[Math.floor(Math.random()*v.length)];n({category:s,question:o,challenger_argument:c,opponent_id:x.id,opponent_name:x.name,opponent_avatar:x.avatar,opponent_level:x.level,opponent_archetype:x.archetype,opponent_argument:x.argument})},h=s&&o.trim()&&c.trim();return r.jsx(gt,{children:r.jsx(qZ,{open:!0,onOpenChange:e,children:r.jsxs(yk,{className:"bg-[#131128] border-purple-400/20 max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs(HZ,{children:[r.jsxs(GZ,{className:"text-3xl font-bold text-yellow-300 flex items-center gap-3",children:[r.jsx(ri,{className:"w-8 h-8"}),"Lanar um Duelo"]}),r.jsx("p",{className:"text-gray-400 mt-2",children:"Proponha uma questo, apresente seu argumento e convide a comunidade para o debate."})]}),r.jsxs("form",{onSubmit:u,className:"space-y-6 mt-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-white font-semibold mb-2",children:"Categoria da Batalha"}),r.jsxs(Ds,{value:s,onValueChange:i,children:[r.jsx(hs,{className:"bg-slate-800 border-purple-400/30 text-white",children:r.jsx(Is,{placeholder:"Selecione a arena do conhecimento"})}),r.jsx(ms,{className:"bg-slate-900 border-purple-400/30",children:VAe.map(f=>r.jsx(Ot,{value:f,className:"text-white",children:f},f))})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-white font-semibold mb-2",children:"A Questo do Duelo"}),r.jsx(je,{value:o,onChange:f=>l(f.target.value),placeholder:"Ex: Qual o significado mais profundo da carta 'A Torre'?",className:"bg-slate-800 border-purple-400/30 text-white placeholder:text-gray-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-white font-semibold mb-2",children:"Seu Argumento Inicial"}),r.jsx(It,{value:c,onChange:f=>d(f.target.value),placeholder:"Defenda seu ponto de vista com sabedoria e clareza...",className:"bg-slate-800 border-purple-400/30 text-white placeholder:text-gray-500 min-h-[150px] resize-none"})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx(W,{type:"button",variant:"outline",onClick:e,className:"flex-1 border-purple-400/30 text-gray-300",children:"Cancelar"}),r.jsxs(W,{type:"submit",disabled:!h||a,className:"flex-1 bg-yellow-500 hover:bg-yellow-600 text-black font-bold disabled:opacity-50 disabled:cursor-not-allowed",children:[r.jsx(ri,{className:"w-5 h-5 mr-2"}),a?"Lanando...":"Lanar Desafio na Arena"]})]})]})]})})})}function WZ(){const t=Sn(),e=wt(),[n,a]=w.useState(null),[s,i]=w.useState(!1),[o,l]=w.useState([]);w.useEffect(()=>{c(),d()},[]);const c=async()=>{try{const y=await H.auth.me();a(y)}catch(y){console.error("Erro ao carregar usurio:",y)}},d=()=>{const y=JSON.parse(localStorage.getItem("voted_duels")||"[]");l(y)},{data:u,isLoading:h}=Oe({queryKey:["duels"],queryFn:()=>H.entities.Duel.filter({status:"active"},"-created_date",50),initialData:[]}),f=Ue({mutationFn:async y=>await H.entities.Duel.create({...y,challenger_id:n.id,challenger_name:n.display_name||n.full_name,challenger_avatar:n.avatar_url,challenger_level:n.level||1,challenger_archetype:n.archetype||"none",status:"active",total_votes:0,challenger_votes:0,opponent_votes:0,voters:[]}),onSuccess:()=>{e.invalidateQueries({queryKey:["duels"]}),i(!1)}}),v=y=>{f.mutate(y)},x=()=>{t(ft("Hub"))},g=y=>o.includes(y);return n?r.jsxs("div",{className:"fixed inset-0 bg-gradient-to-b from-[#0a0a1a] via-[#131128] to-[#0a0a1a] z-50 overflow-y-auto",children:[r.jsx("button",{onClick:x,className:"fixed top-4 right-4 z-50 w-12 h-12 rounded-full bg-slate-800/50 hover:bg-slate-700/50 flex items-center justify-center transition",children:r.jsx(nt,{className:"w-6 h-6 text-gray-400"})}),r.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-12 pb-32",children:[r.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[r.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-white mb-4",children:"Arena dos Orculos"}),r.jsx("p",{className:"text-gray-400 text-lg md:text-xl mb-8",children:"Onde a sabedoria  a arma e o conhecimento  a armadura."}),r.jsxs(W,{onClick:()=>i(!0),className:"bg-yellow-500 hover:bg-yellow-600 text-black font-bold px-8 py-6 text-lg rounded-2xl shadow-lg shadow-yellow-500/30",children:[r.jsx(ri,{className:"w-6 h-6 mr-2"}),"Lanar um Desafio"]})]}),r.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"mt-12",children:[r.jsx("h2",{className:"text-3xl font-bold text-white mb-6",children:"Duelos Abertos"}),h?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(ri,{className:"w-12 h-12 text-yellow-400 animate-pulse mx-auto mb-4"}),r.jsx("p",{className:"text-gray-400",children:"Carregando batalhas..."})]}):u.length===0?r.jsxs(X,{className:"bg-[#131128] border-purple-400/20 p-12 text-center",children:[r.jsx(ri,{className:"w-16 h-16 text-yellow-400/50 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-bold text-yellow-300 mb-2",children:"Nenhum duelo ativo"}),r.jsx("p",{className:"text-gray-400 mb-6",children:"Seja o primeiro a lanar um desafio na arena!"}),r.jsx(W,{onClick:()=>i(!0),className:"bg-yellow-500 hover:bg-yellow-600 text-black font-bold",children:"Lanar Desafio"})]}):r.jsx("div",{className:"space-y-6",children:u.map(y=>{const b=g(y.id);return r.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:r.jsxs(X,{className:"bg-[#131128] border-purple-400/20 p-6 cursor-pointer hover:border-purple-400/40 transition",onClick:()=>t(ft(`ArenaDuel?id=${y.id}`)),children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx(De,{className:"bg-purple-900/50 text-purple-300 border-purple-400/30",children:y.category}),r.jsxs("div",{className:"flex items-center gap-2 text-gray-400 text-sm",children:[r.jsx(ife,{className:"w-4 h-4"}),r.jsxs("span",{children:[y.total_votes," votos"]})]})]}),r.jsxs("div",{className:"flex items-center justify-center gap-6 mb-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsx(Lr,{user:{avatar_url:y.challenger_avatar,archetype:y.challenger_archetype},size:"lg",showStatus:!1}),r.jsx("p",{className:"text-white font-semibold mt-2 text-sm",children:y.challenger_name})]}),r.jsx(ri,{className:"w-8 h-8 text-gray-600"}),r.jsxs("div",{className:"text-center",children:[r.jsx(Lr,{user:{avatar_url:y.opponent_avatar,archetype:y.opponent_archetype},size:"lg",showStatus:!1}),r.jsx("p",{className:"text-white font-semibold mt-2 text-sm",children:y.opponent_name})]})]}),r.jsxs("p",{className:"text-gray-300 text-center mb-4 line-clamp-2 italic",children:['"',y.question,'"']}),b?r.jsxs(W,{disabled:!0,className:"w-full bg-gray-700 text-gray-400 cursor-not-allowed",children:[r.jsx(_n,{className:"w-5 h-5 mr-2"}),"Voto Registrado"]}):r.jsx(W,{className:"w-full bg-purple-600 hover:bg-purple-700 text-white",children:"Assistir e Votar"})]})},y.id)})})]})]}),s&&r.jsx(HAe,{user:n,onClose:()=>i(!1),onSubmit:v,isLoading:f.isPending})]}):r.jsx("div",{className:"fixed inset-0 bg-[#0a0a1a] flex items-center justify-center z-50",children:r.jsx(q.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:r.jsx(ri,{className:"w-12 h-12 text-yellow-400"})})})}function KZ(){const[t,e]=w.useState(null),[n,a]=w.useState(null),[s,i]=w.useState(!1),[o,l]=w.useState(!0),[c,d]=w.useState(!1),u=wt();w.useEffect(()=>{h()},[]);const h=async()=>{try{const g=await H.auth.me();e(g),f(g)}catch(g){console.error("Erro ao carregar usurio:",g)}},f=async g=>{const y=new Date().toISOString().split("T")[0],b=await H.entities.TarotReading.filter({user_id:g.id,reading_type:"daily"},"-created_date",1);if(b.length>0){const _=b[0];if(new Date(_.created_date).toISOString().split("T")[0]===y){l(!1);const S=_.cards[0],C=cw[Object.values(cw).findIndex(E=>E.name===S.card_name)];C&&(a(C),d(S.is_reversed))}}},v=Ue({mutationFn:async()=>{const g=FEe(),y=Math.random()>.5;return await H.entities.TarotReading.create({user_id:t.id,reading_type:"daily",cards:[{card_name:g.name,position:"daily",is_reversed:y,meaning:`Sua carta do dia  ${g.name}${y?" (invertida)":""}.`}],interpretation:`Sua carta do dia  ${g.name}${y?" (invertida)":""}.`,energy_level:Math.floor(Math.random()*10)+1}),await H.auth.updateMe({xp:(t.xp||0)+10}),{...g,is_reversed:y}},onSuccess:g=>{a(g),d(g.is_reversed),l(!1),u.invalidateQueries({queryKey:["tarotReadings"]})}}),x=()=>{i(!0),setTimeout(()=>{v.mutate(),i(!1)},1e3)};return t?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#02031C] via-slate-900 to-[#02031C] text-white p-3 md:p-6 pb-24",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsxs(q.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-6 md:mb-8",children:[r.jsx(q.div,{animate:{rotate:[0,360],scale:[1,1.1,1]},transition:{rotate:{duration:20,repeat:1/0,ease:"linear"},scale:{duration:2,repeat:1/0}},className:"w-20 h-20 md:w-24 md:h-24 rounded-full bg-gradient-to-br from-rose-500 to-purple-600 flex items-center justify-center mx-auto mb-4 shadow-2xl",children:r.jsx(_e,{className:"w-10 h-10 md:w-12 md:h-12 text-white"})}),r.jsx("h1",{className:"text-2xl md:text-4xl font-bold mb-2 bg-gradient-to-r from-rose-400 to-purple-400 bg-clip-text text-transparent",children:"Tiragem Diria"}),r.jsx("p",{className:"text-slate-300 text-sm md:text-base",children:"Ritual dirio com uma carta de Tarot"})]}),r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx(gt,{mode:"wait",children:n?r.jsx(q.div,{initial:{opacity:0,rotateY:-90},animate:{opacity:1,rotateY:0},transition:{duration:.6},className:"mb-8",children:r.jsxs("div",{className:`w-48 md:w-64 ${c?"rotate-180":""}`,children:[r.jsx(X,{className:"bg-white rounded-xl overflow-hidden shadow-2xl border-4 border-purple-500",children:r.jsx("img",{src:n.image,alt:n.name,className:"w-full h-auto object-cover"})}),c&&r.jsx("p",{className:"text-sm text-purple-400 mt-2 text-center",children:"(Carta Invertida)"})]})},"card-front"):r.jsx(q.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,rotateY:90},className:"mb-8",children:r.jsx(q.div,{animate:s?{rotateY:360}:{},transition:{duration:1},children:r.jsx(X,{className:"w-48 md:w-64 h-72 md:h-96 bg-gradient-to-br from-purple-900 via-pink-900 to-blue-900 border-purple-500 flex items-center justify-center cursor-pointer hover:scale-105 transition-transform shadow-2xl",onClick:o?x:void 0,children:r.jsxs("div",{className:"text-center",children:[r.jsx(_e,{className:"w-16 h-16 md:w-24 md:h-24 text-purple-300 mx-auto mb-4"}),r.jsx("p",{className:"text-purple-200 text-sm",children:"Toque para revelar"})]})})})},"card-back")}),n&&r.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-2xl",children:r.jsxs(X,{className:"bg-gradient-to-br from-slate-900 to-slate-800 border-purple-900/30 p-6 md:p-8",children:[r.jsx("h3",{className:"text-xl md:text-2xl font-bold text-purple-300 mb-3 md:mb-4 text-center",children:n.name}),r.jsx("p",{className:"text-gray-300 text-center text-sm md:text-base leading-relaxed mb-4 md:mb-6",children:"Medite sobre esta carta durante o dia. Ela traz mensagens importantes para sua jornada."}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-sm text-purple-400 mb-4",children:"+10 XP concedidos por sua prtica diria "}),!o&&r.jsx("p",{className:"text-xs text-gray-500",children:"Retorne amanh para uma nova tiragem"})]})]})}),o&&!n&&r.jsx(W,{onClick:x,disabled:s||v.isPending,className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-base md:text-lg px-6 md:px-8 py-4 md:py-6",children:s?r.jsxs(r.Fragment,{children:[r.jsx(Bb,{className:"w-5 h-5 md:w-6 md:h-6 mr-2 animate-spin"}),"Revelando..."]}):r.jsxs(r.Fragment,{children:[r.jsx(_e,{className:"w-5 h-5 md:w-6 md:h-6 mr-2"}),"Revelar Carta do Dia"]})})]})]})}):r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx(_e,{className:"w-12 h-12 text-purple-500 animate-pulse"})})}function XZ(){const[t,e]=w.useState(null),[n,a]=w.useState(""),[s,i]=w.useState(!1),[o,l]=w.useState(!1),[c,d]=w.useState(null);ae.useEffect(()=>{u()},[]);const u=async()=>{const v=await H.auth.me();e(v)},h=async()=>{if(!n.trim()){alert("Digite sua pergunta primeiro");return}i(!0),l(!1),await new Promise(b=>setTimeout(b,1e4));const v=["sim","nao","talvez"],x=v[Math.floor(Math.random()*v.length)],g={sim:"A energia ao seu redor vibra positivamente. Os caminhos esto se abrindo.",nao:"A energia sugere cautela. Talvez no seja o momento ideal.",talvez:"A energia est neutra. O universo aguarda suas aes para definir o caminho."},y={answer:x,energy_reading:g[x]};await H.entities.PendulumQuestion.create({user_id:t.id,question:n,answer:x,energy_reading:g[x],asked_at:new Date().toISOString()}),d(y),i(!1),l(!0)},f=()=>{a(""),l(!1),d(null)};return t?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#02031C] via-slate-900 to-[#02031C] text-white p-3 md:p-6 pb-24",children:r.jsxs("div",{className:"max-w-3xl mx-auto",children:[r.jsxs(q.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[r.jsx(q.div,{animate:{rotate:s?[0,15,-15,0]:0,scale:s?[1,1.1,1]:1},transition:{duration:2,repeat:s?1/0:0,ease:"easeInOut"},className:"w-20 h-20 md:w-24 md:h-24 rounded-full bg-gradient-to-br from-blue-500 to-cyan-600 flex items-center justify-center mx-auto mb-4 shadow-2xl",children:r.jsx(OM,{className:"w-10 h-10 md:w-12 md:h-12 text-white"})}),r.jsx("h1",{className:"text-2xl md:text-4xl font-bold mb-2 bg-gradient-to-r from-blue-400 to-cyan-400 bg-clip-text text-transparent",children:"Pndulo Divinatrio"}),r.jsx("p",{className:"text-slate-300 text-sm md:text-base",children:"Orculo do Pndulo para perguntas sim/no"})]}),r.jsxs(gt,{mode:"wait",children:[!s&&!o&&r.jsxs(q.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},children:[r.jsxs(X,{className:"bg-slate-800/50 border-blue-500/30 p-4 md:p-6 mb-6",children:[r.jsx("h3",{className:"text-lg md:text-xl font-bold text-blue-300 mb-4 text-center",children:"Faa sua Pergunta ao Universo"}),r.jsx(It,{value:n,onChange:v=>a(v.target.value),placeholder:"Digite sua pergunta (sim/no)...",className:"bg-slate-700/50 border-slate-600 text-white mb-4 h-32 text-base md:text-lg",maxLength:200}),r.jsxs("div",{className:"text-sm text-slate-400 mb-4 text-center",children:[r.jsx("p",{children:" Concentre-se na sua pergunta"}),r.jsx("p",{children:" Respire fundo e mantenha a mente clara"}),r.jsx("p",{children:" O pndulo revelar a resposta"})]}),r.jsxs(W,{onClick:h,disabled:!n.trim(),className:"w-full bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700 text-white py-6 text-lg",size:"lg",children:[r.jsx(OM,{className:"w-5 h-5 mr-2"}),"Consultar o Pndulo"]})]}),r.jsxs(X,{className:"bg-gradient-to-br from-blue-900/30 to-cyan-900/30 border-blue-500/30 p-4",children:[r.jsx("h4",{className:"font-bold text-blue-300 mb-2",children:" Como Usar"}),r.jsxs("ul",{className:"text-sm text-slate-300 space-y-1",children:[r.jsx("li",{children:" Faa perguntas claras que podem ser respondidas com sim/no"}),r.jsx("li",{children:" Concentre-se na pergunta enquanto o pndulo consulta"}),r.jsx("li",{children:" Confie na primeira resposta que vier"}),r.jsx("li",{children:" Use para decises do dia a dia e reflexes pessoais"})]})]})]},"question"),s&&r.jsx(q.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-center py-12",children:r.jsxs(X,{className:"bg-slate-800/50 border-blue-500/30 p-8 md:p-12",children:[r.jsxs("div",{className:"relative h-64 md:h-80 mb-8",children:[r.jsx(q.div,{animate:{rotate:[-30,30,-30]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"absolute top-0 left-1/2 w-1 h-40 md:h-48 bg-gradient-to-b from-blue-400 to-transparent",style:{transformOrigin:"top center"},children:r.jsx(q.div,{animate:{scale:[1,1.2,1],rotate:[0,360]},transition:{duration:2,repeat:1/0,ease:"linear"},className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-8 h-12 md:w-10 md:h-14 bg-gradient-to-b from-cyan-400 via-blue-500 to-purple-600 rounded-full shadow-2xl",style:{clipPath:"polygon(50% 0%, 0% 100%, 100% 100%)"}})}),r.jsx(q.div,{animate:{opacity:[.5,1,.5]},transition:{duration:1,repeat:1/0},className:"absolute left-8 md:left-16 top-48 md:top-56 text-green-400 font-bold text-xl md:text-2xl",children:"SIM"}),r.jsx(q.div,{animate:{opacity:[1,.5,1]},transition:{duration:1,repeat:1/0},className:"absolute right-8 md:right-16 top-48 md:top-56 text-red-400 font-bold text-xl md:text-2xl",children:"NO"})]}),r.jsx(q.p,{animate:{opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0},className:"text-xl md:text-2xl font-bold text-blue-300 mb-2",children:"Consultando o Universo..."}),r.jsx("p",{className:"text-slate-400 text-sm md:text-base",children:"O pndulo est lendo as energias ao seu redor"}),r.jsx("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:[...Array(20)].map((v,x)=>r.jsx(q.div,{initial:{x:Math.random()*400-200,y:Math.random()*400,opacity:0},animate:{y:[null,-100],opacity:[0,1,0]},transition:{duration:3,repeat:1/0,delay:x*.3,ease:"easeOut"},className:"absolute w-1 h-1 bg-blue-400 rounded-full"},x))})]})},"pendulating"),o&&c&&r.jsx(q.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},children:r.jsx("div",{className:"fixed inset-0 z-50 bg-black/80 flex items-center justify-center p-4",children:r.jsx(q.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",duration:.8},children:r.jsxs(X,{className:`max-w-md w-full p-6 md:p-8 text-center ${c.answer==="sim"?"bg-gradient-to-br from-green-900/90 to-emerald-900/90 border-green-500":c.answer==="nao"?"bg-gradient-to-br from-red-900/90 to-rose-900/90 border-red-500":"bg-gradient-to-br from-yellow-900/90 to-amber-900/90 border-yellow-500"}`,children:[r.jsx(q.div,{animate:{scale:[1,1.2,1],rotate:[0,360]},transition:{duration:2,repeat:1/0},className:"w-20 h-20 mx-auto mb-4",children:c.answer==="sim"?"":c.answer==="nao"?"":""}),r.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4 uppercase",children:c.answer==="sim"?"SIM":c.answer==="nao"?"NO":"TALVEZ"}),r.jsx("div",{className:"mb-6 p-4 bg-black/30 rounded-lg",children:r.jsxs("p",{className:"text-sm text-slate-300 mb-2 italic",children:['"',n,'"']})}),r.jsx("div",{className:"mb-6 p-4 bg-white/10 rounded-lg",children:r.jsxs("p",{className:"text-sm md:text-base text-white",children:[r.jsx(_e,{className:"w-4 h-4 inline mr-2"}),c.energy_reading]})}),r.jsx(W,{onClick:f,className:"w-full bg-white/20 hover:bg-white/30 text-white",size:"lg",children:"Fazer Nova Consulta"})]})})})},"result")]})]})}):r.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-[#02031C] via-slate-900 to-[#02031C]",children:r.jsx(zt,{className:"w-8 h-8 animate-spin text-purple-500"})})}const GAe={bruxa_natural:"#9333EA",sabio:"#F59E0B",guardiao_astral:"#3B82F6",xama:"#10B981",navegador_cosmico:"#8B5CF6",alquimista:"#6366F1",none:"#64748B"};function YZ(){var v;const[t,e]=w.useState(null);w.useEffect(()=>{n()},[]);const n=async()=>{try{const x=await H.auth.me();e(x)}catch(x){console.error("Erro ao carregar usurio:",x)}},{data:a}=Oe({queryKey:["userPosts",t==null?void 0:t.id],queryFn:()=>H.entities.Post.filter({author_id:t.id}),enabled:!!t,initialData:[]}),{data:s}=Oe({queryKey:["userDuels",t==null?void 0:t.id],queryFn:async()=>{const x=await H.entities.Duel.filter({challenger_id:t.id}),g=await H.entities.Duel.filter({opponent_id:t.id});return[...x,...g]},enabled:!!t,initialData:[]});if(!t)return r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx(_e,{className:"w-12 h-12 text-purple-500 animate-pulse"})});const i=t.level||1,o=t.xp||0,l=i*100,c=o%l,d=c/l*100,u=s.filter(x=>x.winner_id===t.id).length,h=a.reduce((x,g)=>x+Object.values(g.reactions||{}).reduce((y,b)=>y+b,0),0),f=GAe[t.archetype||"none"];return r.jsx("div",{className:"min-h-screen",children:r.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[r.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-full bg-gradient-to-br from-indigo-600 to-purple-600 mb-6",children:r.jsx(Jn,{className:"w-10 h-10 text-white"})}),r.jsx("h1",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-purple-400 via-pink-400 to-blue-400 bg-clip-text text-transparent mb-4",children:"Dirio de Bordo da Alma"}),r.jsx("p",{className:"text-gray-400 text-lg",children:"Acompanhe sua jornada mstica"})]}),r.jsx(q.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"mb-8",children:r.jsxs(X,{className:"bg-gradient-to-br from-slate-900 to-slate-800 border-2 p-8",style:{borderColor:f},children:[r.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6",children:[r.jsx("div",{className:"w-24 h-24 rounded-full border-4 overflow-hidden flex-shrink-0",style:{borderColor:f},children:t.avatar_url?r.jsx("img",{src:t.avatar_url,alt:"",className:"w-full h-full object-cover"}):r.jsx("div",{className:"w-full h-full bg-slate-700 flex items-center justify-center",children:r.jsx(_e,{className:"w-12 h-12",style:{color:f}})})}),r.jsxs("div",{className:"flex-1 text-center md:text-left",children:[r.jsx("h2",{className:"text-3xl font-bold mb-2",style:{color:f},children:t.display_name||t.full_name}),t.mystical_title&&r.jsx("p",{className:"text-purple-300 mb-2",children:t.mystical_title}),r.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-4 text-sm text-gray-400",children:[r.jsxs("span",{children:["Nvel ",i]}),r.jsx("span",{children:""}),r.jsxs("span",{children:[o," XP"]}),r.jsx("span",{children:""}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(ci,{className:"w-4 h-4 text-orange-400"}),t.daily_streak||0," dias"]})]})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-3xl font-bold text-yellow-400",children:t.ouros||0}),r.jsx("div",{className:"text-xs text-gray-400",children:"Ouros"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-3xl font-bold text-purple-400",children:((v=t.achievements)==null?void 0:v.length)||0}),r.jsx("div",{className:"text-xs text-gray-400",children:"Conquistas"})]})]})]}),r.jsxs("div",{className:"mt-6",children:[r.jsxs("div",{className:"flex justify-between text-sm text-gray-400 mb-2",children:[r.jsxs("span",{children:["Progresso para Nvel ",i+1]}),r.jsxs("span",{children:[c," / ",l," XP"]})]}),r.jsx(s_,{value:d,className:"h-3"})]})]})}),r.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[r.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:r.jsx(X,{className:"bg-gradient-to-br from-slate-900 to-slate-800 border-purple-900/30 p-6",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-purple-600/20 flex items-center justify-center",children:r.jsx(_e,{className:"w-6 h-6 text-purple-400"})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-white",children:a.length}),r.jsx("div",{className:"text-sm text-gray-400",children:"Emanaes"})]})]})})}),r.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:r.jsx(X,{className:"bg-gradient-to-br from-slate-900 to-slate-800 border-purple-900/30 p-6",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-pink-600/20 flex items-center justify-center",children:r.jsx(Wn,{className:"w-6 h-6 text-pink-400"})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-white",children:h}),r.jsx("div",{className:"text-sm text-gray-400",children:"Reaes"})]})]})})}),r.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:r.jsx(X,{className:"bg-gradient-to-br from-slate-900 to-slate-800 border-purple-900/30 p-6",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-violet-600/20 flex items-center justify-center",children:r.jsx(Bn,{className:"w-6 h-6 text-violet-400"})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-white",children:u}),r.jsx("div",{className:"text-sm text-gray-400",children:"Duelos Vencidos"})]})]})})}),r.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:r.jsx(X,{className:"bg-gradient-to-br from-slate-900 to-slate-800 border-purple-900/30 p-6",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-orange-600/20 flex items-center justify-center",children:r.jsx(ci,{className:"w-6 h-6 text-orange-400"})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-white",children:t.daily_streak||0}),r.jsx("div",{className:"text-sm text-gray-400",children:"Dias Consecutivos"})]})]})})})]}),r.jsxs(X,{className:"bg-gradient-to-br from-slate-900 to-slate-800 border-purple-900/30 p-6",children:[r.jsxs("h3",{className:"text-xl font-bold text-purple-300 mb-4 flex items-center gap-2",children:[r.jsx(Ya,{className:"w-5 h-5"}),"Jornada Recente"]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-green-600/20 flex items-center justify-center flex-shrink-0",children:r.jsx(xr,{className:"w-4 h-4 text-green-400"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-gray-300",children:"Entrada diria realizada"}),r.jsx("p",{className:"text-xs text-gray-500",children:kn(new Date,"d 'de' MMMM",{locale:jn})})]})]}),t.last_daily_blessing&&r.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-purple-600/20 flex items-center justify-center flex-shrink-0",children:r.jsx(_e,{className:"w-4 h-4 text-purple-400"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-gray-300",children:"Bno diria recebida"}),r.jsx("p",{className:"text-xs text-gray-500",children:kn(new Date(t.last_daily_blessing),"d 'de' MMMM",{locale:jn})})]})]}),r.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-600/20 flex items-center justify-center flex-shrink-0",children:r.jsx(Jn,{className:"w-4 h-4 text-blue-400"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-gray-300",children:"Conta criada"}),r.jsx("p",{className:"text-xs text-gray-500",children:kn(new Date(t.created_date),"d 'de' MMMM 'de' yyyy",{locale:jn})})]})]})]})]})]})})}let WAe={data:""},KAe=t=>{if(typeof window=="object"){let e=(t?t.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(t||document.head).appendChild(e),e.firstChild}return t||WAe},XAe=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,YAe=/\/\*[^]*?\*\/|  +/g,HL=/\n+/g,Uc=(t,e)=>{let n="",a="",s="";for(let i in t){let o=t[i];i[0]=="@"?i[1]=="i"?n=i+" "+o+";":a+=i[1]=="f"?Uc(o,i):i+"{"+Uc(o,i[1]=="k"?"":e)+"}":typeof o=="object"?a+=Uc(o,e?e.replace(/([^,])+/g,l=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Uc.p?Uc.p(i,o):i+":"+o+";")}return n+(e&&s?e+"{"+s+"}":s)+a},pl={},QZ=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+QZ(t[n]);return e}return t},QAe=(t,e,n,a,s)=>{let i=QZ(t),o=pl[i]||(pl[i]=(c=>{let d=0,u=11;for(;d<c.length;)u=101*u+c.charCodeAt(d++)>>>0;return"go"+u})(i));if(!pl[o]){let c=i!==t?t:(d=>{let u,h,f=[{}];for(;u=XAe.exec(d.replace(YAe,""));)u[4]?f.shift():u[3]?(h=u[3].replace(HL," ").trim(),f.unshift(f[0][h]=f[0][h]||{})):f[0][u[1]]=u[2].replace(HL," ").trim();return f[0]})(t);pl[o]=Uc(s?{["@keyframes "+o]:c}:c,n?"":"."+o)}let l=n&&pl.g?pl.g:null;return n&&(pl.g=pl[o]),((c,d,u,h)=>{h?d.data=d.data.replace(h,c):d.data.indexOf(c)===-1&&(d.data=u?c+d.data:d.data+c)})(pl[o],e,a,l),o},ZAe=(t,e,n)=>t.reduce((a,s,i)=>{let o=e[i];if(o&&o.call){let l=o(n),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=c?"."+c:l&&typeof l=="object"?l.props?"":Uc(l,""):l===!1?"":l}return a+s+(o??"")},"");function d_(t){let e=this||{},n=t.call?t(e.p):t;return QAe(n.unshift?n.raw?ZAe(n,[].slice.call(arguments,1),e.p):n.reduce((a,s)=>Object.assign(a,s&&s.call?s(e.p):s),{}):n,KAe(e.target),e.g,e.o,e.k)}let ZZ,qP,VP;d_.bind({g:1});let Xl=d_.bind({k:1});function JAe(t,e,n,a){Uc.p=e,ZZ=t,qP=n,VP=a}function _d(t,e){let n=this||{};return function(){let a=arguments;function s(i,o){let l=Object.assign({},i),c=l.className||s.className;n.p=Object.assign({theme:qP&&qP()},l),n.o=/ *go\d+/.test(c),l.className=d_.apply(n,a)+(c?" "+c:"");let d=t;return t[0]&&(d=l.as||t,delete l.as),VP&&d[0]&&VP(l),ZZ(d,l)}return s}}var eMe=t=>typeof t=="function",HP=(t,e)=>eMe(t)?t(e):t,tMe=(()=>{let t=0;return()=>(++t).toString()})(),nMe=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),rMe=20,JZ="default",eJ=(t,e)=>{let{toastLimit:n}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,n)};case 1:return{...t,toasts:t.toasts.map(o=>o.id===e.toast.id?{...o,...e.toast}:o)};case 2:let{toast:a}=e;return eJ(t,{type:t.toasts.find(o=>o.id===a.id)?1:0,toast:a});case 3:let{toastId:s}=e;return{...t,toasts:t.toasts.map(o=>o.id===s||s===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(o=>o.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+i}))}}},aMe=[],sMe={toasts:[],pausedAt:void 0,settings:{toastLimit:rMe}},Hm={},tJ=(t,e=JZ)=>{Hm[e]=eJ(Hm[e]||sMe,t),aMe.forEach(([n,a])=>{n===e&&a(Hm[e])})},nJ=t=>Object.keys(Hm).forEach(e=>tJ(t,e)),iMe=t=>Object.keys(Hm).find(e=>Hm[e].toasts.some(n=>n.id===t)),bk=(t=JZ)=>e=>{tJ(e,t)},oMe=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||tMe()}),$g=t=>(e,n)=>{let a=oMe(e,t,n);return bk(a.toasterId||iMe(a.id))({type:2,toast:a}),a.id},ja=(t,e)=>$g("blank")(t,e);ja.error=$g("error");ja.success=$g("success");ja.loading=$g("loading");ja.custom=$g("custom");ja.dismiss=(t,e)=>{let n={type:3,toastId:t};e?bk(e)(n):nJ(n)};ja.dismissAll=t=>ja.dismiss(void 0,t);ja.remove=(t,e)=>{let n={type:4,toastId:t};e?bk(e)(n):nJ(n)};ja.removeAll=t=>ja.remove(void 0,t);ja.promise=(t,e,n)=>{let a=ja.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(s=>{let i=e.success?HP(e.success,s):void 0;return i?ja.success(i,{id:a,...n,...n==null?void 0:n.success}):ja.dismiss(a),s}).catch(s=>{let i=e.error?HP(e.error,s):void 0;i?ja.error(i,{id:a,...n,...n==null?void 0:n.error}):ja.dismiss(a)}),t};var lMe=Xl`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,cMe=Xl`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,dMe=Xl`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,uMe=_d("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${lMe} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${cMe} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${dMe} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,hMe=Xl`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,mMe=_d("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${hMe} 1s linear infinite;
`,fMe=Xl`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,pMe=Xl`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,xMe=_d("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${fMe} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${pMe} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,gMe=_d("div")`
  position: absolute;
`,vMe=_d("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,yMe=Xl`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,bMe=_d("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${yMe} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,wMe=({toast:t})=>{let{icon:e,type:n,iconTheme:a}=t;return e!==void 0?typeof e=="string"?w.createElement(bMe,null,e):e:n==="blank"?null:w.createElement(vMe,null,w.createElement(mMe,{...a}),n!=="loading"&&w.createElement(gMe,null,n==="error"?w.createElement(uMe,{...a}):w.createElement(xMe,{...a})))},_Me=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,jMe=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,NMe="0%{opacity:0;} 100%{opacity:1;}",SMe="0%{opacity:1;} 100%{opacity:0;}",CMe=_d("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,EMe=_d("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,AMe=(t,e)=>{let n=t.includes("top")?1:-1,[a,s]=nMe()?[NMe,SMe]:[_Me(n),jMe(n)];return{animation:e?`${Xl(a)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Xl(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}};w.memo(({toast:t,position:e,style:n,children:a})=>{let s=t.height?AMe(t.position||e||"top-center",t.visible):{opacity:0},i=w.createElement(wMe,{toast:t}),o=w.createElement(EMe,{...t.ariaProps},HP(t.message,t));return w.createElement(CMe,{className:t.className,style:{...s,...n,...t.style}},typeof a=="function"?a({icon:i,message:o}):w.createElement(w.Fragment,null,i,o))});JAe(w.createElement);d_`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`;const GL={common:{label:"Comum",color:"text-gray-400",bg:"from-gray-600 to-gray-700",glow:"shadow-gray-500/30",border:"border-gray-500/30"},rare:{label:"Raro",color:"text-blue-400",bg:"from-blue-600 to-blue-700",glow:"shadow-blue-500/50",border:"border-blue-500/50"},epic:{label:"pico",color:"text-purple-400",bg:"from-purple-600 to-purple-700",glow:"shadow-purple-500/50",border:"border-purple-500/50"},legendary:{label:"Lendrio",color:"text-amber-400",bg:"from-amber-600 to-amber-700",glow:"shadow-amber-500/50",border:"border-amber-500/50"},mythical:{label:"Mtico",color:"text-pink-400",bg:"from-pink-600 via-purple-600 to-blue-600",glow:"shadow-pink-500/70",border:"border-pink-500/70"}};function rJ(){const[t,e]=w.useState(null),[n,a]=w.useState("all"),[s,i]=w.useState(null),o=wt();w.useEffect(()=>{l()},[]);const l=async()=>{try{const g=await H.auth.me();e(g)}catch(g){console.error("Erro ao carregar usurio:",g)}},{data:c}=Oe({queryKey:["badges"],queryFn:()=>H.entities.Badge.filter({is_active:!0},"order",100),enabled:!!t,initialData:[]}),{data:d}=Oe({queryKey:["userBadges",t==null?void 0:t.id],queryFn:()=>H.entities.UserBadge.filter({user_id:t.id},"-unlocked_at",100),enabled:!!t,initialData:[]}),u=Ue({mutationFn:async({badgeId:g,isEquipped:y})=>{const b=d.find(_=>_.badge_id===g);b&&await H.entities.UserBadge.update(b.id,{is_equipped:!y})},onSuccess:()=>{o.invalidateQueries({queryKey:["userBadges"]}),ja.success("Badge atualizado! ")}}),h=(g,y)=>{u.mutate({badgeId:g,isEquipped:y})},f=c.filter(g=>n==="all"?!0:n==="unlocked"?d.some(y=>y.badge_id===g.id):g.category===n),v={total:c.length,unlocked:d.length,equipped:d.filter(g=>g.is_equipped).length,completion:c.length>0?Math.round(d.length/c.length*100):0};if(!t)return r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx(_e,{className:"w-12 h-12 text-purple-500 animate-pulse"})});const x=[{id:"all",label:"Todos",icon:xr},{id:"unlocked",label:"Desbloqueados",icon:Wn},{id:"beginner",label:"Iniciante",emoji:""},{id:"social",label:"Social",emoji:""},{id:"mystical",label:"Mstico",emoji:""},{id:"champion",label:"Campeo",emoji:""},{id:"legendary",label:"Lendrio",emoji:""}];return r.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-[#0f0f1e] via-[#1a1a2e] to-[#0f0f1e]",children:[r.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6 md:py-8",children:[r.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 md:w-20 md:h-20 rounded-full bg-gradient-to-br from-amber-600 to-orange-600 mb-4 shadow-xl shadow-amber-500/50",children:r.jsx(xr,{className:"w-8 h-8 md:w-10 md:h-10 text-white"})}),r.jsx("h1",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-white mb-2",children:"Coleo de Badges"}),r.jsx("p",{className:"text-gray-400 text-sm md:text-base",children:"Desbloqueie e colecione distintivos msticos"})]}),r.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-4 mb-6",children:[r.jsx(X,{className:"bg-[#1a1a2e] border-purple-900/20 p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-purple-500/20 flex items-center justify-center",children:r.jsx(xr,{className:"w-5 h-5 text-purple-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-white",children:v.total}),r.jsx("p",{className:"text-xs text-gray-400",children:"Total"})]})]})}),r.jsx(X,{className:"bg-[#1a1a2e] border-purple-900/20 p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-green-500/20 flex items-center justify-center",children:r.jsx(Wn,{className:"w-5 h-5 text-green-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-white",children:v.unlocked}),r.jsx("p",{className:"text-xs text-gray-400",children:"Desbloqueados"})]})]})}),r.jsx(X,{className:"bg-[#1a1a2e] border-purple-900/20 p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-500/20 flex items-center justify-center",children:r.jsx(gr,{className:"w-5 h-5 text-blue-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-white",children:v.equipped}),r.jsx("p",{className:"text-xs text-gray-400",children:"Equipados"})]})]})}),r.jsx(X,{className:"bg-[#1a1a2e] border-purple-900/20 p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-amber-500/20 flex items-center justify-center",children:r.jsx(Bn,{className:"w-5 h-5 text-amber-400"})}),r.jsxs("div",{children:[r.jsxs("p",{className:"text-2xl font-bold text-white",children:[v.completion,"%"]}),r.jsx("p",{className:"text-xs text-gray-400",children:"Completo"})]})]})})]}),r.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"mb-6",children:r.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:x.map(g=>{const y=g.icon;return r.jsxs("button",{onClick:()=>a(g.id),className:`flex items-center gap-2 px-4 py-2.5 rounded-lg font-semibold transition whitespace-nowrap ${n===g.id?"bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-lg":"bg-[#1a1a2e] text-gray-400 hover:text-white"}`,children:[y?r.jsx(y,{className:"w-4 h-4"}):r.jsx("span",{className:"text-lg",children:g.emoji}),r.jsx("span",{className:"text-sm",children:g.label})]},g.id)})})}),r.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:f.map((g,y)=>{const b=d.find(C=>C.badge_id===g.id),_=!!b,j=(b==null?void 0:b.is_equipped)||!1,S=GL[g.rarity||"common"];return r.jsx(q.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:y*.02},onClick:()=>i(g),children:r.jsxs(X,{className:`relative overflow-hidden cursor-pointer transition ${_?`bg-gradient-to-br ${S.bg} border-2 ${S.border} shadow-xl ${S.glow}`:"bg-[#1a1a2e] border-purple-900/20 hover:border-purple-700/50"}`,children:[_&&r.jsx(q.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent",animate:{x:["-200%","200%"]},transition:{duration:3,repeat:1/0,ease:"linear"}}),j&&r.jsx("div",{className:"absolute top-2 right-2 z-10",children:r.jsx(De,{className:"bg-green-500 text-white text-[10px] px-1.5 py-0.5",children:"Equipado"})}),r.jsxs("div",{className:"relative z-10 p-4",children:[r.jsx("div",{className:"text-center mb-3",children:r.jsx("div",{className:"text-5xl mx-auto w-16 h-16 flex items-center justify-center",style:{filter:_?"none":"grayscale(100%) opacity(0.3)"},children:_?g.icon||"":r.jsx(pf,{className:"w-8 h-8 text-gray-600"})})}),r.jsxs("div",{className:"text-center",children:[r.jsx("h3",{className:`font-bold text-sm mb-1 ${_?"text-white":"text-gray-500"}`,children:_||!g.is_hidden?g.name:"???"}),r.jsx(De,{className:`text-[10px] ${_?`${S.color} bg-black/20`:"bg-gray-700 text-gray-400"}`,children:S.label}),_&&b&&r.jsx("p",{className:"text-[10px] text-white/70 mt-2",children:kn(new Date(b.unlocked_at),"dd/MM/yyyy",{locale:jn})})]})]})]})},g.id)})}),f.length===0&&r.jsxs(X,{className:"bg-[#1a1a2e] border-purple-900/20 p-12 text-center",children:[r.jsx(xr,{className:"w-16 h-16 text-purple-500/50 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-bold text-purple-300 mb-2",children:"Nenhum Badge Encontrado"}),r.jsx("p",{className:"text-gray-400",children:"Continue sua jornada mstica para desbloquear badges!"})]})]}),r.jsx(gt,{children:s&&r.jsx(q.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",onClick:()=>i(null),children:r.jsx(q.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:g=>g.stopPropagation(),className:"w-full max-w-md",children:(()=>{const g=d.find(j=>j.badge_id===s.id),y=!!g,b=(g==null?void 0:g.is_equipped)||!1,_=GL[s.rarity||"common"];return r.jsxs(X,{className:`bg-gradient-to-br ${_.bg} border-2 ${_.border} p-6 shadow-2xl ${_.glow}`,children:[r.jsxs("div",{className:"text-center mb-4",children:[r.jsx("div",{className:"text-7xl mb-4",children:y?s.icon||"":""}),r.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:y||!s.is_hidden?s.name:"Badge Secreto"}),r.jsx(De,{className:`${_.color} bg-black/30 mb-4`,children:_.label}),r.jsx("p",{className:"text-white/90 text-sm",children:y||!s.is_hidden?s.description:"Complete os requisitos para desbloquear"})]}),y&&r.jsxs("div",{className:"space-y-3 mb-4",children:[r.jsxs("div",{className:"bg-black/20 p-3 rounded-lg",children:[r.jsx("p",{className:"text-white/70 text-xs mb-1",children:"Desbloqueado em"}),r.jsx("p",{className:"text-white font-semibold",children:kn(new Date(g.unlocked_at),"dd 'de' MMMM 'de' yyyy",{locale:jn})})]}),s.xp_bonus>0&&r.jsxs("div",{className:"bg-black/20 p-3 rounded-lg",children:[r.jsx("p",{className:"text-white/70 text-xs mb-1",children:"Bnus de XP"}),r.jsxs("p",{className:"text-white font-semibold",children:["+",s.xp_bonus," XP permanente"]})]})]}),!y&&s.unlock_condition&&r.jsxs("div",{className:"bg-black/20 p-3 rounded-lg mb-4",children:[r.jsx("p",{className:"text-white/70 text-xs mb-1",children:"Como Desbloquear"}),r.jsx("p",{className:"text-white text-sm",children:s.unlock_condition})]}),r.jsxs("div",{className:"flex gap-3",children:[y&&r.jsx(W,{onClick:()=>h(s.id,b),disabled:u.isPending,className:`flex-1 ${b?"bg-red-600 hover:bg-red-700":"bg-green-600 hover:bg-green-700"} text-white font-bold`,children:b?"Desequipar":"Equipar"}),r.jsx(W,{onClick:()=>i(null),variant:"outline",className:"flex-1 border-white/30 text-white hover:bg-white/10",children:"Fechar"})]})]})})()})})})]})}const MMe=[{value:"new",emoji:"",name:"Lua Nova"},{value:"waxing_crescent",emoji:"",name:"Crescente"},{value:"first_quarter",emoji:"",name:"Quarto Crescente"},{value:"waxing_gibbous",emoji:"",name:"Crescente Gibosa"},{value:"full",emoji:"",name:"Lua Cheia"},{value:"waning_gibbous",emoji:"",name:"Minguante Gibosa"},{value:"last_quarter",emoji:"",name:"Quarto Minguante"},{value:"waning_crescent",emoji:"",name:"Minguante"}];function aJ(){var k,O;const[t,e]=w.useState(null),[n,a]=w.useState(new Date),[s,i]=w.useState(null),[o,l]=w.useState(!1),[c,d]=w.useState(!1),[u,h]=w.useState({title:"",description:"",color:"#A855F7",time:"09:00"}),f=wt();w.useEffect(()=>{v()},[]),w.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);const v=async()=>{try{const $=await H.auth.me();e($)}catch($){console.error("Erro ao carregar usurio:",$)}},{data:x}=Oe({queryKey:["lunarEvents",t==null?void 0:t.id],queryFn:()=>H.entities.LunarEvent.filter({user_id:t.id}),enabled:!!t,initialData:[]}),g=Ue({mutationFn:async $=>{var G;const F=kn(s,"yyyy-MM-dd"),B=await H.entities.LunarEvent.create({user_id:t.id,event_date:F,event_time:$.time,moon_phase:(G=b(s))==null?void 0:G.value,...$});return await H.entities.Notification.create({user_id:t.id,type:"announcement",title:"Evento Criado! ",message:`"${$.title}" foi adicionado ao seu Planner Lunar para ${kn(s,"d 'de' MMMM",{locale:jn})}`,related_entity_type:"event",related_entity_id:B.id}),B},onSuccess:()=>{f.invalidateQueries({queryKey:["lunarEvents"]}),l(!1),h({title:"",description:"",color:"#A855F7",time:"09:00"}),qe.success("Evento criado com sucesso! ")},onError:$=>{console.error("Erro ao criar evento:",$),qe.error("Erro ao criar evento")}}),y=Ue({mutationFn:$=>H.entities.LunarEvent.delete($),onSuccess:()=>{f.invalidateQueries({queryKey:["lunarEvents"]}),qe.success("Evento removido")},onError:$=>{console.error("Erro ao deletar evento:",$),qe.error("Erro ao remover evento")}}),b=$=>{if(!$)return null;const F=$.getDate(),B=Math.floor(F%29.5/3.69);return MMe[B]},_=()=>{const $=q2e(n);DP(n),$.getDay(),kL($);const F=Nf($,{weekStartsOn:0}),B=H2e(DP(n),{weekStartsOn:0});let G=EL({start:F,end:B});for(;G.length<42;)B.setDate(B.getDate()+1),G=EL({start:F,end:B});return G},j=$=>x.filter(F=>{const B=Sf(F.event_date);return Sy(B,$)}),S=()=>{if(!u.title.trim()){qe.error("Digite um ttulo para o evento");return}g.mutate(u)},C=()=>{a(kL(n))},E=()=>{a($Y(n,1))},P=$=>{i($),l(!0)};if(!t)return r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx(_e,{className:"w-12 h-12 text-purple-500 animate-pulse"})});const T=_(),M=n.getMonth();return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#1a1a2e] via-[#16213e] to-[#0f3460] text-white p-4 md:p-6 pb-24",children:[r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs(q.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-full bg-gradient-to-br from-blue-600 to-cyan-600 mb-6",children:r.jsx(Ya,{className:"w-10 h-10 text-white"})}),r.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-2",children:"Planner Lunar"}),r.jsx("p",{className:"text-gray-400 text-sm md:text-base",children:"Organize sua vida com as fases da lua"}),r.jsxs(W,{onClick:()=>d(!0),className:"bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 mt-4",children:[r.jsx(Que,{className:"w-5 h-5 mr-2"}),"Modo Foco Total"]})]}),r.jsxs(X,{className:"bg-slate-900/50 border-purple-500/30 p-4 md:p-6 mb-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("button",{onClick:C,className:"text-white hover:text-purple-400 transition",children:" Anterior"}),r.jsx("h2",{className:"text-lg md:text-xl lg:text-2xl font-bold text-white capitalize",children:kn(n,"MMMM 'de' yyyy",{locale:jn})}),r.jsx("button",{onClick:E,className:"text-white hover:text-purple-400 transition",children:"Prximo "})]}),r.jsxs("div",{className:"grid grid-cols-7 gap-1 md:gap-2",children:[["Dom","Seg","Ter","Qua","Qui","Sex","Sb"].map($=>r.jsx("div",{className:"text-center text-gray-400 text-xs md:text-sm font-semibold p-1 md:p-2",children:$},$)),T.map(($,F)=>{const B=x.filter(U=>Sy(Sf(U.event_date),$)),G=b($),I=Sy($,new Date),L=s&&Sy($,s);return r.jsxs(q.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>P($),className:`aspect-square rounded-lg p-1 md:p-2 text-xs md:text-sm transition relative overflow-hidden ${$.getMonth()!==M?"text-gray-600 bg-slate-800/30":L?"bg-purple-600 text-white ring-2 ring-purple-400":I?"bg-blue-600 text-white":"bg-slate-800/50 text-white hover:bg-slate-700/50"}`,children:[r.jsx("div",{className:"font-semibold",children:kn($,"d")}),r.jsx("div",{className:"text-sm md:text-base",children:G==null?void 0:G.emoji}),B.length>0&&r.jsx("div",{className:"absolute bottom-0.5 md:bottom-1 left-1/2 transform -translate-x-1/2 flex gap-0.5",children:B.slice(0,3).map((U,z)=>r.jsx("div",{className:"w-1 h-1 md:w-1.5 md:h-1.5 rounded-full",style:{backgroundColor:U.color}},z))})]},F)})]})]}),r.jsx(gt,{children:o&&s&&r.jsx(q.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",onClick:()=>l(!1),children:r.jsxs(q.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:$=>$.stopPropagation(),className:"bg-gradient-to-br from-slate-900 to-slate-800 rounded-2xl max-w-md w-full p-6 border border-purple-500/30",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:kn(s,"dd 'de' MMMM",{locale:jn})}),r.jsxs("p",{className:"text-purple-300 text-sm",children:[(k=b(s))==null?void 0:k.emoji," ",(O=b(s))==null?void 0:O.name]})]}),r.jsx(W,{variant:"ghost",size:"icon",onClick:()=>l(!1),className:"text-gray-400 hover:text-white",children:r.jsx(nt,{className:"w-5 h-5"})})]}),r.jsx("div",{className:"mb-6 max-h-48 overflow-y-auto pr-2",children:j(s).length>0?j(s).map($=>r.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-slate-800/60 border border-slate-700/30 mb-2",children:[r.jsx("div",{className:"w-4 h-4 rounded-full mt-1 flex-shrink-0",style:{backgroundColor:$.color}}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("h4",{className:"font-semibold text-white",children:$.title}),$.event_time&&r.jsxs("div",{className:"flex items-center gap-1 text-xs text-blue-300 bg-blue-900/30 px-2 py-0.5 rounded-full",children:[r.jsx(Mr,{className:"w-3 h-3"}),$.event_time]})]}),$.description&&r.jsx("p",{className:"text-sm text-gray-300",children:$.description})]}),r.jsx(W,{variant:"ghost",size:"icon",onClick:()=>y.mutate($.id),className:"text-red-400 hover:text-red-300 hover:bg-red-900/20",children:r.jsx(nt,{className:"w-4 h-4"})})]},$.id)):r.jsx("p",{className:"text-gray-400 text-center text-sm",children:"Nenhum evento para este dia."})}),r.jsxs("div",{className:"space-y-4 bg-purple-900/20 p-4 rounded-xl border border-purple-500/20",children:[r.jsx("h4",{className:"font-semibold text-purple-300 mb-3",children:"Novo Evento"}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-semibold text-gray-300 mb-2 block",children:"Ttulo do Evento"}),r.jsx(je,{value:u.title,onChange:$=>h({...u,title:$.target.value}),placeholder:"Ex: Ritual de Lua Cheia",className:"bg-slate-800 border-slate-700 text-white placeholder:text-gray-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-semibold text-gray-300 mb-2 block",children:"Descrio"}),r.jsx(It,{value:u.description,onChange:$=>h({...u,description:$.target.value}),placeholder:"Detalhes do evento...",className:"bg-slate-800 border-slate-700 text-white placeholder:text-gray-500",rows:3})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-semibold text-gray-300 mb-2 block",children:"Horrio"}),r.jsx(je,{type:"time",value:u.time,onChange:$=>h({...u,time:$.target.value}),className:"bg-slate-800 border-slate-700 text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-semibold text-gray-300 mb-2 block",children:"Cor do Evento"}),r.jsx("div",{className:"flex gap-2",children:["#A855F7","#F59E0B","#3B82F6","#10B981","#EC4899","#8B5CF6"].map($=>r.jsx("button",{onClick:()=>h({...u,color:$}),className:`w-10 h-10 rounded-full border-2 transition ${u.color===$?"border-white scale-110":"border-transparent"}`,style:{backgroundColor:$}},$))})]}),r.jsx(W,{onClick:S,disabled:!u.title.trim()||g.isPending,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",children:g.isPending?r.jsxs(r.Fragment,{children:[r.jsx(_e,{className:"w-5 h-5 mr-2 animate-spin"}),"Criando..."]}):r.jsxs(r.Fragment,{children:[r.jsx(_r,{className:"w-5 h-5 mr-2"}),"Adicionar Evento"]})})]})]})})})]}),r.jsx(PMe,{isOpen:c,onClose:()=>d(!1)})]})}function PMe({isOpen:t,onClose:e}){const[n,a]=w.useState(25),[s,i]=w.useState(0),[o,l]=w.useState(!1),[c,d]=w.useState(1500),u=ae.useRef(null);w.useEffect(()=>{let x=null;return o&&c>0&&(x=setInterval(()=>{d(g=>g<=1?(l(!1),qe.success("Sesso de foco concluda! "),u.current&&u.current.pause(),0):g-1)},1e3)),()=>clearInterval(x)},[o,c]),w.useEffect(()=>{const x=Math.floor(c/60),g=c%60;a(x),i(g)},[c]),w.useEffect(()=>{o&&u.current?u.current.play():!o&&u.current&&u.current.pause()},[o]);const h=()=>{c===0&&d(1500),l(!0)},f=()=>{l(!1)},v=()=>{l(!1),d(1500),u.current&&(u.current.pause(),u.current.currentTime=0)};return t?r.jsx(gt,{children:r.jsxs(q.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/95 backdrop-blur-sm",children:[r.jsx("audio",{ref:u,loop:!0,children:r.jsx("source",{src:"https://cdn.pixabay.com/download/audio/2022/03/10/audio_4a463d640d.mp3",type:"audio/mpeg"})}),r.jsxs(q.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"relative w-full max-w-2xl",children:[r.jsx(W,{variant:"ghost",size:"icon",onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-white z-10",children:r.jsx(nt,{className:"w-6 h-6"})}),r.jsxs(X,{className:"bg-gradient-to-br from-indigo-900/40 via-purple-900/40 to-blue-900/40 border-purple-500/30 p-12 text-center relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(20)].map((x,g)=>r.jsx(q.div,{className:"absolute w-2 h-2 bg-purple-400/20 rounded-full",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`},animate:{y:[0,-30,0],opacity:[.2,.8,.2],scale:[1,1.5,1]},transition:{duration:3+Math.random()*2,repeat:1/0,delay:Math.random()*2}},g))}),r.jsxs("div",{className:"relative z-10",children:[r.jsx("h2",{className:"text-3xl font-bold text-white mb-8",children:"Modo Foco Total"}),r.jsxs("div",{className:"mb-8",children:[r.jsxs(q.div,{animate:o?{scale:[1,1.05,1]}:{},transition:{duration:1,repeat:1/0},className:"text-8xl font-bold text-white mb-4",children:[String(n).padStart(2,"0"),":",String(s).padStart(2,"0")]}),r.jsx("p",{className:"text-purple-300 text-lg",children:o?"Mantenha o foco...":"Pronto para comear?"})]}),r.jsxs("div",{className:"flex items-center justify-center gap-4",children:[o?r.jsxs(W,{onClick:f,size:"lg",className:"bg-gradient-to-r from-yellow-600 to-orange-600 hover:from-yellow-700 hover:to-orange-700 px-8",children:[r.jsx(cd,{className:"w-6 h-6 mr-2"}),"Pausar"]}):r.jsxs(W,{onClick:h,size:"lg",className:"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 px-8",children:[r.jsx(Qa,{className:"w-6 h-6 mr-2"}),"Iniciar"]}),r.jsxs(W,{onClick:v,size:"lg",variant:"outline",className:"border-purple-500/50 text-purple-300 hover:bg-purple-900/30",children:[r.jsx(Bb,{className:"w-5 h-5 mr-2"}),"Reiniciar"]})]}),!o&&c===1500&&r.jsxs("div",{className:"mt-8 flex items-center justify-center gap-4",children:[r.jsx(W,{onClick:()=>d(900),variant:"outline",size:"sm",className:"border-purple-500/30 text-purple-300 hover:bg-purple-900/20",children:"15 min"}),r.jsx(W,{onClick:()=>d(1500),variant:"outline",size:"sm",className:"border-purple-500/30 text-purple-300 hover:bg-purple-900/20",children:"25 min"}),r.jsx(W,{onClick:()=>d(2700),variant:"outline",size:"sm",className:"border-purple-500/30 text-purple-300 hover:bg-purple-900/20",children:"45 min"}),r.jsx(W,{onClick:()=>d(3600),variant:"outline",size:"sm",className:"border-purple-500/30 text-purple-300 hover:bg-purple-900/20",children:"60 min"})]})]})]})]})]})}):null}function TMe(t,e=[]){let n=[];function a(i,o){const l=w.createContext(o);l.displayName=i+"Context";const c=n.length;n=[...n,o];const d=h=>{var b;const{scope:f,children:v,...x}=h,g=((b=f==null?void 0:f[t])==null?void 0:b[c])||l,y=w.useMemo(()=>x,Object.values(x));return r.jsx(g.Provider,{value:y,children:v})};d.displayName=i+"Provider";function u(h,f){var g;const v=((g=f==null?void 0:f[t])==null?void 0:g[c])||l,x=w.useContext(v);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[d,u]}const s=()=>{const i=n.map(o=>w.createContext(o));return function(l){const c=(l==null?void 0:l[t])||i;return w.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[a,kMe(s,...e)]}function kMe(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const a=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=a.reduce((l,{useScope:c,scopeName:d})=>{const h=c(i)[`__scope${d}`];return{...l,...h}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var RMe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],wk=RMe.reduce((t,e)=>{const n=Pg(`Primitive.${e}`),a=w.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(c,{...l,ref:i})});return a.displayName=`Primitive.${e}`,{...t,[e]:a}},{}),M2={exports:{}},P2={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WL;function OMe(){if(WL)return P2;WL=1;var t=x1();function e(h,f){return h===f&&(h!==0||1/h===1/f)||h!==h&&f!==f}var n=typeof Object.is=="function"?Object.is:e,a=t.useState,s=t.useEffect,i=t.useLayoutEffect,o=t.useDebugValue;function l(h,f){var v=f(),x=a({inst:{value:v,getSnapshot:f}}),g=x[0].inst,y=x[1];return i(function(){g.value=v,g.getSnapshot=f,c(g)&&y({inst:g})},[h,v,f]),s(function(){return c(g)&&y({inst:g}),h(function(){c(g)&&y({inst:g})})},[h]),o(v),v}function c(h){var f=h.getSnapshot;h=h.value;try{var v=f();return!n(h,v)}catch{return!0}}function d(h,f){return f()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return P2.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:u,P2}var KL;function DMe(){return KL||(KL=1,M2.exports=OMe()),M2.exports}var IMe=DMe();function LMe(){return IMe.useSyncExternalStore(FMe,()=>!0,()=>!1)}function FMe(){return()=>{}}var _k="Avatar",[$Me]=TMe(_k),[UMe,sJ]=$Me(_k),iJ=w.forwardRef((t,e)=>{const{__scopeAvatar:n,...a}=t,[s,i]=w.useState("idle");return r.jsx(UMe,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:r.jsx(wk.span,{...a,ref:e})})});iJ.displayName=_k;var oJ="AvatarImage",lJ=w.forwardRef((t,e)=>{const{__scopeAvatar:n,src:a,onLoadingStatusChange:s=()=>{},...i}=t,o=sJ(oJ,n),l=BMe(a,i),c=Sa(d=>{s(d),o.onImageLoadingStatusChange(d)});return Jr(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?r.jsx(wk.img,{...i,ref:e,src:a}):null});lJ.displayName=oJ;var cJ="AvatarFallback",dJ=w.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:a,...s}=t,i=sJ(cJ,n),[o,l]=w.useState(a===void 0);return w.useEffect(()=>{if(a!==void 0){const c=window.setTimeout(()=>l(!0),a);return()=>window.clearTimeout(c)}},[a]),o&&i.imageLoadingStatus!=="loaded"?r.jsx(wk.span,{...s,ref:e}):null});dJ.displayName=cJ;function XL(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function BMe(t,{referrerPolicy:e,crossOrigin:n}){const a=LMe(),s=w.useRef(null),i=a?(s.current||(s.current=new window.Image),s.current):null,[o,l]=w.useState(()=>XL(i,t));return Jr(()=>{l(XL(i,t))},[i,t]),Jr(()=>{const c=h=>()=>{l(h)};if(!i)return;const d=c("loaded"),u=c("error");return i.addEventListener("load",d),i.addEventListener("error",u),e&&(i.referrerPolicy=e),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",d),i.removeEventListener("error",u)}},[i,n,e]),o}var uJ=iJ,hJ=lJ,mJ=dJ;const zMe=w.forwardRef(({className:t,...e},n)=>r.jsx(uJ,{ref:n,className:Wt("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));zMe.displayName=uJ.displayName;const qMe=w.forwardRef(({className:t,...e},n)=>r.jsx(hJ,{ref:n,className:Wt("aspect-square h-full w-full",t),...e}));qMe.displayName=hJ.displayName;const VMe=w.forwardRef(({className:t,...e},n)=>r.jsx(mJ,{ref:n,className:Wt("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));VMe.displayName=mJ.displayName;function fJ(){const t=Sn(),[e,n]=w.useState(!0),[a,s]=w.useState(!1),[i,o]=w.useState(null),[l,c]=w.useState({full_name:"",username:"",bio:"",birth_date:"",birth_time:"",city:"",avatar_url:""});w.useEffect(()=>{d()},[]);const d=async()=>{try{n(!0);const{data:{session:f}}=await os.auth.getSession();if(!f){t("/");return}o(f.user);const{data:v,error:x}=await os.from("profiles").select("*").eq("id",f.user.id).single();if(x&&x.code!=="PGRST116")throw x;v&&c({full_name:v.full_name||"",username:v.display_name||"",bio:v.bio||"",birth_date:v.birth_date||"",birth_time:v.birth_time||"",city:v.city||"",avatar_url:v.avatar_url||""})}catch(f){console.error("Erro ao carregar perfil:",f.message)}finally{n(!1)}},u=async()=>{try{s(!0);const{data:{session:f}}=await os.auth.getSession(),v={id:f.user.id,full_name:l.full_name,display_name:l.username,city:l.city,birth_date:l.birth_date,birth_time:l.birth_time,bio:l.bio,updated_at:new Date},{error:x}=await os.from("profiles").upsert(v);if(x)throw x;alert("Perfil atualizado com sucesso! ")}catch(f){alert("Erro ao atualizar: "+f.message)}finally{s(!1)}},h=async()=>{await os.auth.signOut(),t("/")};return e?r.jsx("div",{className:"min-h-screen bg-[#02031C] flex items-center justify-center",children:r.jsx(zt,{className:"w-8 h-8 text-purple-500 animate-spin"})}):r.jsx("div",{className:"min-h-screen bg-[#02031C] text-white p-4 md:p-6 pb-24",children:r.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-purple-200",children:"Completude do Perfil"}),r.jsx("span",{className:"text-purple-400 font-bold",children:"100%"})]}),r.jsx("div",{className:"h-2 bg-purple-900/30 rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full bg-gradient-to-r from-purple-500 to-pink-500 w-full"})})]}),r.jsxs($r,{defaultValue:"identidade",className:"w-full",children:[r.jsxs(Tr,{className:"grid w-full grid-cols-4 bg-white/5 border border-white/10 rounded-xl p-1 h-auto",children:[r.jsx(xt,{value:"identidade",className:"data-[state=active]:bg-purple-600 data-[state=active]:text-white text-gray-400 py-2 text-xs md:text-sm",children:"Identidade"}),r.jsx(xt,{value:"jornada",className:"data-[state=active]:bg-purple-600 data-[state=active]:text-white text-gray-400 py-2 text-xs md:text-sm",children:"Jornada"}),r.jsx(xt,{value:"alma",className:"data-[state=active]:bg-purple-600 data-[state=active]:text-white text-gray-400 py-2 text-xs md:text-sm",children:"Alma"}),r.jsx(xt,{value:"outros",className:"data-[state=active]:bg-purple-600 data-[state=active]:text-white text-gray-400 py-2 text-xs md:text-sm",children:"Outros"})]}),r.jsxs(et,{value:"identidade",className:"space-y-6 mt-6",children:[r.jsxs("div",{className:"relative mb-12",children:[r.jsx("div",{className:"h-32 md:h-40 bg-gradient-to-r from-purple-900 to-indigo-900 rounded-t-2xl w-full object-cover opacity-50"}),r.jsx("div",{className:"absolute -bottom-10 left-1/2 -translate-x-1/2",children:r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"w-24 h-24 rounded-full border-4 border-[#02031C] bg-slate-800 overflow-hidden flex items-center justify-center",children:l.avatar_url?r.jsx("img",{src:l.avatar_url,alt:"Avatar",className:"w-full h-full object-cover"}):r.jsx(Gu,{className:"w-10 h-10 text-slate-500"})}),r.jsx("button",{className:"absolute bottom-0 right-0 p-1.5 bg-purple-600 rounded-full text-white border-2 border-[#02031C] hover:bg-purple-700",children:r.jsx(kM,{className:"w-3 h-3"})})]})})]}),r.jsxs(X,{className:"bg-white/5 border-white/10 p-4 md:p-6 space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-xs text-gray-400 uppercase font-bold",children:"Nome Completo"}),r.jsx(je,{value:l.full_name,onChange:f=>c({...l,full_name:f.target.value}),className:"bg-black/20 border-white/10 text-white",placeholder:"Seu nome real"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-xs text-gray-400 uppercase font-bold",children:"Nome de Exibio (@)"}),r.jsx(je,{value:l.username,onChange:f=>c({...l,username:f.target.value}),className:"bg-black/20 border-white/10 text-white",placeholder:"Como quer ser chamado"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-xs text-gray-400 uppercase font-bold",children:"Biografia"}),r.jsx(It,{value:l.bio,onChange:f=>c({...l,bio:f.target.value}),className:"bg-black/20 border-white/10 text-white min-h-[80px] resize-none",placeholder:"Conte um pouco sobre sua jornada mstica...",maxLength:160}),r.jsxs("p",{className:"text-xs text-right text-gray-500",children:[l.bio.length,"/160"]})]})]}),r.jsxs("div",{className:"flex items-center gap-2 text-purple-400 font-bold text-lg",children:[r.jsx(Wn,{className:"w-5 h-5"}),r.jsx("h2",{children:"Fora da Identidade Astral"})]}),r.jsx(X,{className:"bg-white/5 border-white/10 p-4 md:p-6 space-y-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-xs text-gray-400 uppercase font-bold",children:"Data de Nascimento"}),r.jsxs("div",{className:"relative",children:[r.jsx(Ya,{className:"absolute left-3 top-2.5 w-4 h-4 text-gray-500"}),r.jsx(je,{type:"date",value:l.birth_date,onChange:f=>c({...l,birth_date:f.target.value}),className:"pl-9 bg-black/20 border-white/10 text-white"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-xs text-gray-400 uppercase font-bold",children:"Horrio de Nascimento"}),r.jsxs("div",{className:"relative",children:[r.jsx(Mr,{className:"absolute left-3 top-2.5 w-4 h-4 text-gray-500"}),r.jsx(je,{type:"time",value:l.birth_time,onChange:f=>c({...l,birth_time:f.target.value}),className:"pl-9 bg-black/20 border-white/10 text-white"})]})]}),r.jsxs("div",{className:"space-y-2 md:col-span-2",children:[r.jsx("label",{className:"text-xs text-gray-400 uppercase font-bold",children:"Cidade de Nascimento"}),r.jsxs("div",{className:"relative",children:[r.jsx(op,{className:"absolute left-3 top-2.5 w-4 h-4 text-gray-500"}),r.jsx(je,{value:l.city,onChange:f=>c({...l,city:f.target.value}),className:"pl-9 bg-black/20 border-white/10 text-white",placeholder:"Ex: Rio de Janeiro, RJ"})]})]})]})}),r.jsxs(W,{onClick:u,disabled:a,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-bold py-6 text-lg shadow-lg shadow-purple-900/20",children:[a?r.jsx(zt,{className:"w-5 h-5 animate-spin mr-2"}):r.jsx(oa,{className:"w-5 h-5 mr-2"}),"Salvar Alteraes"]}),r.jsx("div",{className:"pt-8 border-t border-white/10",children:r.jsxs(W,{variant:"outline",onClick:h,className:"w-full border-red-900/30 text-red-400 hover:bg-red-950/10 hover:text-red-300",children:[r.jsx(She,{className:"w-4 h-4 mr-2"})," Sair da Conta"]})})]}),r.jsx(et,{value:"jornada",className:"text-center py-10 text-gray-500",children:"Em breve: Seu histrico e conquistas."}),r.jsx(et,{value:"alma",className:"text-center py-10 text-gray-500",children:"Em breve: Mapa astral detalhado."}),r.jsx(et,{value:"outros",className:"text-center py-10 text-gray-500",children:"Configuraes adicionais."})]})]})})}var u_="Switch",[HMe]=Fi(u_),[GMe,WMe]=HMe(u_),pJ=w.forwardRef((t,e)=>{const{__scopeSwitch:n,name:a,checked:s,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...h}=t,[f,v]=w.useState(null),x=mn(e,j=>v(j)),g=w.useRef(!1),y=f?u||!!f.closest("form"):!0,[b,_]=Hl({prop:s,defaultProp:i??!1,onChange:d,caller:u_});return r.jsxs(GMe,{scope:n,checked:b,disabled:l,children:[r.jsx(qt.button,{type:"button",role:"switch","aria-checked":b,"aria-required":o,"data-state":yJ(b),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:x,onClick:lt(t.onClick,j=>{_(S=>!S),y&&(g.current=j.isPropagationStopped(),g.current||j.stopPropagation())})}),y&&r.jsx(vJ,{control:f,bubbles:!g.current,name:a,value:c,checked:b,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});pJ.displayName=u_;var xJ="SwitchThumb",gJ=w.forwardRef((t,e)=>{const{__scopeSwitch:n,...a}=t,s=WMe(xJ,n);return r.jsx(qt.span,{"data-state":yJ(s.checked),"data-disabled":s.disabled?"":void 0,...a,ref:e})});gJ.displayName=xJ;var KMe="SwitchBubbleInput",vJ=w.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:a=!0,...s},i)=>{const o=w.useRef(null),l=mn(o,i),c=J1(n),d=k1(e);return w.useEffect(()=>{const u=o.current;if(!u)return;const h=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==n&&v){const x=new Event("click",{bubbles:a});v.call(u,n),u.dispatchEvent(x)}},[c,n,a]),r.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:l,style:{...s.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});vJ.displayName=KMe;function yJ(t){return t?"checked":"unchecked"}var bJ=pJ,XMe=gJ;const Ci=w.forwardRef(({className:t,...e},n)=>r.jsx(bJ,{className:Wt("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:r.jsx(XMe,{className:Wt("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));Ci.displayName=bJ.displayName;const YMe=[{value:"pt-BR",label:"Portugus (Brasil)",flag:""},{value:"en-US",label:"English (US)",flag:""},{value:"es-ES",label:"Espaol (Espaa)",flag:""}],QMe=[{value:"online",label:"Online",color:"#10B981",icon:""},{value:"busy",label:"Ocupado",color:"#F59E0B",icon:""}];function wJ(){const[t,e]=w.useState(null),n=wt();w.useEffect(()=>{a()},[]);const a=async()=>{try{const l=await H.auth.me();e(l)}catch(l){console.error("Erro ao carregar usurio:",l)}},s=Ue({mutationFn:async l=>{await H.auth.updateMe({language:l})},onSuccess:()=>{n.invalidateQueries({queryKey:["user"]}),window.location.reload()}}),i=Ue({mutationFn:async l=>{await H.auth.updateMe({online_status:l,last_seen:new Date().toISOString()})},onSuccess:()=>{n.invalidateQueries({queryKey:["user"]}),a()}}),o=async()=>{await H.auth.updateMe({online_status:"offline",last_seen:new Date().toISOString()}),await H.auth.logout()};return t?r.jsx("div",{className:"min-h-screen bg-gradient-to-b from-[#0f0f1e] via-[#1a1a2e] to-[#0f0f1e]",children:r.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[r.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[r.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Configuraes"}),r.jsx("p",{className:"text-gray-400",children:"Personalize sua experincia no portal"})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05},children:r.jsxs(X,{className:"bg-[#1a1a2e] border-purple-900/20 p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx(VH,{className:"w-6 h-6 text-green-400"}),r.jsx("h2",{className:"text-xl font-bold text-white",children:"Status de Presena"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("p",{className:"text-gray-400 text-sm",children:"Defina como voc aparece para outros usurios no portal"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:QMe.map(l=>r.jsx("button",{onClick:()=>i.mutate(l.value),className:`p-4 rounded-xl border-2 transition-all ${t.online_status===l.value?"border-purple-500 bg-purple-900/30":"border-purple-900/20 bg-slate-800/50 hover:border-purple-700/50"}`,children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:l.color}}),r.jsxs("div",{className:"flex-1 text-left",children:[r.jsx("p",{className:"font-semibold text-white",children:l.label}),r.jsx("p",{className:"text-xs text-gray-400",children:l.value==="online"?"Disponvel para conversas":"No perturbe, estou focado"})]}),t.online_status===l.value&&r.jsx(_e,{className:"w-5 h-5 text-purple-400"})]})},l.value))}),r.jsx("p",{className:"text-xs text-gray-500 mt-2",children:' Seu status muda automaticamente para "Offline" quando voc sair do portal'})]})]})}),r.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:r.jsxs(X,{className:"bg-[#1a1a2e] border-purple-900/20 p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx(rhe,{className:"w-6 h-6 text-purple-400"}),r.jsx("h2",{className:"text-xl font-bold text-white",children:"Idioma e Regio"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-300 mb-2",children:"Idioma"}),r.jsxs(Ds,{value:t.language||"pt-BR",onValueChange:l=>s.mutate(l),children:[r.jsx(hs,{className:"bg-slate-800 border-purple-900/30 text-white",children:r.jsx(Is,{})}),r.jsx(ms,{className:"bg-slate-900 border-purple-900/30 text-white",children:YMe.map(l=>r.jsxs(Ot,{value:l.value,className:"text-white",children:[r.jsx("span",{className:"mr-2",children:l.flag}),l.label]},l.value))})]})]}),t.detected_location&&r.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg",children:[r.jsx("p",{className:"text-sm text-gray-300 mb-1",children:"Localizao Detectada:"}),r.jsxs("p",{className:"text-white font-semibold",children:[t.detected_location.city,", ",t.detected_location.state," - ",t.detected_location.country]})]})]})]})}),r.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},children:r.jsxs(X,{className:"bg-[#1a1a2e] border-purple-900/20 p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx(Ps,{className:"w-6 h-6 text-purple-400"}),r.jsx("h2",{className:"text-xl font-bold text-white",children:"Notificaes"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-purple-900/20",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-white",children:"Notificaes Push"}),r.jsx("p",{className:"text-sm text-gray-300",children:"Receba alertas de novas mensagens"})]}),r.jsx(Ci,{})]}),r.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-purple-900/20",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-white",children:"Resumo de Atividades"}),r.jsx("p",{className:"text-sm text-gray-300",children:"Email semanal com suas conquistas"})]}),r.jsx(Ci,{})]}),r.jsxs("div",{className:"flex items-center justify-between py-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-white",children:"Alertas de Sincronicidade"}),r.jsx("p",{className:"text-sm text-gray-300",children:"Quando eventos csmicos ocorrem"})]}),r.jsx(Ci,{defaultChecked:!0})]})]})]})}),r.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:r.jsxs(X,{className:"bg-[#1a1a2e] border-purple-900/20 p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx(pf,{className:"w-6 h-6 text-purple-400"}),r.jsx("h2",{className:"text-xl font-bold text-white",children:"Privacidade"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-purple-900/20",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-white",children:"Perfil Privado"}),r.jsx("p",{className:"text-sm text-gray-300",children:"Apenas conexes podem ver seu perfil"})]}),r.jsx(Ci,{})]}),r.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-purple-900/20",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-white",children:"Mostrar Localizao"}),r.jsx("p",{className:"text-sm text-gray-300",children:"Exibir cidade no perfil"})]}),r.jsx(Ci,{defaultChecked:!0})]}),r.jsxs("div",{className:"flex items-center justify-between py-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-white",children:"Status Online"}),r.jsx("p",{className:"text-sm text-gray-300",children:"Mostrar quando voc est ativo"})]}),r.jsx(Ci,{defaultChecked:!0})]})]})]})}),r.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.25},children:r.jsxs(X,{className:"bg-[#1a1a2e] border-purple-900/20 p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx(Gu,{className:"w-6 h-6 text-purple-400"}),r.jsx("h2",{className:"text-xl font-bold text-white",children:"Conta"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg",children:[r.jsx("p",{className:"text-sm text-gray-300 mb-1",children:"Email"}),r.jsx("p",{className:"text-white font-semibold",children:t.email})]}),r.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg",children:[r.jsx("p",{className:"text-sm text-gray-300 mb-1",children:"Nvel Mstico"}),r.jsxs("p",{className:"text-white font-semibold",children:["Nvel ",t.level||1]})]}),r.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg",children:[r.jsx("p",{className:"text-sm text-gray-300 mb-1",children:"Membro desde"}),r.jsx("p",{className:"text-white font-semibold",children:kn(new Date(t.created_date),"dd 'de' MMMM 'de' yyyy",{locale:jn})})]}),r.jsx(W,{onClick:o,variant:"outline",className:"w-full border-red-500/50 text-red-400 hover:bg-red-500/10",children:"Sair da Conta"})]})]})})]})]})}):r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx(_e,{className:"w-12 h-12 text-purple-500 animate-pulse"})})}const ZMe=[{name:"ries",emoji:"",dates:"21/03 - 19/04",element:"Fogo"},{name:"Touro",emoji:"",dates:"20/04 - 20/05",element:"Terra"},{name:"Gmeos",emoji:"",dates:"21/05 - 20/06",element:"Ar"},{name:"Cncer",emoji:"",dates:"21/06 - 22/07",element:"gua"},{name:"Leo",emoji:"",dates:"23/07 - 22/08",element:"Fogo"},{name:"Virgem",emoji:"",dates:"23/08 - 22/09",element:"Terra"},{name:"Libra",emoji:"",dates:"23/09 - 22/10",element:"Ar"},{name:"Escorpio",emoji:"",dates:"23/10 - 21/11",element:"gua"},{name:"Sagitrio",emoji:"",dates:"22/11 - 21/12",element:"Fogo"},{name:"Capricrnio",emoji:"",dates:"22/12 - 19/01",element:"Terra"},{name:"Aqurio",emoji:"",dates:"20/01 - 18/02",element:"Ar"},{name:"Peixes",emoji:"",dates:"19/02 - 20/03",element:"gua"}];function _J(){const[t,e]=w.useState(null),[n,a]=w.useState(null),[s,i]=w.useState(""),[o,l]=w.useState(!1);w.useEffect(()=>{c()},[]);const c=async()=>{try{const u=await H.auth.me();e(u)}catch(u){console.error("Erro ao carregar usurio:",u)}},d=async u=>{l(!0),a(u);try{const h=`Crie um horscopo do dia para o signo de ${u.name}. Seja inspirador, mstico e especfico. Inclua dicas sobre amor, trabalho e energia do dia. Mximo 150 palavras.`,x=(await(await fetch("https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=AIzaSyBD6sfREj9WchZQ5maQ5LWBZN1v36SZY_Q",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:h}]}]})})).json()).candidates[0].content.parts[0].text;i(x)}catch{i("As estrelas esto temporariamente obscurecidas. Tente novamente em alguns momentos. ")}l(!1)};return t?r.jsx("div",{className:"min-h-screen",children:r.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[r.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-full bg-gradient-to-br from-yellow-600 to-orange-600 mb-6",children:r.jsx(Wn,{className:"w-10 h-10 text-white"})}),r.jsx("h1",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-purple-400 via-pink-400 to-blue-400 bg-clip-text text-transparent mb-4",children:"Horscopo Dirio"}),r.jsx("p",{className:"text-gray-400 text-lg",children:"Almanaque das Estrelas - escolha seu signo"})]}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 mb-8",children:ZMe.map((u,h)=>r.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:h*.05},children:r.jsx(X,{onClick:()=>d(u),className:`p-6 cursor-pointer transition border ${(n==null?void 0:n.name)===u.name?"border-yellow-500 bg-gradient-to-br from-yellow-900/20 to-orange-900/10":"border-purple-900/30 hover:border-purple-700/50 bg-gradient-to-br from-slate-900 to-slate-800"}`,children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-4xl mb-2",children:u.emoji}),r.jsx("h3",{className:"font-bold text-purple-300 mb-1",children:u.name}),r.jsx("p",{className:"text-xs text-gray-400 mb-1",children:u.dates}),r.jsx("p",{className:"text-xs text-gray-500",children:u.element})]})})},u.name))}),n&&r.jsx(q.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},children:r.jsxs(X,{className:"bg-gradient-to-br from-slate-900 to-slate-800 border-yellow-500/50 p-8",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("div",{className:"text-6xl mb-4",children:n.emoji}),r.jsx("h2",{className:"text-3xl font-bold text-yellow-300 mb-2",children:n.name}),r.jsxs("p",{className:"text-gray-400",children:[n.dates,"  ",n.element]})]}),o?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(_e,{className:"w-12 h-12 text-yellow-500 animate-pulse mx-auto mb-4"}),r.jsx("p",{className:"text-gray-400",children:"Consultando as estrelas..."})]}):s?r.jsx("div",{className:"prose prose-invert max-w-none",children:r.jsx("p",{className:"text-gray-300 leading-relaxed text-center whitespace-pre-wrap",children:s})}):null]})})]})}):r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx(_e,{className:"w-12 h-12 text-purple-500 animate-pulse"})})}function jJ(){var f,v;const[t,e]=w.useState(null),[n,a]=w.useState({full_name:"",birth_date:"",birth_time:"",birth_city:"",birth_state:"",birth_country:"Brasil"}),[s,i]=w.useState(!1),[o,l]=w.useState(null);ae.useEffect(()=>{c()},[]);const c=async()=>{const x=await H.auth.me();e(x),a(g=>({...g,full_name:x.display_name||x.full_name||""}))},{data:d}=Oe({queryKey:["birth-charts",t==null?void 0:t.id],queryFn:()=>H.entities.BirthChart.filter({user_id:t==null?void 0:t.id}),enabled:!!t}),u=async()=>{if(!n.full_name||!n.birth_date||!n.birth_time||!n.birth_city){alert("Preencha todos os campos");return}i(!0);try{const x=`Voc  um astrlogo experiente. Crie uma interpretao detalhada e personalizada do mapa astral para:

Nome: ${n.full_name}
Data de Nascimento: ${n.birth_date}
Hora: ${n.birth_time}
Local: ${n.birth_city}, ${n.birth_state}, ${n.birth_country}

Fornea uma anlise completa incluindo:
1. Signo Solar, Lunar e Ascendente
2. Posicionamento dos planetas pessoais (Mercrio, Vnus, Marte)
3. Caractersticas principais de personalidade
4. Dons e talentos naturais
5. Desafios a serem trabalhados
6. Propsito de vida e misso da alma
7. Orientaes para o momento atual

Use linguagem acolhedora, mstica e inspiradora. Seja detalhado e personalizado.`,g=await H.integrations.Core.InvokeLLM({prompt:x,add_context_from_internet:!1}),y=await H.entities.BirthChart.create({user_id:t.id,full_name:n.full_name,birth_date:n.birth_date,birth_time:n.birth_time,birth_place:{city:n.birth_city,state:n.birth_state,country:n.birth_country},full_interpretation:g,generated_at:new Date().toISOString()});l(y),i(!1)}catch(x){alert("Erro ao gerar: "+x.message),i(!1)}},h=async()=>{if(o)try{await H.entities.Post.create({author_id:t.id,author_name:t.display_name||t.full_name,author_avatar:t.avatar_url,author_level:t.level,author_archetype:t.archetype,post_type:"reflexao",content:` Meu Mapa Astral

Acabo de descobrir insights profundos sobre minha jornada atravs do mapa astral! 

Data: ${new Date(o.generated_at).toLocaleString("pt-BR")}`,visibility:"public"}),alert(" Compartilhado no feed!")}catch(x){alert("Erro: "+x.message)}};return t?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#02031C] via-slate-900 to-[#02031C] text-white p-3 md:p-6 pb-24",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsxs(q.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[r.jsx(q.div,{animate:{rotate:360},transition:{duration:20,repeat:1/0,ease:"linear"},className:"w-20 h-20 md:w-24 md:h-24 rounded-full bg-gradient-to-br from-purple-500 to-blue-600 flex items-center justify-center mx-auto mb-4 shadow-2xl",children:r.jsx(td,{className:"w-10 h-10 md:w-12 md:h-12 text-white"})}),r.jsx("h1",{className:"text-2xl md:text-4xl font-bold mb-2 bg-gradient-to-r from-purple-400 to-blue-400 bg-clip-text text-transparent",children:"Mapa Astral"}),r.jsx("p",{className:"text-slate-300 text-sm md:text-base",children:"Planetrio da Alma - seu mapa completo"})]}),r.jsxs(gt,{mode:"wait",children:[!s&&!o&&r.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:[r.jsxs(X,{className:"bg-slate-800/50 border-purple-500/30 p-4 md:p-6 mb-6",children:[r.jsx("h3",{className:"text-lg md:text-xl font-bold text-purple-300 mb-4",children:" Seus Dados de Nascimento"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"text-sm text-slate-300 mb-2 block flex items-center gap-2",children:[r.jsx(_e,{className:"w-4 h-4"}),"Nome Completo"]}),r.jsx(je,{value:n.full_name,onChange:x=>a({...n,full_name:x.target.value}),placeholder:"Seu nome completo",className:"bg-slate-700/50 border-slate-600 text-white"})]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"text-sm text-slate-300 mb-2 block flex items-center gap-2",children:[r.jsx(Ya,{className:"w-4 h-4"}),"Data de Nascimento"]}),r.jsx(je,{type:"date",value:n.birth_date,onChange:x=>a({...n,birth_date:x.target.value}),className:"bg-slate-700/50 border-slate-600 text-white"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"text-sm text-slate-300 mb-2 block flex items-center gap-2",children:[r.jsx(Mr,{className:"w-4 h-4"}),"Hora de Nascimento"]}),r.jsx(je,{type:"time",value:n.birth_time,onChange:x=>a({...n,birth_time:x.target.value}),className:"bg-slate-700/50 border-slate-600 text-white"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"text-sm text-slate-300 mb-2 block flex items-center gap-2",children:[r.jsx(op,{className:"w-4 h-4"}),"Cidade de Nascimento"]}),r.jsx(je,{value:n.birth_city,onChange:x=>a({...n,birth_city:x.target.value}),placeholder:"Ex: So Paulo",className:"bg-slate-700/50 border-slate-600 text-white"})]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-slate-300 mb-2 block",children:"Estado"}),r.jsx(je,{value:n.birth_state,onChange:x=>a({...n,birth_state:x.target.value}),placeholder:"Ex: SP",className:"bg-slate-700/50 border-slate-600 text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-slate-300 mb-2 block",children:"Pas"}),r.jsx(je,{value:n.birth_country,onChange:x=>a({...n,birth_country:x.target.value}),className:"bg-slate-700/50 border-slate-600 text-white"})]})]})]}),r.jsxs(W,{onClick:u,className:"w-full mt-6 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white py-6 text-lg",size:"lg",children:[r.jsx(td,{className:"w-5 h-5 mr-2"}),"Gerar Meu Mapa Astral"]})]}),d&&d.length>0&&r.jsxs(X,{className:"bg-slate-800/50 border-blue-500/30 p-4 md:p-6",children:[r.jsx("h3",{className:"text-lg font-bold text-blue-300 mb-4",children:" Mapas Anteriores"}),r.jsx("div",{className:"space-y-3",children:d.map(x=>r.jsxs("button",{onClick:()=>l(x),className:"w-full p-3 bg-slate-700/50 rounded-lg border border-slate-600 hover:border-blue-500 transition text-left",children:[r.jsx("p",{className:"font-semibold text-white",children:x.full_name}),r.jsxs("p",{className:"text-sm text-slate-400",children:[new Date(x.generated_at).toLocaleDateString("pt-BR")," s ",new Date(x.generated_at).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})]})]},x.id))})]})]},"form"),s&&r.jsx(q.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:r.jsxs(X,{className:"bg-slate-800/50 border-purple-500/30 p-8 md:p-12",children:[r.jsx(q.div,{animate:{rotate:360,scale:[1,1.2,1]},transition:{rotate:{duration:3,repeat:1/0,ease:"linear"},scale:{duration:2,repeat:1/0}},className:"w-32 h-32 mx-auto mb-6",children:r.jsxs("div",{className:"relative w-full h-full",children:[r.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-purple-500 via-blue-500 to-purple-500 opacity-50 blur-xl"}),r.jsx("div",{className:"absolute inset-4 rounded-full bg-gradient-to-br from-purple-600 to-blue-600 flex items-center justify-center",children:r.jsx(td,{className:"w-16 h-16 text-white"})})]})}),r.jsx(q.h2,{animate:{opacity:[.5,1,.5]},transition:{duration:2,repeat:1/0},className:"text-2xl md:text-3xl font-bold text-purple-300 mb-4",children:"Consultando os Astros..."}),r.jsx("p",{className:"text-slate-400 mb-2",children:"A IA est analisando seu mapa natal"}),r.jsx("p",{className:"text-sm text-slate-500",children:"Interpretando posies planetrias e aspectos astrolgicos"}),r.jsx("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:[...Array(30)].map((x,g)=>r.jsx(q.div,{initial:{x:Math.random()*600-300,y:Math.random()*600,opacity:0,scale:0},animate:{y:[null,-200],opacity:[0,1,0],scale:[0,1,0]},transition:{duration:4,repeat:1/0,delay:g*.2,ease:"easeOut"},className:"absolute w-2 h-2 bg-purple-400 rounded-full"},g))})]})},"generating"),o&&!s&&r.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:r.jsxs(X,{className:"bg-slate-800/50 border-purple-500/30 p-4 md:p-6 mb-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h3",{className:"text-xl md:text-2xl font-bold text-purple-300",children:["Mapa Astral de ",o.full_name]}),r.jsx(W,{onClick:()=>l(null),variant:"outline",size:"sm",className:"border-slate-600",children:"Nova Consulta"})]}),r.jsxs("div",{className:"mb-4 p-3 bg-slate-700/50 rounded-lg text-sm text-slate-300",children:[r.jsxs("p",{children:[" ",new Date(o.birth_date).toLocaleDateString("pt-BR")]}),r.jsxs("p",{children:[" ",o.birth_time]}),r.jsxs("p",{children:[" ",(f=o.birth_place)==null?void 0:f.city,", ",(v=o.birth_place)==null?void 0:v.state]}),r.jsxs("p",{className:"text-xs text-slate-400 mt-2",children:["Gerado em: ",new Date(o.generated_at).toLocaleString("pt-BR")]})]}),r.jsx("div",{className:"prose prose-invert max-w-none",children:r.jsx("div",{className:"whitespace-pre-wrap text-slate-200 leading-relaxed",children:o.full_interpretation})}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-3 mt-6",children:[r.jsxs(W,{onClick:h,variant:"outline",className:"border-blue-500 text-blue-400 hover:bg-blue-500/20",children:[r.jsx($l,{className:"w-4 h-4 mr-2"}),"Compartilhar"]}),r.jsxs(W,{onClick:()=>{const x=document.createElement("a"),g=new Blob([o.full_interpretation],{type:"text/plain"});x.href=URL.createObjectURL(g),x.download=`mapa-astral-${o.full_name}.txt`,x.click()},variant:"outline",className:"border-green-500 text-green-400 hover:bg-green-500/20",children:[r.jsx(Wo,{className:"w-4 h-4 mr-2"}),"Baixar"]})]})]})},"result")]})]})}):r.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-[#02031C] via-slate-900 to-[#02031C]",children:r.jsx(zt,{className:"w-8 h-8 animate-spin text-purple-500"})})}function NJ(){const[t,e]=w.useState(null),[n,a]=w.useState(!1),[s,i]=w.useState({title:"",content:"",date:new Date().toISOString().split("T")[0],mood:"neutro",recurring:!1}),[o,l]=w.useState(null),[c,d]=w.useState(!1),u=wt();ae.useEffect(()=>{h()},[]);const h=async()=>{const _=await H.auth.me();e(_)},{data:f}=Oe({queryKey:["dreams",t==null?void 0:t.id],queryFn:()=>H.entities.DirectMessage.filter({user_id:t==null?void 0:t.id,message_type:"dream"}),enabled:!!t}),{data:v}=Oe({queryKey:["dream-interpretations",t==null?void 0:t.id],queryFn:()=>H.entities.DreamInterpretation.filter({user_id:t==null?void 0:t.id}),enabled:!!t}),x=Ue({mutationFn:async _=>await H.entities.DirectMessage.create({..._,user_id:t.id,message_type:"dream"}),onSuccess:()=>{u.invalidateQueries({queryKey:["dreams"]}),a(!1),i({title:"",content:"",date:new Date().toISOString().split("T")[0],mood:"neutro",recurring:!1}),alert(" Sonho salvo!")}}),g=Ue({mutationFn:async({dreamId:_,content:j,title:S})=>{if((t.ouros||0)<10)throw new Error("Voc precisa de 10 ouros para interpretar um sonho");d(!0),await H.auth.updateMe({ouros:(t.ouros||0)-10});const C=`Voc  um especialista em interpretao de sonhos e simbolismo. Analise o seguinte sonho em detalhes:

Ttulo: ${S}
Contedo: ${j}

Fornea uma interpretao completa incluindo:
1. Smbolos principais e seus significados
2. Tema emocional do sonho
3. Possveis mensagens do subconsciente
4. Orientaes prticas baseadas no sonho
5. Aspectos que podem estar sendo processados

Use linguagem acolhedora e inspiradora. Seja detalhado nos simbolismos.`,E=await H.integrations.Core.InvokeLLM({prompt:C,add_context_from_internet:!1});return await H.entities.DreamInterpretation.create({user_id:t.id,dream_id:_,dream_title:S,dream_content:j,interpretation:E,ouros_paid:10})},onSuccess:()=>{u.invalidateQueries({queryKey:["dream-interpretations"]}),h(),d(!1),alert(" Interpretao gerada!")},onError:_=>{d(!1),alert("Erro: "+_.message)}}),y=()=>{if(!s.title||!s.content){alert("Preencha ttulo e contedo");return}x.mutate(s)},b=_=>{confirm("Interpretar este sonho custar 10 ouros. Deseja continuar?")&&g.mutate({dreamId:_.id,content:_.content,title:_.title||"Sonho sem ttulo"})};return t?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#02031C] via-slate-900 to-[#02031C] text-white p-3 md:p-6 pb-24",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsxs(q.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[r.jsx(q.div,{animate:{rotate:[0,10,-10,0],scale:[1,1.05,1]},transition:{duration:4,repeat:1/0},className:"w-20 h-20 md:w-24 md:h-24 rounded-full bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center mx-auto mb-4 shadow-2xl",children:r.jsx($m,{className:"w-10 h-10 md:w-12 md:h-12 text-white"})}),r.jsx("h1",{className:"text-2xl md:text-4xl font-bold mb-2 bg-gradient-to-r from-indigo-400 to-purple-400 bg-clip-text text-transparent",children:"Dirio dos Sonhos"}),r.jsx("p",{className:"text-slate-300 text-sm md:text-base",children:"Registre e interprete seus sonhos"})]}),r.jsx(X,{className:"bg-gradient-to-r from-yellow-900/30 to-amber-900/30 border-yellow-500/30 p-3 mb-6 text-center",children:r.jsxs("p",{className:"text-sm text-yellow-300",children:[r.jsx(Gn,{className:"w-4 h-4 inline mr-2"}),"Seu saldo: ",r.jsxs("strong",{children:[t.ouros||0," ouros"]}),"  Interpretao: 10 ouros"]})}),r.jsxs(X,{className:"bg-slate-800/50 border-indigo-500/30 p-4 md:p-6 mb-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg md:text-xl font-bold text-indigo-300",children:" Registrar Novo Sonho"}),r.jsx(W,{onClick:()=>a(!n),variant:"outline",size:"sm",className:"border-indigo-500",children:n?"Cancelar":"Novo"})]}),r.jsx(gt,{children:n&&r.jsxs(q.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-4",children:[r.jsx(je,{value:s.title,onChange:_=>i({...s,title:_.target.value}),placeholder:"Ttulo do sonho...",className:"bg-slate-700/50 border-slate-600 text-white"}),r.jsx(It,{value:s.content,onChange:_=>i({...s,content:_.target.value}),placeholder:"Descreva seu sonho em detalhes...",className:"bg-slate-700/50 border-slate-600 text-white h-32"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-slate-300 mb-2 block",children:"Data"}),r.jsx(je,{type:"date",value:s.date,onChange:_=>i({...s,date:_.target.value}),className:"bg-slate-700/50 border-slate-600 text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-slate-300 mb-2 block",children:"Humor ao acordar"}),r.jsxs("select",{value:s.mood,onChange:_=>i({...s,mood:_.target.value}),className:"w-full px-3 py-2 bg-slate-700/50 border border-slate-600 rounded-lg text-white",children:[r.jsx("option",{value:"feliz",children:" Feliz"}),r.jsx("option",{value:"neutro",children:" Neutro"}),r.jsx("option",{value:"confuso",children:" Confuso"}),r.jsx("option",{value:"assustado",children:" Assustado"}),r.jsx("option",{value:"triste",children:" Triste"})]})]})]}),r.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-200",children:[r.jsx("input",{type:"checkbox",checked:s.recurring,onChange:_=>i({...s,recurring:_.target.checked}),className:"rounded"}),r.jsx("span",{children:"Sonho recorrente"})]}),r.jsxs(W,{onClick:y,disabled:x.isPending,className:"w-full bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700",children:[r.jsx($m,{className:"w-4 h-4 mr-2"}),"Salvar Sonho"]})]})})]}),r.jsx("div",{className:"space-y-4",children:f&&f.length>0?f.map((_,j)=>{const S=v==null?void 0:v.find(C=>C.dream_id===_.id);return r.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:j*.05},children:r.jsxs(X,{className:"bg-slate-800/50 border-purple-500/30 p-4 md:p-6",children:[r.jsx("div",{className:"flex items-start justify-between mb-3",children:r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-lg font-bold text-purple-300 mb-2",children:_.title||"Sonho sem ttulo"}),r.jsx("p",{className:"text-sm text-slate-400 mb-3",children:new Date(_.created_date).toLocaleDateString("pt-BR")}),r.jsx("p",{className:"text-slate-200 text-sm whitespace-pre-wrap line-clamp-3",children:_.content})]})}),S?r.jsxs("div",{className:"mt-4 p-4 bg-gradient-to-br from-purple-900/30 to-indigo-900/30 rounded-lg border border-purple-500/30",children:[r.jsxs("h4",{className:"font-bold text-purple-300 mb-2 flex items-center gap-2",children:[r.jsx(ho,{className:"w-4 h-4"}),"Interpretao"]}),r.jsx("p",{className:"text-sm text-slate-200 whitespace-pre-wrap",children:S.interpretation}),S.symbols_found&&S.symbols_found.length>0&&r.jsxs("div",{className:"mt-3",children:[r.jsx("p",{className:"text-xs text-purple-300 font-semibold mb-2",children:"Smbolos encontrados:"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:S.symbols_found.map((C,E)=>r.jsx(De,{className:"bg-purple-700/50 text-purple-200",children:C.symbol},E))})]})]}):r.jsx(W,{onClick:()=>b(_),disabled:c,variant:"outline",className:"w-full mt-4 border-indigo-500 text-indigo-400 hover:bg-indigo-500/20",children:c?r.jsxs(r.Fragment,{children:[r.jsx(zt,{className:"w-4 h-4 mr-2 animate-spin"}),"Interpretando..."]}):r.jsxs(r.Fragment,{children:[r.jsx(ho,{className:"w-4 h-4 mr-2"}),"Interpretar (10 ouros)"]})})]})},_.id)}):r.jsxs(X,{className:"bg-slate-800/50 border-slate-600 p-12 text-center",children:[r.jsx($m,{className:"w-12 h-12 text-slate-500 mx-auto mb-4"}),r.jsx("p",{className:"text-slate-400",children:"Nenhum sonho registrado ainda"}),r.jsx("p",{className:"text-sm text-slate-500 mt-2",children:"Comece a documentar seus sonhos para anlises profundas"})]})})]})}):r.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-[#02031C] via-slate-900 to-[#02031C]",children:r.jsx(zt,{className:"w-8 h-8 animate-spin text-purple-500"})})}const YL=[{id:"dark",name:"Padro Escuro",description:"Fundos prpura-escuro, acentos dourados msticos",preview:"linear-gradient(135deg, #1e1b4b, #000000)",colors:{background:"#02031C",backgroundGradient:"linear-gradient(to bottom, #02031C, #1a1a2e, #02031C)",surface:"#1e1b4b",surfaceHover:"#2e2b5b",card:"#1e293b",cardHover:"#2e3a4b",accent:"#a855f7",accentHover:"#9333ea",text:"#ffffff",textSecondary:"#cbd5e1",border:"#6b21a8"}},{id:"verde-esmeralda",name:"Verde Esmeralda",description:"Fundos em verde-floresta, acentos esmeralda",preview:"linear-gradient(135deg, #064e3b, #022c22)",colors:{background:"#022c22",backgroundGradient:"linear-gradient(to bottom, #022c22, #064e3b, #022c22)",surface:"#064e3b",surfaceHover:"#065f4b",card:"#134e4a",cardHover:"#236e6a",accent:"#10b981",accentHover:"#059669",text:"#ffffff",textSecondary:"#d1fae5",border:"#047857"}},{id:"azul-safira",name:"Azul Safira",description:"Fundos azul-noite, acentos safira eltrico",preview:"linear-gradient(135deg, #1e3a8a, #0c1e3f)",colors:{background:"#0c1e3f",backgroundGradient:"linear-gradient(to bottom, #0c1e3f, #1e3a8a, #0c1e3f)",surface:"#1e3a8a",surfaceHover:"#2e4a9a",card:"#1e40af",cardHover:"#2e50bf",accent:"#3b82f6",accentHover:"#2563eb",text:"#ffffff",textSecondary:"#dbeafe",border:"#1d4ed8"}},{id:"vermelho-rubi",name:"Vermelho Rubi",description:"Fundos vinho escuro, acentos rubi intenso",preview:"linear-gradient(135deg, #7f1d1d, #3f0f0f)",colors:{background:"#3f0f0f",backgroundGradient:"linear-gradient(to bottom, #3f0f0f, #7f1d1d, #3f0f0f)",surface:"#7f1d1d",surfaceHover:"#8f2d2d",card:"#991b1b",cardHover:"#a92b2b",accent:"#dc2626",accentHover:"#b91c1c",text:"#ffffff",textSecondary:"#fecaca",border:"#991b1b"}},{id:"amarelo-topazio",name:"Amarelo Topzio",description:"Fundos marrom-dourado, acentos topzio",preview:"linear-gradient(135deg, #78350f, #451a03)",colors:{background:"#451a03",backgroundGradient:"linear-gradient(to bottom, #451a03, #78350f, #451a03)",surface:"#78350f",surfaceHover:"#88451f",card:"#92400e",cardHover:"#a2501e",accent:"#f59e0b",accentHover:"#d97706",text:"#ffffff",textSecondary:"#fde68a",border:"#b45309"}},{id:"prata-lunar",name:"Prata Lunar",description:"Fundos cinza-azulado, acentos prata metlico",preview:"linear-gradient(135deg, #334155, #1e293b)",colors:{background:"#1e293b",backgroundGradient:"linear-gradient(to bottom, #1e293b, #334155, #1e293b)",surface:"#334155",surfaceHover:"#435165",card:"#475569",cardHover:"#576579",accent:"#94a3b8",accentHover:"#cbd5e1",text:"#ffffff",textSecondary:"#e2e8f0",border:"#64748b"}},{id:"rosa-celestial",name:"Rosa Celestial",description:"Tons de rosa e roxo celestial",preview:"linear-gradient(135deg, #831843, #4a044e)",colors:{background:"#4a044e",backgroundGradient:"linear-gradient(to bottom, #4a044e, #831843, #4a044e)",surface:"#831843",surfaceHover:"#932853",card:"#9f1239",cardHover:"#af2249",accent:"#ec4899",accentHover:"#db2777",text:"#ffffff",textSecondary:"#fbcfe8",border:"#be185d"}},{id:"laranja-fogo",name:"Laranja Fogo",description:"Chamas laranjas e vermelhas vibrantes",preview:"linear-gradient(135deg, #c2410c, #7c2d12)",colors:{background:"#7c2d12",backgroundGradient:"linear-gradient(to bottom, #7c2d12, #c2410c, #7c2d12)",surface:"#c2410c",surfaceHover:"#d2511c",card:"#ea580c",cardHover:"#fa681c",accent:"#fb923c",accentHover:"#f97316",text:"#ffffff",textSecondary:"#fed7aa",border:"#c2410c"}}];function SJ(){const[t,e]=w.useState(null),[n,a]=w.useState("dark"),s=wt();w.useEffect(()=>{i()},[]);const i=async()=>{try{const d=await H.auth.me();e(d);const u=d.theme||"dark";a(u),o(u)}catch(d){console.error("Erro ao carregar usurio:",d)}},o=d=>{const u=YL.find(f=>f.id===d);if(!u)return;const h=document.documentElement;h.style.setProperty("--theme-bg",u.colors.background),h.style.setProperty("--theme-bg-gradient",u.colors.backgroundGradient),h.style.setProperty("--theme-surface",u.colors.surface),h.style.setProperty("--theme-surface-hover",u.colors.surfaceHover),h.style.setProperty("--theme-card",u.colors.card),h.style.setProperty("--theme-card-hover",u.colors.cardHover),h.style.setProperty("--theme-accent",u.colors.accent),h.style.setProperty("--theme-accent-hover",u.colors.accentHover),h.style.setProperty("--theme-text",u.colors.text),h.style.setProperty("--theme-text-secondary",u.colors.textSecondary),h.style.setProperty("--theme-border",u.colors.border),document.body.style.background=u.colors.backgroundGradient,document.body.style.color=u.colors.text,document.body.setAttribute("data-theme",d)},l=Ue({mutationFn:async d=>(await H.auth.updateMe({theme:d}),d),onSuccess:d=>{a(d),o(d),s.invalidateQueries({queryKey:["user"]})}}),c=d=>{l.mutate(d)};return t?r.jsx("div",{className:"min-h-screen pb-24",style:{background:"var(--theme-bg-gradient, linear-gradient(to bottom, #02031C, #1a1a2e))"},children:r.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[r.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-full bg-gradient-to-br from-pink-600 to-purple-600 mb-6",children:r.jsx(xf,{className:"w-10 h-10 text-white"})}),r.jsx("h1",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-purple-400 via-pink-400 to-blue-400 bg-clip-text text-transparent mb-4",children:"Alquimia Cromtica"}),r.jsx("p",{className:"text-lg",style:{color:"var(--theme-text-secondary, #cbd5e1)"},children:"Personalize as cores de todo o portal mstico"})]}),r.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:YL.map((d,u)=>r.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:u*.1},children:r.jsxs(X,{className:`overflow-hidden cursor-pointer transition-all border-2 ${n===d.id?"border-purple-500 ring-2 ring-purple-500/50 scale-105":"hover:scale-102"}`,style:{borderColor:n===d.id?d.colors.accent:d.colors.border,background:`linear-gradient(to bottom, ${d.colors.card}, ${d.colors.surface})`},onClick:()=>c(d.id),children:[r.jsxs("div",{className:"h-32 relative",style:{background:d.preview},children:[n===d.id&&r.jsx(q.div,{initial:{scale:0},animate:{scale:1},className:"absolute top-2 right-2 w-8 h-8 rounded-full bg-white flex items-center justify-center shadow-lg",children:r.jsx(Rn,{className:"w-5 h-5 text-purple-600"})}),r.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/80 to-transparent",children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx("div",{className:"w-6 h-6 rounded-full border-2 border-white shadow-md",style:{backgroundColor:d.colors.background}}),r.jsx("div",{className:"w-6 h-6 rounded-full border-2 border-white shadow-md",style:{backgroundColor:d.colors.surface}}),r.jsx("div",{className:"w-6 h-6 rounded-full border-2 border-white shadow-md",style:{backgroundColor:d.colors.accent}})]})})]}),r.jsxs("div",{className:"p-6",style:{color:d.colors.text},children:[r.jsx("h3",{className:"text-xl font-bold mb-2",style:{color:d.colors.accent},children:d.name}),r.jsx("p",{className:"text-sm mb-4",style:{color:d.colors.textSecondary},children:d.description}),n===d.id?r.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-400 font-semibold",children:[r.jsx(Rn,{className:"w-4 h-4"}),r.jsx("span",{children:"Tema Ativo"})]}):r.jsx(W,{size:"sm",style:{backgroundColor:d.colors.accent,color:d.colors.text},className:"w-full",children:"Aplicar Tema"})]})]})},d.id))}),r.jsx("style",{children:`
          /* Global Theme Styles */
          [data-theme] .bg-slate-900,
          [data-theme] .bg-slate-800 {
            background: var(--theme-card) !important;
          }
          
          [data-theme] .bg-purple-600 {
            background: var(--theme-accent) !important;
          }
          
          [data-theme] .hover\\:bg-purple-700:hover {
            background: var(--theme-accent-hover) !important;
          }
          
          [data-theme] .border-purple-500,
          [data-theme] .border-purple-900 {
            border-color: var(--theme-border) !important;
          }
          
          [data-theme] .text-gray-400,
          [data-theme] .text-gray-300 {
            color: var(--theme-text-secondary) !important;
          }
        `})]})}):r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx(_e,{className:"w-12 h-12 text-purple-500 animate-pulse"})})}function CJ({user:t,onClose:e,onSubmit:n,isLoading:a}){const[s,i]=w.useState(""),[o,l]=w.useState(["",""]),[c,d]=w.useState("24"),[u,h]=w.useState("geral"),[f,v]=w.useState(!0),x=()=>{o.length<6&&l([...o,""])},g=_=>{o.length>2&&l(o.filter((j,S)=>S!==_))},y=(_,j)=>{const S=[...o];S[_]=j,l(S)},b=()=>{if(!s.trim())return;const _=o.filter(S=>S.trim());if(_.length<2)return;const j=new Date;j.setHours(j.getHours()+parseInt(c)),n({question:s.trim(),options:_.map((S,C)=>({id:`opt_${C}`,text:S.trim(),votes:0})),expires_at:j.toISOString(),category:u,shared_to_feed:f})};return r.jsx(gt,{children:r.jsx(q.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",onClick:e,children:r.jsx(q.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},onClick:_=>_.stopPropagation(),className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:r.jsxs(X,{className:"bg-gradient-to-br from-slate-900 to-slate-800 border-purple-900/30 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-purple-600 to-pink-600 flex items-center justify-center",children:r.jsx(ff,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-bold text-white",children:"Criar Enquete"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Pergunte  comunidade"})]})]}),r.jsx(W,{variant:"ghost",size:"icon",onClick:e,className:"text-gray-400 hover:text-white",children:r.jsx(nt,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-purple-300 mb-2",children:"Sua Pergunta"}),r.jsx(It,{value:s,onChange:_=>i(_.target.value),placeholder:"Qual  a sua pergunta?",className:"bg-slate-800 border-purple-900/30 text-white placeholder:text-gray-400 h-20",maxLength:200}),r.jsxs("p",{className:"text-xs text-gray-400 mt-1 text-right",children:[s.length," / 200"]})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("label",{className:"block text-sm font-semibold text-purple-300",children:"Opes de Resposta"}),o.length<6&&r.jsxs(W,{onClick:x,size:"sm",variant:"outline",className:"border-purple-500/30 text-purple-300 hover:bg-purple-900/20",children:[r.jsx(_r,{className:"w-4 h-4 mr-1"}),"Adicionar"]})]}),r.jsx("div",{className:"space-y-2",children:o.map((_,j)=>r.jsxs("div",{className:"flex gap-2",children:[r.jsx(je,{value:_,onChange:S=>y(j,S.target.value),placeholder:`Opo ${j+1}`,className:"bg-slate-800 border-purple-900/30 text-white placeholder:text-gray-400",maxLength:100}),o.length>2&&r.jsx(W,{onClick:()=>g(j),size:"icon",variant:"ghost",className:"text-red-400 hover:text-red-300 hover:bg-red-900/20",children:r.jsx(qr,{className:"w-4 h-4"})})]},j))})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-purple-300 mb-2",children:"Durao"}),r.jsxs(Ds,{value:c,onValueChange:d,children:[r.jsx(hs,{className:"bg-slate-800 border-purple-900/30 text-white",children:r.jsx(Is,{})}),r.jsxs(ms,{className:"bg-slate-900 border-purple-900/30",children:[r.jsx(Ot,{value:"1",children:"1 hora"}),r.jsx(Ot,{value:"6",children:"6 horas"}),r.jsx(Ot,{value:"12",children:"12 horas"}),r.jsx(Ot,{value:"24",children:"1 dia"}),r.jsx(Ot,{value:"72",children:"3 dias"}),r.jsx(Ot,{value:"168",children:"1 semana"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-purple-300 mb-2",children:"Categoria"}),r.jsxs(Ds,{value:u,onValueChange:h,children:[r.jsx(hs,{className:"bg-slate-800 border-purple-900/30 text-white",children:r.jsx(Is,{})}),r.jsxs(ms,{className:"bg-slate-900 border-purple-900/30",children:[r.jsx(Ot,{value:"geral",children:"Geral"}),r.jsx(Ot,{value:"tarot",children:"Tarot"}),r.jsx(Ot,{value:"astrologia",children:"Astrologia"}),r.jsx(Ot,{value:"espiritualidade",children:"Espiritualidade"}),r.jsx(Ot,{value:"comunidade",children:"Comunidade"})]})]})]})]}),r.jsxs("div",{className:"flex items-center gap-3 bg-purple-900/20 p-4 rounded-lg border border-purple-500/30",children:[r.jsx("input",{type:"checkbox",id:"shareToFeed",checked:f,onChange:_=>v(_.target.checked),className:"w-5 h-5 rounded border-purple-500/50 text-purple-600 focus:ring-purple-500"}),r.jsx("label",{htmlFor:"shareToFeed",className:"text-sm text-purple-200 cursor-pointer",children:"Compartilhar esta enquete no feed da comunidade"})]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsx(W,{variant:"outline",onClick:e,className:"flex-1 border-purple-900/30 text-purple-300 hover:bg-purple-900/20",children:"Cancelar"}),r.jsx(W,{onClick:b,disabled:!s.trim()||o.filter(_=>_.trim()).length<2||a,className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",children:a?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Criando..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Hr,{className:"w-5 h-5 mr-2"}),"Publicar Enquete"]})})]})]})]})})})})}const Gd={bruxa_natural:"#9333EA",sabio:"#F59E0B",guardiao_astral:"#3B82F6",xama:"#10B981",navegador_cosmico:"#8B5CF6",alquimista:"#6366F1",none:"#64748B"},JMe=()=>{const t=Array.from({length:30},(e,n)=>({id:n,initialX:Math.random()*100,initialY:Math.random()*100,delay:Math.random()*10,duration:15+Math.random()*10,size:1+Math.random()*2}));return r.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none z-0",children:[t.map(e=>r.jsx(q.div,{className:"absolute rounded-full bg-purple-400/20 blur-sm",style:{width:e.size,height:e.size,left:`${e.initialX}%`,top:`${e.initialY}%`},animate:{x:[0,Math.random()*100-50,Math.random()*100-50,0],y:[0,Math.random()*100-50,Math.random()*100-50,0],opacity:[.1,.3,.2,.1],scale:[1,1.5,1.2,1]},transition:{duration:e.duration,delay:e.delay,repeat:1/0,ease:"easeInOut"}},e.id)),r.jsx(q.div,{className:"absolute inset-0 bg-gradient-to-br from-purple-900/5 via-transparent to-blue-900/5",animate:{opacity:[.3,.5,.3]},transition:{duration:8,repeat:1/0,ease:"easeInOut"}})]})},ePe=({expiresAt:t})=>{const[e,n]=w.useState("");return w.useEffect(()=>{const a=()=>{const i=new Date,o=new Date(t),l=ok(o,i);if(l<=0){n("Expirada");return}const c=Math.floor(l/3600),d=Math.floor(l%3600/60),u=l%60;c>0?n(`${c}h ${d}m`):d>0?n(`${d}m ${u}s`):n(`${u}s`)};a();const s=setInterval(a,1e3);return()=>clearInterval(s)},[t]),r.jsxs("span",{className:"flex items-center gap-1 text-xs text-purple-300 font-mono",children:[r.jsx(Mr,{className:"w-3 h-3"}),e]})};function EJ(){const t=wt(),[e,n]=w.useState(null),[a,s]=w.useState(""),[i,o]=w.useState(!1),[l,c]=w.useState(null),[d,u]=w.useState("Todos"),h=Sn();w.useEffect(()=>{f()},[]);const f=async()=>{try{const F=await H.auth.me();n(F)}catch(F){console.error("Erro ao carregar usurio:",F)}},{data:v}=Oe({queryKey:["explore-posts"],queryFn:()=>H.entities.Post.list("-created_date",50),initialData:[]}),{data:x}=Oe({queryKey:["explore-users"],queryFn:()=>H.entities.User.list("-created_date",50),initialData:[]}),{data:g}=Oe({queryKey:["polls"],queryFn:()=>H.entities.Poll.filter({is_active:!0},"-created_date",3),initialData:[]}),{data:y}=Oe({queryKey:["explore-products"],queryFn:()=>H.entities.Product.filter({is_active:!0},"-created_date",3),initialData:[]}),b=Ue({mutationFn:async F=>await H.entities.Poll.create({...F,author_id:e.id,author_name:e.display_name||e.full_name,author_avatar:e.avatar_url,author_username:e.username||e.id,votes_by_user:{},total_votes:0}),onSuccess:()=>{t.invalidateQueries({queryKey:["polls"]}),o(!1)}}),_=Ue({mutationFn:async({pollId:F,optionId:B})=>{var V;const G=g.find(Y=>Y.id===F);if(!G||((V=G.votes_by_user)==null?void 0:V[e.id]))return;const L=G.options.map(Y=>Y.id===B?{...Y,votes:Y.votes+1}:Y),U={...G.votes_by_user,[e.id]:B};await H.entities.Poll.update(F,{options:L,votes_by_user:U,total_votes:G.total_votes+1});const z=Math.floor((e.xp||0)*.03),K=(e.xp||0)+z;await H.auth.updateMe({xp:K}),n({...e,xp:K}),c({id:Date.now(),type:"level_up",title:`+${z} XP Ganhos! `,message:`Voc ganhou ${z} XP (3%) por participar da enquete!`,from_user_avatar:e.avatar_url}),window.dispatchEvent(new Event("xpUpdated"))},onSuccess:()=>{t.invalidateQueries({queryKey:["polls"]})}}),j=x.slice(0,10),S=x.sort((F,B)=>{const G=(B.level||0)-(F.level||0);return G!==0?G:(B.xp||0)-(F.xp||0)}).slice(0,5),C=v.map(F=>{const G=Object.values(F.reactions||{}).reduce((I,L)=>I+L,0)+(F.comments_count||0)*2+(F.shares_count||0)*3;return{...F,interactionScore:G}}).sort((F,B)=>B.interactionScore-F.interactionScore).slice(0,5),E=a?v.filter(F=>{var B,G;return((B=F.content)==null?void 0:B.toLowerCase().includes(a.toLowerCase()))||((G=F.author_name)==null?void 0:G.toLowerCase().includes(a.toLowerCase()))}):v,P=a?x.filter(F=>{var B,G;return((B=F.display_name)==null?void 0:B.toLowerCase().includes(a.toLowerCase()))||((G=F.full_name)==null?void 0:G.toLowerCase().includes(a.toLowerCase()))}):[],T=(F,B)=>{_.mutate({pollId:F,optionId:B})},M=F=>{b.mutate(F)},k=F=>{h(ft("Hub")),setTimeout(()=>{const B=document.getElementById(`post-${F}`);B&&B.scrollIntoView({behavior:"smooth",block:"center"})},100)},O=[{id:"Todos",label:"Todos",icon:""},{id:"Jornada do Viajante",label:"Jornada",icon:""},{id:"Ferramentas Msticas",label:"Ferramentas",icon:""},{id:"Comunidade & Conexo",label:"Comunidade",icon:""},{id:"Conhecimento",label:"Conhecimento",icon:""},{id:"Personalizao",label:"Personalizao",icon:""}];if(!(e!=null&&e.id))return r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx(_e,{className:"w-12 h-12 text-purple-500 animate-pulse"})});const $=F=>F===0?{icon:Bn,color:"from-yellow-500 to-yellow-600",text:"text-yellow-400"}:F===1?{icon:xr,color:"from-gray-400 to-gray-500",text:"text-gray-300"}:F===2?{icon:Ub,color:"from-orange-500 to-orange-600",text:"text-orange-400"}:{icon:Wn,color:"from-purple-500 to-purple-600",text:"text-purple-400"};return r.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-[#0a0a1a] via-[#1a1a2e] to-[#0a0a1a] relative",children:[r.jsx(JMe,{}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6 pb-24 relative z-10",children:[r.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h1",{className:"text-3xl md:text-4xl lg:text-5xl font-bold bg-gradient-to-r from-purple-400 via-pink-400 to-blue-400 bg-clip-text text-transparent mb-4",children:"Explorar"}),r.jsx("p",{className:"text-gray-300 text-base md:text-lg",children:"Bssola Csmica - descubra contedo e viajantes"})]}),r.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"mb-6",children:r.jsx(X,{className:"bg-gradient-to-br from-purple-900/30 via-purple-800/20 to-pink-900/30 border-purple-500/40 overflow-hidden backdrop-blur-sm",children:r.jsxs("div",{className:"p-4 md:p-6",children:[r.jsxs("div",{className:"flex flex-col items-center text-center mb-4 md:mb-6",children:[r.jsx("div",{className:"w-12 h-12 md:w-16 md:h-16 rounded-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center mb-3 md:mb-4",children:r.jsx(fu,{className:"w-6 h-6 md:w-8 md:h-8 text-white"})}),r.jsx("h3",{className:"text-xl md:text-2xl font-bold text-white",children:"Quadro de Avisos - Zamira"})]}),r.jsxs("div",{className:"bg-purple-900/40 p-4 md:p-6 rounded-lg border border-purple-500/30 text-center",children:[r.jsxs("p",{className:"text-purple-100 text-sm md:text-base leading-relaxed mb-3 md:mb-4",children:[r.jsx("strong",{className:"text-white text-base md:text-lg block mb-2 md:mb-3",children:" Bem-vindos  verso BETA!"}),"Agradecemos imensamente a todos que esto testando e contribuindo para o crescimento do Zamira. Suas opinies e feedbacks so essenciais para criarmos a melhor experincia mstica possvel. Que a jornada seja repleta de descobertas! "]}),r.jsxs("p",{className:"text-xs md:text-sm text-purple-200",children:["- Equipe Zamira | ",kn(new Date,"d 'de' MMMM",{locale:jn})]})]})]})})}),r.jsxs("div",{className:"mb-6",children:[r.jsx("div",{className:"md:hidden",children:r.jsx("select",{value:d,onChange:F=>u(F.target.value),className:"w-full bg-slate-800 border border-purple-500/30 text-white rounded-lg px-4 py-3 text-sm font-semibold focus:outline-none focus:border-purple-500",children:O.map(F=>r.jsxs("option",{value:F.id,children:[F.icon," ",F.label]},F.id))})}),r.jsx("div",{className:"hidden md:flex gap-3 flex-wrap",children:O.map(F=>r.jsxs("button",{onClick:()=>u(F.id),className:`px-4 py-2 rounded-lg font-semibold text-sm transition ${d===F.id?"bg-purple-600 text-white":"bg-slate-800 text-gray-300 hover:bg-slate-700"}`,children:[F.icon," ",F.label]},F.id))})]}),r.jsxs("div",{className:"relative max-w-2xl mx-auto mb-8",children:[r.jsx($s,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),r.jsx(je,{value:a,onChange:F=>s(F.target.value),placeholder:"Buscar posts, pessoas...",className:"pl-12 bg-slate-800/50 border-purple-900/30 text-gray-200 placeholder:text-gray-500 h-14 rounded-xl text-base backdrop-blur-sm"})]}),a&&r.jsx(q.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"max-w-2xl mx-auto",children:r.jsxs(X,{className:"bg-slate-900/50 border-purple-900/30 p-4 mb-6 backdrop-blur-sm",children:[r.jsx("h3",{className:"text-sm font-semibold text-purple-300 mb-3",children:"Resultados da Busca"}),P.length>0&&r.jsxs("div",{className:"mb-4",children:[r.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"Pessoas"}),r.jsx("div",{className:"space-y-2",children:P.slice(0,5).map(F=>r.jsx(Es,{user:{id:F.id,username:F.username},children:r.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg hover:bg-slate-800/50 transition cursor-pointer",children:[r.jsx("div",{className:"w-10 h-10 rounded-full border-2 overflow-hidden",style:{borderColor:Gd[F.archetype||"none"]},children:F.avatar_url?r.jsx("img",{src:F.avatar_url,alt:"",className:"w-full h-full object-cover"}):r.jsx("div",{className:"w-full h-full bg-slate-700 flex items-center justify-center",children:r.jsx(_e,{className:"w-5 h-5",style:{color:Gd[F.archetype||"none"]}})})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-white",children:F.display_name||F.full_name}),r.jsxs("p",{className:"text-xs text-gray-400",children:["Nvel ",F.level||1]})]})]})},F.id))})]}),E.length>0&&r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"Posts"}),r.jsxs("p",{className:"text-sm text-gray-300",children:[E.length," posts encontrados"]})]})]})})]}),!a&&r.jsxs(r.Fragment,{children:[r.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"mb-8",children:[r.jsx("div",{className:"flex items-center justify-between mb-6",children:r.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-green-600 to-emerald-600 flex items-center justify-center",children:r.jsx(Hu,{className:"w-5 h-5 text-white"})}),"Novos Viajantes"]})}),r.jsx("div",{className:"overflow-x-auto pb-4 -mx-4 px-4",children:r.jsx("div",{className:"flex gap-4 min-w-max",children:j.map((F,B)=>{var I;const G=Gd[F.archetype||"none"];return r.jsx(q.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:B*.05},children:r.jsx(Es,{user:{id:F.id,username:F.username},children:r.jsx(X,{className:"bg-gradient-to-br from-slate-900/80 to-slate-800/80 border-purple-900/30 p-4 hover:border-purple-700/50 transition cursor-pointer w-32 backdrop-blur-sm",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 rounded-full mx-auto mb-3 border-2 overflow-hidden",style:{borderColor:G},children:F.avatar_url?r.jsx("img",{src:F.avatar_url,alt:"",className:"w-full h-full object-cover"}):r.jsx("div",{className:"w-full h-full bg-slate-700 flex items-center justify-center",children:r.jsx(_e,{className:"w-8 h-8",style:{color:G}})})}),r.jsx("h3",{className:"font-bold text-xs mb-1 truncate",style:{color:G},children:F.display_name||((I=F.full_name)==null?void 0:I.split(" ")[0])}),r.jsxs("p",{className:"text-[10px] text-gray-400",children:["Nvel ",F.level||1]})]})})})},F.id)})})})]}),y&&y.length>0&&r.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"mb-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-pink-600 to-rose-600 flex items-center justify-center",children:r.jsx(Ia,{className:"w-5 h-5 text-white"})}),"Novos na Loja"]}),r.jsx(W,{onClick:()=>h(ft("Loja")),variant:"outline",className:"border-purple-500/30 text-purple-300 hover:bg-purple-900/20",children:"Ver Tudo"})]}),r.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:y.map((F,B)=>{var G;return r.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4+B*.1},children:r.jsxs(X,{onClick:()=>h(ft(`Produto?id=${F.id}`)),className:"bg-gradient-to-br from-slate-900/80 to-slate-800/80 border-purple-900/30 overflow-hidden hover:border-purple-700/50 transition cursor-pointer backdrop-blur-sm",children:[r.jsx("div",{className:"aspect-square overflow-hidden",children:F.images&&F.images[0]?r.jsx("img",{src:F.images[0],alt:F.name,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300"}):r.jsx("div",{className:"w-full h-full bg-gradient-to-br from-purple-900/30 to-pink-900/30 flex items-center justify-center",children:r.jsx(Ia,{className:"w-12 h-12 text-purple-400"})})}),r.jsxs("div",{className:"p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("span",{className:"px-2 py-0.5 bg-pink-500/20 text-pink-300 text-[10px] font-bold rounded-full",children:"NOVO"}),r.jsx("span",{className:"text-xs text-purple-300",children:F.category})]}),r.jsx("h3",{className:"font-bold text-white mb-1 line-clamp-1",children:F.name}),r.jsx("p",{className:"text-sm text-gray-400 line-clamp-2 mb-2",children:F.short_description}),r.jsxs("p",{className:"text-lg font-bold text-purple-300",children:["R$ ",(G=F.price)==null?void 0:G.toFixed(2)]})]})]})},F.id)})})]}),r.jsxs("div",{className:"grid lg:grid-cols-3 gap-6 mb-8",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"mb-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-600 to-pink-600 flex items-center justify-center",children:r.jsx(ff,{className:"w-5 h-5 text-white"})}),"ltimas Enquetes"]}),r.jsxs(W,{onClick:()=>o(!0),className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",children:[r.jsx(_r,{className:"w-5 h-5 mr-2"}),"Criar Enquete"]})]}),r.jsx("div",{className:"space-y-4",children:g.length===0?r.jsx(X,{className:"bg-slate-900/50 border-purple-900/30 p-12 text-center backdrop-blur-sm",children:r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx(ff,{className:"w-16 h-16 text-purple-500/50 mb-4"}),r.jsx("p",{className:"text-gray-400 text-lg mb-4",children:"Nenhuma enquete ativa no momento"}),r.jsx(W,{onClick:()=>o(!0),className:"bg-gradient-to-r from-purple-600 to-pink-600",children:"Criar a Primeira Enquete"})]})}):g.map((F,B)=>{var U;const G=(U=F.votes_by_user)==null?void 0:U[e.id],L=new Date(F.expires_at)<new Date;return r.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6+B*.1},children:r.jsxs(X,{className:"bg-gradient-to-br from-slate-900/80 to-slate-800/80 border-purple-900/30 p-6 backdrop-blur-sm",children:[r.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[r.jsx("div",{className:"w-10 h-10 rounded-full border-2 overflow-hidden flex-shrink-0",style:{borderColor:Gd[F.author_archetype||"none"]},children:F.author_avatar?r.jsx("img",{src:F.author_avatar,alt:"",className:"w-full h-full object-cover"}):r.jsx("div",{className:"w-full h-full bg-slate-700 flex items-center justify-center",children:r.jsx(_e,{className:"w-5 h-5 text-purple-400"})})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-semibold text-white mb-1",children:F.author_name}),r.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400 flex-wrap",children:[r.jsx("span",{className:"px-2 py-0.5 bg-purple-900/30 rounded-full",children:F.category}),r.jsx("span",{children:""}),r.jsxs("span",{children:[F.total_votes," votos"]}),!L&&r.jsxs(r.Fragment,{children:[r.jsx("span",{children:""}),r.jsx(ePe,{expiresAt:F.expires_at})]})]})]})]}),r.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:F.question}),r.jsx("div",{className:"space-y-2",children:F.options.map(z=>{const K=F.total_votes>0?Math.round(z.votes/F.total_votes*100):0,V=G===z.id;return r.jsxs("button",{onClick:()=>!G&&!L&&T(F.id,z.id),disabled:!!G||L,className:`w-full p-3 rounded-lg border transition relative overflow-hidden ${V?"border-purple-500 bg-purple-900/30":G?"border-slate-700 bg-slate-800/50":"border-purple-900/30 bg-slate-800/30 hover:border-purple-700/50 hover:bg-slate-800/50"} ${!G&&!L?"cursor-pointer":"cursor-default"}`,children:[G&&r.jsx(q.div,{className:"absolute inset-0 bg-purple-600/20",initial:{width:0},animate:{width:`${K}%`},transition:{duration:.5,ease:"easeOut"}}),r.jsxs("div",{className:"relative flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[V&&r.jsx(_n,{className:"w-4 h-4 text-purple-400"}),r.jsx("span",{className:"text-white font-medium",children:z.text})]}),G&&r.jsxs("span",{className:"text-purple-300 font-bold",children:[K,"%"]})]})]},z.id)})}),!G&&!L&&r.jsxs("p",{className:"text-xs text-green-400 mt-4 text-center flex items-center justify-center gap-1",children:[r.jsx(_e,{className:"w-3 h-3"}),"Vote e ganhe 3% de XP Espiritual!"]}),L&&r.jsx("p",{className:"text-xs text-gray-400 mt-4 text-center",children:"Esta enquete expirou"})]})},F.id)})}),g.length>0&&r.jsx("div",{className:"mt-6 text-center",children:r.jsx(W,{onClick:()=>h(ft("Enquetes")),variant:"outline",className:"border-purple-500/30 text-purple-300 hover:bg-purple-900/20",children:"Ver Todas as Enquetes"})})]})}),r.jsxs("div",{children:[r.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"mb-6",children:[r.jsxs("h2",{className:"text-lg md:text-xl font-bold text-white flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-yellow-600 to-orange-600 flex items-center justify-center",children:r.jsx(ci,{className:"w-4 h-4 text-white"})}),"Top Viajantes"]}),r.jsx("div",{className:"space-y-3",children:S.map((F,B)=>{if(!(F!=null&&F.id))return null;const G=Gd[F.archetype||"none"],I=$(B),L=I.icon;return r.jsx(q.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.8+B*.05},children:r.jsx(Es,{user:{id:F.id,username:F.username},children:r.jsx(X,{className:`bg-gradient-to-br from-slate-900/80 to-slate-800/80 border-purple-900/30 p-3 md:p-4 hover:border-purple-700/50 transition cursor-pointer backdrop-blur-sm ${B<3?"ring-2 ring-opacity-50":""} ${B===0?"ring-yellow-500/50":B===1?"ring-gray-400/50":B===2?"ring-orange-500/50":""}`,children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`flex items-center justify-center w-8 h-8 md:w-10 md:h-10 rounded-full bg-gradient-to-br ${I.color} shadow-lg flex-shrink-0`,children:B<3?r.jsx(L,{className:"w-4 h-4 md:w-5 md:h-5 text-white"}):r.jsx("span",{className:"font-bold text-white text-xs md:text-sm",children:B+1})}),r.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-full border-2 overflow-hidden flex-shrink-0",style:{borderColor:G},children:F.avatar_url?r.jsx("img",{src:F.avatar_url,alt:"",className:"w-full h-full object-cover"}):r.jsx("div",{className:"w-full h-full bg-slate-700 flex items-center justify-center",children:r.jsx(_e,{className:"w-5 h-5 md:w-6 md:h-6",style:{color:G}})})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:`font-bold text-xs md:text-sm truncate text-white ${B<3?I.text:""}`,children:F.display_name||F.full_name}),r.jsxs("div",{className:"flex items-center gap-2 text-[10px] md:text-xs text-gray-300",children:[r.jsxs("span",{children:["Nv. ",F.level||1]}),r.jsx("span",{children:""}),r.jsxs("span",{children:[F.xp||0," XP"]})]})]})]})})})},F.id)})})]}),r.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.9},children:[r.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-pink-600 to-rose-600 flex items-center justify-center",children:r.jsx(Jn,{className:"w-4 h-4 text-white"})}),"Posts em Alta"]}),r.jsx("div",{className:"space-y-3",children:C.map((F,B)=>r.jsx(q.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:1+B*.05},children:r.jsx(X,{onClick:()=>k(F.id),className:"bg-gradient-to-br from-slate-900/80 to-slate-800/80 border-purple-900/30 p-3 hover:border-purple-700/50 transition cursor-pointer backdrop-blur-sm",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-full border-2 flex-shrink-0 overflow-hidden",style:{borderColor:Gd[F.author_archetype||"none"]},children:F.author_avatar?r.jsx("img",{src:F.author_avatar,alt:"",className:"w-full h-full object-cover"}):r.jsx("div",{className:"w-full h-full bg-slate-700 flex items-center justify-center",children:r.jsx(_e,{className:"w-5 h-5 text-purple-400"})})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h4",{className:"font-semibold text-sm mb-1",style:{color:Gd[F.author_archetype||"none"]},children:F.author_name}),r.jsx("p",{className:"text-xs text-gray-300 line-clamp-2 mb-2",children:F.content}),r.jsxs("div",{className:"flex items-center gap-3 text-[10px] text-gray-400",children:[r.jsxs("span",{children:[" ",Object.values(F.reactions||{}).reduce((G,I)=>G+I,0)]}),r.jsxs("span",{children:[" ",F.comments_count||0]}),r.jsxs("span",{children:[" ",F.shares_count||0]})]})]})]})})},F.id))})]})]})]})]})]}),i&&r.jsx(CJ,{user:e,onClose:()=>o(!1),onSubmit:M,isLoading:b.isPending}),l&&r.jsx("div",{className:"fixed bottom-[70px] right-2 md:bottom-6 md:right-6 z-[100]",children:r.jsx(uY,{notification:l,onClose:()=>c(null)})})]})}const tPe={0:{border:"border-2 border-yellow-500",shadow:"shadow-lg shadow-yellow-500/50",badge:{bg:"bg-yellow-500",text:"1 Lugar",icon:""}},1:{border:"border-2 border-gray-300",shadow:"shadow-lg shadow-gray-300/50",badge:{bg:"bg-gray-300 text-black",text:"2 Lugar",icon:""}},2:{border:"border-2 border-amber-700",shadow:"shadow-lg shadow-amber-700/50",badge:{bg:"bg-amber-700",text:"3 Lugar",icon:""}}};function AJ({product:t,rank:e,showSales:n}){var c,d,u;const[a,s]=w.useState(!1),i=h=>{h.preventDefault(),h.stopPropagation(),s(!a)},o=e!==void 0&&e<3,l=o?tPe[e]:null;return r.jsx(Im,{to:ft(`Produto?id=${t.id}`),children:r.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{y:-4},className:"group h-full",children:r.jsxs(X,{className:`bg-[#1a1a2e] border-purple-900/20 overflow-hidden h-full hover:border-purple-700/40 transition-all ${o?`${l.border} ${l.shadow}`:""}`,children:[r.jsxs("div",{className:"relative aspect-square overflow-hidden bg-slate-800",children:[r.jsx("img",{src:((c=t.images)==null?void 0:c[0])||"https://images.unsplash.com/photo-1518531933037-91b2f5f229cc?w=500",alt:t.name,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-110"}),o&&r.jsxs(De,{className:`absolute top-2 left-2 md:top-3 md:left-3 ${l.badge.bg} text-white font-bold px-2 py-0.5 md:px-3 md:py-1 shadow-lg text-[10px] md:text-xs`,children:[r.jsx("span",{className:"mr-1",children:l.badge.icon}),r.jsx("span",{className:"hidden md:inline",children:l.badge.text})]}),r.jsx(W,{onClick:i,size:"icon",variant:"ghost",className:"absolute top-2 right-2 md:top-3 md:right-3 bg-black/40 hover:bg-black/60 backdrop-blur-sm text-white h-8 w-8 md:h-10 md:w-10",children:r.jsx($n,{className:`w-4 h-4 md:w-5 md:h-5 ${a?"fill-pink-500 text-pink-500":""}`})})]}),r.jsxs(ek,{className:"p-2 md:p-4",children:[r.jsx("p",{className:"text-[10px] md:text-xs text-purple-400 font-semibold mb-1 md:mb-2 uppercase tracking-wide",children:t.category}),r.jsx("h3",{className:"text-xs md:text-sm lg:text-base font-bold text-white mb-1 md:mb-2 line-clamp-2 min-h-[2rem] md:min-h-[3rem]",children:t.name}),n&&r.jsxs("p",{className:"text-[10px] md:text-xs text-gray-400 mb-1 md:mb-2",children:[t.sales_count," vendidos"]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"text-base md:text-lg lg:text-xl font-bold text-[#fbbf24]",children:["R$ ",(d=t.price)==null?void 0:d.toFixed(2)]}),r.jsxs("div",{className:"flex items-center gap-0.5 md:gap-1",children:[r.jsx(Wn,{className:"w-3 h-3 md:w-4 md:h-4 fill-yellow-400 text-yellow-400"}),r.jsx("span",{className:"text-[10px] md:text-xs text-gray-300",children:((u=t.rating)==null?void 0:u.toFixed(1))||"0.0"})]})]})]})]})})})}const nPe=[{id:1,displayName:"Luz Interior",purchasedItem:"O Orculo da Deusa",avatar:"https://i.pravatar.cc/150?img=1",borderColor:"border-yellow-500"},{id:2,displayName:"Feiticeira Verde",purchasedItem:"Kit de Cristais Essenciais",avatar:"https://i.pravatar.cc/150?img=5",borderColor:"border-purple-500"},{id:3,displayName:"Orculo Moderno",purchasedItem:"E-book Os Segredos",avatar:"https://i.pravatar.cc/150?img=12",borderColor:"border-amber-500"},{id:4,displayName:"Viajante Csmico",purchasedItem:"Vela Aromtica",avatar:"https://i.pravatar.cc/150?img=8",borderColor:"border-blue-500"},{id:5,displayName:"Mestre das Sombras",purchasedItem:"Meditao Guiada",avatar:"https://i.pravatar.cc/150?img=15",borderColor:"border-green-500"}];function MJ(){const[t,e]=w.useState(null),[n,a]=w.useState(""),[s,i]=w.useState("Todos");w.useEffect(()=>{o()},[]);const o=async()=>{try{const f=await H.auth.me();e(f)}catch(f){console.error("Erro ao carregar usurio:",f)}},{data:l,isLoading:c}=Oe({queryKey:["products"],queryFn:()=>H.entities.Product.filter({is_active:!0},"-sales_count",100),initialData:[]}),u=(()=>{let f=l;return n&&(f=f.filter(v=>{var x,g;return((x=v.name)==null?void 0:x.toLowerCase().includes(n.toLowerCase()))||((g=v.category)==null?void 0:g.toLowerCase().includes(n.toLowerCase()))})),s==="Fsicos"?f=f.filter(v=>v.type==="Fsico"):s==="Digitais"?f=f.filter(v=>v.type==="Digital"):s==="Top Vendas"&&(f=[...f].sort((v,x)=>(x.sales_count||0)-(v.sales_count||0))),f})(),h=["Todos","Fsicos","Digitais","Top Vendas"];return t?r.jsx("div",{className:"min-h-screen bg-[#0f0f1e]",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-4 md:py-8",children:[r.jsxs(q.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-6 md:mb-12",children:[r.jsx("h1",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-white mb-2 md:mb-4",children:"Loja Mstica"}),r.jsx("p",{className:"text-gray-400 text-sm md:text-base lg:text-lg",children:"Artefatos msticos para sua jornada espiritual"})]}),r.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"mb-6 md:mb-8",children:r.jsxs(X,{className:"bg-[#1a1a2e] border-purple-900/20 p-4 md:p-6",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3 md:mb-4",children:[r.jsx(Ome,{className:"w-4 h-4 md:w-5 md:h-5 text-purple-400"}),r.jsx("h2",{className:"text-base md:text-lg lg:text-xl font-bold text-white",children:"Ecos da Sacola Csmica"})]}),r.jsx("p",{className:"text-gray-400 text-xs md:text-sm mb-3 md:mb-4",children:"As ltimas aquisies da nossa comunidade"}),r.jsx(r_,{className:"w-full",children:r.jsx("div",{className:"flex gap-3 md:gap-4 pb-4",children:nPe.map(f=>r.jsxs("div",{className:"flex-shrink-0 text-center",children:[r.jsx("div",{className:`w-16 h-16 md:w-20 md:h-20 rounded-full overflow-hidden border-4 ${f.borderColor} mb-2 mx-auto`,children:r.jsx("img",{src:f.avatar,alt:f.displayName,className:"w-full h-full object-cover"})}),r.jsx("p",{className:"text-xs md:text-sm font-semibold text-white max-w-[64px] md:max-w-[80px] truncate",children:f.displayName}),r.jsx("p",{className:"text-[10px] md:text-xs text-gray-400 max-w-[64px] md:max-w-[80px] truncate",children:f.purchasedItem})]},f.id))})})]})}),r.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"mb-4 md:mb-6",children:r.jsxs("div",{className:"relative",children:[r.jsx($s,{className:"absolute left-3 md:left-4 top-1/2 -translate-y-1/2 w-4 h-4 md:w-5 md:h-5 text-gray-400"}),r.jsx(je,{value:n,onChange:f=>a(f.target.value),placeholder:"Buscar produtos...",className:"pl-10 md:pl-12 bg-[#1a1a2e] border-purple-900/20 text-white h-12 md:h-14 text-sm md:text-base lg:text-lg"})]})}),r.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"flex flex-wrap gap-2 md:gap-3 mb-6 md:mb-8",children:h.map(f=>r.jsx(W,{onClick:()=>i(f),variant:s===f?"default":"outline",className:`text-xs md:text-sm ${s===f?"bg-[#8b5cf6] hover:bg-[#7c3aed] text-white border-0":"border-2 border-white/20 bg-transparent hover:bg-white/5 text-white"}`,children:f},f))}),r.jsx(q.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},children:c?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(_e,{className:"w-12 h-12 text-purple-500 animate-pulse mx-auto mb-4"}),r.jsx("p",{className:"text-gray-400 text-sm md:text-base",children:"Carregando artefatos..."})]}):u.length===0?r.jsxs(X,{className:"bg-[#1a1a2e] border-purple-900/20 p-8 md:p-12 text-center",children:[r.jsx(Ia,{className:"w-12 h-12 md:w-16 md:h-16 text-purple-500/30 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg md:text-xl font-bold text-purple-300 mb-2",children:"Nenhum artefato encontrado"}),r.jsx("p",{className:"text-sm md:text-base text-gray-400",children:"Tente ajustar sua busca ou filtros"})]}):r.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 md:gap-6",children:u.map((f,v)=>r.jsx(AJ,{product:f,rank:s==="Top Vendas"?v:void 0,showSales:s==="Top Vendas"},f.id))})})]})}):r.jsx("div",{className:"flex items-center justify-center min-h-screen bg-[#0f0f1e]",children:r.jsx(_e,{className:"w-12 h-12 text-purple-500 animate-pulse"})})}function rPe({isOpen:t,onClose:e,pack:n,user:a}){const[s,i]=w.useState("pix"),[o,l]=w.useState(!1),[c,d]=w.useState(null),[u,h]=w.useState({number:"",name:"",expiry:"",cvv:""}),[f,v]=w.useState(!1),[x,g]=w.useState(!1),y=async()=>{l(!0);try{const E=await H.functions.invoke("createPixPayment",{product_id:`ouros_${n.amount}`,product_name:`${n.amount} Ouros${n.bonus>0?` + ${n.bonus} Bnus`:""}`,quantity:1,unit_price:n.price,payer:{email:a.email,name:a.full_name},address:null,is_virtual:!0});E.data.success?(d(E.data),g(!0),qe.success("QR Code PIX gerado com sucesso!")):qe.error("Erro ao gerar PIX. Tente novamente.")}catch(E){console.error("Erro ao processar PIX:",E),qe.error("Erro ao processar PIX. Tente novamente.")}finally{l(!1)}},b=async()=>{l(!0);try{(await H.functions.invoke("createCardPayment",{product_id:`ouros_${n.amount}`,product_name:`${n.amount} Ouros${n.bonus>0?` + ${n.bonus} Bnus`:""}`,quantity:1,unit_price:n.price,payer:{email:a.email,name:a.full_name},card:u,address:null,is_virtual:!0})).data.success?(qe.success("Pagamento processado com sucesso!"),setTimeout(async()=>{const P=n.amount+n.bonus;await H.auth.updateMe({ouros:(a.ouros||0)+P}),qe.success(`${P} Ouros adicionados  sua carteira! `),e(),window.location.reload()},2e3)):qe.error("Erro ao processar pagamento. Verifique os dados do carto.")}catch(E){console.error("Erro ao processar carto:",E),qe.error("Erro ao processar pagamento. Tente novamente.")}finally{l(!1)}},_=()=>{c!=null&&c.qr_code&&(navigator.clipboard.writeText(c.qr_code),v(!0),qe.success("Cdigo PIX copiado!"),setTimeout(()=>v(!1),2e3))},j=()=>{d(null),h({number:"",name:"",expiry:"",cvv:""}),i("pix"),g(!1),e()},S=()=>{g(!1),d(null)};if(!t||!n)return null;const C=n.amount+n.bonus;return r.jsxs(r.Fragment,{children:[r.jsx(gt,{children:r.jsx(q.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-end md:items-center justify-center bg-black/80 backdrop-blur-sm",onClick:j,children:r.jsxs(q.div,{initial:{opacity:0,y:100},animate:{opacity:1,y:0},exit:{opacity:0,y:100},onClick:E=>E.stopPropagation(),className:"relative w-full md:max-w-2xl bg-gradient-to-b from-slate-900 to-slate-800 md:rounded-2xl shadow-2xl max-h-[90vh] md:max-h-[85vh] flex flex-col overflow-hidden",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 md:p-6 border-b border-purple-900/30 flex-shrink-0",children:[r.jsxs("h2",{className:"text-lg md:text-xl font-bold text-white flex items-center gap-2",children:[r.jsx(Gn,{className:"w-5 h-5 md:w-6 md:h-6 text-yellow-400"}),"Pagamento de Ouros"]}),r.jsx("button",{onClick:j,className:"w-9 h-9 md:w-10 md:h-10 rounded-full bg-slate-700/50 hover:bg-slate-600 flex items-center justify-center transition",children:r.jsx(nt,{className:"w-4 h-4 md:w-5 md:h-5 text-gray-400"})})]}),r.jsx("div",{className:"flex-1 overflow-y-auto",children:r.jsxs("div",{className:"p-4 md:p-6 space-y-4 md:space-y-6",children:[r.jsx(X,{className:"bg-slate-800/50 border-purple-900/30 p-4 md:p-6",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Gn,{className:"w-12 h-12 md:w-16 md:h-16 text-yellow-400 mx-auto mb-3 md:mb-4"}),r.jsxs("h3",{className:"text-2xl md:text-3xl font-bold text-yellow-300 mb-2",children:[n.amount," Ouros"]}),n.bonus>0&&r.jsx("div",{className:"mb-2 md:mb-3",children:r.jsxs("span",{className:"bg-green-600 text-white text-xs md:text-sm px-3 py-1 rounded-full font-semibold",children:["+",n.bonus," BNUS"]})}),r.jsxs("p",{className:"text-gray-400 text-sm md:text-base mb-3 md:mb-4",children:["Total: ",C," ouros"]}),r.jsxs("p",{className:"text-3xl md:text-4xl font-bold text-white",children:["R$ ",n.price.toFixed(2)]})]})}),r.jsx(X,{className:"bg-slate-800/50 border-purple-900/30 p-4 md:p-6",children:r.jsxs($r,{value:s,onValueChange:i,children:[r.jsxs(Tr,{className:"grid w-full grid-cols-2 bg-slate-900/50 mb-4 md:mb-6",children:[r.jsxs(xt,{value:"pix",className:"data-[state=active]:bg-purple-600 data-[state=active]:text-white text-xs md:text-sm",children:[r.jsx(G0,{className:"w-3 h-3 md:w-4 md:h-4 mr-1 md:mr-2"}),"PIX"]}),r.jsxs(xt,{value:"card",className:"data-[state=active]:bg-purple-600 data-[state=active]:text-white text-xs md:text-sm",children:[r.jsx(Um,{className:"w-3 h-3 md:w-4 md:h-4 mr-1 md:mr-2"}),"Carto"]})]}),r.jsx(et,{value:"pix",children:r.jsxs("div",{className:"text-center",children:[r.jsxs("p",{className:"text-gray-300 text-sm md:text-base mb-4 md:mb-6",children:["Pagamento instantneo via PIX.",r.jsx("br",{className:"hidden md:block"}),"Seus ouros sero creditados automaticamente aps a confirmao."]}),r.jsx(W,{onClick:y,disabled:o,className:"w-full bg-gradient-to-r from-[#A85DED] via-purple-600 to-[#A85DED] hover:from-[#9547D9] hover:via-purple-700 hover:to-[#9547D9] h-12 md:h-14 text-sm md:text-base font-semibold shadow-lg shadow-[#A85DED]/50",children:o?r.jsxs(r.Fragment,{children:[r.jsx(zt,{className:"w-4 h-4 md:w-5 md:h-5 mr-2 animate-spin"}),"Gerando QR Code..."]}):r.jsxs(r.Fragment,{children:[r.jsx(G0,{className:"w-4 h-4 md:w-5 md:h-5 mr-2"}),"Gerar QR Code PIX"]})})]})}),r.jsx(et,{value:"card",children:r.jsxs("div",{className:"space-y-3 md:space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs md:text-sm text-gray-300 mb-1.5 md:mb-2",children:"Nmero do Carto"}),r.jsx(je,{value:u.number,onChange:E=>h({...u,number:E.target.value.replace(/\D/g,"").slice(0,16)}),placeholder:"0000 0000 0000 0000",className:"bg-slate-900 border-purple-900/30 text-white h-10 md:h-12 text-sm md:text-base"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs md:text-sm text-gray-300 mb-1.5 md:mb-2",children:"Nome no Carto"}),r.jsx(je,{value:u.name,onChange:E=>h({...u,name:E.target.value.toUpperCase()}),placeholder:"NOME COMPLETO",className:"bg-slate-900 border-purple-900/30 text-white h-10 md:h-12 text-sm md:text-base"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3 md:gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs md:text-sm text-gray-300 mb-1.5 md:mb-2",children:"Validade"}),r.jsx(je,{value:u.expiry,onChange:E=>{let P=E.target.value.replace(/\D/g,"");P.length>=2&&(P=P.slice(0,2)+"/"+P.slice(2,4)),h({...u,expiry:P})},placeholder:"MM/AA",maxLength:5,className:"bg-slate-900 border-purple-900/30 text-white h-10 md:h-12 text-sm md:text-base"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs md:text-sm text-gray-300 mb-1.5 md:mb-2",children:"CVV"}),r.jsx(je,{value:u.cvv,onChange:E=>h({...u,cvv:E.target.value.replace(/\D/g,"").slice(0,4)}),placeholder:"000",maxLength:4,type:"password",className:"bg-slate-900 border-purple-900/30 text-white h-10 md:h-12 text-sm md:text-base"})]})]}),r.jsx(W,{onClick:b,disabled:o||!u.number||!u.name||!u.expiry||!u.cvv,className:"w-full bg-gradient-to-r from-[#A85DED] via-purple-600 to-[#A85DED] hover:from-[#9547D9] hover:via-purple-700 hover:to-[#9547D9] h-12 md:h-14 text-sm md:text-base font-semibold shadow-lg shadow-[#A85DED]/50",children:o?r.jsxs(r.Fragment,{children:[r.jsx(zt,{className:"w-4 h-4 md:w-5 md:h-5 mr-2 animate-spin"}),"Processando..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Um,{className:"w-4 h-4 md:w-5 md:h-5 mr-2"}),"Pagar R$ ",n.price.toFixed(2)]})})]})})]})}),r.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs md:text-sm text-gray-400",children:[r.jsx(tG,{className:"w-4 h-4 md:w-5 md:h-5 text-green-400"}),"Pagamento 100% seguro via Mercado Pago"]})]})})]})})}),r.jsx(gt,{children:x&&c&&r.jsx(q.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/90 backdrop-blur-md p-4",onClick:S,children:r.jsxs(q.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:E=>E.stopPropagation(),className:"relative w-full max-w-md bg-gradient-to-b from-slate-900 to-slate-800 rounded-3xl shadow-2xl border-2 border-purple-500/30 overflow-hidden",children:[r.jsxs("div",{className:"bg-gradient-to-r from-purple-600 via-pink-600 to-purple-600 p-6 text-center relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent animate-pulse"}),r.jsx(G0,{className:"w-12 h-12 text-white mx-auto mb-3 relative z-10"}),r.jsx("h3",{className:"text-2xl font-bold text-white relative z-10",children:"QR Code PIX"}),r.jsx("p",{className:"text-purple-100 text-sm mt-2 relative z-10",children:"Escaneie ou copie o cdigo"}),r.jsx("button",{onClick:S,className:"absolute top-4 right-4 w-10 h-10 rounded-full bg-white/20 hover:bg-white/30 flex items-center justify-center transition z-20",children:r.jsx(nt,{className:"w-5 h-5 text-white"})})]}),r.jsxs("div",{className:"p-6 space-y-6",children:[c.qr_code_base64&&r.jsx("div",{className:"bg-white p-4 rounded-2xl shadow-xl mx-auto inline-block",children:r.jsx("img",{src:c.qr_code_base64,alt:"QR Code PIX",className:"w-64 h-64"})}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Valor do Pagamento"}),r.jsxs("p",{className:"text-3xl font-bold text-white",children:["R$ ",n.price.toFixed(2)]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-400 mb-2 text-center",children:"Cdigo PIX Copia e Cola:"}),r.jsx("div",{className:"bg-slate-900 p-4 rounded-xl border border-purple-900/30",children:r.jsx("p",{className:"text-xs text-white break-all font-mono leading-relaxed text-center",children:c.qr_code})})]}),r.jsx(W,{onClick:_,className:"w-full bg-gradient-to-r from-[#A85DED] via-purple-600 to-[#A85DED] hover:from-[#9547D9] hover:via-purple-700 hover:to-[#9547D9] h-14 text-base font-semibold shadow-lg shadow-[#A85DED]/50",children:f?r.jsxs(r.Fragment,{children:[r.jsx(_n,{className:"w-5 h-5 mr-2"}),"Cdigo Copiado!"]}):r.jsxs(r.Fragment,{children:[r.jsx(hx,{className:"w-5 h-5 mr-2"}),"Copiar Cdigo PIX"]})}),r.jsx("p",{className:"text-xs text-gray-500 text-center leading-relaxed",children:"Aps o pagamento, seus ouros sero creditados automaticamente em sua carteira."})]})]})})})]})}const aPe=[{amount:100,price:5,bonus:0},{amount:500,price:20,bonus:50},{amount:1e3,price:35,bonus:150},{amount:5e3,price:150,bonus:1e3}];function PJ(){const[t,e]=w.useState(null),[n,a]=w.useState(null),[s,i]=w.useState(!1),o=Sn();w.useEffect(()=>{l()},[]);const l=async()=>{try{const d=await H.auth.me();e(d)}catch(d){console.error("Erro ao carregar usurio:",d)}},c=d=>{a(d),i(!0)};return t?r.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-[#0f0f1e] via-[#1a1a2e] to-[#0f0f1e]",children:[r.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-6 md:py-8",children:[r.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-8 md:mb-12",children:[r.jsx("h1",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-white mb-3 md:mb-4",children:"Sua Carteira Mstica"}),r.jsx("p",{className:"text-gray-400 text-base md:text-lg",children:"Adquira Ouros para desbloquear recursos especiais"})]}),r.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"mb-8 md:mb-12",children:r.jsxs(X,{className:"bg-gradient-to-br from-yellow-900/40 to-yellow-800/40 border-yellow-600/30 p-6 md:p-8 text-center",children:[r.jsx("p",{className:"text-yellow-200 text-xs md:text-sm mb-2 uppercase tracking-wide",children:"Saldo Atual"}),r.jsxs("div",{className:"flex items-center justify-center gap-2 md:gap-3 mb-2",children:[r.jsx(Gn,{className:"w-10 h-10 md:w-12 md:h-12 text-yellow-400"}),r.jsx("h2",{className:"text-5xl md:text-6xl font-bold text-yellow-300",children:t.ouros||0})]}),r.jsx("p",{className:"text-yellow-200 text-xs md:text-sm",children:"Ouros disponveis"})]})}),r.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"mb-8 md:mb-12",children:[r.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4 md:mb-6",children:"Pacotes de Ouros"}),r.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 md:gap-4 mb-4",children:aPe.map((d,u)=>r.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*u},className:"relative",children:r.jsxs(X,{className:"bg-[#1a1a2e] border-2 border-purple-900/20 hover:border-yellow-500/50 p-4 md:p-6 transition-all h-full relative overflow-hidden group flex flex-col",children:[r.jsx(q.div,{className:"absolute inset-0 rounded-lg",style:{background:"linear-gradient(90deg, transparent, rgba(234, 179, 8, 0.3), transparent)"},animate:{x:["-100%","200%"]},transition:{duration:3,repeat:1/0,ease:"linear"}}),r.jsxs("div",{className:"text-center relative z-10 flex flex-col flex-1",children:[r.jsx(Gn,{className:"w-10 h-10 md:w-12 md:h-12 text-yellow-400 mx-auto mb-3 md:mb-4 group-hover:scale-110 transition-transform"}),r.jsx("h3",{className:"text-xl md:text-2xl font-bold text-yellow-300 mb-2",children:d.amount}),d.bonus>0&&r.jsx("div",{className:"mb-2 md:mb-3",children:r.jsxs("span",{className:"bg-green-600 text-white text-[10px] md:text-xs px-2 py-1 rounded-full font-bold",children:["+",d.bonus," BNUS"]})}),r.jsx("p",{className:"text-gray-400 text-xs md:text-sm mb-3 md:mb-4 min-h-[2rem]",children:d.bonus>0?`Total: ${d.amount+d.bonus} ouros`:r.jsx("span",{children:""})}),r.jsxs("p",{className:"text-2xl md:text-3xl font-bold text-white mb-auto",children:["R$ ",d.price.toFixed(2)]}),r.jsx(W,{onClick:()=>c(d),className:"w-full bg-gradient-to-r from-yellow-500 via-amber-500 to-yellow-600 hover:from-yellow-600 hover:via-amber-600 hover:to-yellow-700 text-slate-900 font-bold text-sm md:text-base h-10 md:h-11 shadow-lg shadow-yellow-500/30 hover:shadow-yellow-500/50 transition-all mt-4",children:"Comprar"})]})]})},u))}),r.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:r.jsx(X,{onClick:()=>o(ft("ComoGanharOuros")),className:"bg-gradient-to-br from-green-900/40 to-emerald-900/40 border-2 border-green-500/30 hover:border-green-400 p-6 md:p-8 cursor-pointer group transition-all hover:shadow-lg hover:shadow-green-500/30",children:r.jsxs("div",{className:"text-center flex flex-col md:flex-row items-center justify-center gap-4 md:gap-6",children:[r.jsx(Jn,{className:"w-12 h-12 md:w-16 md:h-16 text-green-400 group-hover:scale-110 transition-transform flex-shrink-0"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-xl md:text-2xl font-bold text-green-300 mb-2",children:"Como Ganhar Ouros Grtis"}),r.jsx("p",{className:"text-sm md:text-base text-green-200",children:"Descubra formas grtis de ganhar ouros atravs de misses, eventos e conquistas"})]}),r.jsx(B3,{className:"w-8 h-8 md:w-10 md:h-10 text-green-400 group-hover:rotate-12 transition-transform flex-shrink-0"})]})})})]}),r.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:[r.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4 md:mb-6",children:"Planos de Assinatura"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6",children:[r.jsxs(X,{className:"bg-gradient-to-br from-purple-900/40 to-purple-800/40 border-purple-600/30 p-6 md:p-8",children:[r.jsxs("div",{className:"mb-4 md:mb-6",children:[r.jsx("h3",{className:"text-xl md:text-2xl font-bold text-purple-300 mb-2",children:"Viajante Csmico"}),r.jsx("p",{className:"text-gray-300 text-xs md:text-sm",children:"Para quem est comeando sua jornada"})]}),r.jsx("div",{className:"mb-4 md:mb-6",children:r.jsxs("p",{className:"text-4xl md:text-5xl font-bold text-white mb-2",children:["R$ 19,90",r.jsx("span",{className:"text-base md:text-lg text-gray-400",children:"/ms"})]})}),r.jsxs("ul",{className:"space-y-2 md:space-y-3 mb-6 md:mb-8",children:[r.jsxs("li",{className:"flex items-center gap-2 text-gray-300 text-sm md:text-base",children:[r.jsx(Rn,{className:"w-4 h-4 md:w-5 md:h-5 text-purple-400"}),r.jsx("span",{children:"100 Ouros mensais"})]}),r.jsxs("li",{className:"flex items-center gap-2 text-gray-300 text-sm md:text-base",children:[r.jsx(Rn,{className:"w-4 h-4 md:w-5 md:h-5 text-purple-400"}),r.jsx("span",{children:"Acesso a tiragens especiais"})]}),r.jsxs("li",{className:"flex items-center gap-2 text-gray-300 text-sm md:text-base",children:[r.jsx(Rn,{className:"w-4 h-4 md:w-5 md:h-5 text-purple-400"}),r.jsx("span",{children:"Badge exclusivo no perfil"})]}),r.jsxs("li",{className:"flex items-center gap-2 text-gray-300 text-sm md:text-base",children:[r.jsx(Rn,{className:"w-4 h-4 md:w-5 md:h-5 text-purple-400"}),r.jsx("span",{children:"10% de desconto na loja"})]})]}),r.jsx(W,{className:"w-full bg-purple-600 hover:bg-purple-700 text-white py-2.5 md:py-3 text-sm md:text-base",children:"Assinar Agora"})]}),r.jsxs(X,{className:"bg-gradient-to-br from-yellow-900/40 to-yellow-800/40 border-yellow-600/30 p-6 md:p-8 relative overflow-hidden",children:[r.jsx("div",{className:"absolute top-3 md:top-4 right-3 md:right-4",children:r.jsx("span",{className:"bg-yellow-500 text-black text-[10px] md:text-xs px-2 md:px-3 py-0.5 md:py-1 rounded-full font-bold",children:"POPULAR"})}),r.jsxs("div",{className:"mb-4 md:mb-6",children:[r.jsx("h3",{className:"text-xl md:text-2xl font-bold text-yellow-300 mb-2",children:"Iniciado"}),r.jsx("p",{className:"text-gray-300 text-xs md:text-sm",children:"Para msticos comprometidos"})]}),r.jsx("div",{className:"mb-4 md:mb-6",children:r.jsxs("p",{className:"text-4xl md:text-5xl font-bold text-white mb-2",children:["R$ 39,90",r.jsx("span",{className:"text-base md:text-lg text-gray-400",children:"/ms"})]})}),r.jsxs("ul",{className:"space-y-2 md:space-y-3 mb-6 md:mb-8",children:[r.jsxs("li",{className:"flex items-center gap-2 text-gray-300 text-sm md:text-base",children:[r.jsx(Rn,{className:"w-4 h-4 md:w-5 md:h-5 text-yellow-400"}),r.jsx("span",{className:"font-semibold",children:"300 Ouros mensais"})]}),r.jsxs("li",{className:"flex items-center gap-2 text-gray-300 text-sm md:text-base",children:[r.jsx(Rn,{className:"w-4 h-4 md:w-5 md:h-5 text-yellow-400"}),r.jsx("span",{children:"Tudo do plano Viajante"})]}),r.jsxs("li",{className:"flex items-center gap-2 text-gray-300 text-sm md:text-base",children:[r.jsx(Rn,{className:"w-4 h-4 md:w-5 md:h-5 text-yellow-400"}),r.jsx("span",{children:"Acesso antecipado a novos recursos"})]}),r.jsxs("li",{className:"flex items-center gap-2 text-gray-300 text-sm md:text-base",children:[r.jsx(Rn,{className:"w-4 h-4 md:w-5 md:h-5 text-yellow-400"}),r.jsx("span",{children:"Consultoria mensal com tarlogos"})]}),r.jsxs("li",{className:"flex items-center gap-2 text-gray-300 text-sm md:text-base",children:[r.jsx(Rn,{className:"w-4 h-4 md:w-5 md:h-5 text-yellow-400"}),r.jsx("span",{children:"20% de desconto na loja"})]})]}),r.jsx(W,{className:"w-full bg-yellow-600 hover:bg-yellow-700 text-black font-bold py-2.5 md:py-3 text-sm md:text-base",children:"Assinar Agora"})]})]})]})]}),r.jsx(rPe,{isOpen:s,onClose:()=>{i(!1),a(null)},pack:n,user:t})]}):r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx(_e,{className:"w-12 h-12 text-purple-500 animate-pulse"})})}const sPe=[{id:"aura_dourada",name:"Aura Dourada",emoji:"",description:"Envolve o perfil em luz dourada celestial",cost:50,duration:24,minLevel:70},{id:"coroa_estrelas",name:"Coroa de Estrelas",emoji:"",description:"Uma coroa de estrelas cadentes sobre o avatar",cost:75,duration:48,minLevel:70},{id:"portal_cosmico",name:"Portal Csmico",emoji:"",description:"Portal mstico girando ao redor do perfil",cost:100,duration:72,minLevel:80},{id:"jardim_encantado",name:"Jardim Encantado",emoji:"",description:"Flores msticas flutuando pelo perfil",cost:60,duration:24,minLevel:70},{id:"escudo_luz",name:"Escudo de Luz",emoji:"",description:"Proteo radiante ao redor do perfil",cost:80,duration:48,minLevel:75},{id:"chuva_cristais",name:"Chuva de Cristais",emoji:"",description:"Cristais mgicos caindo suavemente",cost:90,duration:48,minLevel:75}],iPe=[{id:"aura_sombria",name:"Aura Sombria",emoji:"",description:"Envolve o perfil em nvoa escura",cost:50,duration:24,minLevel:70},{id:"nevoa_mistica",name:"Nvoa Mstica",emoji:"",description:"Nvoa roxa envolvente",cost:60,duration:24,minLevel:70},{id:"eclipse_total",name:"Eclipse Total",emoji:"",description:"Escurido lunar ao redor do perfil",cost:85,duration:48,minLevel:75},{id:"espelhos_negros",name:"Espelhos Negros",emoji:"",description:"Reflexos distorcidos e sombrios",cost:95,duration:48,minLevel:80},{id:"chamas_violetas",name:"Chamas Violetas",emoji:"",description:"Fogo roxo mstico danando",cost:110,duration:72,minLevel:85}];function oPe({isOpen:t,onClose:e,profileUser:n,currentUser:a}){const[s,i]=w.useState(null),[o,l]=w.useState(""),[c,d]=w.useState(!1);if(!a||!n)return null;const u=async()=>{if(!s){qe.error("Selecione uma magia");return}if((a.level||0)<s.minLevel){qe.error(`Voc precisa ser nvel ${s.minLevel}+`);return}if((a.ouros||0)<s.cost){qe.error("Ouros insuficientes");return}d(!0);try{const h=new Date;h.setHours(h.getHours()+s.duration),await H.entities.ProfileMagic.create({profile_user_id:n.id,caster_id:a.id,caster_name:a.display_name||a.full_name||"Viajante",caster_avatar:a.avatar_url||"",magic_type:s.id,ouros_cost:s.cost,duration_hours:s.duration,expires_at:h.toISOString(),message:o.trim(),is_active:!0}),await H.auth.updateMe({ouros:(a.ouros||0)-s.cost}),await H.entities.Notification.create({user_id:n.id,type:"announcement",title:" Magia Recebida!",message:`${a.display_name||a.full_name||"Algum"} encantou seu perfil com ${s.name}!`,from_user_id:a.id,from_user_name:a.display_name||a.full_name||"Viajante",from_user_avatar:a.avatar_url||""}),qe.success(" Magia lanada com sucesso!"),e(),setTimeout(()=>window.location.reload(),1e3)}catch(h){console.error("Erro:",h),qe.error("Erro ao lanar magia")}finally{d(!1)}};return t?r.jsx(gt,{children:r.jsx(q.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[200] bg-black/90 flex items-center justify-center p-4",onClick:e,children:r.jsx(q.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},onClick:h=>h.stopPropagation(),className:"w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:r.jsxs(X,{className:"bg-gradient-to-br from-purple-900/40 to-slate-900/40 border-purple-500/30 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("h3",{className:"text-xl md:text-2xl font-bold text-white flex items-center gap-2",children:[r.jsx(si,{className:"w-6 h-6 text-purple-400"}),"Encantar Perfil"]}),r.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white",children:r.jsx(nt,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"bg-yellow-900/20 border border-yellow-500/30 rounded-lg p-4 mb-6",children:[r.jsxs("p",{className:"text-yellow-200 text-sm",children:[" Apenas viajantes ",r.jsx("strong",{children:"nvel 70+"})," podem lanar magias em perfis"]}),r.jsxs("p",{className:"text-yellow-300 text-xs mt-1",children:["Voc est nvel ",a.level||1," | Ouros: ",a.ouros||0]})]}),r.jsxs($r,{defaultValue:"white",className:"mb-6",children:[r.jsxs(Tr,{className:"w-full bg-slate-800/50 grid grid-cols-2",children:[r.jsx(xt,{value:"white",children:" Magias Brancas"}),r.jsx(xt,{value:"dark",children:" Magias Sombrias"})]}),r.jsx(et,{value:"white",className:"space-y-3 mt-4",children:sPe.map(h=>r.jsx("button",{onClick:()=>i(h),disabled:(a.level||0)<h.minLevel,className:`w-full text-left p-4 rounded-lg border-2 transition ${(s==null?void 0:s.id)===h.id?"border-purple-500 bg-purple-900/30":"border-purple-900/30 bg-slate-800/30 hover:border-purple-700/50"} ${(a.level||0)<h.minLevel?"opacity-50 cursor-not-allowed":""}`,children:r.jsx("div",{className:"flex items-start justify-between",children:r.jsxs("div",{children:[r.jsxs("p",{className:"text-white font-bold flex items-center gap-2",children:[r.jsx("span",{className:"text-2xl",children:h.emoji}),h.name]}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:h.description}),r.jsxs("div",{className:"flex gap-3 mt-2 text-xs",children:[r.jsxs("span",{className:"text-yellow-400",children:[" ",h.cost," Ouros"]}),r.jsxs("span",{className:"text-blue-400",children:[" ",h.duration,"h"]}),r.jsxs("span",{className:"text-purple-400",children:[" Nvel ",h.minLevel,"+"]})]})]})})},h.id))}),r.jsx(et,{value:"dark",className:"space-y-3 mt-4",children:iPe.map(h=>r.jsx("button",{onClick:()=>i(h),disabled:(a.level||0)<h.minLevel,className:`w-full text-left p-4 rounded-lg border-2 transition ${(s==null?void 0:s.id)===h.id?"border-purple-500 bg-purple-900/30":"border-purple-900/30 bg-slate-800/30 hover:border-purple-700/50"} ${(a.level||0)<h.minLevel?"opacity-50 cursor-not-allowed":""}`,children:r.jsx("div",{className:"flex items-start justify-between",children:r.jsxs("div",{children:[r.jsxs("p",{className:"text-white font-bold flex items-center gap-2",children:[r.jsx("span",{className:"text-2xl",children:h.emoji}),h.name]}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:h.description}),r.jsxs("div",{className:"flex gap-3 mt-2 text-xs",children:[r.jsxs("span",{className:"text-yellow-400",children:[" ",h.cost," Ouros"]}),r.jsxs("span",{className:"text-blue-400",children:[" ",h.duration,"h"]}),r.jsxs("span",{className:"text-purple-400",children:[" Nvel ",h.minLevel,"+"]})]})]})})},h.id))})]}),s&&r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"text-sm text-gray-300 mb-2 block",children:"Mensagem (opcional)"}),r.jsx(It,{value:o,onChange:h=>l(h.target.value),placeholder:"Deixe uma mensagem mstica...",className:"bg-slate-800 border-purple-900/30 text-white h-20",maxLength:200})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx(W,{variant:"outline",onClick:e,className:"flex-1 border-purple-900/30 text-gray-300",children:"Cancelar"}),r.jsx(W,{onClick:u,disabled:!s||c||(a.level||0)<70,className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600",children:c?r.jsxs(r.Fragment,{children:[r.jsx(zt,{className:"w-4 h-4 mr-2 animate-spin"}),"Lanando..."]}):r.jsxs(r.Fragment,{children:[r.jsx(_e,{className:"w-4 h-4 mr-2"}),"Lanar Magia"]})})]})]})})})}):null}function lPe({isOpen:t,onClose:e,profileUser:n,currentUser:a}){const[s,i]=w.useState(""),[o,l]=w.useState(!1),c=async()=>{if(!s.trim()){qe.error("Escreva seu depoimento");return}l(!0);try{await H.entities.ProfileTestimonial.create({profile_user_id:n.id,profile_user_name:n.display_name||n.full_name,author_id:a.id,author_name:a.display_name||a.full_name,author_avatar:a.avatar_url,content:s.trim(),status:"pending"}),await H.entities.Notification.create({user_id:n.id,type:"announcement",title:" Novo Depoimento!",message:`${a.display_name||a.full_name} deixou um depoimento no seu perfil aguardando aprovao`,from_user_id:a.id,from_user_name:a.display_name||a.full_name,from_user_avatar:a.avatar_url,action_url:"/MinhaConta"}),qe.success("Depoimento enviado! Aguardando aprovao."),i(""),e()}catch(d){console.error("Erro:",d),qe.error("Erro ao enviar depoimento")}finally{l(!1)}};return r.jsx(gt,{children:t&&r.jsx(q.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[200] bg-black/80 flex items-center justify-center p-4",onClick:e,children:r.jsx(q.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},onClick:d=>d.stopPropagation(),className:"w-full max-w-xl",children:r.jsxs(X,{className:"bg-gradient-to-br from-slate-900 to-slate-800 border-purple-500/30 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[r.jsx(Pr,{className:"w-5 h-5 text-purple-400"}),"Deixar Depoimento"]}),r.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white",children:r.jsx(nt,{className:"w-5 h-5"})})]}),r.jsxs("p",{className:"text-sm text-gray-400 mb-4",children:["Escreva um depoimento sobre ",r.jsx("strong",{className:"text-white",children:n.display_name||n.full_name}),". Ele precisar aprovar antes de aparecer no perfil."]}),r.jsx(It,{value:s,onChange:d=>i(d.target.value),placeholder:"Compartilhe sua experincia com este viajante mstico...",className:"bg-slate-800 border-purple-900/30 text-white h-32 mb-4",maxLength:500}),r.jsxs("p",{className:"text-xs text-gray-400 mb-4",children:[s.length,"/500"]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx(W,{variant:"outline",onClick:e,className:"flex-1 border-purple-900/30 text-gray-300",children:"Cancelar"}),r.jsx(W,{onClick:c,disabled:o,className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600",children:o?r.jsxs(r.Fragment,{children:[r.jsx(zt,{className:"w-4 h-4 mr-2 animate-spin"}),"Enviando..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Hr,{className:"w-4 h-4 mr-2"}),"Enviar"]})})]})]})})})})}const cPe=[1,5,10,25,50,100];function dPe({recipientUser:t,currentUser:e,onClose:n,isOpen:a}){const[s,i]=w.useState(""),o=wt(),l=Ue({mutationFn:async u=>{const h=e.ouros||0;if(h<u)throw new Error("Ouros insuficientes");await H.auth.updateMe({ouros:h-u});const f=t.ouros||0;await H.asServiceRole.entities.User.update(t.id,{ouros:f+u}),await H.entities.Notification.create({user_id:t.id,type:"announcement",title:"Doao Recebida! ",message:`${e.display_name||e.full_name||"Algum"} doou ${u} Ouros para voc`,from_user_id:e.id,from_user_name:e.display_name||e.full_name||"Viajante",from_user_avatar:e.avatar_url||""})},onSuccess:()=>{qe.success("Doao realizada com sucesso! "),o.invalidateQueries({queryKey:["user"]}),n()},onError:u=>{qe.error(u.message||"Erro ao realizar doao")}}),c=()=>{const u=parseInt(s);u>0&&l.mutate(u)};if(!e||!t||!a)return null;const d=t.display_name||t.full_name||"Viajante";return r.jsx(gt,{children:r.jsx(q.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",onClick:u=>{u.target===u.currentTarget&&n()},children:r.jsx(q.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"w-full max-w-md",onClick:u=>u.stopPropagation(),children:r.jsxs(X,{className:"bg-gradient-to-br from-slate-900 to-slate-800 border-purple-900/30 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-yellow-600 to-orange-600 flex items-center justify-center mb-3",children:r.jsx(Gn,{className:"w-6 h-6 text-white"})}),r.jsx("h3",{className:"text-2xl font-bold text-yellow-300 mb-1",children:"Doar Ouros"}),r.jsxs("p",{className:"text-sm text-gray-400",children:["Envie energia para ",d]})]}),r.jsx(W,{variant:"ghost",size:"icon",onClick:n,className:"text-gray-400 hover:text-white",children:r.jsx(nt,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"mb-6 p-4 bg-slate-800 rounded-lg",children:[r.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Seu saldo"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(_e,{className:"w-5 h-5 text-yellow-400"}),r.jsx("span",{className:"text-2xl font-bold text-yellow-300",children:e.ouros||0}),r.jsx("span",{className:"text-gray-400",children:"Ouros"})]})]}),r.jsx("div",{className:"grid grid-cols-3 gap-2 mb-4",children:cPe.map(u=>r.jsx("button",{onClick:()=>i(u.toString()),className:`p-3 rounded-lg border-2 transition ${s===u.toString()?"border-yellow-500 bg-yellow-900/30":"border-purple-900/30 hover:border-purple-700/50"}`,children:r.jsx("span",{className:"text-xl font-bold text-white",children:u})},u))}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Ou digite um valor"}),r.jsx(je,{type:"number",value:s,onChange:u=>i(u.target.value),placeholder:"10",min:"1",className:"bg-slate-800 border-purple-900/30 text-gray-200 text-center text-xl"})]}),r.jsx(W,{onClick:c,disabled:!s||parseInt(s)<=0||l.isPending,className:"w-full bg-gradient-to-r from-yellow-600 to-orange-600 hover:from-yellow-700 hover:to-orange-700 text-lg py-6",children:l.isPending?r.jsxs(r.Fragment,{children:[r.jsx(_e,{className:"w-5 h-5 mr-2 animate-spin"}),"Enviando..."]}):r.jsxs(r.Fragment,{children:[r.jsx(_e,{className:"w-5 h-5 mr-2"}),"Confirmar Doao"]})})]})})})})}function uPe({isOpen:t,onClose:e,currentUser:n,recipient:a}){const[s,i]=w.useState(""),o=wt();if(!n||!a)return null;const l=Ue({mutationFn:async u=>await H.entities.Raven.create(u),onSuccess:()=>{o.invalidateQueries({queryKey:["ravens"]}),qe.success(" Corvo enviado com sucesso!"),i(""),e()},onError:()=>{qe.error("Erro ao enviar corvo")}}),c=()=>{s.trim()&&l.mutate({sender_id:n.id,sender_name:n.display_name||n.full_name||"Viajante",sender_avatar:n.avatar_url||"",recipient_id:a.id,recipient_name:a.display_name||a.full_name||"Viajante",recipient_avatar:a.avatar_url||"",message:s.trim()})},d=a.display_name||a.full_name||"Viajante";return r.jsx(gt,{children:t&&r.jsx(q.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-black/80",onClick:e,children:r.jsxs(q.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:u=>u.stopPropagation(),className:"bg-gradient-to-br from-slate-900 to-slate-800 rounded-2xl max-w-lg w-full border border-purple-500/30 overflow-hidden",children:[r.jsxs("div",{className:"p-6 border-b border-purple-500/30 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-white flex items-center justify-center",children:r.jsx("img",{src:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/690e5f6f991e09e82bef3795/4332b5385_corvo.png",alt:"Corvo",className:"w-8 h-8 object-contain"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-bold text-white",children:"Enviar um Corvo"}),r.jsxs("p",{className:"text-sm text-gray-400",children:["Para: ",d]})]})]}),r.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white transition",children:r.jsx(nt,{className:"w-6 h-6"})})]}),r.jsxs("div",{className:"p-6",children:[r.jsxs("p",{className:"text-gray-300 text-sm mb-4",children:["Um corvo mstico levar sua mensagem at ",d,". Escreva com sabedoria, pois corvos carregam energias poderosas."]}),r.jsx(It,{value:s,onChange:u=>i(u.target.value),placeholder:"Escreva sua mensagem aqui...",className:"bg-slate-800 border-purple-900/30 text-white min-h-[150px] mb-4",maxLength:500}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("span",{className:"text-xs text-gray-400",children:[s.length,"/500"]}),r.jsx(W,{onClick:c,disabled:!s.trim()||l.isPending,className:"bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800",children:l.isPending?r.jsxs(r.Fragment,{children:[r.jsx(zt,{className:"w-4 h-4 mr-2 animate-spin"}),"Enviando..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Hr,{className:"w-4 h-4 mr-2"}),"Enviar Corvo"]})})]})]})]})})})}const QL={comum:{border:"border-gray-500",bg:"from-gray-700 to-gray-800",glow:"shadow-gray-500/30"},rara:{border:"border-blue-500",bg:"from-blue-700 to-blue-900",glow:"shadow-blue-500/40"},epica:{border:"border-purple-500",bg:"from-purple-700 to-purple-900",glow:"shadow-purple-500/50"},lendaria:{border:"border-yellow-500",bg:"from-yellow-600 to-orange-700",glow:"shadow-yellow-500/60"},mitica:{border:"border-pink-500",bg:"from-pink-600 to-purple-700",glow:"shadow-pink-500/70"}};function GP({skin:t,owned:e=!1,equipped:n=!1,onClick:a}){const s=QL[t.rarity]||QL.comum;return r.jsxs(q.div,{whileHover:{scale:1.05,y:-5},whileTap:{scale:.95},onClick:a,className:`relative cursor-pointer rounded-xl overflow-hidden ${s.border} border-2 ${s.glow} shadow-lg bg-slate-900`,children:[r.jsx("div",{className:`absolute inset-0 bg-gradient-to-b ${s.bg} opacity-40`}),n&&r.jsxs("div",{className:"absolute top-1 right-1 z-20 bg-green-500 text-white text-[7px] md:text-[8px] px-1 md:px-1.5 py-0.5 rounded-full font-bold flex items-center gap-0.5",children:[r.jsx(_n,{className:"w-2 h-2 md:w-2.5 md:h-2.5"}),r.jsx("span",{className:"hidden sm:inline",children:"EQUIPADO"})]}),r.jsx("div",{className:"relative aspect-square p-1.5 md:p-2",children:r.jsx("img",{src:t.image_url,alt:t.name,className:"w-full h-full object-cover rounded-lg"})}),r.jsxs("div",{className:"relative p-1.5 md:p-2 bg-black/60 backdrop-blur-sm",children:[r.jsx("p",{className:"text-white text-[9px] md:text-[10px] font-bold text-center truncate mb-0.5",children:t.name}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("p",{className:"text-gray-300 text-[7px] md:text-[8px] uppercase",children:t.rarity}),!e&&r.jsxs("div",{className:"flex items-center gap-0.5 bg-yellow-900/30 px-1 py-0.5 rounded-full",children:[r.jsx(Gn,{className:"w-2 h-2 md:w-2.5 md:h-2.5 text-yellow-400"}),r.jsx("span",{className:"text-yellow-300 text-[7px] md:text-[8px] font-bold",children:t.price_ouros})]})]})]}),e&&!n&&r.jsx("div",{className:"absolute top-1 left-1 z-20",children:r.jsx("div",{className:"w-4 h-4 md:w-5 md:h-5 rounded-full bg-green-500/90 flex items-center justify-center",children:r.jsx(_n,{className:"w-2.5 h-2.5 md:w-3 md:h-3 text-white"})})}),r.jsx(q.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent pointer-events-none",animate:{x:["-100%","100%"]},transition:{duration:2,repeat:1/0,repeatDelay:e?3:5,ease:"linear"}})]})}const ZL={comum:{color:"text-gray-400",bg:"bg-gray-700",border:"border-gray-500"},rara:{color:"text-blue-400",bg:"bg-blue-900/50",border:"border-blue-500"},epica:{color:"text-purple-400",bg:"bg-purple-900/50",border:"border-purple-500"},lendaria:{color:"text-yellow-400",bg:"bg-yellow-900/50",border:"border-yellow-500"},mitica:{color:"text-pink-400",bg:"bg-pink-900/50",border:"border-pink-500"}};function TJ({skin:t,owned:e=!1,equipped:n=!1,isOpen:a,onClose:s,onBuy:i,onEquip:o,buying:l=!1,equipping:c=!1,userOuros:d=0}){if(!a||!t)return null;const u=ZL[t.rarity]||ZL.comum,h=d>=t.price_ouros;return r.jsx(gt,{children:r.jsx(q.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/90 backdrop-blur-sm p-3 md:p-4",onClick:s,children:r.jsxs(q.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:f=>f.stopPropagation(),className:`relative w-full max-w-sm md:max-w-md bg-gradient-to-b from-slate-900 to-slate-800 rounded-2xl border-4 ${u.border} shadow-2xl overflow-hidden`,children:[r.jsx("div",{className:`absolute top-0 left-0 right-0 h-24 md:h-32 ${u.bg} blur-3xl opacity-50`}),r.jsx("button",{onClick:s,className:"absolute top-3 md:top-4 right-3 md:right-4 z-20 w-8 h-8 md:w-10 md:h-10 rounded-full bg-black/50 hover:bg-black/70 flex items-center justify-center transition",children:r.jsx(nt,{className:"w-4 h-4 md:w-5 md:h-5 text-white"})}),r.jsxs("div",{className:"relative z-10 p-4 md:p-6",children:[r.jsx("div",{className:"mb-4 md:mb-6",children:r.jsx("img",{src:t.image_url,alt:t.name,className:"w-full h-48 md:h-64 object-cover rounded-xl shadow-2xl"})}),r.jsxs("div",{className:"text-center mb-3 md:mb-4",children:[r.jsx("h2",{className:"text-xl md:text-2xl font-bold text-white mb-2",children:t.name}),r.jsx(De,{className:`${u.bg} ${u.color} border ${u.border} text-xs md:text-sm`,children:t.rarity.toUpperCase()}),e&&n&&r.jsx(De,{className:"ml-2 bg-green-600 text-white text-xs md:text-sm",children:"EQUIPADO"})]}),r.jsx("p",{className:"text-gray-300 text-xs md:text-sm text-center mb-3 md:mb-4",children:t.description}),t.lore&&r.jsx("div",{className:"bg-slate-800/50 rounded-lg p-3 md:p-4 mb-3 md:mb-4",children:r.jsxs("p",{className:"text-[10px] md:text-xs text-gray-400 italic leading-relaxed",children:['"',t.lore,'"']})}),t.attributes&&r.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-3 md:mb-4",children:[t.attributes.poder!==void 0&&r.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-2 text-center",children:[r.jsx("p",{className:"text-[10px] md:text-xs text-gray-400",children:"Poder"}),r.jsx("p",{className:"text-base md:text-lg font-bold text-red-400",children:t.attributes.poder})]}),t.attributes.magia!==void 0&&r.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-2 text-center",children:[r.jsx("p",{className:"text-[10px] md:text-xs text-gray-400",children:"Magia"}),r.jsx("p",{className:"text-base md:text-lg font-bold text-purple-400",children:t.attributes.magia})]}),t.attributes.sabedoria!==void 0&&r.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-2 text-center",children:[r.jsx("p",{className:"text-[10px] md:text-xs text-gray-400",children:"Sabedoria"}),r.jsx("p",{className:"text-base md:text-lg font-bold text-blue-400",children:t.attributes.sabedoria})]}),t.attributes.raridade_nivel!==void 0&&r.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-2 text-center",children:[r.jsx("p",{className:"text-[10px] md:text-xs text-gray-400",children:"Raridade"}),r.jsx("p",{className:`text-base md:text-lg font-bold ${u.color}`,children:t.attributes.raridade_nivel})]})]}),r.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3 md:mb-4",children:[r.jsx(_e,{className:"w-4 h-4 md:w-5 md:h-5 text-yellow-400"}),r.jsxs("span",{className:"text-xl md:text-2xl font-bold text-yellow-300",children:[t.price_ouros," Ouros"]})]}),r.jsxs("div",{className:"space-y-2",children:[!e&&r.jsxs(r.Fragment,{children:[r.jsx(W,{onClick:i,disabled:l||!h,className:`w-full h-11 md:h-12 text-sm md:text-base font-bold ${h?"bg-gradient-to-r from-yellow-600 to-amber-600 hover:from-yellow-700 hover:to-amber-700":"bg-gray-600 cursor-not-allowed"}`,children:l?r.jsxs(r.Fragment,{children:[r.jsx(_e,{className:"w-4 h-4 md:w-5 md:h-5 mr-2 animate-spin"}),"Comprando..."]}):h?r.jsxs(r.Fragment,{children:[r.jsx(Ia,{className:"w-4 h-4 md:w-5 md:h-5 mr-2"}),"Comprar Skin"]}):"Ouros Insuficientes"}),!h&&r.jsxs("p",{className:"text-[10px] md:text-xs text-red-400 text-center",children:["Voc precisa de ",t.price_ouros-d," ouros a mais"]})]}),e&&!n&&r.jsx(W,{onClick:o,disabled:c,className:"w-full h-11 md:h-12 text-sm md:text-base font-bold bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",children:c?r.jsxs(r.Fragment,{children:[r.jsx(_e,{className:"w-4 h-4 md:w-5 md:h-5 mr-2 animate-spin"}),"Equipando..."]}):r.jsxs(r.Fragment,{children:[r.jsx(_n,{className:"w-4 h-4 md:w-5 md:h-5 mr-2"}),"Equipar Skin"]})}),e&&n&&r.jsxs("div",{className:"text-center py-2 md:py-3 bg-green-900/30 rounded-lg border border-green-500/30",children:[r.jsx(_n,{className:"w-5 h-5 md:w-6 md:h-6 text-green-400 mx-auto mb-1"}),r.jsx("p",{className:"text-green-400 font-bold text-xs md:text-sm",children:"Esta skin est equipada!"})]})]})]})]})})})}const JL={bruxa_natural:"#9333EA",sabio:"#F59E0B",guardiao_astral:"#3B82F6",xama:"#10B981",navegador_cosmico:"#8B5CF6",alquimista:"#6366F1",none:"#A855F7"},eF={bruxa_natural:"",sabio:"",guardiao_astral:"",xama:"",navegador_cosmico:"",alquimista:"",none:""};function kJ(){const t=Li(),e=Sn(),n=wt(),[a,s]=w.useState(null),[i,o]=w.useState(null),[l,c]=w.useState(!1),[d,u]=w.useState(!1),[h,f]=w.useState(!1),[v,x]=w.useState(!1),[g,y]=w.useState(null),[b,_]=w.useState(!1),j=new URLSearchParams(t.search),S=j.get("username"),C=j.get("id");w.useEffect(()=>{E()},[]),w.useEffect(()=>{a&&(S||C?P():o(a))},[S,C,a]);const E=async()=>{try{const de=await H.auth.me();s(de)}catch(de){console.error("Erro ao carregar usurio:",de)}},P=async()=>{try{let de=[];S?de=await H.entities.User.filter({username:S}):C&&(de=await H.entities.User.filter({id:C})),de&&de.length>0?o(de[0]):(console.warn("User not found by username or ID."),o(null))}catch(de){console.error("Erro ao carregar perfil:",de)}},{data:T=[]}=Oe({queryKey:["all-skins"],queryFn:async()=>await H.entities.Skin.filter({is_available:!0})||[],staleTime:3e5}),{data:M=[]}=Oe({queryKey:["user-skins",i==null?void 0:i.id],queryFn:async()=>i!=null&&i.id?await H.entities.UserSkin.filter({user_id:i.id})||[]:[],enabled:!!(i!=null&&i.id),staleTime:6e4}),{data:k=[]}=Oe({queryKey:["user-posts",i==null?void 0:i.id],queryFn:async()=>i!=null&&i.id?(await H.entities.Post.filter({author_id:i.id},"-created_date",20)||[]).filter(Z=>Z&&Z.id):[],enabled:!!(i!=null&&i.id),staleTime:6e4}),{data:O=[]}=Oe({queryKey:["user-comments",i==null?void 0:i.id],queryFn:async()=>i!=null&&i.id?(await H.entities.Comment.filter({author_id:i.id},"-created_date",20)||[]).filter(Z=>Z&&Z.id):[],enabled:!!(i!=null&&i.id),staleTime:6e4}),{data:$=[]}=Oe({queryKey:["user-connections",i==null?void 0:i.id],queryFn:async()=>i!=null&&i.id?(await H.entities.Connection.filter({following_id:i.id})||[]).filter(Z=>Z&&Z.id):[],enabled:!!(i!=null&&i.id),staleTime:6e4}),{data:F=[]}=Oe({queryKey:["user-testimonials",i==null?void 0:i.id],queryFn:async()=>i!=null&&i.id?(await H.entities.ProfileTestimonial.filter({profile_user_id:i.id,status:"approved"},"-created_date",10)||[]).filter(Z=>Z&&Z.id):[],enabled:!!(i!=null&&i.id),staleTime:6e4}),{data:B=[]}=Oe({queryKey:["user-magics",i==null?void 0:i.id],queryFn:async()=>i!=null&&i.id?(await H.entities.ProfileMagic.filter({profile_user_id:i.id,is_active:!0})||[]).filter(Z=>Z&&Z.id&&Z.expires_at&&new Date(Z.expires_at)>new Date):[],enabled:!!(i!=null&&i.id),refetchInterval:1e4,staleTime:5e3}),{data:G=[]}=Oe({queryKey:["user-badges",i==null?void 0:i.id],queryFn:async()=>i!=null&&i.id?(await H.entities.UserBadge.filter({user_id:i.id})||[]).filter(Z=>Z&&Z.id):[],enabled:!!(i!=null&&i.id),staleTime:6e4}),{data:I=[]}=Oe({queryKey:["user-votes",i==null?void 0:i.id],queryFn:async()=>i!=null&&i.id?(await H.entities.ProfileVote.filter({profile_user_id:i.id})||[]).filter(Z=>Z&&Z.id):[],enabled:!!(i!=null&&i.id),staleTime:3e4}),{data:L}=Oe({queryKey:["my-vote",a==null?void 0:a.id,i==null?void 0:i.id],queryFn:async()=>{var Z;if(!(a!=null&&a.id)||!(i!=null&&i.id))return null;const de=await H.entities.ProfileVote.filter({profile_user_id:i.id,voter_id:a.id});return de&&de.length>0&&((Z=de[0])!=null&&Z.id)?de[0]:null},enabled:!!(a!=null&&a.id)&&!!(i!=null&&i.id),staleTime:3e4}),{data:U}=Oe({queryKey:["is-following",a==null?void 0:a.id,i==null?void 0:i.id],queryFn:async()=>{if(!(a!=null&&a.id)||!(i!=null&&i.id)||a.id===i.id)return!1;const de=await H.entities.Connection.filter({follower_id:a.id,following_id:i.id});return de&&de.length>0},enabled:!!(a!=null&&a.id)&&!!(i!=null&&i.id)&&(a==null?void 0:a.id)!==(i==null?void 0:i.id),staleTime:3e4}),z=Ue({mutationFn:async de=>{const Z=T.find(J=>J.id===de);if(!Z)throw new Error("Skin no encontrada");if(a.ouros<Z.price_ouros)throw new Error("Ouros insuficientes");return await H.auth.updateMe({ouros:a.ouros-Z.price_ouros}),await H.entities.UserSkin.create({user_id:a.id,skin_id:de,is_equipped:!1,acquired_date:new Date().toISOString()}),Z},onSuccess:de=>{n.invalidateQueries({queryKey:["user-skins"]}),qe.success(`Voc adquiriu ${de.name}! `),_(!1),E()},onError:de=>{qe.error(de.message||"Erro ao comprar skin")}}),K=Ue({mutationFn:async de=>{await H.entities.UserSkin.filter({user_id:a.id}).then(async J=>{for(const ve of J)ve.is_equipped&&await H.entities.UserSkin.update(ve.id,{is_equipped:!1})});const Z=M.find(J=>J.skin_id===de);Z&&await H.entities.UserSkin.update(Z.id,{is_equipped:!0})},onSuccess:()=>{n.invalidateQueries({queryKey:["user-skins"]}),qe.success("Skin equipada com sucesso! "),_(!1)},onError:()=>{qe.error("Erro ao equipar skin")}}),V=Ue({mutationFn:async de=>{!(a!=null&&a.id)||!(i!=null&&i.id)||(L!=null&&L.id?L.vote_type===de?await H.entities.ProfileVote.delete(L.id):await H.entities.ProfileVote.update(L.id,{vote_type:de}):await H.entities.ProfileVote.create({profile_user_id:i.id,voter_id:a.id,voter_name:a.display_name||a.full_name||"Viajante",voter_avatar:a.avatar_url||"",vote_type:de}))},onSuccess:()=>{n.invalidateQueries({queryKey:["user-votes"]}),n.invalidateQueries({queryKey:["my-vote"]})}}),Y=Ue({mutationFn:async()=>{!(a!=null&&a.id)||!(i!=null&&i.id)||(await H.entities.Connection.create({follower_id:a.id,follower_name:a.display_name||a.full_name||"Viajante",follower_avatar:a.avatar_url||"",following_id:i.id,following_name:i.display_name||i.full_name||"Viajante",following_avatar:i.avatar_url||""}),await H.entities.Notification.create({user_id:i.id,type:"follow",title:"Nova Conexo!",message:`${a.display_name||a.full_name||"Algum"} conectou-se com voc`,from_user_id:a.id,from_user_name:a.display_name||a.full_name||"Viajante",from_user_avatar:a.avatar_url||""}))},onSuccess:()=>{n.invalidateQueries({queryKey:["is-following"]}),n.invalidateQueries({queryKey:["user-connections"]})}}),ee=Ue({mutationFn:async()=>{var Z;if(!(a!=null&&a.id)||!(i!=null&&i.id))return;const de=await H.entities.Connection.filter({follower_id:a.id,following_id:i.id});de&&de.length>0&&((Z=de[0])!=null&&Z.id)&&await H.entities.Connection.delete(de[0].id)},onSuccess:()=>{n.invalidateQueries({queryKey:["is-following"]}),n.invalidateQueries({queryKey:["user-connections"]})}}),se=de=>{y(de),_(!0)};if(!a||!i)return(S||C)&&i===null?r.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-b from-[#0f0f1e] via-[#1a1a2e] to-[#0f0f1e]",children:r.jsx("h2",{className:"text-xl text-white",children:"Perfil no encontrado."})}):r.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-b from-[#0f0f1e] via-[#1a1a2e] to-[#0f0f1e]",children:r.jsx(zt,{className:"w-12 h-12 text-purple-500 animate-spin"})});const pe=a.id===i.id,Pe=JL[i.archetype]||JL.none,xe=eF[i.archetype]||eF.none,Ie=(I||[]).filter(de=>(de==null?void 0:de.vote_type)==="upvote").length,fe=(I||[]).filter(de=>(de==null?void 0:de.vote_type)==="downvote").length,Ne=[...(k||[]).map(de=>({...de,type:"post"})),...(O||[]).map(de=>({...de,type:"comment"}))].sort((de,Z)=>new Date(Z.created_date)-new Date(de.created_date)).slice(0,10),Le=new Set(M.map(de=>de.skin_id)),re=M.find(de=>de.is_equipped),he=T.filter(de=>Le.has(de.id)),Xe=Math.max(0,12-he.length),Ve=g?Le.has(g.id):!1,at=g&&re?re.skin_id===g.id:!1;return r.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-[#0f0f1e] via-[#1a1a2e] to-[#0f0f1e] pb-24",children:[r.jsxs("div",{className:"max-w-5xl mx-auto px-3 md:px-4 py-4 md:py-8",children:[(S||C)&&r.jsxs(W,{onClick:()=>e(-1),variant:"ghost",className:"mb-3 md:mb-4 text-gray-300 hover:text-white",children:[r.jsx(w1,{className:"w-4 h-4 mr-2"}),"Voltar"]}),r.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[r.jsxs(X,{className:"bg-slate-900/50 border-purple-500/30 overflow-hidden mb-4 md:mb-6",children:[r.jsxs("div",{className:"relative h-32 md:h-48 bg-gradient-to-r from-purple-900 to-pink-900",children:[i.banner_url&&r.jsx("img",{src:i.banner_url,alt:"Banner",className:"w-full h-full object-cover"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-900 to-transparent"})]}),r.jsxs("div",{className:"p-3 md:p-6 -mt-12 md:-mt-16 relative",children:[r.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-end gap-3 md:gap-4 mb-4 md:mb-6",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Lr,{user:i,size:typeof window<"u"&&window.innerWidth<768?"lg":"xl",showStatus:!0}),i.is_pro_subscriber&&r.jsxs("div",{className:"absolute -bottom-1 -right-1 md:-bottom-2 md:-right-2 bg-gradient-to-r from-yellow-600 to-amber-600 text-white px-1.5 md:px-2 py-0.5 md:py-1 rounded-full flex items-center gap-1 text-[10px] md:text-xs",children:[r.jsx(Bn,{className:"w-2.5 h-2.5 md:w-3 md:h-3"}),"PRO"]})]}),r.jsxs("div",{className:"flex-1 text-center md:text-left",children:[r.jsxs("h1",{className:"text-xl md:text-3xl font-bold text-white mb-1 md:mb-2 flex items-center justify-center md:justify-start gap-2",children:[r.jsx("span",{children:xe}),i.display_name||i.full_name||"Viajante"]}),i.username&&r.jsxs("p",{className:"text-sm md:text-base text-gray-400 mb-2",children:["@",i.username]}),r.jsxs("div",{className:"flex flex-wrap items-center justify-center md:justify-start gap-1.5 md:gap-2",children:[r.jsx(De,{style:{backgroundColor:Pe},className:"text-[10px] md:text-xs",children:i.archetype?i.archetype.replace(/_/g," ").toUpperCase():"SEM ARQUTIPO"}),r.jsxs(De,{variant:"outline",className:"text-yellow-400 border-yellow-400 text-[10px] md:text-xs",children:["Nvel ",i.level||1]}),i.mystical_title&&r.jsx(De,{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-[10px] md:text-xs",children:i.mystical_title})]})]}),!pe&&r.jsxs("div",{className:"flex flex-col md:flex-row gap-2 w-full md:w-auto",children:[r.jsxs(W,{onClick:()=>U?ee.mutate():Y.mutate(),disabled:Y.isPending||ee.isPending,size:"sm",className:`${U?"bg-gray-600 hover:bg-gray-700":"bg-purple-600 hover:bg-purple-700"} w-full md:w-auto`,children:[U?r.jsx(iG,{className:"w-3 h-3 md:w-4 md:h-4 mr-1 md:mr-2"}):r.jsx(Hu,{className:"w-3 h-3 md:w-4 md:h-4 mr-1 md:mr-2"}),U?"Desconectar":"Conectar"]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(W,{onClick:()=>V.mutate("upvote"),variant:(L==null?void 0:L.vote_type)==="upvote"?"default":"outline",size:"sm",className:`flex-1 md:flex-none ${(L==null?void 0:L.vote_type)==="upvote"?"bg-green-600 hover:bg-green-700":""}`,children:[r.jsx($me,{className:"w-3 h-3 md:w-4 md:h-4 mr-1"}),Ie]}),r.jsxs(W,{onClick:()=>V.mutate("downvote"),variant:(L==null?void 0:L.vote_type)==="downvote"?"default":"outline",size:"sm",className:`flex-1 md:flex-none ${(L==null?void 0:L.vote_type)==="downvote"?"bg-red-600 hover:bg-red-700":""}`,children:[r.jsx(Lme,{className:"w-3 h-3 md:w-4 md:h-4 mr-1"}),fe]})]})]})]}),i.bio&&r.jsx("p",{className:"text-sm md:text-base text-gray-300 mb-3 md:mb-4 text-center md:text-left",children:i.bio}),r.jsxs("div",{className:"grid grid-cols-2 md:flex md:flex-wrap gap-2 md:gap-4 text-xs md:text-sm text-gray-400 mb-4 md:mb-6",children:[i.birth_date&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Ya,{className:"w-3 h-3 md:w-4 md:h-4"}),r.jsx("span",{className:"truncate",children:new Date(i.birth_date).toLocaleDateString("pt-BR")})]}),i.birth_city&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(op,{className:"w-3 h-3 md:w-4 md:h-4"}),r.jsx("span",{className:"truncate",children:i.birth_city})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Kn,{className:"w-3 h-3 md:w-4 md:h-4"}),r.jsxs("span",{children:[$.length," conexes"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Da,{className:"w-3 h-3 md:w-4 md:h-4"}),r.jsxs("span",{children:[k.length," posts"]})]})]}),!pe&&r.jsxs("div",{className:"grid grid-cols-2 md:flex md:flex-wrap gap-2 md:gap-3",children:[r.jsxs(W,{onClick:()=>x(!0),size:"sm",className:"relative bg-black hover:bg-gray-900 border border-purple-500/30 text-xs md:text-sm",children:[r.jsx("img",{src:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/690e5f6f991e09e82bef3795/4332b5385_corvo.png",alt:"Corvo",className:"w-3 h-3 md:w-5 md:h-5 mr-1 md:mr-2"}),r.jsx("span",{className:"font-bold text-white",children:"Corvo"})]}),r.jsxs(W,{onClick:()=>c(!0),size:"sm",className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-xs md:text-sm",children:[r.jsx(_e,{className:"w-3 h-3 md:w-4 md:h-4 mr-1 md:mr-2"}),"Magia"]}),r.jsxs(W,{onClick:()=>u(!0),size:"sm",className:"bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700 text-xs md:text-sm",children:[r.jsx(Wn,{className:"w-3 h-3 md:w-4 md:h-4 mr-1 md:mr-2"}),"Depoimento"]}),r.jsxs(W,{onClick:()=>f(!0),size:"sm",className:"bg-gradient-to-r from-yellow-600 to-amber-600 hover:from-yellow-700 hover:to-amber-700 text-xs md:text-sm",children:[r.jsx($n,{className:"w-3 h-3 md:w-4 md:h-4 mr-1 md:mr-2"}),"Doar"]})]})]}),B&&B.length>0&&r.jsxs("div",{className:"px-3 md:px-6 pb-3 md:pb-6",children:[r.jsx("h3",{className:"text-xs md:text-sm font-bold text-purple-300 mb-2 md:mb-3",children:" Magias Ativas"}),r.jsx("div",{className:"flex flex-wrap gap-1.5 md:gap-2",children:B.map(de=>r.jsxs(De,{className:"bg-purple-900/50 text-purple-200 text-[10px] md:text-xs",children:[de.magic_type?de.magic_type.replace(/_/g," "):"Magia"," por ",de.caster_name||"Annimo"]},de.id))})]})]}),(i.pronouns||i.relationship_status||i.gender||i.orientation||i.zodiac_sign||i.favorite_color||i.beliefs&&i.beliefs.length>0||i.hobbies&&i.hobbies.length>0||i.social_links)&&r.jsxs(X,{className:"bg-slate-900/50 border-purple-500/30 p-3 md:p-4 mb-4 md:mb-6",children:[r.jsxs("h3",{className:"text-sm md:text-base font-bold text-purple-300 mb-3 md:mb-4 flex items-center gap-2",children:[r.jsx(_e,{className:"w-4 h-4 md:w-5 md:h-5"}),"Sobre Mim"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 md:gap-3 text-xs md:text-sm",children:[i.pronouns&&r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-400",children:"Pronomes:"}),r.jsx("span",{className:"text-gray-200 ml-2",children:i.pronouns_other||i.pronouns})]}),i.relationship_status&&r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-400",children:"Status:"}),r.jsx("span",{className:"text-gray-200 ml-2",children:i.relationship_status})]}),i.gender&&r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-400",children:"Gnero:"}),r.jsx("span",{className:"text-gray-200 ml-2",children:i.gender_other||i.gender})]}),i.orientation&&r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-400",children:"Orientao:"}),r.jsx("span",{className:"text-gray-200 ml-2",children:i.orientation_other||i.orientation})]}),i.zodiac_sign&&r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-400",children:"Signo:"}),r.jsx("span",{className:"text-gray-200 ml-2",children:i.zodiac_sign})]}),i.favorite_color&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-gray-400",children:"Aura:"}),r.jsx("div",{className:"w-5 h-5 rounded-full border-2 border-white",style:{backgroundColor:i.favorite_color}})]}),i.beliefs&&i.beliefs.length>0&&r.jsxs("div",{className:"col-span-full",children:[r.jsx("span",{className:"text-gray-400",children:"Crenas:"}),r.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:i.beliefs.map((de,Z)=>r.jsx(De,{variant:"outline",className:"text-[10px] md:text-xs text-gray-200 border-gray-600",children:de},Z))})]}),i.hobbies&&i.hobbies.length>0&&r.jsxs("div",{className:"col-span-full",children:[r.jsx("span",{className:"text-gray-400",children:"Interesses:"}),r.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:i.hobbies.map((de,Z)=>r.jsx(De,{variant:"outline",className:"text-[10px] md:text-xs text-gray-200 border-gray-600",children:de},Z))})]})]}),i.social_links&&Object.keys(i.social_links).length>0&&r.jsx("div",{className:"mt-3 md:mt-4 pt-3 md:pt-4 border-t border-purple-500/20",children:r.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.social_links.instagram&&r.jsx("a",{href:`https://instagram.com/${i.social_links.instagram}`,target:"_blank",rel:"noopener noreferrer",className:"text-purple-400 hover:text-purple-300",children:r.jsx(bhe,{className:"w-4 h-4 md:w-5 md:h-5"})}),i.social_links.facebook&&r.jsx("a",{href:i.social_links.facebook,target:"_blank",rel:"noopener noreferrer",className:"text-purple-400 hover:text-purple-300",children:r.jsx(Fue,{className:"w-4 h-4 md:w-5 md:h-5"})}),i.social_links.twitter&&r.jsx("a",{href:`https://twitter.com/${i.social_links.twitter}`,target:"_blank",rel:"noopener noreferrer",className:"text-purple-400 hover:text-purple-300",children:r.jsx(Kme,{className:"w-4 h-4 md:w-5 md:h-5"})}),i.social_links.phone&&r.jsx("a",{href:`tel:${i.social_links.phone}`,className:"text-purple-400 hover:text-purple-300",children:r.jsx(eG,{className:"w-4 h-4 md:w-5 md:h-5"})})]})})]}),r.jsxs(X,{className:"bg-slate-900/50 border-purple-500/30 p-3 md:p-4 mb-4 md:mb-6",children:[r.jsxs("h3",{className:"text-sm md:text-base font-bold text-purple-300 mb-3 md:mb-4 flex items-center gap-2",children:[r.jsx(_e,{className:"w-4 h-4 md:w-5 md:h-5"}),"Skins Msticas ",pe&&`(${M.length})`]}),r.jsxs("div",{className:"grid grid-cols-3 sm:grid-cols-6 gap-2 md:gap-3",children:[he.map(de=>r.jsx(GP,{skin:de,owned:!0,equipped:(re==null?void 0:re.skin_id)===de.id,onClick:()=>se(de)},de.id)),Array.from({length:Xe}).map((de,Z)=>r.jsx("div",{className:"relative aspect-square rounded-xl border-2 border-dashed border-gray-700 bg-slate-800/30 flex items-center justify-center cursor-pointer hover:border-purple-500/50 transition",onClick:()=>{pe&&e(ft("Inventario"))},children:r.jsxs("div",{className:"text-center p-2",children:[r.jsx(_e,{className:"w-6 h-6 md:w-8 md:h-8 text-gray-600 mx-auto mb-1"}),r.jsx("p",{className:"text-[8px] md:text-[10px] text-gray-500",children:"Slot Vazio"})]})},`empty-${Z}`))]}),pe&&M.length===0&&r.jsxs("p",{className:"text-xs text-center text-gray-400 mt-3",children:["Compre skins no ",r.jsx("button",{onClick:()=>e(ft("Inventario")),className:"text-purple-400 underline",children:"Inventrio"})]})]}),G&&G.length>0&&r.jsxs(X,{className:"bg-slate-900/50 border-purple-500/30 p-3 md:p-4 mb-4 md:mb-6",children:[r.jsxs("h3",{className:"text-sm md:text-base font-bold text-purple-300 mb-3 md:mb-4 flex items-center gap-2",children:[r.jsx(xr,{className:"w-4 h-4 md:w-5 md:h-5"}),"Conquistas (",G.length,")"]}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 md:gap-3",children:G.map((de,Z)=>r.jsxs("div",{className:"bg-slate-800/50 p-2 md:p-3 rounded-lg text-center",children:[r.jsx("div",{className:"text-2xl md:text-3xl mb-1 md:mb-2",children:""}),r.jsx("p",{className:"text-white font-bold text-xs md:text-sm truncate",children:(de==null?void 0:de.badge_name)||"Conquista"})]},(de==null?void 0:de.id)||Z))})]}),r.jsxs($r,{defaultValue:"activity",className:"w-full",children:[r.jsxs(Tr,{className:"grid grid-cols-4 w-full bg-slate-900/50 mb-4 md:mb-6 text-[10px] md:text-sm",children:[r.jsx(xt,{value:"activity",children:"Atividade"}),r.jsx(xt,{value:"posts",children:"Posts"}),r.jsx(xt,{value:"testimonials",children:"Depoimentos"}),r.jsx(xt,{value:"connections",children:"Conexes"})]}),r.jsx(et,{value:"activity",children:Ne.length===0?r.jsxs("div",{className:"text-center py-8 md:py-12",children:[r.jsx(On,{className:"w-12 h-12 md:w-16 md:h-16 text-gray-600 mx-auto mb-4"}),r.jsx("p",{className:"text-sm md:text-base text-gray-400",children:"Nenhuma atividade recente"})]}):r.jsx("div",{className:"space-y-3 md:space-y-4",children:Ne.map((de,Z)=>r.jsx(X,{className:"bg-slate-900/50 border-purple-500/30 p-3 md:p-4",children:r.jsxs("div",{className:"flex items-start gap-2 md:gap-3",children:[r.jsx("div",{className:`p-1.5 md:p-2 rounded-lg ${de.type==="post"?"bg-purple-900/30":"bg-blue-900/30"}`,children:de.type==="post"?r.jsx(Da,{className:"w-3 h-3 md:w-4 md:h-4 text-purple-400"}):r.jsx(On,{className:"w-3 h-3 md:w-4 md:h-4 text-blue-400"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-white text-sm md:text-base mb-1 md:mb-2 break-words",children:de.content||""}),r.jsx("span",{className:"text-[10px] md:text-xs text-gray-400",children:de.created_date&&Qo(new Date(de.created_date),{addSuffix:!0,locale:jn})})]})]})},`activity-${Z}`))})}),r.jsx(et,{value:"posts",children:k.length===0?r.jsxs("div",{className:"text-center py-8 md:py-12",children:[r.jsx(Da,{className:"w-12 h-12 md:w-16 md:h-16 text-gray-600 mx-auto mb-4"}),r.jsx("p",{className:"text-sm md:text-base text-gray-400",children:"Nenhum post ainda"})]}):r.jsx("div",{className:"space-y-3 md:space-y-4",children:k.map((de,Z)=>r.jsxs(X,{className:"bg-slate-900/50 border-purple-500/30 p-3 md:p-4",children:[r.jsx("p",{className:"text-white text-sm md:text-base mb-2 break-words",children:(de==null?void 0:de.content)||""}),r.jsx("span",{className:"text-[10px] md:text-xs text-gray-400",children:(de==null?void 0:de.created_date)&&Qo(new Date(de.created_date),{addSuffix:!0,locale:jn})})]},(de==null?void 0:de.id)||Z))})}),r.jsx(et,{value:"testimonials",children:F.length===0?r.jsxs("div",{className:"text-center py-8 md:py-12",children:[r.jsx(Wn,{className:"w-12 h-12 md:w-16 md:h-16 text-gray-600 mx-auto mb-4"}),r.jsx("p",{className:"text-sm md:text-base text-gray-400",children:"Nenhum depoimento ainda"})]}):r.jsx("div",{className:"space-y-3 md:space-y-4",children:F.map((de,Z)=>r.jsx(X,{className:"bg-slate-900/50 border-purple-500/30 p-3 md:p-4",children:r.jsxs("div",{className:"flex items-start gap-2 md:gap-3",children:[r.jsx(Lr,{user:{avatar_url:(de==null?void 0:de.author_avatar)||"",display_name:(de==null?void 0:de.author_name)||"Viajante",full_name:(de==null?void 0:de.author_name)||"Viajante"},size:"sm"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h4",{className:"text-white font-bold text-xs md:text-sm",children:(de==null?void 0:de.author_name)||"Viajante"}),r.jsx("p",{className:"text-gray-300 text-xs md:text-sm mt-1 break-words",children:(de==null?void 0:de.content)||""})]})]})},(de==null?void 0:de.id)||Z))})}),r.jsx(et,{value:"connections",children:$.length===0?r.jsxs("div",{className:"text-center py-8 md:py-12",children:[r.jsx(Kn,{className:"w-12 h-12 md:w-16 md:h-16 text-gray-600 mx-auto mb-4"}),r.jsx("p",{className:"text-sm md:text-base text-gray-400",children:"Nenhuma conexo ainda"})]}):r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 md:gap-4",children:$.map((de,Z)=>r.jsxs(X,{className:"bg-slate-900/50 border-purple-500/30 p-3 md:p-4 text-center",children:[r.jsx(Lr,{user:{avatar_url:(de==null?void 0:de.follower_avatar)||"",display_name:(de==null?void 0:de.follower_name)||"Viajante",full_name:(de==null?void 0:de.follower_name)||"Viajante"},size:"md"}),r.jsx("p",{className:"text-white font-bold text-xs md:text-sm mt-2 truncate",children:(de==null?void 0:de.follower_name)||"Viajante"})]},(de==null?void 0:de.id)||Z))})})]})]})]}),a&&i&&!pe&&r.jsxs(r.Fragment,{children:[r.jsx(oPe,{isOpen:l,onClose:()=>c(!1),currentUser:a,profileUser:i}),r.jsx(lPe,{isOpen:d,onClose:()=>u(!1),currentUser:a,profileUser:i}),r.jsx(dPe,{isOpen:h,onClose:()=>f(!1),currentUser:a,recipientUser:i}),r.jsx(uPe,{isOpen:v,onClose:()=>x(!1),currentUser:a,recipient:i})]}),r.jsx(TJ,{skin:g,owned:Ve,equipped:at,isOpen:b,onClose:()=>{_(!1),y(null)},onBuy:()=>z.mutate(g.id),onEquip:()=>K.mutate(g.id),buying:z.isPending,equipping:K.isPending,userOuros:(a==null?void 0:a.ouros)||0})]})}var hPe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],mPe=hPe.reduce((t,e)=>{const n=Pg(`Primitive.${e}`),a=w.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(c,{...l,ref:i})});return a.displayName=`Primitive.${e}`,{...t,[e]:a}},{}),fPe="Separator",tF="horizontal",pPe=["horizontal","vertical"],RJ=w.forwardRef((t,e)=>{const{decorative:n,orientation:a=tF,...s}=t,i=xPe(a)?a:tF,l=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return r.jsx(mPe.div,{"data-orientation":i,...l,...s,ref:e})});RJ.displayName=fPe;function xPe(t){return pPe.includes(t)}var OJ=RJ;const Px=w.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...a},s)=>r.jsx(OJ,{ref:s,decorative:n,orientation:e,className:Wt("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...a}));Px.displayName=OJ.displayName;function gPe({isOpen:t,onClose:e,product:n,quantity:a,user:s}){var L,U,z;const[i,o]=w.useState("address"),[l,c]=w.useState(null),[d,u]=w.useState(""),[h,f]=w.useState({rua:"",numero:"",complemento:"",bairro:"",cidade:"",estado:""}),[v,x]=w.useState(!1),[g,y]=w.useState(!1),[b,_]=w.useState("pix"),[j,S]=w.useState(null),[C,E]=w.useState({number:"",name:"",expiry:"",cvv:""}),[P,T]=w.useState(!1);w.useEffect(()=>{var K;t&&((K=s==null?void 0:s.address)!=null&&K.cep)&&c(null)},[t,s]);const M=async K=>{const V=K.target.value.replace(/\D/g,"");if(u(V),V.length===8){x(!0);try{const ee=await(await fetch(`https://viacep.com.br/ws/${V}/json/`)).json();ee.erro?alert("CEP no encontrado"):f({...h,rua:ee.logradouro||"",bairro:ee.bairro||"",cidade:ee.localidade||"",estado:ee.uf||""})}catch(Y){console.error("Erro ao buscar CEP:",Y)}finally{x(!1)}}},k=()=>{l===!0&&f({rua:s.address.street,numero:s.address.number,complemento:s.address.complement||"",bairro:s.address.neighborhood,cidade:s.address.city,estado:s.address.state}),o("payment")},O=async()=>{y(!0);try{const K=await H.functions.invoke("createPixPayment",{product_id:n.id,product_name:n.name,quantity:a,unit_price:n.price,payer:{email:s.email,name:s.full_name},address:{...h,cep:d}});K.data.success?(S(K.data),o("success")):alert("Erro ao gerar PIX. Tente novamente.")}catch(K){console.error("Erro ao processar PIX:",K),alert("Erro ao processar PIX. Tente novamente.")}finally{y(!1)}},$=async()=>{y(!0);try{(await H.functions.invoke("createCardPayment",{product_id:n.id,product_name:n.name,quantity:a,unit_price:n.price,payer:{email:s.email,name:s.full_name},card:C,address:{...h,cep:d}})).data.success?(o("success"),setTimeout(()=>{e(),window.location.reload()},3e3)):alert("Erro ao processar pagamento. Verifique os dados do carto.")}catch(K){console.error("Erro ao processar carto:",K),alert("Erro ao processar pagamento. Tente novamente.")}finally{y(!1)}},F=()=>{navigator.clipboard.writeText(j.qr_code),T(!0),setTimeout(()=>T(!1),2e3)};if(!t)return null;const B=n.price*a,I=B+0;return r.jsx(gt,{children:r.jsx(q.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/95 backdrop-blur-sm overflow-y-auto",children:r.jsx("div",{className:"min-h-screen p-4",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6 pt-4",children:[r.jsxs("button",{onClick:i==="payment"?()=>o("address"):e,className:"flex items-center gap-2 text-gray-400 hover:text-white transition",children:[r.jsx(Go,{className:"w-5 h-5"}),r.jsx("span",{className:"text-sm md:text-base",children:i==="payment"?"Voltar":"Voltar para a Loja"})]}),r.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white transition",children:r.jsx(nt,{className:"w-6 h-6"})})]}),r.jsx(q.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},className:"text-center mb-8",children:r.jsx("h1",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-[#fbbf24] mb-2",children:"Finalize o seu ritual de compra de forma segura"})}),r.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[i==="address"&&r.jsxs(q.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},className:"space-y-6",children:[((L=s==null?void 0:s.address)==null?void 0:L.cep)&&l===null&&r.jsxs(X,{className:"bg-[#1a1a2e] border-purple-900/30 p-6",children:[r.jsx("h3",{className:"text-lg md:text-xl font-bold text-white mb-4",children:"Usar endereo cadastrado?"}),r.jsxs("div",{className:"bg-[#0f0f1e] p-4 rounded-lg mb-4",children:[r.jsxs("p",{className:"text-sm text-gray-300",children:[s.address.street,", ",s.address.number,s.address.complement?` - ${s.address.complement}`:""]}),r.jsxs("p",{className:"text-sm text-gray-300",children:[s.address.neighborhood," - ",s.address.city,"/",s.address.state]}),r.jsxs("p",{className:"text-sm text-gray-400",children:["CEP: ",s.address.cep]})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx(W,{onClick:()=>c(!0),className:"flex-1 bg-[#8b5cf6] hover:bg-[#7c3aed]",children:"Sim, usar este"}),r.jsx(W,{onClick:()=>c(!1),variant:"outline",className:"flex-1 border-white/20",children:"Usar outro"})]})]}),(l===!1||!((U=s==null?void 0:s.address)!=null&&U.cep)&&l===null)&&r.jsxs(r.Fragment,{children:[r.jsxs(X,{className:"bg-[#1a1a2e] border-purple-900/30 p-6",children:[r.jsx("h3",{className:"text-lg md:text-xl font-bold text-white mb-4",children:"Informaes de Contato"}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-300 mb-2",children:"E-mail"}),r.jsx(je,{value:s.email,disabled:!0,className:"bg-[#0f0f1e] border-purple-900/30 text-gray-400"})]})]}),r.jsxs(X,{className:"bg-[#1a1a2e] border-purple-900/30 p-6",children:[r.jsx("h3",{className:"text-lg md:text-xl font-bold text-white mb-4",children:"Endereo de Entrega"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-300 mb-2",children:"CEP"}),r.jsxs("div",{className:"relative",children:[r.jsx(je,{value:d,onChange:M,placeholder:"00000-000",maxLength:8,className:"bg-[#0f0f1e] border-purple-900/30 text-white"}),v&&r.jsx(zt,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-purple-400 animate-spin"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-300 mb-2",children:"Rua"}),r.jsx(je,{value:h.rua,onChange:K=>f({...h,rua:K.target.value}),className:"bg-[#0f0f1e] border-purple-900/30 text-white"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-300 mb-2",children:"Nmero"}),r.jsx(je,{value:h.numero,onChange:K=>f({...h,numero:K.target.value}),className:"bg-[#0f0f1e] border-purple-900/30 text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-300 mb-2",children:"Complemento"}),r.jsx(je,{value:h.complemento,onChange:K=>f({...h,complemento:K.target.value}),placeholder:"Apto, bloco, etc.",className:"bg-[#0f0f1e] border-purple-900/30 text-white"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-300 mb-2",children:"Bairro"}),r.jsx(je,{value:h.bairro,onChange:K=>f({...h,bairro:K.target.value}),className:"bg-[#0f0f1e] border-purple-900/30 text-white"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-300 mb-2",children:"Cidade"}),r.jsx(je,{value:h.cidade,onChange:K=>f({...h,cidade:K.target.value}),className:"bg-[#0f0f1e] border-purple-900/30 text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-300 mb-2",children:"Estado"}),r.jsx(je,{value:h.estado,onChange:K=>f({...h,estado:K.target.value}),maxLength:2,className:"bg-[#0f0f1e] border-purple-900/30 text-white"})]})]})]})]})]})]}),i==="payment"&&r.jsx(q.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},children:r.jsx(X,{className:"bg-[#1a1a2e] border-purple-900/30 p-6",children:r.jsxs($r,{value:b,onValueChange:_,children:[r.jsxs(Tr,{className:"grid w-full grid-cols-2 bg-[#0f0f1e]",children:[r.jsxs(xt,{value:"pix",className:"data-[state=active]:bg-purple-600",children:[r.jsx(G0,{className:"w-4 h-4 mr-2"}),"PIX"]}),r.jsxs(xt,{value:"card",className:"data-[state=active]:bg-purple-600",children:[r.jsx(Um,{className:"w-4 h-4 mr-2"}),"Carto de Crdito"]})]}),r.jsx(et,{value:"pix",className:"mt-6",children:r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-gray-300 mb-6",children:"Clique no boto abaixo para gerar o QR Code e o cdigo para pagamento com PIX."}),r.jsx(W,{onClick:O,disabled:g,className:"w-full bg-[#8b5cf6] hover:bg-[#7c3aed] h-14 text-lg",children:g?r.jsxs(r.Fragment,{children:[r.jsx(zt,{className:"w-5 h-5 mr-2 animate-spin"}),"Gerando PIX..."]}):r.jsxs(r.Fragment,{children:[r.jsx(G0,{className:"w-5 h-5 mr-2"}),"Pagar com PIX"]})})]})}),r.jsx(et,{value:"card",className:"mt-6",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-300 mb-2",children:"Nmero do Carto"}),r.jsx(je,{value:C.number,onChange:K=>E({...C,number:K.target.value.replace(/\D/g,"").slice(0,16)}),placeholder:"0000 0000 0000 0000",className:"bg-[#0f0f1e] border-purple-900/30 text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-300 mb-2",children:"Nome no Carto"}),r.jsx(je,{value:C.name,onChange:K=>E({...C,name:K.target.value.toUpperCase()}),placeholder:"NOME COMPLETO",className:"bg-[#0f0f1e] border-purple-900/30 text-white"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-300 mb-2",children:"Validade"}),r.jsx(je,{value:C.expiry,onChange:K=>{let V=K.target.value.replace(/\D/g,"");V.length>=2&&(V=V.slice(0,2)+"/"+V.slice(2,4)),E({...C,expiry:V})},placeholder:"MM/AA",maxLength:5,className:"bg-[#0f0f1e] border-purple-900/30 text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-300 mb-2",children:"CVV"}),r.jsx(je,{value:C.cvv,onChange:K=>E({...C,cvv:K.target.value.replace(/\D/g,"").slice(0,4)}),placeholder:"000",maxLength:4,type:"password",className:"bg-[#0f0f1e] border-purple-900/30 text-white"})]})]}),r.jsx(W,{onClick:$,disabled:g||!C.number||!C.name||!C.expiry||!C.cvv,className:"w-full bg-[#fbbf24] hover:bg-[#f59e0b] text-black font-bold h-14 text-lg",children:g?r.jsxs(r.Fragment,{children:[r.jsx(zt,{className:"w-5 h-5 mr-2 animate-spin"}),"Processando..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Um,{className:"w-5 h-5 mr-2"}),"Pagar R$ ",I.toFixed(2)]})})]})})]})})}),i==="success"&&j&&r.jsx(q.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},children:r.jsx(X,{className:"bg-[#1a1a2e] border-purple-900/30 p-6",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-green-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(_n,{className:"w-10 h-10 text-green-400"})}),r.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"PIX Gerado com Sucesso!"}),r.jsx("p",{className:"text-gray-400 mb-6",children:"Escaneie o QR Code ou copie o cdigo abaixo para pagar"}),r.jsx("div",{className:"bg-white p-4 rounded-lg mb-6 inline-block",children:r.jsx("img",{src:j.qr_code_base64,alt:"QR Code PIX",className:"w-64 h-64"})}),r.jsxs("div",{className:"bg-[#0f0f1e] p-4 rounded-lg mb-4",children:[r.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"Cdigo PIX Copia e Cola:"}),r.jsx("p",{className:"text-sm text-white break-all font-mono",children:j.qr_code})]}),r.jsx(W,{onClick:F,className:"w-full bg-[#8b5cf6] hover:bg-[#7c3aed] h-12",children:P?r.jsxs(r.Fragment,{children:[r.jsx(_n,{className:"w-5 h-5 mr-2"}),"Copiado!"]}):r.jsxs(r.Fragment,{children:[r.jsx(hx,{className:"w-5 h-5 mr-2"}),"Copiar Cdigo PIX"]})}),r.jsx("p",{className:"text-xs text-gray-500 mt-4",children:"Aps o pagamento, seu pedido ser processado automaticamente."})]})})})]}),r.jsx(q.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1},className:"lg:sticky lg:top-24 h-fit",children:r.jsxs(X,{className:"bg-[#1a1a2e] border-purple-900/30 p-6",children:[r.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Resumo do Pedido"}),r.jsxs("div",{className:"flex gap-4 mb-6",children:[r.jsx("img",{src:(z=n.images)==null?void 0:z[0],alt:n.name,className:"w-20 h-20 rounded-lg object-cover"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"text-sm font-semibold text-white mb-1",children:n.name}),r.jsxs("p",{className:"text-xs text-gray-400",children:["Qtd: ",a]}),r.jsxs("p",{className:"text-sm font-bold text-[#fbbf24] mt-1",children:["R$ ",(n.price*a).toFixed(2)]})]})]}),r.jsx(Px,{className:"bg-purple-900/30 mb-4"}),r.jsxs("div",{className:"space-y-2 mb-6",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-400",children:"Subtotal"}),r.jsxs("span",{className:"text-white",children:["R$ ",B.toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-400",children:"Frete"}),r.jsx("span",{className:"text-white",children:"A calcular"})]}),r.jsx(Px,{className:"bg-purple-900/30"}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-lg font-bold text-white",children:"Total"}),r.jsxs("span",{className:"text-xl font-bold text-[#fbbf24]",children:["R$ ",I.toFixed(2)]})]})]}),i==="address"&&r.jsxs(W,{onClick:k,disabled:l===null||l===!1&&(!d||!h.rua||!h.numero||!h.bairro||!h.cidade||!h.estado),className:"w-full bg-[#fbbf24] hover:bg-[#f59e0b] text-black font-bold h-14 text-lg rounded-full",children:[r.jsx(Um,{className:"w-5 h-5 mr-2"}),"Continuar para Pagamento"]}),r.jsxs("div",{className:"flex items-center justify-center gap-2 mt-4 text-xs text-gray-400",children:[r.jsx(tG,{className:"w-4 h-4 text-green-400"}),"Ambiente de pagamento 100% seguro via Mercado Pago."]})]})})]})]})})})})}function nF(){return r.jsxs("div",{className:"flex items-center gap-4 my-12",children:[r.jsx(Px,{className:"flex-1 bg-purple-900/30"}),r.jsx(WH,{className:"w-6 h-6 text-purple-400"}),r.jsx(Px,{className:"flex-1 bg-purple-900/30"})]})}function vPe({productId:t,reviews:e,user:n}){const[a,s]=w.useState(0),[i,o]=w.useState(""),l=wt(),c=Ue({mutationFn:async()=>{await H.entities.Review.create({product_id:t,user_id:n.id,user_name:n.display_name||n.full_name,user_avatar:n.avatar_url,rating:a,comment:i.trim(),is_verified_purchase:!1})},onSuccess:()=>{l.invalidateQueries({queryKey:["reviews"]}),s(0),o(""),alert("Avaliao enviada com sucesso! ")}}),d=e.length>0?(e.reduce((h,f)=>h+f.rating,0)/e.length).toFixed(1):"0.0",u=[5,4,3,2,1].map(h=>({star:h,count:e.filter(f=>f.rating===h).length}));return r.jsxs("div",{children:[r.jsx("h2",{className:"text-3xl font-bold text-white mb-8",children:"Avaliaes dos Viajantes"}),r.jsxs(X,{className:"bg-[#1a1a2e] border-purple-900/20 p-8 mb-8",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("div",{className:"text-6xl font-bold text-[#fbbf24] mb-2",children:d}),r.jsx("div",{className:"flex items-center justify-center gap-1 mb-2",children:[1,2,3,4,5].map(h=>r.jsx(Wn,{className:`w-6 h-6 ${h<=Math.round(parseFloat(d))?"fill-yellow-400 text-yellow-400":"text-gray-600"}`},h))}),r.jsxs("p",{className:"text-gray-400",children:["Baseado em ",e.length," avaliaes"]})]}),r.jsx("div",{className:"space-y-2",children:u.map(({star:h,count:f})=>{const v=e.length>0?f/e.length*100:0;return r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("span",{className:"text-sm text-gray-400 w-20",children:[h," estrelas"]}),r.jsx("div",{className:"flex-1 h-3 bg-purple-900/20 rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full bg-[#fbbf24] transition-all",style:{width:`${v}%`}})}),r.jsx("span",{className:"text-sm text-gray-400 w-8 text-right",children:f})]},h)})})]}),r.jsxs(X,{className:"bg-[#1a1a2e] border-purple-900/20 p-4 md:p-6 mb-8",children:[r.jsx("h3",{className:"text-lg md:text-xl font-bold text-white mb-4",children:"Deixe o seu eco"}),r.jsxs("div",{className:"flex flex-col md:flex-row items-start gap-2 md:gap-4 mb-4",children:[r.jsx("img",{src:(n==null?void 0:n.avatar_url)||"https://via.placeholder.com/40",alt:"Avatar",className:"w-10 h-10 rounded-full hidden md:block"}),r.jsx("div",{className:"flex-1 w-full",children:r.jsx(It,{value:i,onChange:h=>o(h.target.value),placeholder:"Como este artefato ressoou com a sua energia?",className:"bg-[#0f0f1e] border-purple-900/20 text-white resize-none text-sm md:text-base",rows:4})})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3",children:[r.jsx("div",{className:"flex gap-2",children:[1,2,3,4,5].map(h=>r.jsx("button",{onClick:()=>s(h),className:"hover:scale-110 transition",children:r.jsx(Wn,{className:`w-6 h-6 md:w-8 md:h-8 ${h<=a?"fill-yellow-400 text-yellow-400":"text-gray-600"}`})},h))}),r.jsxs(W,{onClick:()=>c.mutate(),disabled:a===0||!i.trim()||c.isPending,className:"bg-[#8b5cf6] hover:bg-[#7c3aed] w-full sm:w-auto h-11 md:h-12 text-sm md:text-base",children:[r.jsx(Da,{className:"w-4 h-4 mr-2"}),"Enviar Avaliao"]})]})]}),r.jsx("div",{className:"space-y-4",children:e.map(h=>r.jsx(X,{className:"bg-[#1a1a2e] border-purple-900/20 p-6",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("img",{src:h.user_avatar||"https://via.placeholder.com/50",alt:h.user_name,className:"w-12 h-12 rounded-full"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h4",{className:"font-semibold text-white",children:h.user_name}),r.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(f=>r.jsx(Wn,{className:`w-4 h-4 ${f<=h.rating?"fill-yellow-400 text-yellow-400":"text-gray-600"}`},f))})]}),r.jsx("p",{className:"text-gray-300",children:h.comment})]})]})},h.id))})]})}function DJ(){var S,C;const t=Sn(),e=wt(),[n,a]=w.useState(null),[s,i]=w.useState(""),[o,l]=w.useState(1),[c,d]=w.useState(!1),[u,h]=w.useState(!1),v=new URLSearchParams(window.location.search).get("id");w.useEffect(()=>{x()},[]);const x=async()=>{try{const E=await H.auth.me();a(E)}catch(E){console.error("Erro ao carregar usurio:",E)}},{data:g,isLoading:y}=Oe({queryKey:["product",v],queryFn:async()=>(await H.entities.Product.filter({id:v},"created_date",1))[0],enabled:!!v}),{data:b}=Oe({queryKey:["reviews",v],queryFn:()=>H.entities.Review.filter({product_id:v},"-created_date",50),enabled:!!v,initialData:[]}),{data:_}=Oe({queryKey:["related-products",g==null?void 0:g.category],queryFn:()=>H.entities.Product.filter({category:g.category,is_active:!0},"-sales_count",4),enabled:!!(g!=null&&g.category),initialData:[]});if(Ue({mutationFn:async()=>{var E;await H.entities.CartItem.create({user_id:n.id,product_id:g.id,product_name:g.name,product_price:g.price,product_image:(E=g.images)==null?void 0:E[0],quantity:o})},onSuccess:()=>{alert("Artefato Adicionado ao Carrinho! "),e.invalidateQueries({queryKey:["cart"]})}}),w.useEffect(()=>{var E;(E=g==null?void 0:g.images)!=null&&E[0]&&i(g.images[0])},[g]),y||!n)return r.jsx("div",{className:"flex items-center justify-center min-h-screen bg-[#0f0f1e]",children:r.jsx(_e,{className:"w-12 h-12 text-purple-500 animate-pulse"})});if(!g)return r.jsx("div",{className:"flex items-center justify-center min-h-screen bg-[#0f0f1e]",children:r.jsxs(X,{className:"bg-[#1a1a2e] border-purple-900/20 p-12 text-center",children:[r.jsx("h2",{className:"text-2xl font-bold text-purple-300 mb-4",children:"Artefato No Encontrado"}),r.jsx("p",{className:"text-gray-400 mb-6",children:"Este item mstico no existe em nossa dimenso"}),r.jsx(W,{onClick:()=>t(ft("Loja")),children:"Voltar  Loja"})]})});const j=_.filter(E=>E.id!==g.id).slice(0,4);return r.jsxs("div",{className:"min-h-screen bg-[#0f0f1e]",children:[r.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-4 md:py-8",children:[r.jsxs("div",{className:"grid lg:grid-cols-2 gap-6 md:gap-12 mb-8 md:mb-12",children:[r.jsxs(q.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},children:[r.jsx("div",{className:"aspect-square rounded-xl md:rounded-2xl overflow-hidden mb-4 bg-slate-800",children:r.jsx("img",{src:s||((S=g.images)==null?void 0:S[0]),alt:g.name,className:"w-full h-full object-cover"})}),g.images&&g.images.length>1&&r.jsx("div",{className:"grid grid-cols-4 gap-2 md:gap-4",children:g.images.map((E,P)=>r.jsx("button",{onClick:()=>i(E),className:`aspect-square rounded-md md:rounded-lg overflow-hidden border-2 transition ${s===E?"border-[#fbbf24] scale-105":"border-purple-900/20 hover:border-purple-700/50"}`,children:r.jsx("img",{src:E,alt:"",className:"w-full h-full object-cover"})},P))})]}),r.jsxs(q.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},children:[r.jsx(De,{className:"bg-[#8b5cf6] text-white mb-3 text-xs md:text-sm",children:g.category}),r.jsx("h1",{className:"text-2xl md:text-3xl lg:text-4xl font-bold text-white mb-3 md:mb-4",children:g.name}),r.jsxs("div",{className:"flex items-center gap-2 mb-4 md:mb-6",children:[[1,2,3,4,5].map(E=>r.jsx(Wn,{className:`w-4 h-4 md:w-5 md:h-5 ${E<=Math.round(g.rating||0)?"fill-yellow-400 text-yellow-400":"text-gray-600"}`},E)),r.jsxs("span",{className:"text-gray-400 text-xs md:text-sm",children:["(",g.review_count||0," avaliaes)"]})]}),r.jsxs("div",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-[#fbbf24] mb-6 md:mb-8",children:["R$ ",(C=g.price)==null?void 0:C.toFixed(2)]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-white text-sm md:text-base font-semibold mb-3",children:"Quantidade:"}),r.jsxs("div",{className:"flex items-center gap-4 bg-[#1a1a2e] rounded-full p-2 w-fit",children:[r.jsx(W,{size:"icon",variant:"ghost",onClick:()=>l(Math.max(1,o-1)),className:"rounded-full h-8 w-8 md:h-10 md:w-10 text-white hover:text-white hover:bg-slate-700",children:r.jsx(QH,{className:"w-4 h-4 md:w-5 md:h-5"})}),r.jsx("span",{className:"text-xl md:text-2xl font-bold text-white w-10 md:w-12 text-center",children:o}),r.jsx(W,{size:"icon",variant:"ghost",onClick:()=>l(o+1),className:"rounded-full h-8 w-8 md:h-10 md:w-10 text-white hover:text-white hover:bg-slate-700",children:r.jsx(_r,{className:"w-4 h-4 md:w-5 md:h-5"})})]})]}),r.jsxs("div",{className:"space-y-3 mb-6 md:mb-8",children:[r.jsxs(W,{onClick:()=>h(!0),className:"w-full bg-[#fbbf24] hover:bg-[#f59e0b] text-black font-bold h-12 md:h-14 text-base md:text-lg rounded-full",children:[r.jsx(gme,{className:"w-4 h-4 md:w-5 md:h-5 mr-2"}),"Comprar Agora"]}),r.jsxs(W,{onClick:()=>d(!c),variant:"outline",className:"w-full border-2 border-white/20 h-12 md:h-14 text-base md:text-lg rounded-full text-white hover:text-white hover:bg-slate-800",children:[r.jsx($n,{className:`w-4 h-4 md:w-5 md:h-5 mr-2 ${c?"fill-pink-500 text-pink-500":""}`}),c?"Guardado no Cofre":"Favoritar"]})]}),g.short_description&&r.jsx("p",{className:"text-gray-300 text-sm md:text-base mb-6 leading-relaxed",children:g.short_description}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 sm:gap-6",children:[r.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[r.jsx(ud,{className:"w-4 h-4 md:w-5 md:h-5 text-green-400"}),r.jsx("span",{className:"text-xs md:text-sm",children:"Compra Segura"})]}),r.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[r.jsx(Gme,{className:"w-4 h-4 md:w-5 md:h-5 text-blue-400"}),r.jsx("span",{className:"text-xs md:text-sm",children:"Envio para todo o Cosmos"})]})]})]})]}),r.jsx(nF,{}),g.description&&r.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-12",children:r.jsxs(X,{className:"bg-[#1a1a2e] border-purple-900/20 p-8",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx(_e,{className:"w-6 h-6 text-[#fbbf24]"}),r.jsx("h2",{className:"text-3xl font-bold text-white",children:"A Essncia do Artefacto"})]}),r.jsx("div",{className:"text-gray-300 leading-relaxed",dangerouslySetInnerHTML:{__html:g.description.replace(/\n/g,"<br />")}})]})}),g.details&&r.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-12",children:r.jsxs(X,{className:"bg-[#1a1a2e] border-purple-900/20 p-8",children:[r.jsx("h2",{className:"text-3xl font-bold text-white mb-6",children:"Detalhes Tcnicos"}),r.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:Object.entries(g.details).map(([E,P])=>r.jsxs("div",{className:"flex justify-between p-4 bg-[#0f0f1e] rounded-lg",children:[r.jsxs("span",{className:"text-gray-400",children:[E,":"]}),r.jsx("span",{className:"text-white font-semibold",children:P})]},E))})]})}),r.jsx(nF,{}),r.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-12",children:r.jsx(vPe,{productId:g.id,reviews:b,user:n})}),j.length>0&&r.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[r.jsx("h2",{className:"text-3xl font-bold text-white mb-8",children:"Artefatos Relacionados"}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:j.map(E=>r.jsx(AJ,{product:E},E.id))})]})]}),r.jsx(gPe,{isOpen:u,onClose:()=>h(!1),product:g,quantity:o,user:n})]})}function rF({course:t,user:e,onNext:n,onPrevious:a}){const[s,i]=w.useState(!1),[o,l]=w.useState(0),[c,d]=w.useState(0),[u,h]=w.useState(100),[f,v]=w.useState(!1),[x,g]=w.useState(null),[y,b]=w.useState(null),[_,j]=w.useState(!1),S=w.useRef(null),C=w.useRef(null),E=w.useRef(null),P=w.useRef(null);w.useEffect(()=>(t&&e&&T(),()=>{E.current&&clearInterval(E.current),P.current&&clearInterval(P.current),S.current&&S.current.destroy&&S.current.destroy()}),[t==null?void 0:t.id,e==null?void 0:e.id]),w.useEffect(()=>{if(t!=null&&t.video_url){const z=k(t.video_url);z&&b(`https://img.youtube.com/vi/${z}/maxresdefault.jpg`)}},[t==null?void 0:t.video_url]);const T=async()=>{try{const z=await H.entities.CourseProgress.filter({user_id:e.id,course_id:t.id});z&&z.length>0&&g(z[0])}catch(z){console.error("Erro ao carregar progresso:",z)}},M=async(z,K)=>{if(!(!e||!t))try{const V={user_id:e.id,course_id:t.id,lesson_number:t.lesson_number,video_progress:z,video_duration:K,is_completed:z/K>=.9,last_watched:new Date().toISOString()};if(x)await H.entities.CourseProgress.update(x.id,V);else{const Y=await H.entities.CourseProgress.create(V);g(Y)}}catch(V){console.error("Erro ao salvar progresso:",V)}},k=z=>{var K,V;return z?z.includes("youtube.com/watch")?(K=z.split("v=")[1])==null?void 0:K.split("&")[0]:z.includes("youtu.be/")?(V=z.split("youtu.be/")[1])==null?void 0:V.split("?")[0]:null:null};w.useEffect(()=>{const z=k(t==null?void 0:t.video_url);if(!(!z||!C.current)){if(window.YT)O(z);else{const K=document.createElement("script");K.src="https://www.youtube.com/iframe_api";const V=document.getElementsByTagName("script")[0];V.parentNode.insertBefore(K,V),window.onYouTubeIframeAPIReady=()=>O(z)}return()=>{S.current&&S.current.destroy&&S.current.destroy(),P.current&&clearInterval(P.current),E.current&&clearInterval(E.current)}}},[t==null?void 0:t.video_url]);const O=z=>{!z||!C.current||(S.current=new window.YT.Player(C.current,{videoId:z,width:"100%",height:"100%",playerVars:{controls:0,modestbranding:1,rel:0,showinfo:0,fs:0,autoplay:0,iv_load_policy:3,cc_load_policy:0,disablekb:1,start:x!=null&&x.video_progress?Math.floor(x.video_progress):0},events:{onReady:K=>{d(K.target.getDuration()),j(!0),P.current=setInterval(()=>{if(S.current&&S.current.getCurrentTime){const V=S.current.getCurrentTime();l(V)}},500),E.current=setInterval(()=>{if(S.current&&S.current.getCurrentTime&&S.current.getDuration){const V=S.current.getCurrentTime(),Y=S.current.getDuration();V>0&&Y>0&&M(V,Y)}},5e3)},onStateChange:K=>{i(K.data===window.YT.PlayerState.PLAYING),K.data===window.YT.PlayerState.ENDED&&M(c,c)}}}))},$=()=>{!S.current||!_||(s?S.current.pauseVideo():S.current.playVideo())},F=z=>{if(!S.current||!c||!_)return;const K=z[0]/100*c;S.current.seekTo(K,!0)},B=z=>{if(!S.current||!_)return;const K=z[0];h(K),S.current.setVolume(K),v(K===0)},G=()=>{!S.current||!_||(f?(S.current.unMute(),S.current.setVolume(u),v(!1)):(S.current.mute(),v(!0)))},I=z=>{if(!S.current||!_)return;const K=Math.max(0,Math.min(c,o+z));S.current.seekTo(K,!0)},L=z=>{if(isNaN(z))return"0:00";const K=Math.floor(z/60),V=Math.floor(z%60);return`${K}:${V.toString().padStart(2,"0")}`},U=(t==null?void 0:t.video_url)&&(t.video_url.includes("youtube.com")||t.video_url.includes("youtu.be"));return r.jsxs(X,{className:"bg-gradient-to-br from-slate-900 to-slate-800 border border-purple-500/20 overflow-hidden shadow-xl",children:[r.jsx("div",{className:"relative",children:U?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"relative aspect-video bg-black",children:[r.jsx("div",{ref:C,className:"absolute inset-0 w-full h-full",style:{pointerEvents:s?"auto":"none"}}),!s&&y&&r.jsxs("div",{className:"absolute inset-0 bg-black flex items-center justify-center cursor-pointer z-10",onClick:$,children:[r.jsx("img",{src:y,alt:"Thumbnail",className:"absolute inset-0 w-full h-full object-cover"}),r.jsx("div",{className:"absolute inset-0 bg-black/40"}),r.jsx(q.div,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"relative z-20 w-16 h-16 md:w-20 md:h-20 rounded-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center shadow-2xl",children:r.jsx(Qa,{className:"w-8 h-8 md:w-10 md:h-10 text-white ml-1"})})]})]}),r.jsxs("div",{className:"bg-gradient-to-t from-slate-900 via-slate-900/95 to-transparent p-3 md:p-4 space-y-2 md:space-y-3",children:[r.jsxs("div",{className:"px-1 md:px-2",children:[r.jsx(jf,{value:[c>0?o/c*100:0],onValueChange:F,max:100,step:.1,className:"w-full cursor-pointer"}),r.jsxs("div",{className:"flex justify-between text-[10px] md:text-xs text-gray-300 mt-1",children:[r.jsx("span",{children:L(o)}),r.jsx("span",{children:L(c)})]})]}),r.jsxs("div",{className:"flex items-center justify-between px-1 md:px-2",children:[r.jsxs("div",{className:"flex items-center gap-1 md:gap-2",children:[a&&r.jsx(W,{variant:"ghost",size:"icon",onClick:a,className:"text-white hover:text-purple-300 hover:bg-purple-500/20 h-8 w-8 md:h-10 md:w-10",children:r.jsx(nG,{className:"w-4 h-4 md:w-5 md:h-5"})}),r.jsx(W,{onClick:$,disabled:!_,className:"w-8 h-8 md:w-10 md:h-10 rounded-full bg-gradient-to-br from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 shadow-lg shadow-purple-500/50",children:s?r.jsx(cd,{className:"w-4 h-4 md:w-5 md:h-5 text-white"}):r.jsx(Qa,{className:"w-4 h-4 md:w-5 md:h-5 text-white ml-0.5"})}),n&&r.jsx(W,{variant:"ghost",size:"icon",onClick:n,className:"text-white hover:text-purple-300 hover:bg-purple-500/20 h-8 w-8 md:h-10 md:w-10",children:r.jsx(rG,{className:"w-4 h-4 md:w-5 md:h-5"})}),r.jsxs("div",{className:"flex items-center gap-1 md:hidden",children:[r.jsx(W,{variant:"ghost",size:"sm",onClick:()=>I(-10),className:"text-white hover:bg-purple-500/20 h-7 px-2 text-[10px]",children:"-10s"}),r.jsx(W,{variant:"ghost",size:"sm",onClick:()=>I(10),className:"text-white hover:bg-purple-500/20 h-7 px-2 text-[10px]",children:"+10s"})]})]}),r.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[r.jsx(W,{variant:"ghost",size:"icon",onClick:G,className:"text-white hover:text-purple-300 hover:bg-purple-500/20 h-8 w-8 md:h-10 md:w-10",children:f?r.jsx(K3,{className:"w-4 h-4 md:w-5 md:h-5"}):r.jsx(Ko,{className:"w-4 h-4 md:w-5 md:h-5"})}),r.jsx("div",{className:"w-16 md:w-20 hidden sm:block",children:r.jsx(jf,{value:[u],onValueChange:B,max:100,step:1,className:"cursor-pointer"})})]})]})]})]}):r.jsx("video",{src:t==null?void 0:t.video_url,controls:!0,className:"w-full aspect-video bg-black"})}),x&&x.video_progress>0&&r.jsx("div",{className:"bg-purple-900/30 border-t border-purple-500/30 p-2 md:p-3 text-center",children:r.jsxs("p",{className:"text-xs md:text-sm text-purple-300",children:[" Progresso salvo: ",Math.round(x.video_progress/x.video_duration*100),"% assistido"]})})]})}function yPe({course:t,onClose:e,onMaximize:n,onProgressUpdate:a}){const[s,i]=w.useState(!0),[o,l]=w.useState(0),c=w.useRef(null),d=w.useRef(null),u=w.useRef(null),h=x=>{var g,y;return x?x.includes("youtube.com/watch")?(g=x.split("v=")[1])==null?void 0:g.split("&")[0]:x.includes("youtu.be/")?(y=x.split("youtu.be/")[1])==null?void 0:y.split("?")[0]:null:null};w.useEffect(()=>{const x=h(t==null?void 0:t.video_url);if(!(!x||!d.current)){if(window.YT)f(x);else{const g=document.createElement("script");g.src="https://www.youtube.com/iframe_api";const y=document.getElementsByTagName("script")[0];y.parentNode.insertBefore(g,y),window.onYouTubeIframeAPIReady=()=>f(x)}return()=>{c.current&&c.current.destroy&&c.current.destroy(),u.current&&clearInterval(u.current)}}},[t==null?void 0:t.video_url]);const f=x=>{!x||!d.current||(c.current=new window.YT.Player(d.current,{videoId:x,width:"100%",height:"100%",playerVars:{controls:0,modestbranding:1,rel:0,showinfo:0,fs:0,autoplay:1},events:{onReady:g=>{g.target.playVideo(),u.current=setInterval(()=>{if(c.current&&c.current.getCurrentTime){const y=c.current.getCurrentTime();l(y),a&&a(y,c.current.getDuration())}},1e3)},onStateChange:g=>{i(g.data===window.YT.PlayerState.PLAYING)}}}))},v=()=>{c.current&&(s?c.current.pauseVideo():c.current.playVideo())};return r.jsx(q.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-[72px] md:bottom-20 right-4 z-[60] w-64 md:w-80",drag:!0,dragMomentum:!1,dragElastic:0,dragConstraints:{top:-window.innerHeight+250,left:-window.innerWidth+300,right:0,bottom:0},children:r.jsxs(X,{className:"bg-slate-900 border-2 border-purple-500/50 overflow-hidden shadow-2xl",children:[r.jsxs("div",{className:"bg-gradient-to-r from-purple-900 to-pink-900 p-2 flex items-center justify-between",children:[r.jsx("p",{className:"text-white text-xs font-semibold truncate flex-1 mr-2",children:t.title}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(W,{variant:"ghost",size:"icon",onClick:n,className:"text-white hover:bg-white/20 h-7 w-7",children:r.jsx(V3,{className:"w-4 h-4"})}),r.jsx(W,{variant:"ghost",size:"icon",onClick:e,className:"text-white hover:bg-white/20 h-7 w-7",children:r.jsx(nt,{className:"w-4 h-4"})})]})]}),r.jsxs("div",{className:"relative aspect-video bg-black",children:[r.jsx("div",{ref:d,className:"absolute inset-0"}),r.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/20 opacity-0 hover:opacity-100 transition-opacity cursor-pointer",onClick:v,children:r.jsx(W,{className:"w-12 h-12 rounded-full bg-gradient-to-br from-purple-500 to-pink-500",children:s?r.jsx(cd,{className:"w-6 h-6 text-white"}):r.jsx(Qa,{className:"w-6 h-6 text-white ml-0.5"})})})]})]})})}function IJ(){const[t,e]=w.useState(null),[n,a]=w.useState([1]),[s,i]=w.useState(!1),[o,l]=w.useState(null),[c,d]=w.useState(null),[u,h]=w.useState(!1),f=Sn();wt(),w.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"}),v()},[]);const v=async()=>{try{const T=await H.auth.me();e(T)}catch(T){console.error("Erro ao carregar usurio:",T)}},{data:x}=Oe({queryKey:["tarot-courses"],queryFn:()=>H.entities.TarotCourse.filter({is_active:!0},"lesson_number",100),enabled:!!t}),{data:g}=Oe({queryKey:["my-manual-order",t==null?void 0:t.id],queryFn:async()=>(await H.entities.Order.filter({user_id:t.id,product_name:{$regex:"Manual",$options:"i"}},"-created_date",1))[0],enabled:!!t}),{data:y}=Oe({queryKey:["last-watched",t==null?void 0:t.id],queryFn:async()=>{const T=await H.entities.CourseProgress.filter({user_id:t.id},"-last_watched",1);if(T&&T.length>0){const M=T[0],k=x==null?void 0:x.find(O=>O.id===M.course_id);return k?{...k,progress:M}:null}return null},enabled:!!t&&!!x}),b=T=>{n.includes(T)?a(n.filter(M=>M!==T)):a([...n,T])},_=T=>{T&&(window.dispatchEvent(new CustomEvent("playGlobalAudio",{detail:T})),i(!1))},j=()=>{if(!t.address||!t.address.street){alert('Por favor, adicione seu endereo completo em "Minha Conta" primeiro'),f(ft("MinhaConta"));return}h(!0)},S=()=>{const T=`${t.address.street}, ${t.address.number}, ${t.address.city} - ${t.address.state}`,M=`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(T)}`;window.open(M,"_blank")},C={aguardando:{label:"Aguardando Envio",color:"bg-yellow-100 text-yellow-800",icon:""},preparando:{label:"Preparando Pedido",color:"bg-blue-100 text-blue-800",icon:""},enviado:{label:"Enviado",color:"bg-indigo-100 text-indigo-800",icon:""},em_transito:{label:"Em Trnsito",color:"bg-purple-100 text-purple-800",icon:""},entregue:{label:"Entregue",color:"bg-green-100 text-green-800",icon:""}},E=x?x.reduce((T,M)=>{const k=Math.floor((M.lesson_number-1)/3)+1;return T[k]||(T[k]={id:k,title:`Mdulo ${k}`,lessons:[]}),T[k].lessons.push(M),T},{}):{},P=Object.values(E);return t?r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#1a1a2e] via-[#16213e] to-[#0f3460] text-white p-4 md:p-6 pb-32",children:[r.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[r.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[r.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-2",children:"Portal Tarot"}),r.jsx("p",{className:"text-gray-400 text-lg",children:"Sua jornada de aprendizado mstico"})]}),!o&&!c&&y&&y.progress&&y.progress.video_progress>0&&!y.progress.is_completed&&r.jsxs(q.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6",children:[r.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[r.jsx(Qa,{className:"w-5 h-5 text-purple-400"}),"Continuar Assistindo"]}),r.jsx("p",{className:"text-sm text-slate-400",children:y.title})]}),r.jsx(W,{variant:"ghost",size:"sm",onClick:()=>d(y),className:"text-purple-400 hover:text-purple-300",children:"Minimizar"})]}),r.jsx(rF,{course:y,user:t,onNext:P.length>0?()=>{const T=P.find(k=>k.lessons.some(O=>O.id===y.id)),M=T==null?void 0:T.lessons.findIndex(k=>k.id===y.id);M<T.lessons.length-1&&l(T.lessons[M+1])}:null,onPrevious:P.length>0?()=>{const T=P.find(k=>k.lessons.some(O=>O.id===y.id)),M=T==null?void 0:T.lessons.findIndex(k=>k.id===y.id);M>0&&l(T.lessons[M-1])}:null})]}),o&&!c?r.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[r.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl md:text-2xl font-bold text-white",children:o.title}),r.jsx("p",{className:"text-slate-400 text-sm",children:o.description})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(W,{variant:"ghost",size:"sm",onClick:()=>{d(o),l(null)},className:"text-purple-400 hover:text-purple-300",children:"Minimizar"}),r.jsx(W,{variant:"ghost",size:"icon",onClick:()=>l(null),className:"text-gray-400 hover:text-white",children:r.jsx(nt,{className:"w-5 h-5"})})]})]}),r.jsx(rF,{course:o,user:t,onNext:P.length>0?()=>{const T=P.find(k=>k.lessons.some(O=>O.id===o.id)),M=T==null?void 0:T.lessons.findIndex(k=>k.id===o.id);M<T.lessons.length-1&&l(T.lessons[M+1])}:null,onPrevious:P.length>0?()=>{const T=P.find(k=>k.lessons.some(O=>O.id===o.id)),M=T==null?void 0:T.lessons.findIndex(k=>k.id===o.id);M>0&&l(T.lessons[M-1])}:null})]}):null,r.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"space-y-4 mb-8",children:P.map(T=>{const M=n.includes(T.id),O=T.lessons.filter($=>$.is_completed).length/T.lessons.length*100;return r.jsxs(X,{className:"bg-[#1a1a2e] border-purple-900/30 overflow-hidden",children:[r.jsxs("button",{onClick:()=>b(T.id),className:"w-full p-4 flex items-center justify-between hover:bg-purple-900/10 transition",children:[r.jsxs("div",{className:"flex-1 text-left",children:[r.jsx("h3",{className:"text-xl font-bold text-gray-200",children:T.title}),r.jsxs("div",{className:"mt-2 flex items-center gap-3",children:[r.jsx("div",{className:"flex-1 bg-slate-700 h-1.5 rounded-full overflow-hidden max-w-xs",children:r.jsx(q.div,{initial:{width:0},animate:{width:`${O}%`},className:"h-full bg-gradient-to-r from-purple-500 to-pink-500"})}),r.jsxs("span",{className:"text-xs text-slate-400",children:[Math.round(O),"%"]})]})]}),M?r.jsx(ux,{className:"w-6 h-6 text-purple-400"}):r.jsx(ld,{className:"w-6 h-6 text-purple-400"})]}),M&&r.jsx("div",{className:"border-t border-purple-900/30",children:T.lessons.map($=>{const B=(I=>{var L,U;return I?I.includes("youtube.com/watch")?(L=I.split("v=")[1])==null?void 0:L.split("&")[0]:I.includes("youtu.be/")?(U=I.split("youtu.be/")[1])==null?void 0:U.split("?")[0]:null:null})($.video_url),G=$.thumbnail_url||(B?`https://img.youtube.com/vi/${B}/maxresdefault.jpg`:null);return r.jsxs("button",{onClick:()=>l($),className:"w-full p-3 md:p-4 flex items-center gap-3 md:gap-4 hover:bg-purple-900/10 transition border-b border-purple-900/20 last:border-0",children:[G&&r.jsxs("div",{className:"flex-shrink-0 w-20 md:w-24 h-12 md:h-14 rounded-lg overflow-hidden bg-slate-800 relative",children:[r.jsx("img",{src:G,alt:$.title,className:"w-full h-full object-cover"}),r.jsx("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center",children:r.jsx("div",{className:"w-6 h-6 md:w-8 md:h-8 rounded-full bg-purple-600/90 flex items-center justify-center",children:r.jsx(Qa,{className:"w-3 h-3 md:w-4 md:h-4 text-white ml-0.5"})})})]}),r.jsx("div",{className:"flex-shrink-0",children:$.is_completed?r.jsx(_n,{className:"w-5 h-5 md:w-6 md:h-6 text-green-400"}):r.jsx(Qa,{className:"w-5 h-5 md:w-6 md:h-6 text-purple-400"})}),r.jsxs("div",{className:"flex-1 text-left min-w-0",children:[r.jsx("p",{className:"font-semibold text-white text-sm md:text-base truncate",children:$.title}),r.jsx("p",{className:"text-xs md:text-sm text-gray-400 truncate",children:$.duration||$.description})]})]},$.id)})})]},T.id)})}),r.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"space-y-4 mb-8",children:[r.jsx(X,{onClick:()=>f(ft("OraculoCombinacoes")),className:"bg-[#1a1a2e] border-purple-900/30 p-6 hover:bg-purple-900/10 transition cursor-pointer",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-lg bg-purple-900/30 flex items-center justify-center",children:r.jsx(_e,{className:"w-6 h-6 text-purple-400"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-lg font-bold text-white mb-1",children:"Orculo de Combinaes"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Explore combinaes de cartas"})]})]})}),r.jsx(X,{onClick:()=>f(ft("BibliotecaMistica")),className:"bg-[#1a1a2e] border-purple-900/30 p-6 hover:bg-purple-900/10 transition cursor-pointer",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-lg bg-purple-900/30 flex items-center justify-center",children:r.jsx(Oa,{className:"w-6 h-6 text-purple-400"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-lg font-bold text-white mb-1",children:"Biblioteca Mstica"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Acesse materiais complementares"})]})]})}),r.jsxs(X,{onClick:()=>f(ft("PlanoDeAcao")),className:"bg-gradient-to-br from-orange-900/30 to-yellow-900/30 border-orange-500/30 p-6 hover:bg-orange-900/20 transition cursor-pointer relative overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-orange-500/10 to-transparent rounded-full -mr-16 -mt-16"}),r.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[r.jsx("div",{className:"w-12 h-12 rounded-lg bg-gradient-to-br from-orange-600 to-yellow-600 flex items-center justify-center shadow-lg",children:r.jsx(dh,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-lg font-bold text-white mb-1",children:"Plano de Ao"}),r.jsx("p",{className:"text-sm text-orange-200",children:"Guia completo para se tornar uma tarloga de sucesso"})]})]})]}),r.jsx(X,{onClick:()=>i(!0),className:"bg-[#1a1a2e] border-pink-500/30 p-6 hover:bg-purple-900/10 transition cursor-pointer",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-lg bg-gradient-to-br from-pink-600 to-purple-600 flex items-center justify-center",children:r.jsx(Ko,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-lg font-bold text-white mb-1",children:"Vocem"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Biblioteca de udios e meditaes"})]})]})}),r.jsxs(X,{onClick:()=>f(ft("Certificado")),className:"bg-gradient-to-br from-yellow-900/30 to-orange-900/30 border-yellow-500/30 p-6 hover:bg-yellow-900/20 transition cursor-pointer relative overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-yellow-500/10 to-transparent rounded-full -mr-16 -mt-16"}),r.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[r.jsx("div",{className:"w-12 h-12 rounded-lg bg-gradient-to-br from-yellow-600 to-orange-600 flex items-center justify-center shadow-lg",children:r.jsx(xr,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("h3",{className:"text-lg font-bold text-white mb-1 flex items-center gap-2",children:["Certificado de Mestria",t.tarot_certificate_url&&r.jsx(_n,{className:"w-4 h-4 text-green-400"})]}),r.jsx("p",{className:"text-sm text-yellow-200",children:t.tarot_certificate_url?"Ver seu certificado consagrado":"Consagre seu nome no pergaminho sagrado"})]})]})]})]}),r.jsx(q.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.6},className:"mb-8",children:r.jsx(X,{className:"bg-gradient-to-br from-purple-900/40 to-pink-900/40 border-purple-500/50 hover:border-purple-400/80 transition cursor-pointer overflow-hidden",onClick:()=>f(ft("ConsultaEmelyn")),children:r.jsx("div",{className:"p-4 md:p-6",children:r.jsxs("div",{className:"flex items-start gap-3 md:gap-4",children:[r.jsx("div",{className:"w-14 h-14 md:w-20 md:h-20 rounded-full overflow-hidden flex-shrink-0 shadow-xl border-4 border-purple-500",children:r.jsx("img",{src:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/690e5f6f991e09e82bef3795/d7838e0fb_ImagemdoWhatsAppde2025-11-13s131958_d191baad1.jpg",alt:"Emelyn Chott",className:"w-full h-full object-cover"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("h3",{className:"text-lg md:text-xl lg:text-2xl font-bold text-white mb-2 flex items-center gap-2",children:["Consulta Individual com Emelyn",r.jsx("span",{className:"text-yellow-400 text-xl md:text-2xl",children:""})]}),r.jsx("p",{className:"text-purple-200 text-xs md:text-sm lg:text-base mb-3 md:mb-4 leading-relaxed",children:"Agende uma sesso exclusiva de tarot profissional por videoconferncia. Orientao personalizada e transformadora."}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsx(De,{className:"bg-yellow-600 text-white text-xs",children:"Sesses Individuais"}),r.jsx(De,{className:"bg-purple-600 text-white text-xs",children:"Online"})]})]})]})})})}),r.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8",children:r.jsx(X,{className:"bg-gradient-to-br from-[#1a1a2e] to-[#2d2d44] border-purple-900/30 overflow-hidden",children:r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"flex flex-col md:flex-row gap-6 items-center",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("img",{src:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/690e5f6f991e09e82bef3795/638330904_meuEbookResetei-2-_1_.png",alt:"Manual de Tarot Fsico",className:"w-64 h-auto object-contain"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h2",{className:"text-2xl font-bold text-white mb-3",children:"Manual de Tarot Fsico"}),r.jsxs("p",{className:"text-purple-400 text-sm mb-4",children:["Status: ",r.jsx("span",{className:"font-semibold",children:"Em preparao"})]}),r.jsx("p",{className:"text-gray-300 mb-6 leading-relaxed",children:"Uma viagem concisa pelos 78 Arcanos do Tarot. Este manual completo ser enviado para voc em breve."}),r.jsxs(W,{onClick:j,className:"bg-purple-600 hover:bg-purple-700 text-white px-8 py-3 rounded-lg font-semibold",children:[r.jsx(Ou,{className:"w-5 h-5 mr-2"}),"Rastrear Envio"]})]})]})})})})]}),r.jsx(DQ,{isOpen:s,onClose:()=>i(!1),onPlayAudio:_}),r.jsx(gt,{children:c&&r.jsx(yPe,{course:c,onClose:()=>d(null),onMaximize:()=>{l(c),d(null),window.scrollTo({top:0,behavior:"smooth"})},onProgressUpdate:async(T,M)=>{const k={user_id:t.id,course_id:c.id,lesson_number:c.lesson_number,video_progress:T,video_duration:M,is_completed:T/M>=.9,last_watched:new Date().toISOString()};try{const O=await H.entities.CourseProgress.filter({user_id:t.id,course_id:c.id});O&&O.length>0?await H.entities.CourseProgress.update(O[0].id,k):await H.entities.CourseProgress.create(k)}catch(O){console.error("Erro ao salvar progresso:",O)}}})}),r.jsx(gt,{children:u&&r.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-4 bg-black/60",children:r.jsxs(q.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-gradient-to-br from-slate-900 to-slate-800 rounded-2xl border-2 border-purple-500/50 p-6 max-w-md w-full",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[r.jsx(Ou,{className:"w-6 h-6 text-purple-400"}),"Rastreamento"]}),r.jsx(W,{variant:"ghost",size:"icon",onClick:()=>h(!1),className:"text-gray-400",children:r.jsx(nt,{className:"w-5 h-5"})})]}),g?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg",children:[r.jsx("p",{className:"text-sm text-slate-400 mb-1",children:"Status do Pedido"}),r.jsxs(De,{className:C[g.shipping_status||"aguardando"].color,children:[C[g.shipping_status||"aguardando"].icon," ",C[g.shipping_status||"aguardando"].label]})]}),g.tracking_code&&r.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg",children:[r.jsx("p",{className:"text-sm text-slate-400 mb-1",children:"Cdigo de Rastreio"}),r.jsx("p",{className:"text-white font-mono",children:g.tracking_code})]}),r.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg",children:[r.jsx("p",{className:"text-sm text-slate-400 mb-1",children:"Endereo de Entrega"}),r.jsxs("p",{className:"text-white text-sm",children:[t.address.street,", ",t.address.number,t.address.complement&&` - ${t.address.complement}`,r.jsx("br",{}),t.address.neighborhood," - ",t.address.city,"/",t.address.state,r.jsx("br",{}),"CEP: ",t.address.cep]})]}),r.jsxs(W,{onClick:S,className:"w-full bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700",children:[r.jsx(op,{className:"w-5 h-5 mr-2"}),"Ver no Google Maps"]})]}):r.jsxs("div",{className:"text-center py-6",children:[r.jsx(Ou,{className:"w-12 h-12 text-slate-600 mx-auto mb-3"}),r.jsx("p",{className:"text-slate-400",children:"Nenhum pedido encontrado"})]})]})})})]}):r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx(_e,{className:"w-12 h-12 text-purple-500 animate-pulse"})})}const aF={bruxa_natural:"#9333EA",sabio:"#F59E0B",guardiao_astral:"#3B82F6",xama:"#10B981",navegador_cosmico:"#8B5CF6",alquimista:"#6366F1",none:"#64748B"};function LJ(){const t=Sn(),e=wt(),[n,a]=w.useState(null),[s,i]=w.useState(!1),[o,l]=w.useState(null),[c,d]=w.useState(!1),h=new URLSearchParams(window.location.search).get("id");w.useEffect(()=>{f(),v()},[h]);const f=async()=>{try{const E=await H.auth.me();a(E)}catch(E){console.error("Erro ao carregar usurio:",E)}},v=()=>{JSON.parse(localStorage.getItem("voted_duels")||"[]").includes(h)&&i(!0)},{data:x,isLoading:g}=Oe({queryKey:["duel",h],queryFn:async()=>(await H.entities.Duel.filter({id:h},"created_date",1))[0],enabled:!!h}),y=Ue({mutationFn:async E=>{const P={challenger_votes:x.challenger_votes+(E==="challenger"?1:0),opponent_votes:x.opponent_votes+(E==="opponent"?1:0),total_votes:x.total_votes+1,voters:[...x.voters||[],n.id]};await H.entities.Duel.update(h,P);const T=10;return await H.auth.updateMe({xp:(n.xp||0)+T}),{side:E,xpGain:T}},onSuccess:({side:E,xpGain:P})=>{const T=JSON.parse(localStorage.getItem("voted_duels")||"[]");T.push(h),localStorage.setItem("voted_duels",JSON.stringify(T)),i(!0),l(E),E==="challenger"?aF[x.challenger_archetype]:aF[x.opponent_archetype],d(!0),setTimeout(()=>d(!1),500),qe.success(`Voto registrado! +${P} XP`,{description:"Sua sabedoria foi contabilizada."}),e.invalidateQueries({queryKey:["duel",h]}),e.invalidateQueries({queryKey:["user"]})}}),b=E=>{y.mutate(E)},_=()=>{t(ft("Arena"))};if(!n||g||!x)return r.jsx("div",{className:"fixed inset-0 bg-[#0a0a1a] flex items-center justify-center z-50",children:r.jsx(q.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:r.jsx(ri,{className:"w-12 h-12 text-yellow-400"})})});const j=x.total_votes||1,S=Math.round(x.challenger_votes/j*100),C=Math.round(x.opponent_votes/j*100);return r.jsxs("div",{className:`fixed inset-0 bg-gradient-to-b from-[#0a0a1a] via-[#131128] to-[#0a0a1a] z-50 overflow-y-auto transition-all duration-500 ${c?"brightness-125":""}`,children:[r.jsx("button",{onClick:_,className:"fixed top-4 right-4 z-50 w-12 h-12 rounded-full bg-slate-800/50 hover:bg-slate-700/50 flex items-center justify-center transition",children:r.jsx(nt,{className:"w-6 h-6 text-gray-400"})}),r.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-12 pb-32",children:[r.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center justify-center gap-8 mb-12",children:[r.jsxs(q.div,{initial:{x:-100,opacity:0},animate:{x:0,opacity:1},transition:{delay:.2},className:"text-center",children:[r.jsxs("div",{className:"relative inline-block",children:[x.challenger_level>x.opponent_level&&r.jsx(q.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.5},className:"absolute -top-2 -right-2 z-10",children:r.jsx(Bn,{className:"w-6 h-6 text-yellow-400 drop-shadow-[0_0_10px_rgba(250,204,21,0.8)]"})}),r.jsx(Lr,{user:{avatar_url:x.challenger_avatar,archetype:x.challenger_archetype},size:"xl",showStatus:!1})]}),r.jsx("h3",{className:"text-xl font-bold text-white mt-4",children:x.challenger_name}),r.jsxs("p",{className:"text-gray-400 text-sm",children:["Nvel ",x.challenger_level]}),r.jsx("p",{className:"text-purple-400 text-xs",children:x.challenger_archetype==="sabio"?"Sbio - Orculo":x.challenger_archetype==="guardiao_astral"?"Guardio Astral - Mago Branco":"Mstico"})]}),r.jsx(q.div,{initial:{scale:0,rotate:0},animate:{scale:1,rotate:360},transition:{delay:.4,duration:.6},children:r.jsx(ri,{className:"w-12 h-12 text-gray-600"})}),r.jsxs(q.div,{initial:{x:100,opacity:0},animate:{x:0,opacity:1},transition:{delay:.2},className:"text-center",children:[r.jsxs("div",{className:"relative inline-block",children:[x.opponent_level>x.challenger_level&&r.jsx(q.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.5},className:"absolute -top-2 -right-2 z-10",children:r.jsx(Bn,{className:"w-6 h-6 text-yellow-400 drop-shadow-[0_0_10px_rgba(250,204,21,0.8)]"})}),r.jsx(Lr,{user:{avatar_url:x.opponent_avatar,archetype:x.opponent_archetype},size:"xl",showStatus:!1})]}),r.jsx("h3",{className:"text-xl font-bold text-white mt-4",children:x.opponent_name}),r.jsxs("p",{className:"text-gray-400 text-sm",children:["Nvel ",x.opponent_level]}),r.jsx("p",{className:"text-blue-400 text-xs",children:x.opponent_archetype==="guardiao_astral"?"Guardio Astral - Mago Branco":x.opponent_archetype==="sabio"?"Sbio - Orculo":"Mstico"})]})]}),r.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8",children:r.jsxs(X,{className:"bg-[#131128] border-purple-400/20 p-8 text-center",children:[r.jsx("p",{className:"text-purple-300 text-sm mb-3 uppercase tracking-wide",children:"A Questo do Duelo"}),r.jsxs("h2",{className:"text-2xl md:text-3xl font-bold text-yellow-300",children:['"',x.question,'"']})]})}),r.jsxs("div",{className:"space-y-6 mb-8",children:[r.jsx(q.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.5},children:r.jsxs(X,{className:"bg-[#131128] border-purple-400/20 p-6",children:[r.jsxs("h3",{className:"text-xl font-bold text-white mb-4",children:["Argumento de ",x.challenger_name]}),r.jsx("p",{className:"text-gray-300 leading-relaxed mb-6",children:x.challenger_argument}),r.jsx(W,{onClick:()=>b("challenger"),disabled:s||y.isPending,className:`w-full ${o==="challenger"?"bg-green-600 hover:bg-green-700":s?"bg-gray-700 cursor-not-allowed":"bg-purple-600 hover:bg-purple-700"}`,children:o==="challenger"?r.jsxs(r.Fragment,{children:[r.jsx(_n,{className:"w-5 h-5 mr-2"}),"Votado!"]}):s?"Votar neste argumento":r.jsxs(r.Fragment,{children:[r.jsx(_n,{className:"w-5 h-5 mr-2"}),"Votar neste argumento"]})})]})}),r.jsx(q.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.6},children:r.jsxs(X,{className:"bg-[#131128] border-purple-400/20 p-6",children:[r.jsxs("h3",{className:"text-xl font-bold text-white mb-4",children:["Argumento de ",x.opponent_name]}),r.jsx("p",{className:"text-gray-300 leading-relaxed mb-6",children:x.opponent_argument}),r.jsx(W,{onClick:()=>b("opponent"),disabled:s||y.isPending,className:`w-full ${o==="opponent"?"bg-green-600 hover:bg-green-700":s?"bg-gray-700 cursor-not-allowed":"bg-purple-600 hover:bg-purple-700"}`,children:o==="opponent"?r.jsxs(r.Fragment,{children:[r.jsx(_n,{className:"w-5 h-5 mr-2"}),"Votado!"]}):s?"Votar neste argumento":r.jsxs(r.Fragment,{children:[r.jsx(_n,{className:"w-5 h-5 mr-2"}),"Votar neste argumento"]})})]})})]}),r.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"mb-8",children:[r.jsx("h3",{className:"text-2xl font-bold text-white text-center mb-4",children:s?"Sua Centelha de XP":"Barra de Convico"}),r.jsx("div",{className:"relative h-12 bg-slate-800 rounded-full overflow-hidden mb-4",children:r.jsx(q.div,{initial:{width:`${S}%`},animate:{width:`${S}%`},transition:{duration:1},className:"absolute left-0 top-0 h-full bg-gradient-to-r from-yellow-500 to-yellow-600"})}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"text-yellow-400 font-bold",children:[S,"% ",x.challenger_name]}),r.jsxs("span",{className:"text-gray-400 font-bold",children:[C,"% ",x.opponent_name]})]})]}),s&&r.jsx(q.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},children:r.jsxs(W,{onClick:_,className:"w-full bg-slate-800 hover:bg-slate-700 text-white py-6 text-lg",children:[r.jsx(Go,{className:"w-5 h-5 mr-2"}),"Voltar para a Arena"]})})]})]})}const bPe=[{id:1,title:"Lutas de Ideias",description:"Desafie outros msticos em debates filosficos e espirituais. Prove sua sabedoria!",icon:ri,gradient:"from-purple-600 via-purple-500 to-pink-600",glowColor:"rgba(147, 51, 234, 0.5)",status:"active",route:"Arena"},{id:2,title:"Doj Mstico",description:"Treine suas habilidades msticas e desbloqueie novos poderes atravs de desafios nicos.",icon:gr,gradient:"from-yellow-600 via-orange-500 to-red-600",glowColor:"rgba(234, 179, 8, 0.5)",status:"active",route:"Dojo"},{id:3,title:"Tarot Online",description:"Enfrente consulentes virtuais em atendimentos ao vivo. Demonstre seu domnio profissional!",icon:Kn,gradient:"from-cyan-600 via-blue-500 to-indigo-600",glowColor:"rgba(6, 182, 212, 0.5)",status:"active",route:"TarotOnline"},{id:4,title:"Magic: O Grimrio",description:"Duela com cartas msticas em batalhas estratgicas. Conjure criaturas e domine a mana!",icon:si,gradient:"from-indigo-600 via-purple-600 to-pink-600",glowColor:"rgba(99, 102, 241, 0.5)",status:"active",route:"MagicArena"}];function FJ(){const t=Sn(),[e,n]=w.useState(null),[a,s]=w.useState(null);w.useEffect(()=>{i()},[]);const i=async()=>{try{const c=await H.auth.me();n(c)}catch(c){console.error("Erro ao carregar usurio:",c)}},o=c=>{c.status==="active"&&c.route&&t(ft(c.route))},l=()=>{t(ft("Hub"))};return e?r.jsxs("div",{className:"fixed inset-0 bg-gradient-to-b from-[#0a0a1a] via-[#131128] to-[#0a0a1a] z-50 overflow-y-auto",children:[r.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(20)].map((c,d)=>r.jsx(q.div,{className:"absolute w-1 h-1 bg-purple-400/30 rounded-full",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`},animate:{y:[0,-30,0],opacity:[0,1,0],scale:[0,1.5,0]},transition:{duration:3+Math.random()*2,repeat:1/0,delay:Math.random()*2}},d))}),r.jsx("button",{onClick:l,className:"fixed top-4 right-4 z-50 w-12 h-12 rounded-full bg-slate-800/50 hover:bg-slate-700/50 flex items-center justify-center transition backdrop-blur-sm",children:r.jsx(nt,{className:"w-6 h-6 text-gray-400"})}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-12 pb-32",children:[r.jsxs(q.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center mb-16",children:[r.jsx(q.h1,{className:"text-4xl md:text-5xl lg:text-7xl font-bold text-white mb-4",animate:{textShadow:["0 0 20px rgba(147, 51, 234, 0.5)","0 0 40px rgba(147, 51, 234, 0.8)","0 0 20px rgba(147, 51, 234, 0.5)"]},transition:{duration:2,repeat:1/0},children:"Arena dos Orculos"}),r.jsx(q.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"text-gray-400 text-base md:text-lg lg:text-xl",children:"Escolha seu desafio e prove seu valor"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-8",children:bPe.map((c,d)=>{const u=c.icon,h=a===c.id,f=c.status==="active";return r.jsx(q.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{delay:d*.2,duration:.6},onHoverStart:()=>s(c.id),onHoverEnd:()=>s(null),children:r.jsxs(X,{className:`relative overflow-hidden border-2 ${f?"border-purple-500/50 cursor-pointer":"border-gray-700/50 cursor-not-allowed"} bg-[#131128] backdrop-blur-sm transition-all duration-500 ${f&&"hover:scale-105 hover:border-purple-400"}`,onClick:()=>o(c),style:{boxShadow:h&&f?`0 0 40px ${c.glowColor}`:"none"},children:[r.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${c.gradient} opacity-10 transition-opacity duration-500 ${h&&f?"opacity-20":""}`}),f&&r.jsx(q.div,{className:"absolute inset-0",animate:{background:[`radial-gradient(circle at 0% 0%, ${c.glowColor} 0%, transparent 50%)`,`radial-gradient(circle at 100% 100%, ${c.glowColor} 0%, transparent 50%)`,`radial-gradient(circle at 0% 0%, ${c.glowColor} 0%, transparent 50%)`]},transition:{duration:3,repeat:1/0}}),r.jsxs("div",{className:"relative z-10 p-6 md:p-8",children:[r.jsx(q.div,{className:"mb-6 flex justify-center",animate:h&&f?{scale:[1,1.1,1],rotate:[0,5,-5,0]}:{},transition:{duration:.5},children:r.jsx("div",{className:`w-20 h-20 md:w-24 md:h-24 rounded-full bg-gradient-to-br ${c.gradient} flex items-center justify-center ${c.status==="coming_soon"?"opacity-50":""}`,style:{boxShadow:h&&f?`0 0 30px ${c.glowColor}`:"none"},children:r.jsx(u,{className:"w-10 h-10 md:w-12 md:h-12 text-white"})})}),r.jsx("h3",{className:`text-xl md:text-2xl font-bold text-white mb-3 text-center ${c.status==="coming_soon"?"opacity-70":""}`,children:c.title}),r.jsx("p",{className:`text-gray-400 text-center text-sm mb-6 leading-relaxed ${c.status==="coming_soon"?"opacity-70":""}`,children:c.description}),f?r.jsx(q.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:r.jsx(W,{className:`w-full bg-gradient-to-r ${c.gradient} hover:opacity-90 text-white font-bold py-3 rounded-xl shadow-lg`,children:"Entrar Agora"})}):r.jsx(W,{disabled:!0,className:"w-full bg-gray-700 text-gray-400 cursor-not-allowed py-3 rounded-xl",children:"Em Breve"}),h&&f&&r.jsx("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:[...Array(5)].map((v,x)=>r.jsx(q.div,{className:"absolute w-2 h-2 bg-white rounded-full",initial:{x:"50%",y:"50%",opacity:1},animate:{x:`${Math.random()*100}%`,y:`${Math.random()*100}%`,opacity:0},transition:{duration:1,delay:x*.1}},x))})]})]})},c.id)})}),r.jsx(q.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{delay:.8},className:"mt-16",children:r.jsx(X,{className:"bg-[#131128] border-purple-500/30 p-6",children:r.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-around gap-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Nvel Atual"}),r.jsx("p",{className:"text-3xl font-bold text-purple-400",children:e.level||1})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Arqutipo"}),r.jsx("p",{className:"text-xl font-bold text-white",children:e.archetype==="sabio"?"Sbio":e.archetype==="guardiao_astral"?"Guardio Astral":e.archetype==="bruxa_natural"?"Bruxa Natural":e.archetype==="xama"?"Xam":e.archetype==="navegador_cosmico"?"Navegador Csmico":e.archetype==="alquimista"?"Alquimista":"Mstico"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"XP Total"}),r.jsx("p",{className:"text-3xl font-bold text-yellow-400",children:e.xp||0})]})]})})})]})]}):r.jsx("div",{className:"fixed inset-0 bg-[#0a0a1a] flex items-center justify-center z-50",children:r.jsx(q.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:r.jsx(_e,{className:"w-12 h-12 text-purple-500"})})})}const wPe=[{name:"O Louco",arcana:"Maior",image:""},{name:"O Mago",arcana:"Maior",image:""},{name:"A Sacerdotisa",arcana:"Maior",image:""},{name:"A Imperatriz",arcana:"Maior",image:""},{name:"O Imperador",arcana:"Maior",image:""},{name:"O Hierofante",arcana:"Maior",image:""},{name:"Os Enamorados",arcana:"Maior",image:""},{name:"O Carro",arcana:"Maior",image:""},{name:"A Justia",arcana:"Maior",image:""},{name:"O Eremita",arcana:"Maior",image:""},{name:"A Roda da Fortuna",arcana:"Maior",image:""},{name:"A Fora",arcana:"Maior",image:""},{name:"O Enforcado",arcana:"Maior",image:""},{name:"A Morte",arcana:"Maior",image:""},{name:"A Temperana",arcana:"Maior",image:""},{name:"O Diabo",arcana:"Maior",image:""},{name:"A Torre",arcana:"Maior",image:""},{name:"A Estrela",arcana:"Maior",image:""},{name:"A Lua",arcana:"Maior",image:""},{name:"O Sol",arcana:"Maior",image:""},{name:"O Julgamento",arcana:"Maior",image:""},{name:"O Mundo",arcana:"Maior",image:""}];function $J(){const t=Sn(),[e,n]=w.useState(null),[a,s]=w.useState([]),[i,o]=w.useState(""),[l,c]=w.useState(""),[d,u]=w.useState(!1),[h,f]=w.useState(!1);w.useEffect(()=>{v(),x()},[]);const v=async()=>{try{const _=await H.auth.me();n(_)}catch(_){console.error("Erro ao carregar usurio:",_)}},x=()=>{const j=[...wPe].sort(()=>Math.random()-.5).slice(0,3);s(j)},g=()=>{x(),o(""),c(""),f(!1)},y=async()=>{if(!i.trim()){qe.error("Escreva sua interpretao antes de solicitar orientao!");return}u(!0),f(!1);try{const _=a.map(C=>C.name),j=`Voc  Esphera, uma mestra de Tarot sbia, gentil e encorajadora. Sua misso no  dar a 'resposta certa', mas guiar o aluno a aprofundar sua prpria intuio.

A tiragem do aluno continha as seguintes cartas:
- Passado: ${_[0]}
- Presente: ${_[1]}
- Futuro: ${_[2]}

A interpretao do aluno foi:
"${i}"

Sua tarefa  fornecer um feedback construtivo e encorajador seguindo estas regras:
1. Comece elogiando um ponto forte da interpretao.
2. Gentilmente, sugira outras possveis camadas de significado ou conexes entre as cartas que o aluno pode no ter visto. No diga que ele est errado.
3. Termine com uma mensagem de incentivo.

Seja potica, mas clara. Use pargrafos curtos e linguagem acolhedora.`,S=await H.integrations.Core.InvokeLLM({prompt:j,add_context_from_internet:!1});c(S),f(!0),await H.auth.updateMe({xp:(e.xp||0)+15}),qe.success("+15 XP! Continue praticando! ")}catch(_){console.error("Erro ao obter feedback:",_),qe.error("No foi possvel conectar com a Mestra Esphera. Tente novamente.")}finally{u(!1)}},b=()=>{t(ft("ArenaHub"))};return e?r.jsxs("div",{className:"fixed inset-0 bg-gradient-to-b from-[#0a0a1a] via-[#1a0a2e] to-[#0a0a1a] z-50 overflow-y-auto",children:[r.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(15)].map((_,j)=>r.jsx(q.div,{className:"absolute w-2 h-2 bg-yellow-400/30 rounded-full",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`},animate:{y:[0,-40,0],opacity:[0,1,0],scale:[0,1.2,0]},transition:{duration:4+Math.random()*2,repeat:1/0,delay:Math.random()*2}},j))}),r.jsx("button",{onClick:b,className:"fixed top-4 right-4 z-50 w-12 h-12 rounded-full bg-slate-800/50 hover:bg-slate-700/50 flex items-center justify-center transition backdrop-blur-sm",children:r.jsx(nt,{className:"w-6 h-6 text-gray-400"})}),r.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-12 pb-32",children:[r.jsxs(q.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},className:"text-center mb-12",children:[r.jsx(q.div,{animate:{scale:[1,1.1,1],rotate:[0,5,-5,0]},transition:{duration:3,repeat:1/0},className:"inline-block mb-4",children:r.jsx(si,{className:"w-16 h-16 text-yellow-400 mx-auto"})}),r.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-white mb-4",children:"Doj de Tarot"}),r.jsx("p",{className:"text-gray-400 text-lg md:text-xl mb-2",children:"Pratique sua intuio e sabedoria"}),r.jsx("p",{className:"text-purple-300 text-sm",children:"Mestra Esphera guiar sua jornada de aprendizado"})]}),r.jsx(q.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.2},className:"mb-8",children:r.jsxs(X,{className:"bg-gradient-to-br from-purple-900/30 to-purple-800/30 border-purple-500/30 p-6 md:p-8",children:[r.jsxs("h2",{className:"text-2xl font-bold text-center text-purple-300 mb-6 flex items-center justify-center gap-2",children:[r.jsx(Wn,{className:"w-6 h-6"}),"O Altar da Tiragem",r.jsx(Wn,{className:"w-6 h-6"})]}),r.jsx("div",{className:"grid grid-cols-3 gap-4 md:gap-8 mb-6",children:a.map((_,j)=>r.jsxs(q.div,{initial:{opacity:0,scale:.8,rotateY:180},animate:{opacity:1,scale:1,rotateY:0},transition:{delay:.3+j*.2,duration:.6},className:"text-center",children:[r.jsxs(q.div,{whileHover:{scale:1.05,y:-10},className:"bg-gradient-to-br from-yellow-700 to-yellow-900 rounded-2xl p-4 md:p-6 shadow-lg border-2 border-yellow-500/50 mb-3",style:{boxShadow:"0 0 30px rgba(234, 179, 8, 0.3)"},children:[r.jsx("div",{className:"text-4xl md:text-6xl mb-2",children:_.image}),r.jsx("p",{className:"text-yellow-100 font-bold text-xs md:text-sm",children:_.name})]}),r.jsx("p",{className:"text-gray-400 text-xs md:text-sm font-semibold uppercase",children:j===0?"Passado":j===1?"Presente":"Futuro"})]},j))}),r.jsx("div",{className:"text-center",children:r.jsxs(W,{onClick:g,variant:"outline",className:"border-purple-500/50 text-purple-300 hover:bg-purple-900/30",children:[r.jsx(_e,{className:"w-4 h-4 mr-2"}),"Nova Tiragem"]})})]})}),r.jsx(q.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.5},className:"mb-8",children:r.jsxs(X,{className:"bg-[#131128] border-purple-500/30 p-6",children:[r.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Escreva sua interpretao:"}),r.jsx(It,{value:i,onChange:_=>o(_.target.value),placeholder:"Com base nas cartas, escreva aqui a sua interpretao da jornada... O que o Passado revela? Como o Presente se manifesta? Para onde o Futuro aponta?",className:"bg-slate-800/50 border-purple-900/30 text-white placeholder:text-gray-500 min-h-[200px] resize-none text-base leading-relaxed",disabled:d}),r.jsx("div",{className:"mt-6 flex justify-center",children:r.jsx(q.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:r.jsx(W,{onClick:y,disabled:!i.trim()||d,className:"bg-gradient-to-r from-yellow-600 via-orange-500 to-red-600 hover:opacity-90 text-white font-bold px-8 py-6 text-lg rounded-xl shadow-lg disabled:opacity-50",children:d?r.jsxs(r.Fragment,{children:[r.jsx(zt,{className:"w-5 h-5 mr-2 animate-spin"}),"Consultando Esphera..."]}):r.jsxs(r.Fragment,{children:[r.jsx(_e,{className:"w-5 h-5 mr-2"}),"Pedir Orientao  Mestra"]})})})})]})}),r.jsx(gt,{children:h&&l&&r.jsx(q.div,{initial:{opacity:0,y:30,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-30,scale:.95},transition:{duration:.5},children:r.jsxs(X,{className:"bg-gradient-to-br from-purple-900/40 to-pink-900/40 border-purple-400/50 p-6 md:p-8 shadow-2xl",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx(q.div,{animate:{rotate:[0,360],scale:[1,1.2,1]},transition:{duration:2,repeat:1/0},children:r.jsx(_e,{className:"w-8 h-8 text-yellow-400"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-2xl font-bold text-purple-300",children:"Sabedoria de Esphera"}),r.jsx("p",{className:"text-purple-200 text-sm",children:"Sua mestra de Tarot"})]})]}),r.jsx("div",{className:"prose prose-invert max-w-none",children:r.jsx("p",{className:"text-gray-200 leading-relaxed whitespace-pre-line",children:l})}),r.jsxs("div",{className:"mt-6 pt-6 border-t border-purple-500/30 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2 text-yellow-300",children:[r.jsx(Wn,{className:"w-5 h-5"}),r.jsx("span",{className:"text-sm font-semibold",children:"+15 XP pela prtica!"})]}),r.jsxs(W,{onClick:g,className:"bg-purple-600 hover:bg-purple-700 text-white",children:[r.jsx(si,{className:"w-4 h-4 mr-2"}),"Nova Tiragem"]})]})]})})}),d&&!h&&r.jsx(q.div,{initial:{opacity:0},animate:{opacity:1},children:r.jsx(X,{className:"bg-[#131128] border-purple-500/30 p-8",children:r.jsxs("div",{className:"flex flex-col items-center justify-center gap-4",children:[r.jsx(q.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},children:r.jsx(_e,{className:"w-12 h-12 text-purple-400"})}),r.jsx("p",{className:"text-gray-400 text-center",children:"Esphera est analisando sua interpretao..."}),r.jsx("div",{className:"w-full max-w-md h-2 bg-slate-800 rounded-full overflow-hidden",children:r.jsx(q.div,{className:"h-full bg-gradient-to-r from-purple-600 to-pink-600",animate:{x:["-100%","100%"]},transition:{duration:1.5,repeat:1/0}})})]})})})]})]}):r.jsx("div",{className:"fixed inset-0 bg-[#0a0a1a] flex items-center justify-center z-50",children:r.jsx(q.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:r.jsx(_e,{className:"w-12 h-12 text-purple-500"})})})}const sF=[{id:"intenso",name:"Intenso Emotivo",description:"Muito emotivo, compartilha muitos detalhes pessoais e busca conexo profunda",emoji:"",color:"from-red-600 to-orange-600"},{id:"moderado",name:"Equilibrado",description:"Equilibrado entre lgica e emoo, aberto mas com limites",emoji:"",color:"from-blue-600 to-cyan-600"},{id:"reservado",name:"Reservado",description:"Mais contido, ctico, precisa de mais tempo para se abrir",emoji:"",color:"from-gray-600 to-slate-600"},{id:"cinico",name:"Cnico",description:"Descrente, questiona tudo, usa sarcasmo e ironia frequentemente",emoji:"",color:"from-purple-700 to-indigo-700"},{id:"otimista",name:"Otimista",description:"Esperanoso, positivo, v o lado bom de tudo, entusiasmado",emoji:"",color:"from-yellow-500 to-amber-500"},{id:"direto",name:"Direto ao Ponto",description:"Objetivo, sem rodeios, pragmtico, quer respostas rpidas",emoji:"",color:"from-green-600 to-emerald-600"},{id:"ansioso",name:"Ansioso",description:"Preocupado, nervoso, mente acelerada, fala muito e rpido",emoji:"",color:"from-pink-600 to-rose-600"},{id:"filosofico",name:"Filosfico",description:"Reflexivo, contemplativo, busca significados profundos e transcendncia",emoji:"",color:"from-indigo-600 to-violet-600"}],iF=[{id:1,name:"Sofia Martinez",avatar:"https://i.pravatar.cc/150?img=10",age:28,problem:"Relacionamento",context:"Estou em um relacionamento de 3 anos. No comeo era perfeito, mas nos ltimos meses sinto que algo mudou. Ele trabalha muito, chega tarde, e quando tento conversar ele diz que est cansado. No sei se  coisa da minha cabea ou se ele realmente se afastou de mim. Tenho medo de estar perdendo tempo em algo que j acabou.",backstory:"J passei por um relacionamento abusivo antes. Minha me sempre me diz pra no desistir fcil, mas minhas amigas acham que ele no me valoriza mais. Faz 2 meses que no temos uma noite s nossa.",initialMessage:"Oi... obrigada por me atender. To bem confusa com meu relacionamento sabe... no sei se continuo ou se j era."},{id:2,name:"Carlos Henrique",avatar:"https://i.pravatar.cc/150?img=12",age:35,problem:"Carreira",context:"Trabalho numa empresa h 8 anos, sempre fui dedicado. Agora recebi uma proposta incrvel em outra cidade - salrio 60% maior, cargo melhor. Mas significa deixar minha famlia, meus amigos, minha zona de conforto. Tenho 35 anos, ser que no  arriscado demais?",backstory:"Meu pai sempre trabalhou na mesma empresa a vida toda, aposentou l. Ele acha que trocar  loucura. Mas eu sinto que se no for agora, nunca mais vou ter essa chance. Minha namorada disse que me apoia, mas vejo que ela no quer ir.",initialMessage:"Oi. Nunca fiz tarot antes, mas to num dilema profissional que t me tirando o sono. Preciso de uma viso diferente sobre isso."},{id:3,name:"Marina Silva",avatar:"https://i.pravatar.cc/150?img=5",age:42,problem:"Famlia",context:"Minha me foi diagnosticada com Alzheimer h 6 meses. Ela sempre foi forte, independente, e agora t precisando de cuidados constantes. Trabalho em tempo integral, tenho dois filhos adolescentes. Meu irmo mora em outro estado e no ajuda. Me sinto dividida entre cuidar dela e viver minha prpria vida.",backstory:"Meu casamento t estremecido por causa disso. Meu marido reclama que no tenho mais tempo pra famlia. Mas como posso abandonar minha me? Ela criou a gente sozinha depois que meu pai faleceu. Sinto uma culpa enorme.",initialMessage:"Oi... desculpa, to bem emotiva.  sobre minha me... ela t doente e eu no sei o que fazer. Me sinto pssima."},{id:4,name:"Pedro Alves",avatar:"https://i.pravatar.cc/150?img=8",age:31,problem:"Propsito",context:"Sou engenheiro, ganho bem, tenho estabilidade. Mas acordo todo dia sentindo um vazio. Sempre quis trabalhar com algo social, fazer diferena na vida das pessoas. Mas todos dizem que  loucura largar um emprego bom. Ser que t sendo imaturo?",backstory:"Minha av sempre dizia que eu tinha um dom especial pra ajudar as pessoas. Mas segui o caminho 'seguro' que meus pais queriam. Agora com 31 anos, sinto que to vivendo a vida de outra pessoa. Minha namorada terminou comigo ms passado dizendo que eu 'mudei'.",initialMessage:"Ol. To num momento de crise existencial... tipo, ser que to no caminho certo? Sinto que tem algo maior me esperando, mas no sei o que ."},{id:5,name:"Juliana Costa",avatar:"https://i.pravatar.cc/150?img=9",age:26,problem:"Autoestima",context:"Sempre fui a 'gordinha' da turma. Emagreci 30kg no ltimo ano, mas ainda no consigo me olhar no espelho e me achar bonita. Minha psicloga diz que  normal, mas eu sinto que desperdicei minha juventude. Agora os caras me olham, mas eu no confio em ningum.",backstory:"Sofri muito bullying na escola. Minha me tambm sempre fez comentrios sobre meu peso. Conheci um cara legal, mas tenho pavor de me envolver porque acho que ele vai me largar quando conhecer algum 'melhor'. Faz terapia h 2 anos mas essa insegurana no passa.",initialMessage:"Oi... , ento...  meio bobo talvez, mas  sobre mim mesma sabe? Tipo, no consigo me aceitar ainda. Acho que nunca vou conseguir."},{id:6,name:"Roberto Santos",avatar:"https://i.pravatar.cc/150?img=13",age:45,problem:"Recomeo",context:"Fui demitido aos 45 anos depois de 20 anos na mesma empresa. Tenho casa financiada, dois filhos na faculdade, esposa que no trabalha. Mandei mais de 100 currculos, nada. To pensando em empreender mas tenho medo de arriscar as economias da famlia.",backstory:"Sempre fui o provedor. Minha identidade era meu trabalho. Agora me sinto um fracasso. Minha esposa tenta me apoiar mas sinto que ela t preocupada. Acordo todo dia com aquela sensao ruim no peito. Tenho at tido crises de ansiedade.",initialMessage:"Boa tarde. To numa situao complicada... perdi o emprego e to sem rumo. Com 45 anos, no sei se ainda tem tempo de recomear."},{id:7,name:"Amanda Oliveira",avatar:"https://i.pravatar.cc/150?img=16",age:29,problem:"Maternidade",context:"Casei h 3 anos, sempre planejei ter filhos. Mas agora que chegou a hora, to apavorada. Vejo minhas amigas com bebs exaustas, sem vida prpria. Amo minha liberdade, minha carreira. Ser que sou egosta? Meu marido quer muito, mas eu congelo quando penso nisso.",backstory:"Minha me abriu mo de tudo pelos filhos e sempre foi infeliz. Tenho medo de me tornar ela. Mas tambm tenho medo de me arrepender depois. Tenho 29 anos, dizem que o tempo t passando. Meu ginecologista j alertou sobre idade. Me sinto pressionada.",initialMessage:"Oi...  sobre um assunto delicado. Maternidade. No sei se quero, mas sinto que 'deveria' querer. To muito confusa."},{id:8,name:"Lucas Ferreira",avatar:"https://i.pravatar.cc/150?img=14",age:38,problem:"Identidade",context:"Sou casado h 10 anos, tenho uma filha de 7. Mas tem algo que nunca contei pra ningum: sinto atrao por homens. Sempre senti, mas reprimi. Agora no aguento mais viver essa mentira. Mas como contar? Como destruir uma famlia? Minha esposa no merece isso.",backstory:"Cresci numa famlia religiosa muito conservadora. Meu pai dizia que 'isso' era doena. Me forcei a ser 'normal'. Amo minha esposa como pessoa, mas no  atrao romntica. Me sinto um impostor. Conheci algum online que me fez questionar tudo.",initialMessage:"Oi... olha,  difcil falar sobre isso. Tem a ver com quem eu realmente sou... algo que reprimi a vida toda. To sufocando."}];function UJ(){const t=Sn(),[e,n]=w.useState(null),[a,s]=w.useState("waiting"),[i,o]=w.useState(null),[l,c]=w.useState(null),[d,u]=w.useState([]),[h,f]=w.useState([]),[v,x]=w.useState(""),[g,y]=w.useState(!1),[b,_]=w.useState(600),[j,S]=w.useState(!1),[C,E]=w.useState(null),[P,T]=w.useState("greeting"),[M,k]=w.useState(!1),[O,$]=w.useState(!1),[F,B]=w.useState(null),G=w.useRef(null),I=w.useRef(null),{data:L,refetch:U}=Oe({queryKey:["tarot-sessions",e==null?void 0:e.id],queryFn:()=>H.entities.TarotSession.filter({user_id:e.id},"-created_date",20),enabled:!!e});w.useEffect(()=>{z()},[]),w.useEffect(()=>{G.current&&G.current.scrollIntoView({behavior:"smooth"})},[h]),w.useEffect(()=>(j&&b>0&&(I.current=setInterval(()=>{_(he=>he<=1?(Pe(),0):(he===180?ee("O tempo t passando n... s mais 3 minutos. To sentindo que as cartas tm mais a dizer ainda..."):he===60&&ee("S 1 minuto... nossa, passou voando! Queria ter mais tempo pra gente conversar mais..."),he-1))},1e3)),()=>{I.current&&clearInterval(I.current)}),[j,b]),w.useEffect(()=>{h.length===0?T("greeting"):h.length<=3&&!M?T("exploring"):M&&h.filter(he=>he.role==="user").length<=2?T("cards_drawn"):h.filter(he=>he.role==="user").length>=3&&T("interpreting"),b<120&&T("closing")},[h,d,b,M]);const z=async()=>{try{const he=await H.auth.me();n(he)}catch(he){console.error("Erro ao carregar usurio:",he)}},K=he=>{const Ee=sF.find(at=>at.id===he);c(Ee.id),s("session");const Xe=iF[Math.floor(Math.random()*iF.length)];o(Xe),S(!0),B(Date.now());const Ve=zL(3);u(Ve),setTimeout(()=>{ee(Xe.initialMessage)},1e3),Ee.id!=="reservado"&&Ee.id!=="cinico"&&setTimeout(()=>{h.filter(de=>de.role==="user").length>=2&&!M&&V()},15e3)},V=async()=>{if(M||!i)return;k(!0);const he=[`Sabe... acho que preciso te contar uma coisa. ${i.backstory.split(".")[0]}. Isso muda muito as coisas n?`,`Ah, tem mais uma coisa que talvez seja importante... ${i.backstory}`,`Desculpa, to falando demais n? Mas  que... ${i.backstory} Acho que isso tem a ver com tudo isso.`],Ee=he[Math.floor(Math.random()*he.length)];await ee(Ee)},Y=()=>{const he=zL(3);u(he),qe.success("Novas cartas sorteadas! ")},ee=async he=>{y(!0),await new Promise(Ee=>setTimeout(Ee,1500)),f(Ee=>[...Ee,{role:"consultant",content:he,timestamp:new Date}]),y(!1)},se=async()=>{if(!v.trim())return;const he=v.trim();x(""),f(Ee=>[...Ee,{role:"user",content:he,timestamp:new Date}]),await pe(he)},pe=async he=>{y(!0);try{const Ee=d.map(J=>J.name).join(", "),Xe=Math.floor(b/60),Ve=h.slice(-8).map(J=>`${J.role==="user"?"Tarlogo":i.name}: ${J.content}`).join(`
`);let at="";switch(l){case"intenso":at=`
VOC  EXTREMAMENTE EMOTIVO E VULNERVEL:
- Use MUITAS exclamaes e reticncias (" que...", "sabe...", "tipo assim...")
- Chore ou demonstre emoo forte quando tocar em pontos sensveis
- Compartilhe detalhes ntimos sem filtro ("meu corao t apertado", "to tremendo aqui")
- Busque validao constante ("voc acha que eu to errada?", "ser que tem jeito ainda?")
- Use emojis de corao, choro, fogo quando emotivo
- Interrompa seu prprio pensamento com emoes
- Fale sobre sensaes fsicas da emoo ("meu peito t apertado", "to com n na garganta")`;break;case"moderado":at=`
VOC  EQUILIBRADO MAS AUTNTICO:
- Alterne entre reflexes prticas e momentos emotivos
- Compartilhe detalhes mas com algum controle
- Use expresses como "olha...", " complicado porque...", "no sei se faz sentido mas..."
- Demonstre vulnerabilidade mas tente manter compostura
- Faa perguntas reflexivas sobre as cartas
- Mostre interesse genuno mas no seja dramtico
- Use humor leve ocasionalmente pra aliviar tenso`;break;case"reservado":at=`
VOC  RESERVADO E CTICO:
- Seja formal no incio, mais distante
- Questione as interpretaes ("como assim?", "mas como voc sabe disso?")
- Compartilhe poucos detalhes, s o essencial
- Use tone mais srio e objetivo
- Gradualmente se abra MUITO DEVAGAR conforme confia
- Demonstre ceticismo inicial sobre tarot ("nunca acreditei muito nisso")
- Faa perguntas diretas e prticas
- Se abra apenas quando a interpretao realmente te tocar`;break;case"cinico":at=`
VOC  CNICO E SARCSTICO:
- Use ironia e sarcasmo ("ah sim, cartas mgicas vo resolver tudo n...")
- Questione TUDO com ceticismo ("srio mesmo? e eu vou acreditar nisso?")
- Seja provocador mas no rude ("olha, com todo respeito, mas isso no faz muito sentido")
- Deixe claro que est testando o tarlogo
- Use frases como "t bom ento", "sei...", "interessante essa teoria"`;break;case"otimista":at=`
VOC  OTIMISTA E ESPERANOSO:
- Veja o lado positivo de tudo! ("mas isso tambm pode ser bom n?")
- Use emojis de corao, estrela, sorriso
- Demonstre entusiasmo ("nossa que legal!", "to animado!")
- Agradea muito ("muito obrigado!", "voc t me ajudando demais!")
- Acredite nas possibilidades positivas`;break;case"direto":at=`
VOC  DIRETO AO PONTO:
- Seja objetivo e pragmtico ("ok, e o que eu fao ento?")
- Sem rodeios ou enrolao ("me diga logo: sim ou no?")
- Perguntas curtas e diretas
- Impacincia com simbolismos ("traduzindo: o que isso significa?")
- Foque em ao concreta ("t, e qual o prximo passo?")`;break;case"ansioso":at=`
VOC  ANSIOSO E PREOCUPADO:
- Fale MUITO e rpido, vrias frases seguidas
- Repita preocupaes ("mas e se...", "ser que...")
- Interrompa seu prprio pensamento
- Demonstre nervosismo ("to com o corao disparado", "no consigo parar de pensar nisso")
- Pea confirmao constante ("tem certeza?", "voc tem certeza absoluta?")`;break;case"filosofico":at=`
VOC  FILOSFICO E CONTEMPLATIVO:
- Faa perguntas profundas e existenciais
- Conecte tudo a significados maiores ("o que isso diz sobre meu propsito?")
- Use vocabulrio mais elaborado
- Busque transcendncia e autoconhecimento
- Reflita sobre arqutipos e padres ("isso me faz pensar em...")`;break;default:at=`
VOC  EQUILIBRADO MAS AUTNTICO:
- Alterne entre reflexes prticas e momentos emotivos
- Compartilhe detalhes mas com algum controle
- Demonstre vulnerabilidade mas tente manter compostura`;break}const de=`Voc est SENDO ${i.name}, ${i.age} anos, com problema de ${i.problem}.

SITUAO COMPLETA:
${i.context}

BACKSTORY (use isso pra enriquecer suas respostas):
${i.backstory}

Nvel de Personalidade: ${l.toUpperCase()}
${at}

Cartas na mesa: ${Ee}
Tempo restante: ${Xe} minutos

ltimas mensagens:
${Ve}

O tarlogo disse: "${he}"

REGRAS ABSOLUTAS - SEJA UMA PESSOA REAL:
1. Voc  ${i.name}, NO um tarlogo. NUNCA interprete cartas.
2. Use linguagem natural IMPERFEITA:
   - Escreva "vc" "tbm" "msm" "pq" "oq" "mt" ocasionalmente
   - Cometa erros de pontuao
   - Use "tipo", "n", "sabe", "ai", "nossa"
   - Deixe frases incompletas quando emocionado (apenas para intenso, ansioso, filosfico)
3. Demonstre PENSAMENTO EM TEMPO REAL:
   - "hmm deixa eu pensar...", " dificil explicar mas...", "tipo assim..."
   - Pause com "..." ao refletir
   - Mude de assunto se ficar desconfortvel
4. Seja GENUINAMENTE EMOTIVO quando apropriado:
   - "caramba isso faz muito sentido", "nossa me arrepio agora"
   - "nossa vc acabou de... uau", "to sem palavras"
   - "isso di um pouco de ouvir mas...  verdade n"
5. REAJA NATURALMENTE s interpretaes:
   - Surpresa: "srio? vc acha?"
   - Resistncia: "mas ser? no sei no..."
   - Aceitao: "... acho que vc tem razo"
   - Curiosidade: "e oq mais as cartas dizem?"
6. Compartilhe DETALHES ESPECFICOS quando relevante:
   - Nomes de pessoas prximas
   - Lugares, datas, acontecimentos
   - Pequenas histrias que ilustram o problema
7. Mostre DVIDA e INSEGURANA humanas:
   - "ser que to fazendo tempestade em copo dagua?"
   - "talvez eu que to errada n"
   - "as vezes acho que  coisa da minha cabea"

${h.length<2?"INCIO: Seja introdutrio, compartilhe o bsico do problema":h.length<5?"EXPLORAO: Aprofunde o problema, mostre vulnerabilidade crescente":M?"CONECTADO: Voc j compartilhou sua histria, agora busque orientao profunda":"APROFUNDAMENTO: Voc t conectado, seja mais vulnervel e aberto"}

Mantenha 1-3 frases naturais (mximo 4 linhas), como conversa real de WhatsApp.

Responda APENAS como ${i.name}:`,Z=await H.integrations.Core.InvokeLLM({prompt:de,add_context_from_internet:!1});await ee(Z)}catch(Ee){console.error("Erro ao gerar resposta:",Ee),await ee("Desculpa... travei aqui. Pode repetir?")}},Pe=async()=>{if(a==="finished")return;clearInterval(I.current),S(!1);const he=await fe();E(he);const Ee=he.totalScore,Xe=e.xp||0,Ve=e.ouros||0;await H.auth.updateMe({xp:Xe+Ee,ouros:Ve+1}),n({...e,xp:Xe+Ee,ouros:Ve+1}),s("finished"),qe.success(`Sesso concluda! +${Ee} XP e +1 Ouro! `)},xe=async()=>{if(!i||h.length===0){qe.error("No h sesso para salvar ou ela est vazia.");return}try{const he=F?Math.floor((Date.now()-F)/1e3):0;await H.entities.TarotSession.create({user_id:e.id,consultant_name:i.name,consultant_data:i,personality_level:l,messages:h,cards_drawn:d,evaluation:C,duration_seconds:he,total_score:(C==null?void 0:C.totalScore)||0,created_date:new Date().toISOString()}),await U(),qe.success("Sesso salva com sucesso! ")}catch(he){console.error("Erro ao salvar sesso:",he),qe.error("Erro ao salvar sesso")}},Ie=he=>{o(he.consultant_data),c(he.personality_level),f(he.messages),u(he.cards_drawn),E(he.evaluation),s("finished"),$(!1)},fe=async()=>{try{const he=h.map(Ve=>`${Ve.role==="user"?"Tarlogo":"Consulente"}: ${Ve.content}`).join(`
`),Ee=`Voc  um supervisor experiente de tarlogos avaliando uma sesso de atendimento.

Consulente: ${i.name} (${i.problem})
Contexto: ${i.context}
Nvel de personalidade: ${l}

Conversa completa:
${he}

Avalie o desempenho do tarlogo em 5 categorias (0-20 pontos cada):

1. EMPATIA: Demonstrou compreenso genuna e sensibilidade?
2. CLAREZA: Interpretaes claras e compreensveis?
3. PROFUNDIDADE: Anlises profundas conectando cartas ao contexto?
4. TIMING: Gerenciou bem o tempo e ritmo da sesso?
5. CONEXO: Estabeleceu rapport e confiana com o consulente?

Retorne APENAS um objeto JSON vlido:
{
  "empathy": nmero 0-20,
  "clarity": nmero 0-20,
  "depth": nmero 0-20,
  "timing": nmero 0-20,
  "connection": nmero 0-20,
  "totalScore": soma total,
  "feedback": "2-3 frases construtivas sobre o desempenho"
}`;return await H.integrations.Core.InvokeLLM({prompt:Ee,add_context_from_internet:!1,response_json_schema:{type:"object",properties:{empathy:{type:"number"},clarity:{type:"number"},depth:{type:"number"},timing:{type:"number"},connection:{type:"number"},totalScore:{type:"number"},feedback:{type:"string"}}}})}catch(he){return console.error("Erro ao gerar avaliao:",he),{empathy:15,clarity:15,depth:15,timing:15,connection:15,totalScore:75,feedback:"Voc fez um bom trabalho nesta sesso. Continue praticando para aprimorar suas habilidades!"}}},Ne=he=>{const Ee=Math.floor(he/60),Xe=he%60;return`${Ee}:${Xe.toString().padStart(2,"0")}`},Le=()=>{j&&!window.confirm("Tem certeza que deseja sair? A sesso ser perdida.")||t(ft("ArenaHub"))},re=()=>{if(!i)return"";const he=i.name.split(" ")[0];switch(P){case"greeting":return` D as boas-vindas a ${he}. Crie conexo perguntando sobre o que a trouxe aqui.`;case"exploring":return` Oua atentamente ${he}. Faa perguntas empticas para entender a situao completa.`;case"cards_drawn":return` Interprete as cartas conectando-as  histria de ${he}. Seja especfico e sensvel.`;case"interpreting":return` Aprofunde a leitura. Use detalhes que ${he} compartilhou nas interpretaes.`;case"closing":return" Tempo acabando! Faa um fechamento acolhedor com insights principais e encorajamento.";default:return""}};return e?r.jsxs("div",{className:"fixed inset-0 bg-gradient-to-b from-[#0a0a1a] via-[#0a1a2e] to-[#0a0a1a] z-[100] flex flex-col",children:[(a==="session"||a==="finished")&&r.jsx("div",{className:"bg-[#131128] border-b border-cyan-500/30 p-3 flex-shrink-0",children:r.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[r.jsx("div",{className:"flex-1"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Mr,{className:`w-5 h-5 ${b<60?"text-red-400":"text-cyan-400"}`}),r.jsx("span",{className:`text-xl font-bold ${b<60?"text-red-400":"text-cyan-300"}`,children:Ne(b)})]}),r.jsxs("div",{className:"flex-1 flex justify-end gap-2",children:[a==="finished"&&r.jsx("button",{onClick:xe,className:"w-9 h-9 rounded-full bg-green-600/80 hover:bg-green-500 flex items-center justify-center transition",children:r.jsx(oa,{className:"w-4 h-4 text-white"})}),r.jsx("button",{onClick:Le,className:"w-9 h-9 rounded-full bg-slate-800/80 hover:bg-slate-700 flex items-center justify-center transition",children:r.jsx(nt,{className:"w-4 h-4 text-gray-300"})})]})]})}),a!=="session"&&a!=="finished"&&r.jsx("button",{onClick:Le,className:"fixed top-3 right-3 z-[110] w-9 h-9 rounded-full bg-slate-800/90 hover:bg-slate-700 flex items-center justify-center transition backdrop-blur-sm",children:r.jsx(nt,{className:"w-4 h-4 text-gray-300"})}),r.jsxs("div",{className:"flex-1 overflow-y-auto",children:[a==="waiting"&&r.jsx("div",{className:"h-full flex items-center justify-center p-4",children:r.jsx(q.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"max-w-2xl w-full",children:r.jsxs(X,{className:"bg-[#131128] border-cyan-500/30 p-6 md:p-12 text-center",children:[r.jsx(q.div,{animate:{scale:[1,1.1,1],rotate:[0,5,-5,0]},transition:{duration:2,repeat:1/0},className:"inline-block mb-6",children:r.jsx(Kn,{className:"w-16 h-16 md:w-20 md:h-20 text-cyan-400 mx-auto"})}),r.jsx("h1",{className:"text-2xl md:text-4xl font-bold text-white mb-4",children:"Tarot Online - Simulao de Atendimento"}),r.jsx("p",{className:"text-gray-400 mb-8 text-base md:text-lg",children:"Pratique suas habilidades atendendo consulentes virtuais em tempo real"}),r.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-4 md:p-6 mb-8 text-left",children:[r.jsx("h3",{className:"text-lg md:text-xl font-bold text-cyan-300 mb-4",children:"Como Funciona:"}),r.jsxs("ul",{className:"space-y-2 text-gray-300 text-sm md:text-base",children:[r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Mr,{className:"w-5 h-5 text-cyan-400 flex-shrink-0 mt-0.5"}),r.jsxs("span",{children:["Voc ter ",r.jsx("strong",{children:"10 minutos"})," para realizar o atendimento"]})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Gu,{className:"w-5 h-5 text-cyan-400 flex-shrink-0 mt-0.5"}),r.jsx("span",{children:"Um consulente virtual com problema real ser atribudo"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(_e,{className:"w-5 h-5 text-cyan-400 flex-shrink-0 mt-0.5"}),r.jsx("span",{children:"Use as cartas sorteadas para guiar a leitura"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(xr,{className:"w-5 h-5 text-cyan-400 flex-shrink-0 mt-0.5"}),r.jsx("span",{children:"Receba avaliao detalhada + XP + 1 Ouro"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(Gde,{className:"w-5 h-5 text-cyan-400 flex-shrink-0 mt-0.5"}),r.jsx("span",{children:"Salve suas melhores consultas para referncia"})]})]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[r.jsxs(W,{onClick:()=>s("personality_select"),className:"flex-1 bg-gradient-to-r from-cyan-600 to-blue-600 hover:opacity-90 text-white font-bold px-8 md:px-12 py-4 md:py-6 text-base md:text-lg rounded-xl",children:[r.jsx(Kn,{className:"w-5 h-5 md:w-6 md:h-6 mr-2"}),"Iniciar Atendimento"]}),L&&L.length>0&&r.jsxs(W,{onClick:()=>$(!0),variant:"outline",className:"flex-1 border-cyan-500/50 text-cyan-300 hover:bg-cyan-900/20 px-8 py-4 md:py-6 text-base md:text-lg rounded-xl",children:[r.jsx(fhe,{className:"w-5 h-5 md:w-6 md:h-6 mr-2"}),"Ver Sesses Salvas"]})]})]})})}),O&&r.jsx("div",{className:"fixed inset-0 bg-black/80 z-[110] flex items-center justify-center p-4",children:r.jsxs(X,{className:"bg-[#131128] border-cyan-500/30 p-6 max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-white",children:"Sesses Salvas"}),r.jsx("button",{onClick:()=>$(!1),className:"text-gray-400 hover:text-white",children:r.jsx(nt,{className:"w-6 h-6"})})]}),r.jsxs("div",{className:"space-y-3",children:[L&&L.length===0&&r.jsx("p",{className:"text-gray-400 text-center",children:"Nenhuma sesso salva ainda."}),L&&L.map(he=>r.jsx(X,{className:"bg-slate-800/50 border-cyan-500/20 p-4 cursor-pointer hover:border-cyan-500/40 transition",onClick:()=>Ie(he),children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-white",children:he.consultant_name}),r.jsxs("p",{className:"text-sm text-gray-400",children:[he.personality_level,"  ",he.messages.length," mensagens"]}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Score: ",he.total_score,"/100"]})]}),r.jsx("div",{className:"text-right",children:r.jsx("p",{className:"text-xs text-gray-500",children:new Date(he.created_date).toLocaleDateString()})})]})},he.id))]})]})}),a==="personality_select"&&r.jsx("div",{className:"h-full flex items-center justify-center p-4",children:r.jsx(q.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"max-w-4xl w-full",children:r.jsxs(X,{className:"bg-[#131128] border-cyan-500/30 p-6 md:p-8",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx(_e,{className:"w-16 h-16 text-cyan-400 mx-auto mb-4"}),r.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-2",children:"Escolha o Perfil do Consulente"}),r.jsx("p",{className:"text-gray-400",children:"Cada personalidade reage de forma nica s suas interpretaes"})]}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:sF.map(he=>r.jsx(q.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:r.jsxs(X,{onClick:()=>K(he.id),className:`bg-gradient-to-br ${he.color} border-cyan-500/30 p-4 cursor-pointer hover:border-cyan-500/60 transition text-center h-full flex flex-col justify-between`,children:[r.jsx("div",{className:"text-4xl md:text-5xl mb-2",children:he.emoji}),r.jsx("h3",{className:"text-sm md:text-base font-bold text-white mb-1",children:he.name}),r.jsx("p",{className:"text-[10px] md:text-xs text-gray-200 leading-tight",children:he.description})]})},he.id))})]})})}),a==="session"&&i&&r.jsxs("div",{className:"h-full flex flex-col",children:[r.jsx("div",{className:"bg-[#131128] border-b border-cyan-500/30 p-3 flex-shrink-0",children:r.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-center gap-3",children:[r.jsx("img",{src:i.avatar,alt:i.name,className:"w-10 h-10 rounded-full border-2 border-cyan-500 flex-shrink-0"}),r.jsxs("div",{className:"text-center",children:[r.jsx("h3",{className:"text-white font-bold text-sm",children:i.name}),r.jsx("p",{className:"text-cyan-400 text-xs",children:i.problem})]})]})}),r.jsxs("div",{className:"flex-1 overflow-hidden",children:[r.jsxs("div",{className:"hidden md:grid md:grid-cols-2 h-full",children:[r.jsxs("div",{className:"flex flex-col border-r border-cyan-500/30",children:[r.jsx(r_,{className:"flex-1 p-4",children:r.jsxs("div",{className:"space-y-4 pb-4",children:[h.map((he,Ee)=>r.jsx(q.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`flex ${he.role==="user"?"justify-end":"justify-start"}`,children:r.jsx("div",{className:`max-w-[80%] p-3 rounded-lg ${he.role==="user"?"bg-cyan-600 text-white":"bg-slate-800 text-gray-200"}`,children:r.jsx("p",{className:"text-sm leading-relaxed break-words whitespace-pre-wrap",children:he.content})})},Ee)),g&&r.jsx(q.div,{initial:{opacity:0},animate:{opacity:1},className:"flex justify-start",children:r.jsx("div",{className:"bg-slate-800 p-3 rounded-lg",children:r.jsx("div",{className:"flex gap-1",children:[0,1,2].map(he=>r.jsx(q.div,{animate:{scale:[1,1.2,1]},transition:{duration:.6,repeat:1/0,delay:he*.2},className:"w-2 h-2 bg-cyan-400 rounded-full"},he))})})}),r.jsx("div",{ref:G})]})}),r.jsx("div",{className:"px-4 py-2.5 bg-gradient-to-r from-yellow-900/20 to-amber-900/20 border-t border-yellow-500/30",children:r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(H0,{className:"w-4 h-4 text-yellow-400 flex-shrink-0 mt-0.5"}),r.jsx("p",{className:"text-yellow-200 text-xs leading-relaxed",children:re()})]})}),r.jsx("div",{className:"p-4 border-t border-cyan-500/30 bg-[#0a0a1a]",children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx(je,{value:v,onChange:he=>x(he.target.value),onKeyPress:he=>he.key==="Enter"&&se(),placeholder:"Digite sua mensagem...",className:"bg-slate-800 border-cyan-900/30 text-white"}),r.jsx(W,{onClick:se,disabled:!v.trim(),className:"bg-cyan-600 hover:bg-cyan-700",children:r.jsx(Hr,{className:"w-4 h-4"})})]})})]}),r.jsxs("div",{className:"flex flex-col p-6 bg-gradient-to-b from-slate-900/50 to-slate-800/50 overflow-y-auto",children:[r.jsx("h3",{className:"text-xl font-bold text-cyan-300 mb-6 text-center",children:"Cartas da Tiragem"}),r.jsx("div",{className:"grid grid-cols-3 gap-4 mb-6",children:d.map((he,Ee)=>r.jsxs(q.div,{initial:{opacity:0,rotateY:180},animate:{opacity:1,rotateY:0},transition:{delay:Ee*.2},className:"text-center",children:[r.jsx("div",{className:"bg-slate-800 rounded-xl overflow-hidden shadow-2xl border-2 border-cyan-500/50 mb-2",children:r.jsx("img",{src:he.image,alt:he.name,className:"w-full h-auto object-cover"})}),r.jsx("p",{className:"text-cyan-100 font-bold text-sm mb-1",children:he.name}),r.jsx("p",{className:"text-gray-400 text-xs uppercase",children:Ee===0?"Passado":Ee===1?"Presente":"Futuro"})]},Ee))}),r.jsxs("div",{className:"space-y-3 mt-auto",children:[r.jsxs(W,{onClick:Y,className:"w-full bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-700 hover:to-blue-700 text-white font-bold",children:[r.jsx(_r,{className:"w-4 h-4 mr-2"}),"Tirar Mais Cartas"]}),r.jsx(W,{onClick:Pe,variant:"outline",className:"w-full border-red-500/50 text-red-300 hover:bg-red-900/30",children:"Encerrar Atendimento"})]})]})]}),r.jsx("div",{className:"md:hidden h-full flex flex-col",children:r.jsxs($r,{defaultValue:"chat",className:"h-full flex flex-col",children:[r.jsxs(Tr,{className:"bg-slate-900 border-b border-cyan-500/30 rounded-none flex-shrink-0",children:[r.jsx(xt,{value:"chat",className:"flex-1 text-sm py-2.5",children:"Chat"}),r.jsx(xt,{value:"cards",className:"flex-1 text-sm py-2.5",children:"Cartas"})]}),r.jsxs(et,{value:"chat",className:"flex-1 flex flex-col m-0",children:[r.jsx("div",{className:"flex-1 overflow-y-auto px-4 pt-4",children:r.jsxs("div",{className:"space-y-4 pb-2",children:[h.map((he,Ee)=>r.jsx(q.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`flex ${he.role==="user"?"justify-end":"justify-start"}`,children:r.jsx("div",{className:`max-w-[90%] p-4 rounded-2xl shadow-lg ${he.role==="user"?"bg-cyan-600 text-white":"bg-slate-800 text-gray-100"}`,children:r.jsx("p",{className:"text-base leading-relaxed break-words whitespace-pre-wrap",children:he.content})})},Ee)),g&&r.jsx(q.div,{initial:{opacity:0},animate:{opacity:1},className:"flex justify-start",children:r.jsx("div",{className:"bg-slate-800 p-4 rounded-2xl shadow-lg",children:r.jsx("div",{className:"flex gap-1.5",children:[0,1,2].map(he=>r.jsx(q.div,{animate:{scale:[1,1.3,1]},transition:{duration:.6,repeat:1/0,delay:he*.2},className:"w-2.5 h-2.5 bg-cyan-400 rounded-full"},he))})})}),r.jsx("div",{ref:G})]})}),r.jsx("div",{className:"px-4 py-2.5 bg-gradient-to-r from-yellow-900/50 to-amber-900/50 border-t border-yellow-500/40 flex-shrink-0",children:r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(H0,{className:"w-3.5 h-3.5 text-yellow-400 flex-shrink-0 mt-0.5"}),r.jsx("p",{className:"text-yellow-200 text-[10px] leading-tight",children:re()})]})}),r.jsx("div",{className:"p-4 border-t border-cyan-500/30 bg-[#0a0a1a] flex-shrink-0",children:r.jsxs("div",{className:"flex gap-2.5",children:[r.jsx(je,{value:v,onChange:he=>x(he.target.value),onKeyPress:he=>he.key==="Enter"&&se(),placeholder:"Digite...",className:"bg-slate-800 border-cyan-900/30 text-white text-base h-12 px-4"}),r.jsx(W,{onClick:se,disabled:!v.trim(),className:"bg-cyan-600 hover:bg-cyan-700 flex-shrink-0 h-12 w-12 p-0",children:r.jsx(Hr,{className:"w-5 h-5"})})]})})]}),r.jsxs(et,{value:"cards",className:"flex-1 flex flex-col m-0 p-4 overflow-y-auto",children:[r.jsx("h3",{className:"text-lg font-bold text-cyan-300 mb-4 text-center",children:"Cartas da Tiragem"}),r.jsx("div",{className:"flex-1 flex items-center justify-center",children:r.jsx("div",{className:"grid grid-cols-3 gap-3",children:d.map((he,Ee)=>r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"bg-slate-800 rounded-xl overflow-hidden shadow-xl border-2 border-cyan-500/50 mb-2",children:r.jsx("img",{src:he.image,alt:he.name,className:"w-full h-auto object-cover"})}),r.jsx("p",{className:"text-cyan-100 font-bold text-xs mb-1",children:he.name}),r.jsx("p",{className:"text-gray-400 text-[10px] uppercase font-semibold",children:Ee===0?"Passado":Ee===1?"Presente":"Futuro"})]},Ee))})}),r.jsxs("div",{className:"space-y-3 mt-4",children:[r.jsxs(W,{onClick:Y,className:"w-full bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-700 hover:to-blue-700 text-white font-bold text-sm h-12",children:[r.jsx(_r,{className:"w-4 h-4 mr-2"}),"Tirar Mais Cartas"]}),r.jsx(W,{onClick:Pe,variant:"outline",className:"w-full border-red-500/50 text-red-300 hover:bg-red-900/30 text-sm h-11",children:"Encerrar"})]})]})]})})]})]}),a==="finished"&&C&&r.jsx("div",{className:"h-full overflow-y-auto p-4 flex items-center justify-center pb-24 md:pb-8",children:r.jsx(q.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"max-w-3xl w-full my-8",children:r.jsxs(X,{className:"bg-[#131128] border-cyan-500/30 p-4 md:p-8",children:[r.jsxs("div",{className:"text-center mb-4 md:mb-8",children:[r.jsx(q.div,{animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},className:"inline-block mb-4",children:r.jsx(xr,{className:"w-12 h-12 md:w-20 md:h-20 text-yellow-400 mx-auto"})}),r.jsx("h2",{className:"text-xl md:text-3xl font-bold text-white mb-2",children:"Atendimento Concludo!"}),r.jsxs("p",{className:"text-gray-400 text-xs md:text-base",children:["Consulente: ",i.name]})]}),r.jsxs("div",{className:"bg-gradient-to-r from-cyan-900/50 to-blue-900/50 rounded-xl p-3 md:p-6 mb-4 md:mb-6 text-center",children:[r.jsx("p",{className:"text-cyan-300 mb-2 text-xs md:text-base",children:"Score Total"}),r.jsxs("p",{className:"text-3xl md:text-5xl font-bold text-white mb-2",children:[C.totalScore,r.jsx("span",{className:"text-lg md:text-2xl text-gray-400",children:"/100"})]}),r.jsxs("div",{className:"flex items-center justify-center gap-2 mt-4 flex-wrap text-xs md:text-base",children:[r.jsx(Jn,{className:"w-4 h-4 md:w-5 md:h-5 text-yellow-400"}),r.jsxs("span",{className:"text-yellow-300 font-semibold",children:["+",C.totalScore," XP"]}),r.jsx("span",{className:"text-gray-400",children:""}),r.jsx("span",{className:"text-yellow-300 font-semibold",children:"+1 Ouro"})]})]}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 md:gap-4 mb-4 md:mb-6",children:[{icon:$n,label:"Empatia",value:C.empathy,color:"pink"},{icon:ho,label:"Clareza",value:C.clarity,color:"purple"},{icon:_e,label:"Profundidade",value:C.depth,color:"yellow"},{icon:Mr,label:"Timing",value:C.timing,color:"blue"},{icon:gr,label:"Conexo",value:C.connection,color:"green",span:"sm:col-span-2"}].map(({icon:he,label:Ee,value:Xe,color:Ve,span:at})=>r.jsxs("div",{className:`bg-slate-800/50 rounded-lg p-2.5 md:p-4 ${at||""}`,children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(he,{className:`w-3.5 h-3.5 md:w-5 md:h-5 text-${Ve}-400`}),r.jsx("span",{className:"text-white font-semibold text-xs md:text-base",children:Ee})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"flex-1 bg-slate-700 rounded-full h-1.5 md:h-2",children:r.jsx(q.div,{initial:{width:0},animate:{width:`${Xe/20*100}%`},className:`bg-${Ve}-500 h-full rounded-full`})}),r.jsx("span",{className:"text-white font-bold text-xs md:text-base",children:Xe})]})]},Ee))}),r.jsxs("div",{className:"bg-gradient-to-r from-cyan-900/30 to-blue-900/30 rounded-lg p-3 md:p-6 mb-4 md:mb-6 border border-cyan-500/30",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx(Wn,{className:"w-4 h-4 md:w-5 md:h-5 text-yellow-400"}),r.jsx("h3",{className:"text-sm md:text-lg font-bold text-cyan-300",children:"Feedback do Supervisor"})]}),r.jsx("p",{className:"text-gray-300 leading-relaxed text-xs md:text-base",children:C.feedback})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 md:gap-3",children:[r.jsx(W,{onClick:()=>{s("waiting"),f([]),u([]),_(600),E(null),o(null),c(null),T("greeting"),k(!1),B(null)},className:"flex-1 bg-cyan-600 hover:bg-cyan-700 text-white text-sm md:text-base h-9 md:h-10",children:"Novo Atendimento"}),r.jsx(W,{onClick:Le,variant:"outline",className:"flex-1 border-cyan-500/50 text-cyan-300 text-sm md:text-base h-9 md:h-10",children:"Voltar ao Hub"})]})]})})})]})]}):r.jsx("div",{className:"fixed inset-0 bg-[#0a0a1a] flex items-center justify-center z-50",children:r.jsx(q.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:r.jsx(_e,{className:"w-12 h-12 text-cyan-500"})})})}function _Pe({user:t,onClose:e}){const n=Sn(),a=wt(),{data:s}=Oe({queryKey:["following",t.id],queryFn:()=>H.entities.Connection.filter({follower_id:t.id},"-created_date",100),initialData:[]}),{data:i}=Oe({queryKey:["followers",t.id],queryFn:()=>H.entities.Connection.filter({following_id:t.id},"-created_date",100),initialData:[]}),o=s.filter(u=>i.some(h=>h.follower_id===u.following_id)),l=Ue({mutationFn:async u=>{await H.entities.Connection.delete(u)},onSuccess:()=>{a.invalidateQueries({queryKey:["following"]}),a.invalidateQueries({queryKey:["followers"]})}}),c=Ue({mutationFn:async u=>{await H.entities.Connection.create({follower_id:t.id,follower_name:t.display_name||t.full_name,follower_avatar:t.avatar_url,following_id:u.follower_id,following_name:u.follower_name,following_avatar:u.follower_avatar}),await H.entities.Notification.create({user_id:u.follower_id,type:"follow",title:"Conexo Recproca!",message:`${t.display_name||t.full_name} seguiu voc de volta`,from_user_id:t.id,from_user_name:t.display_name||t.full_name,from_user_avatar:t.avatar_url,related_entity_type:"user",related_entity_id:t.id,action_url:`/Perfil?user=${t.id}`})},onSuccess:()=>{a.invalidateQueries({queryKey:["following"]}),a.invalidateQueries({queryKey:["followers"]})}}),d=u=>s.some(h=>h.following_id===u);return r.jsx(qZ,{open:!0,onOpenChange:e,children:r.jsxs(yk,{className:"max-w-2xl bg-gradient-to-b from-[#0f0f23] to-[#1a1a2e] border-purple-500/30 text-white p-0 overflow-hidden max-h-[90vh]",children:[r.jsxs("div",{className:"relative border-b border-purple-500/30 p-6 text-center",children:[r.jsx("h2",{className:"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-pink-400 via-purple-400 to-indigo-400",children:"A Teia de Laos Msticos"}),r.jsx("button",{onClick:e,className:"absolute top-4 right-4 w-8 h-8 rounded-full bg-slate-800/50 hover:bg-slate-700 flex items-center justify-center transition",children:r.jsx(nt,{className:"w-5 h-5 text-gray-400"})})]}),r.jsxs($r,{defaultValue:"synchronicities",className:"flex-1 overflow-hidden",children:[r.jsxs(Tr,{className:"w-full bg-slate-900/50 p-2 rounded-none border-b border-purple-500/20",children:[r.jsxs(xt,{value:"synchronicities",className:"flex-1 data-[state=active]:bg-purple-600 data-[state=active]:text-white",children:["Sincronicidades",o.length>0&&r.jsx("span",{className:"ml-2 px-2 py-0.5 bg-pink-500 rounded-full text-xs",children:o.length})]}),r.jsx(xt,{value:"following",className:"flex-1 data-[state=active]:bg-purple-600 data-[state=active]:text-white",children:"Seguindo"}),r.jsx(xt,{value:"followers",className:"flex-1 data-[state=active]:bg-purple-600 data-[state=active]:text-white",children:"Seguidores"})]}),r.jsx(et,{value:"synchronicities",className:"p-6 overflow-y-auto max-h-[60vh]",children:o.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("p",{className:"text-gray-400 mb-2",children:"Nenhuma sincronicidade ainda"}),r.jsx("p",{className:"text-gray-500 text-sm",children:"Conecte-se com outros viajantes para encontrar matches mtuos!"})]}):r.jsx("div",{className:"space-y-3",children:o.map(u=>r.jsxs(q.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-slate-800/50 rounded-xl p-4 flex items-center justify-between hover:bg-slate-800/70 transition border border-purple-500/20",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("img",{src:u.following_avatar||"https://via.placeholder.com/50",alt:u.following_name,className:"w-12 h-12 rounded-full object-cover border-2 border-pink-500"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-white",children:u.following_name}),r.jsx("p",{className:"text-sm text-pink-300 italic",children:'"O universo realmente nos uniu! "'})]})]}),r.jsxs(W,{onClick:()=>n(ft("Chat")),className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:opacity-90",children:[r.jsx(Da,{className:"w-4 h-4 mr-2"}),"Conversar"]})]},u.id))})}),r.jsx(et,{value:"following",className:"p-6 overflow-y-auto max-h-[60vh]",children:s.length===0?r.jsx("div",{className:"text-center py-12",children:r.jsx("p",{className:"text-gray-400",children:"Voc ainda no segue ningum"})}):r.jsx("div",{className:"space-y-3",children:s.map(u=>r.jsxs(q.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-slate-800/50 rounded-xl p-4 flex items-center justify-between hover:bg-slate-800/70 transition border border-purple-500/20",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("img",{src:u.following_avatar||"https://via.placeholder.com/50",alt:u.following_name,className:"w-12 h-12 rounded-full object-cover border-2 border-purple-500"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-white",children:u.following_name}),r.jsxs("p",{className:"text-sm text-gray-400",children:["@",u.following_name.toLowerCase().replace(/\s/g,"")]})]})]}),r.jsxs(W,{onClick:()=>l.mutate(u.id),variant:"outline",className:"border-slate-600 hover:bg-slate-700",children:[r.jsx(iG,{className:"w-4 h-4 mr-2"}),"Deixar de Seguir"]})]},u.id))})}),r.jsx(et,{value:"followers",className:"p-6 overflow-y-auto max-h-[60vh]",children:i.length===0?r.jsx("div",{className:"text-center py-12",children:r.jsx("p",{className:"text-gray-400",children:"Nenhum seguidor ainda"})}):r.jsx("div",{className:"space-y-3",children:i.map(u=>{const h=d(u.follower_id);return r.jsxs(q.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-slate-800/50 rounded-xl p-4 flex items-center justify-between hover:bg-slate-800/70 transition border border-purple-500/20",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("img",{src:u.follower_avatar||"https://via.placeholder.com/50",alt:u.follower_name,className:"w-12 h-12 rounded-full object-cover border-2 border-blue-500"}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold text-white",children:u.follower_name}),r.jsxs("p",{className:"text-sm text-gray-400",children:["@",u.follower_name.toLowerCase().replace(/\s/g,"")]})]})]}),h?r.jsxs(W,{disabled:!0,className:"bg-green-600/50 cursor-default",children:[r.jsx(Hu,{className:"w-4 h-4 mr-2"}),"Seguindo"]}):r.jsxs(W,{onClick:()=>c.mutate(u),className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:opacity-90",children:[r.jsx(Hu,{className:"w-4 h-4 mr-2"}),"Seguir de Volta"]})]},u.id)})})})]})]})})}function jPe({currentUser:t,matchedUser:e,onClose:n,onOpenChat:a}){const[s,i]=w.useState(!0),[o,l]=w.useState(!1);w.useEffect(()=>{const d=setTimeout(()=>{i(!1),l(!0)},2e3);return()=>clearTimeout(d)},[]);const c=Array.from({length:30},(d,u)=>({id:u,x:Math.random()*100,y:Math.random()*100,delay:Math.random()*2,duration:2+Math.random()*3,size:20+Math.random()*40}));return r.jsx(gt,{children:r.jsxs(q.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[9999] bg-black/90 backdrop-blur-md flex items-center justify-center p-4",onClick:n,children:[s&&r.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:c.map(d=>r.jsx(q.div,{className:"absolute",style:{left:`${d.x}%`,top:`${d.y}%`},initial:{opacity:0,scale:0},animate:{opacity:[0,1,1,0],scale:[0,1,1.2,0],y:[0,-200],rotate:[0,360]},transition:{duration:d.duration,delay:d.delay,ease:"easeOut"},children:r.jsx($n,{className:"text-pink-500",style:{width:d.size,height:d.size},fill:"currentColor"})},d.id))}),r.jsx(q.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.5,opacity:0},transition:{type:"spring",damping:15},onClick:d=>d.stopPropagation(),className:"relative z-10",children:o?r.jsx("div",{className:"bg-gradient-to-br from-purple-900/90 via-pink-900/90 to-purple-900/90 backdrop-blur-xl rounded-3xl p-6 md:p-8 border-2 border-pink-500/50 shadow-2xl max-w-md",children:r.jsxs(q.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",damping:10},className:"text-center",children:[r.jsx("div",{className:"w-20 h-20 md:w-24 md:h-24 rounded-full bg-gradient-to-br from-green-500 to-emerald-600 flex items-center justify-center mx-auto mb-4 shadow-xl",children:r.jsx(_e,{className:"w-10 h-10 md:w-12 md:h-12 text-white"})}),r.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-2",children:" Match Realizado! "}),r.jsx("p",{className:"text-pink-200 mb-2 text-sm md:text-base",children:"Voc se conectou com"}),r.jsxs("p",{className:"text-white text-xl md:text-2xl font-bold mb-4",children:[e.display_name,"!"]}),r.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-3 mb-6",children:r.jsx("p",{className:"text-purple-200 text-xs md:text-sm",children:" Notificao enviada! Aguarde a confirmao para iniciar uma conversa especial."})}),r.jsxs("div",{className:"flex flex-col gap-3",children:[r.jsxs(W,{onClick:a,className:"w-full bg-gradient-to-r from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700 text-white font-bold shadow-lg",children:[r.jsx($n,{className:"w-5 h-5 mr-2",fill:"currentColor"}),"Iniciar Chat Mstico"]}),r.jsx(W,{onClick:n,variant:"outline",className:"w-full border-pink-400/50 text-pink-300 hover:bg-pink-500/20",children:"Continuar Explorando"})]})]})}):r.jsxs("div",{className:"flex items-center gap-4 md:gap-6",children:[r.jsx(q.div,{initial:{x:-100,opacity:0},animate:{x:0,opacity:1},transition:{delay:.2},className:"w-28 h-28 md:w-36 md:h-36 rounded-full border-4 border-purple-500 overflow-hidden shadow-2xl",children:r.jsx("img",{src:t.avatar_url,alt:t.display_name,className:"w-full h-full object-cover"})}),r.jsxs(q.div,{animate:{scale:[1,1.3,1]},transition:{duration:1,repeat:1/0,ease:"easeInOut"},className:"relative",children:[r.jsx($n,{className:"w-16 h-16 md:w-20 md:h-20 text-pink-500",fill:"currentColor"}),r.jsx(q.div,{className:"absolute inset-0",animate:{scale:[1,1.5,1],opacity:[.5,0,.5]},transition:{duration:1,repeat:1/0,ease:"easeOut"},children:r.jsx($n,{className:"w-16 h-16 md:w-20 md:h-20 text-pink-400",fill:"currentColor"})})]}),r.jsx(q.div,{initial:{x:100,opacity:0},animate:{x:0,opacity:1},transition:{delay:.2},className:"w-28 h-28 md:w-36 md:h-36 rounded-full border-4 border-pink-500 overflow-hidden shadow-2xl",children:r.jsx("img",{src:e.avatar_url,alt:e.display_name,className:"w-full h-full object-cover"})})]})})]})})}var NPe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],SPe=NPe.reduce((t,e)=>{const n=Pg(`Primitive.${e}`),a=w.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(c,{...l,ref:i})});return a.displayName=`Primitive.${e}`,{...t,[e]:a}},{}),CPe="Label",BJ=w.forwardRef((t,e)=>r.jsx(SPe.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));BJ.displayName=CPe;var zJ=BJ;const EPe=B1("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Mo=w.forwardRef(({className:t,...e},n)=>r.jsx(zJ,{ref:n,className:Wt(EPe(),t),...e}));Mo.displayName=zJ.displayName;function APe({user:t,onClose:e,onSave:n}){const[a,s]=w.useState({visible_in_oraculo:(t==null?void 0:t.visible_in_oraculo)!==!1,featured_profile:(t==null?void 0:t.featured_profile)||!1,show_age:(t==null?void 0:t.show_age)!==!1,show_location:(t==null?void 0:t.show_location)!==!1,max_distance:(t==null?void 0:t.max_distance)||50,gender_preference:(t==null?void 0:t.gender_preference)||"todos",age_min:(t==null?void 0:t.age_min)||18,age_max:(t==null?void 0:t.age_max)||99,looking_for:(t==null?void 0:t.looking_for)||[]}),i=()=>{n(a)},o=d=>{s({...a,looking_for:a.looking_for.includes(d)?a.looking_for.filter(u=>u!==d):[...a.looking_for,d]})},l=t==null?void 0:t.relationship_status,c=["namorando","casado","uniao-estavel"].includes(l);return r.jsx(gt,{children:r.jsx(q.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[9999] bg-black/80 backdrop-blur-sm flex items-center justify-center p-4",onClick:e,children:r.jsxs(q.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:d=>d.stopPropagation(),className:"bg-gradient-to-br from-slate-900 via-purple-900/50 to-slate-900 rounded-2xl p-6 max-w-md w-full max-h-[90vh] overflow-y-auto border-2 border-purple-500/30",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[r.jsx(_e,{className:"w-6 h-6 text-purple-400"}),"Configuraes do Orculo"]}),r.jsx("button",{onClick:e,className:"w-8 h-8 rounded-full bg-slate-800 hover:bg-slate-700 flex items-center justify-center transition",children:r.jsx(nt,{className:"w-5 h-5 text-gray-400"})})]}),c&&r.jsx("div",{className:"bg-yellow-900/30 border border-yellow-500/50 rounded-lg p-3 mb-4",children:r.jsx("p",{className:"text-yellow-200 text-xs",children:" Seu perfil est oculto no Orculo por estar em um relacionamento."})}),r.jsxs("div",{className:"space-y-5",children:[r.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-4 border border-purple-500/20",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[a.visible_in_oraculo?r.jsx(Vr,{className:"w-5 h-5 text-green-400"}):r.jsx(ip,{className:"w-5 h-5 text-gray-400"}),r.jsx(Mo,{htmlFor:"visible",className:"text-white font-semibold",children:"Aparecer no Orculo"})]}),r.jsx(Ci,{id:"visible",checked:a.visible_in_oraculo,onCheckedChange:d=>s({...a,visible_in_oraculo:d}),disabled:c})]}),r.jsx("p",{className:"text-xs text-gray-400",children:"Outros usurios podero ver seu perfil"})]}),r.jsxs("div",{className:"bg-gradient-to-r from-amber-900/30 to-yellow-900/30 rounded-lg p-4 border border-amber-500/30",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Bn,{className:"w-5 h-5 text-yellow-400"}),r.jsx(Mo,{htmlFor:"featured",className:"text-white font-semibold",children:"Perfil em Destaque "})]}),r.jsx(Ci,{id:"featured",checked:a.featured_profile,onCheckedChange:d=>s({...a,featured_profile:d}),disabled:!a.visible_in_oraculo||c})]}),r.jsx("p",{className:"text-xs text-yellow-200",children:"Seu perfil aparecer primeiro nas buscas"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("h3",{className:"text-white font-semibold flex items-center gap-2",children:[r.jsx(Vr,{className:"w-4 h-4 text-purple-400"}),"Privacidade"]}),r.jsxs("div",{className:"flex items-center justify-between bg-slate-800/50 rounded-lg p-3 border border-purple-500/20",children:[r.jsx(Mo,{htmlFor:"show_age",className:"text-sm text-gray-300",children:"Mostrar Idade"}),r.jsx(Ci,{id:"show_age",checked:a.show_age,onCheckedChange:d=>s({...a,show_age:d})})]}),r.jsxs("div",{className:"flex items-center justify-between bg-slate-800/50 rounded-lg p-3 border border-purple-500/20",children:[r.jsx(Mo,{htmlFor:"show_location",className:"text-sm text-gray-300",children:"Mostrar Localizao"}),r.jsx(Ci,{id:"show_location",checked:a.show_location,onCheckedChange:d=>s({...a,show_location:d})})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("h3",{className:"text-white font-semibold flex items-center gap-2",children:[r.jsx(Wue,{className:"w-4 h-4 text-purple-400"}),"Preferncias de Busca"]}),r.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-3 border border-purple-500/20",children:[r.jsxs(Mo,{className:"text-sm text-gray-300 mb-2 block",children:["Distncia Mxima: ",a.max_distance,"km"]}),r.jsx("input",{type:"range",min:"5",max:"200",step:"5",value:a.max_distance,onChange:d=>s({...a,max_distance:parseInt(d.target.value)}),className:"w-full accent-purple-500"})]}),r.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-3 border border-purple-500/20",children:[r.jsx(Mo,{className:"text-sm text-gray-300 mb-2 block",children:"Procurando por"}),r.jsxs(Ds,{value:a.gender_preference,onValueChange:d=>s({...a,gender_preference:d}),children:[r.jsx(hs,{className:"bg-slate-700 border-purple-500/30 text-white",children:r.jsx(Is,{})}),r.jsxs(ms,{className:"bg-slate-800 border-purple-500/30",children:[r.jsx(Ot,{value:"todos",className:"text-white",children:"Todos"}),r.jsx(Ot,{value:"masculino",className:"text-white",children:"Masculino"}),r.jsx(Ot,{value:"feminino",className:"text-white",children:"Feminino"}),r.jsx(Ot,{value:"nao-binario",className:"text-white",children:"No-binrio"})]})]})]}),r.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-3 border border-purple-500/20",children:[r.jsxs(Mo,{className:"text-sm text-gray-300 mb-2 block",children:["Faixa Etria: ",a.age_min," - ",a.age_max," anos"]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx(Mo,{className:"text-xs text-gray-400 mb-1 block",children:"Mnimo"}),r.jsx("input",{type:"number",min:"18",max:"99",value:a.age_min,onChange:d=>s({...a,age_min:parseInt(d.target.value)}),className:"w-full bg-slate-700 border border-purple-500/30 rounded px-2 py-1 text-white text-sm"})]}),r.jsxs("div",{children:[r.jsx(Mo,{className:"text-xs text-gray-400 mb-1 block",children:"Mximo"}),r.jsx("input",{type:"number",min:"18",max:"99",value:a.age_max,onChange:d=>s({...a,age_max:parseInt(d.target.value)}),className:"w-full bg-slate-700 border border-purple-500/30 rounded px-2 py-1 text-white text-sm"})]})]})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("h3",{className:"text-white font-semibold flex items-center gap-2",children:[r.jsx($n,{className:"w-4 h-4 text-pink-400"}),"O que voc busca?"]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:[{value:"amizade",label:"Amizade"},{value:"namoro",label:"Namoro"},{value:"relacionamento-serio",label:"Relacionamento Srio"},{value:"conexoes-espirituais",label:"Conexes Espirituais"},{value:"networking",label:"Networking"}].map(d=>r.jsx("button",{onClick:()=>o(d.value),className:`px-3 py-1.5 rounded-full text-xs font-medium transition ${a.looking_for.includes(d.value)?"bg-gradient-to-r from-pink-600 to-purple-600 text-white":"bg-slate-700 text-gray-300 hover:bg-slate-600"}`,children:d.label},d.value))})]})]}),r.jsx("div",{className:"mt-6 pt-4 border-t border-purple-500/20",children:r.jsx(W,{onClick:i,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-bold",children:"Salvar Configuraes"})})]})})})}function MPe({isOpen:t,onClose:e,currentUser:n,otherUser:a}){if(!(n!=null&&n.id)||!(a!=null&&a.id))return null;const[s,i]=w.useState(""),[o,l]=w.useState(!1),c=w.useRef(null),d=wt(),u=[n.id,a.id].sort().join("_"),{data:h,isLoading:f}=Oe({queryKey:["direct-messages",u],queryFn:async()=>await H.entities.DirectMessage.filter({conversation_id:u},"created_date",200),enabled:t&&!!(n!=null&&n.id)&&!!(a!=null&&a.id),initialData:[],refetchInterval:1500});w.useEffect(()=>{t&&(window.scrollTo({top:0,behavior:"smooth"}),v())},[t]),w.useEffect(()=>{v()},[h]);const v=()=>{setTimeout(()=>{var _;(_=c.current)==null||_.scrollIntoView({behavior:"smooth"})},100)};w.useEffect(()=>{(async()=>{if(!t||!h||h.length===0)return;const j=h.filter(S=>S.recipient_id===n.id&&!S.is_read);for(const S of j)try{await H.entities.DirectMessage.update(S.id,{is_read:!0})}catch(C){console.error("Erro ao marcar como lida:",C)}j.length>0&&(d.invalidateQueries({queryKey:["direct-messages"]}),d.invalidateQueries({queryKey:["private-messages-all"]}))})()},[t,h,n.id,d]);const x=Ue({mutationFn:async _=>{if(!(n!=null&&n.id)||!(a!=null&&a.id))return;const j=await H.entities.DirectMessage.create(_);return await H.entities.Notification.create({user_id:a.id,type:"announcement",title:" Nova Mensagem!",message:`${n.display_name||n.full_name} enviou uma mensagem`,from_user_id:n.id,from_user_name:n.display_name||n.full_name,from_user_avatar:n.avatar_url,action_url:"/Chat"}),j},onSuccess:()=>{d.invalidateQueries({queryKey:["direct-messages",u]}),d.invalidateQueries({queryKey:["private-messages-all"]}),v()},onError:()=>{qe.error("Erro ao enviar mensagem")}}),g=()=>{if(!s.trim()||!(n!=null&&n.id)||!(a!=null&&a.id))return;const _={conversation_id:u,sender_id:n.id,sender_name:n.display_name||n.full_name,sender_avatar:n.avatar_url,recipient_id:a.id,recipient_name:a.display_name||a.full_name,recipient_avatar:a.avatar_url,message_type:"text",content:s,is_read:!1};x.mutate(_),i("")},y=_=>{_.key==="Enter"&&!_.shiftKey&&(_.preventDefault(),g())},b=async _=>{if(!(n!=null&&n.id)||!(a!=null&&a.id))return;const j={conversation_id:u,sender_id:n.id,sender_name:n.display_name||n.full_name,sender_avatar:n.avatar_url,recipient_id:a.id,recipient_name:a.display_name||a.full_name,recipient_avatar:a.avatar_url,message_type:"audio",content:" Mensagem de voz",media_url:_,is_read:!1};x.mutate(j)};return r.jsxs(r.Fragment,{children:[r.jsx(gt,{children:t&&r.jsx(q.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[200] flex items-center justify-center p-2 md:p-4 bg-black/80",onClick:e,children:r.jsxs(q.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:_=>_.stopPropagation(),className:"bg-gradient-to-br from-slate-900 to-slate-800 rounded-2xl max-w-2xl w-full h-[85vh] md:h-[80vh] flex flex-col border border-purple-500/30 overflow-hidden",children:[r.jsxs("div",{className:"p-4 md:p-6 border-b border-purple-500/30 flex items-center justify-between flex-shrink-0",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Lr,{user:a,size:"sm",showStatus:!0}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-base md:text-lg font-bold text-white",children:a.display_name||a.full_name}),r.jsx("p",{className:"text-xs text-gray-400",children:a.online_status==="online"?" Online":"Offline"})]})]}),r.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white transition",children:r.jsx(nt,{className:"w-5 h-5 md:w-6 md:h-6"})})]}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-3 md:p-4 space-y-3",children:[f&&h.length===0?r.jsx("div",{className:"flex items-center justify-center h-full",children:r.jsx(zt,{className:"w-8 h-8 text-purple-500 animate-spin"})}):h.length===0?r.jsx("div",{className:"flex items-center justify-center h-full",children:r.jsx("p",{className:"text-gray-500 text-sm",children:"Nenhuma mensagem ainda"})}):h.map(_=>{if(!(_!=null&&_.id))return null;const j=_.sender_id===n.id;return r.jsx(q.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`flex ${j?"justify-end":"justify-start"}`,children:r.jsxs("div",{className:`max-w-[75%] md:max-w-[70%] ${j?"items-end":"items-start"}`,children:[_.message_type==="audio"?r.jsx("div",{className:`p-3 rounded-2xl ${j?"bg-gradient-to-r from-purple-600 to-purple-700":"bg-slate-700"}`,children:r.jsx("audio",{controls:!0,className:"max-w-full",children:r.jsx("source",{src:_.media_url,type:"audio/mpeg"})})}):r.jsx("div",{className:`p-3 rounded-2xl ${j?"bg-gradient-to-r from-purple-600 to-purple-700 text-white":"bg-slate-700 text-white"}`,children:r.jsx("p",{className:"text-sm break-words",children:_.content})}),r.jsx("span",{className:"text-xs text-gray-500 mt-1 px-2 block",children:kn(new Date(_.created_date),"HH:mm",{locale:jn})})]})},_.id)}),r.jsx("div",{ref:c})]}),r.jsx("div",{className:"p-3 md:p-4 border-t border-purple-500/30 flex-shrink-0",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(W,{size:"icon",variant:"ghost",onClick:()=>l(!0),className:"text-purple-400 hover:bg-purple-900/20 flex-shrink-0",children:r.jsx(mo,{className:"w-5 h-5"})}),r.jsx(je,{value:s,onChange:_=>i(_.target.value),onKeyPress:y,placeholder:"Digite sua mensagem...",className:"flex-1 bg-slate-800 border-slate-700 text-white text-sm md:text-base"}),r.jsx(W,{onClick:g,disabled:!s.trim()||x.isPending,size:"icon",className:"bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 flex-shrink-0",children:x.isPending?r.jsx(zt,{className:"w-4 h-4 animate-spin"}):r.jsx(Hr,{className:"w-4 h-4 md:w-5 md:h-5"})})]})})]})})}),r.jsx(RQ,{isOpen:o,onClose:()=>l(!1),onSave:b})]})}const oF={bruxa_natural:"#9333EA",sabio:"#F59E0B",guardiao_astral:"#3B82F6",xama:"#10B981",navegador_cosmico:"#8B5CF6",alquimista:"#6366F1",none:"#64748B"},PPe={fogo:ci,agua:GH,ar:X3,terra:Uhe};function qJ(){const t=wt(),[e,n]=w.useState(null),[a,s]=w.useState(0),[i,o]=w.useState(!1),[l,c]=w.useState(!1),[d,u]=w.useState(null),[h,f]=w.useState(!1),[v,x]=w.useState(!1),[g,y]=w.useState(null);w.useEffect(()=>{b()},[]);const b=async()=>{try{const B=await H.auth.me();n(B)}catch(B){console.error("Erro ao carregar usurio:",B)}},{data:_,isLoading:j,refetch:S}=Oe({queryKey:["potential-connections",e==null?void 0:e.id],queryFn:async()=>{if(!e)return[];const B=await H.entities.User.list("-created_date",100),I=(await H.entities.Connection.filter({follower_id:e.id})).map(z=>z.following_id);return B.filter(z=>!(z.id===e.id||I.includes(z.id)||!z.avatar_url||!z.display_name||["namorando","casado","uniao-estavel"].includes(z.relationship_status)||z.visible_in_oraculo===!1)).sort((z,K)=>z.featured_profile&&!K.featured_profile?-1:!z.featured_profile&&K.featured_profile?1:0)},enabled:!!e,initialData:[]}),C=Ue({mutationFn:async B=>{await H.entities.Connection.create({follower_id:e.id,follower_name:e.display_name||e.full_name,follower_avatar:e.avatar_url,following_id:B.id,following_name:B.display_name||B.full_name,following_avatar:B.avatar_url}),await H.entities.Notification.create({user_id:B.id,type:"follow",title:" Novo Match no Orculo!",message:`${e.display_name||e.full_name} se conectou com voc no Orculo do Corao`,from_user_id:e.id,from_user_name:e.display_name||e.full_name,from_user_avatar:e.avatar_url,related_entity_type:"user",related_entity_id:e.id,action_url:`/Perfil?user=${e.username||e.id}`});const G=e.xp||0,I=Math.max(Math.floor(G*.02),10);return await H.auth.updateMe({xp:G+I}),window.dispatchEvent(new CustomEvent("questAction:follow_user")),{targetUser:B,xpBonus:I}},onSuccess:({targetUser:B,xpBonus:G})=>{u(B),c(!0),t.invalidateQueries({queryKey:["connections"]}),t.invalidateQueries({queryKey:["potential-connections"]}),window.dispatchEvent(new CustomEvent("xpUpdated"))}}),E=Ue({mutationFn:async B=>{await H.auth.updateMe(B)},onSuccess:()=>{qe.success("Configuraes salvas! "),f(!1),b(),t.invalidateQueries({queryKey:["potential-connections"]})}}),P=(B,G)=>{B==="right"?C.mutate(G):setTimeout(()=>{s(I=>I+1)},300)},T=()=>{a<_.length&&s(B=>B+1)},M=()=>{a<_.length&&P("right",_[a])},k=()=>{c(!1),d&&(y(d),x(!0))},O=()=>{s(0),S(),qe.success("Jornada reiniciada! ")};if(!e||j)return r.jsx("div",{className:"min-h-screen bg-gradient-to-b from-[#02031C] via-[#1a1a2e] to-[#02031C] flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(q.div,{animate:{scale:[1,1.2,1],rotate:[0,360]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:r.jsx($n,{className:"w-16 h-16 text-pink-500 mx-auto mb-4"})}),r.jsx("p",{className:"text-gray-300 text-lg",children:"Preparando o Orculo..."})]})});const $=_[a],F=a<_.length;return r.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-[#02031C] via-[#1a1a2e] to-[#02031C] overflow-hidden",children:[r.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[r.jsx(q.div,{className:"absolute top-1/4 left-1/4 w-64 h-64 bg-pink-500/10 rounded-full blur-3xl",animate:{scale:[1,1.2,1],opacity:[.3,.5,.3]},transition:{duration:8,repeat:1/0,ease:"easeInOut"}}),r.jsx(q.div,{className:"absolute bottom-1/4 right-1/4 w-64 h-64 bg-purple-500/10 rounded-full blur-3xl",animate:{scale:[1.2,1,1.2],opacity:[.5,.3,.5]},transition:{duration:8,repeat:1/0,ease:"easeInOut"}})]}),r.jsxs("div",{className:"relative max-w-md mx-auto px-3 pt-3",style:{paddingBottom:"calc(56px + 1rem)"},children:[r.jsxs(q.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h1",{className:"text-lg md:text-xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-pink-400 via-purple-400 to-indigo-400",children:"Conexes e Laos"}),r.jsx("p",{className:"text-slate-300 text-[9px] md:text-[10px]",children:"Encontre sua sincronicidade"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(W,{onClick:()=>f(!0),size:"sm",className:"bg-slate-800 hover:bg-slate-700 text-purple-300 border border-purple-500/30 h-7 px-2.5",children:r.jsx(dd,{className:"w-3.5 h-3.5"})}),r.jsx(W,{onClick:()=>o(!0),size:"sm",className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white border-0 shadow-lg shadow-purple-500/30 h-7 px-2.5",children:r.jsx(Kn,{className:"w-3.5 h-3.5"})})]})]}),r.jsx("div",{className:"relative",style:{height:"calc(100vh - 140px)"},children:r.jsx(gt,{mode:"wait",children:F?r.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[_[a+1]&&r.jsx(q.div,{initial:{scale:.92,opacity:.3},animate:{scale:.95,opacity:.5},className:"absolute inset-0 flex items-center justify-center",children:r.jsx("div",{className:"w-[92%] h-[95%] rounded-3xl bg-gradient-to-br from-purple-900/50 to-pink-900/50 backdrop-blur-sm border border-purple-500/20"})},`bg-${a+1}`),r.jsxs("div",{className:"relative w-full h-full",children:[r.jsx(TPe,{profile:$,onSwipe:P},$.id),r.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"absolute bottom-2 left-0 right-0 flex items-center justify-center gap-4 z-20",children:[r.jsx(q.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:T,className:"w-14 h-14 md:w-16 md:h-16 rounded-full bg-gradient-to-br from-red-500 to-red-600 flex items-center justify-center shadow-2xl shadow-red-500/60 hover:shadow-red-500/80 transition-all duration-300 border-4 border-white/20",children:r.jsx(nt,{className:"w-7 h-7 md:w-8 md:h-8 text-white"})}),r.jsxs(q.button,{whileHover:{scale:1.15},whileTap:{scale:.95},onClick:M,disabled:C.isPending,className:"w-16 h-16 md:w-20 md:h-20 rounded-full bg-gradient-to-br from-green-500 via-emerald-500 to-green-600 flex items-center justify-center shadow-2xl shadow-green-500/70 hover:shadow-green-500/90 transition-all duration-300 border-4 border-white/30 relative",children:[r.jsx(q.div,{animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"absolute inset-0 rounded-full bg-green-400/30 blur-xl"}),r.jsx($n,{className:"w-8 h-8 md:w-10 md:h-10 text-white relative z-10",fill:"currentColor"})]})]})]})]}):r.jsxs(q.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"text-center px-6 h-full flex flex-col items-center justify-center",children:[r.jsx(q.div,{animate:{scale:[1,1.1,1],rotate:[0,360]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},className:"w-20 h-20 md:w-24 md:h-24 rounded-full bg-gradient-to-br from-pink-500 to-purple-600 flex items-center justify-center mx-auto mb-6 shadow-xl shadow-pink-500/50",children:r.jsx($n,{className:"w-10 h-10 md:w-12 md:h-12 text-white"})}),r.jsx("h2",{className:"text-xl md:text-2xl font-bold text-white mb-3",children:"Voc explorou todos os perfis!"}),r.jsx("p",{className:"text-slate-300 text-sm md:text-base mb-6",children:"O Orculo est buscando novas energias csmicas..."}),r.jsxs(W,{onClick:O,className:"bg-gradient-to-r from-pink-600 to-purple-600 hover:from-pink-700 hover:to-purple-700 text-white shadow-lg shadow-pink-500/30",children:[r.jsx(_e,{className:"w-4 h-4 mr-2"}),"Recomear Jornada"]})]},"empty")})})]}),i&&r.jsx(_Pe,{user:e,onClose:()=>o(!1)}),l&&d&&r.jsx(jPe,{currentUser:e,matchedUser:d,onClose:()=>{c(!1),s(B=>B+1)},onOpenChat:k}),h&&r.jsx(APe,{user:e,onClose:()=>f(!1),onSave:B=>E.mutate(B)}),v&&g&&r.jsx(MPe,{isOpen:v,onClose:()=>{x(!1),y(null)},currentUser:e,otherUser:g})]})}function TPe({profile:t,onSwipe:e}){var f,v;const n=mP(0),a=mP(0),s=Am(n,[-200,200],[-25,25]),i=Am(n,[-200,-100,0,100,200],[0,1,1,1,0]),o=(x,g)=>{const b=g.velocity.x,_=g.offset.x;if(Math.abs(_)>80||Math.abs(b)>400){const j=_>0?"right":"left",S=j==="right"?500:-500;n.set(S),setTimeout(()=>{e(j,t)},200)}else n.set(0),a.set(0)},l=oF[t.archetype]||oF.none,c=t.birthdate?new Date().getFullYear()-new Date(t.birthdate).getFullYear():"?",d=(f=t.detected_location)!=null&&f.city&&((v=t.detected_location)!=null&&v.state)?`${t.detected_location.city}, ${t.detected_location.state}`:t.city&&t.state?`${t.city}, ${t.state}`:"Local desconhecido",u=t.elemento_dominante?PPe[t.elemento_dominante.toLowerCase()]:null,h={guardiao_astral:"Guardio Astral",sabio:"Sbio",bruxa_natural:"Bruxa Natural",xama:"Xam",navegador_cosmico:"Navegador Csmico",alquimista:"Alquimista"};return r.jsx(q.div,{drag:!0,dragConstraints:{left:0,right:0,top:0,bottom:0},dragElastic:.2,onDragEnd:o,style:{x:n,y:a,rotate:s,opacity:i},className:"absolute inset-0 cursor-grab active:cursor-grabbing touch-none",children:r.jsxs("div",{className:"relative w-full h-full rounded-3xl overflow-hidden border-4 border-purple-500/30 shadow-2xl",children:[r.jsx("div",{className:"absolute inset-0",children:r.jsx("img",{src:t.avatar_url,alt:t.display_name,className:"w-full h-full object-cover",draggable:!1})}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/50 to-transparent"}),r.jsxs("div",{className:"absolute bottom-14 left-0 right-0 p-3 md:p-4 text-white",children:[r.jsxs("div",{className:"mb-2",children:[r.jsxs("h2",{className:"text-xl md:text-2xl font-bold drop-shadow-lg",children:[t.display_name||t.full_name,", ",c]}),r.jsxs("div",{className:"flex items-center gap-1 text-gray-200 mt-0.5",children:[r.jsx(op,{className:"w-3 h-3"}),r.jsx("span",{className:"text-[10px] md:text-xs",children:d})]})]}),r.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[t.archetype&&t.archetype!=="none"&&r.jsxs("div",{className:"px-2 py-0.5 rounded-full text-[10px] md:text-xs font-semibold flex items-center gap-1.5 backdrop-blur-md border border-white/20 shadow-md",style:{backgroundColor:`${l}40`,color:"#ffffff",textShadow:"0 1px 2px rgba(0,0,0,0.5)"},children:[u&&r.jsx(u,{className:"w-3 h-3"}),r.jsx("span",{children:h[t.archetype]||"Mstico"})]}),r.jsxs("div",{className:"flex items-center gap-1 bg-gradient-to-r from-purple-600/80 to-pink-600/80 px-2 py-0.5 rounded-full backdrop-blur-sm border border-white/20 shadow-md",children:[r.jsx(Wn,{className:"w-3 h-3 text-yellow-300",fill:"currentColor"}),r.jsxs("span",{className:"text-[10px] md:text-xs font-bold",children:["Nv ",t.level||1]})]})]}),(t.signo_solar||t.signo_lunar||t.ascendente)&&r.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[t.signo_solar&&r.jsxs("div",{className:"flex items-center gap-1 bg-black/30 px-2 py-0.5 rounded-full backdrop-blur-sm",children:[r.jsx(IM,{className:"w-3 h-3 text-yellow-400"}),r.jsx("span",{className:"text-[10px] font-medium",children:t.signo_solar})]}),t.signo_lunar&&r.jsxs("div",{className:"flex items-center gap-1 bg-black/30 px-2 py-0.5 rounded-full backdrop-blur-sm",children:[r.jsx(td,{className:"w-3 h-3 text-purple-300"}),r.jsx("span",{className:"text-[10px] font-medium",children:t.signo_lunar})]}),t.ascendente&&r.jsxs("div",{className:"flex items-center gap-1 bg-black/30 px-2 py-0.5 rounded-full backdrop-blur-sm",children:[r.jsx(Dde,{className:"w-3 h-3 text-cyan-400"}),r.jsx("span",{className:"text-[10px] font-medium",children:t.ascendente})]})]}),t.bio&&r.jsx("div",{className:"bg-black/30 backdrop-blur-md rounded-lg p-2 border border-white/10",children:r.jsxs("p",{className:"text-gray-100 text-[11px] md:text-xs leading-snug line-clamp-2",children:['"',t.bio,'"']})})]}),r.jsx(q.div,{className:"absolute top-6 md:top-8 right-4 md:right-6 px-3 md:px-4 py-1.5 md:py-2 bg-green-500/90 backdrop-blur-sm rounded-xl border-3 border-white shadow-xl",style:{opacity:Am(n,[0,100],[0,1]),rotate:-20},children:r.jsx("span",{className:"text-2xl md:text-4xl font-bold text-white",children:"MATCH"})}),r.jsx(q.div,{className:"absolute top-6 md:top-8 left-4 md:left-6 px-3 md:px-4 py-1.5 md:py-2 bg-red-500/90 backdrop-blur-sm rounded-xl border-3 border-white shadow-xl",style:{opacity:Am(n,[-100,0],[1,0]),rotate:20},children:r.jsx("span",{className:"text-2xl md:text-4xl font-bold text-white",children:"NOPE"})})]})})}const kPe=[{id:"copas",name:"Copas",emoji:"",icon:"",description:"Emoes, relacionamentos, intuio",color:"from-blue-600 to-cyan-600"},{id:"espadas",name:"Espadas",emoji:"",icon:"",description:"Pensamento, conflito, verdade",color:"from-gray-600 to-slate-600"},{id:"paus",name:"Paus",emoji:"",icon:"",description:"Paixo, energia, criatividade",color:"from-orange-600 to-red-600"},{id:"ouros",name:"Ouros",emoji:"",icon:"",description:"Materialidade, segurana, recursos",color:"from-yellow-600 to-amber-600"}];function VJ(){const t=Sn(),[e,n]=w.useState(null),[a,s]=w.useState(null),[i,o]=w.useState(null),[l,c]=w.useState(null),[d,u]=w.useState(!1),[h,f]=w.useState(!1),[v,x]=w.useState(!1);w.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"}),g()},[]);const g=async()=>{try{const j=await H.auth.me();n(j)}catch(j){console.error("Erro ao carregar usurio:",j)}},y=j=>{s(j),window.scrollTo({top:0,behavior:"smooth"})},b=async j=>{o(j),u(!0),window.scrollTo({top:0,behavior:"smooth"});try{const S=`Voc  uma tarloga mestre especializada em combinaes de cartas.

Analise a combinao entre:
- NAIPE: ${a.name} (${a.description})
- ARCANO MAIOR: ${j.name}

Fornea uma interpretao profunda e prtica sobre como essa combinao especfica pode se manifestar na vida de algum.

Estruture sua resposta em:
1. **Sntese da Combinao** (2-3 frases sobre a essncia da combinao)
2. **No Amor** (como essa combinao afeta relacionamentos)
3. **No Trabalho** (manifestao profissional)
4. **No Espiritual** (significado espiritual)
5. **Conselho Prtico** (ao concreta que a pessoa pode tomar)

Seja especfica, use exemplos prticos e mantenha um tom acolhedor e mstico.
Tamanho total: 4-6 pargrafos.`,C=await H.integrations.Core.InvokeLLM({prompt:S,add_context_from_internet:!1});c(C),u(!1),await H.auth.updateMe({xp:(e.xp||0)+15})}catch(S){console.error("Erro ao gerar interpretao:",S),u(!1),c("Erro ao conectar com as energias csmicas. Tente novamente.")}},_=()=>{i?(o(null),c(null)):a?s(null):t(ft("AreaDoAluno")),window.scrollTo({top:0,behavior:"smooth"})};return e?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#1a1a2e] via-[#16213e] to-[#0f3460] text-white p-4 md:p-6 pb-32",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsxs("div",{className:"mb-6 md:mb-8",children:[r.jsxs("button",{onClick:_,className:"flex items-center gap-2 text-purple-300 hover:text-purple-100 transition mb-4",children:[r.jsx(Go,{className:"w-5 h-5"}),r.jsx("span",{children:"Voltar"})]}),r.jsxs(q.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[r.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-2",children:" Orculo de Combinaes"}),r.jsx("p",{className:"text-purple-300 text-sm md:text-base",children:"Descubra o significado profundo da unio entre Arcanos e Naipes"})]})]}),!a&&r.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-6",children:r.jsxs(X,{className:"bg-[#1a1a2e] border-purple-500/30 p-4",children:[r.jsxs("button",{onClick:()=>f(!h),className:"w-full flex items-center justify-between text-left",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(XH,{className:"w-5 h-5 text-purple-400"}),r.jsx("span",{className:"text-purple-300 font-semibold",children:"Como Funciona"})]}),h?r.jsx(ux,{className:"w-5 h-5 text-purple-400"}):r.jsx(ld,{className:"w-5 h-5 text-purple-400"})]}),r.jsx(gt,{children:h&&r.jsxs(q.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-4 text-gray-300 text-sm space-y-2",children:[r.jsx("p",{children:"1 Escolha um dos 4 Naipes (Copas, Espadas, Paus ou Ouros)"}),r.jsx("p",{children:"2 Selecione um Arcano Maior (0-21)"}),r.jsx("p",{children:"3 Receba uma interpretao nica sobre como essas energias se combinam"}),r.jsx("p",{className:"text-purple-400 font-semibold mt-3",children:" +15 XP por cada combinao explorada"})]})})]})}),!a&&r.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:[r.jsx("h2",{className:"text-xl md:text-2xl font-bold text-purple-300 mb-4 text-center",children:"Escolha um Naipe"}),r.jsx("div",{className:"grid grid-cols-2 gap-4",children:kPe.map(j=>r.jsx(q.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:r.jsx(X,{onClick:()=>y(j),className:`bg-gradient-to-br ${j.color} border-white/20 p-6 cursor-pointer hover:shadow-2xl transition-all`,children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-5xl md:text-6xl mb-3",children:j.emoji}),r.jsx("h3",{className:"text-xl md:text-2xl font-bold text-white mb-2",children:j.name}),r.jsx("p",{className:"text-white/80 text-xs md:text-sm",children:j.description})]})})},j.id))})]}),a&&!i&&r.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[r.jsxs(X,{className:"bg-[#1a1a2e] border-purple-500/30 p-4 mb-6",children:[r.jsxs("button",{onClick:()=>x(!v),className:"w-full flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-3xl",children:a.emoji}),r.jsxs("div",{className:"text-left",children:[r.jsxs("h3",{className:"text-lg font-bold text-white",children:["Naipe: ",a.name]}),r.jsx("p",{className:"text-sm text-purple-300",children:a.description})]})]}),v?r.jsx(ux,{className:"w-5 h-5 text-purple-400"}):r.jsx(ld,{className:"w-5 h-5 text-purple-400"})]}),v&&r.jsx("div",{className:"mt-4 pt-4 border-t border-purple-500/30",children:r.jsxs("p",{className:"text-gray-300 text-sm",children:["Agora escolha um Arcano Maior para ver como ele se combina com a energia de ",a.name,"."]})})]}),r.jsx("h2",{className:"text-xl md:text-2xl font-bold text-purple-300 mb-4 text-center",children:"Escolha um Arcano Maior"}),r.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-3 md:gap-4",children:IQ.map(j=>r.jsx(q.div,{whileHover:{scale:1.05,y:-5},whileTap:{scale:.95},children:r.jsx(X,{onClick:()=>b(j),className:"bg-slate-800 border-purple-500/30 cursor-pointer hover:border-purple-500/60 transition-all overflow-hidden group",children:r.jsxs("div",{className:"aspect-[2/3] relative overflow-hidden",children:[r.jsx("img",{src:j.image,alt:j.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent"}),r.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-2",children:r.jsx("p",{className:"text-white font-bold text-xs md:text-sm text-center leading-tight",children:j.name})})]})})},j.id))})]}),a&&i&&r.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[r.jsxs(X,{className:"bg-gradient-to-br from-purple-900/40 to-blue-900/40 border-purple-500/50 p-6",children:[r.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("h3",{className:"text-2xl font-bold text-white mb-2",children:[a.name," + ",i.name]}),r.jsx("p",{className:"text-purple-300 text-sm",children:a.description})]}),r.jsx("div",{className:"w-24 md:w-32 flex-shrink-0",children:r.jsx(X,{className:"bg-white rounded-lg overflow-hidden shadow-xl",children:r.jsx("img",{src:i.image,alt:i.name,className:"w-full h-auto object-cover"})})})]}),d?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(q.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},children:r.jsx(_e,{className:"w-12 h-12 text-purple-400 mx-auto mb-4"})}),r.jsx("p",{className:"text-purple-300",children:"Consultando as energias csmicas..."})]}):l?r.jsx("div",{className:"prose prose-invert max-w-none",children:r.jsx("div",{className:"text-gray-200 leading-relaxed whitespace-pre-wrap",children:l})}):null]}),l&&r.jsxs("div",{className:"flex gap-3",children:[r.jsx(W,{onClick:()=>{o(null),c(null),window.scrollTo({top:0,behavior:"smooth"})},variant:"outline",className:"flex-1 border-purple-500/50 text-purple-300 hover:bg-purple-900/20",children:"Escolher Outro Arcano"}),r.jsx(W,{onClick:()=>{s(null),o(null),c(null),window.scrollTo({top:0,behavior:"smooth"})},className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",children:"Nova Combinao"})]})]})]})}):r.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-[#1a1a2e] via-[#16213e] to-[#0f3460]",children:r.jsx(_e,{className:"w-12 h-12 text-purple-500 animate-pulse"})})}function HJ({pdf:t,onClose:e}){const[n,a]=w.useState(!0),[s,i]=w.useState(!1);if(w.useEffect(()=>{const u=setTimeout(()=>{a(!1)},5e3);return()=>clearTimeout(u)},[]),!t)return null;const o=[`https://docs.google.com/viewer?url=${encodeURIComponent(t.pdf_url)}&embedded=true`,`https://mozilla.github.io/pdf.js/web/viewer.html?file=${encodeURIComponent(t.pdf_url)}`,t.pdf_url],[l,c]=w.useState(0),d=()=>{l<o.length-1?(c(l+1),a(!0),i(!1)):(i(!0),a(!1))};return r.jsx(q.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[9999] bg-black",onClick:u=>{u.target===u.currentTarget&&e()},children:r.jsxs("div",{className:"h-full flex flex-col",children:[r.jsx("div",{className:"bg-slate-900 border-b border-purple-500/30 p-3 md:p-4 flex-shrink-0",children:r.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between gap-4",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"text-white font-bold text-sm md:text-lg truncate",children:t.title}),t.description&&r.jsx("p",{className:"text-slate-400 text-xs md:text-sm truncate",children:t.description})]}),r.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[r.jsx("a",{href:t.pdf_url,download:!0,onClick:u=>u.stopPropagation(),children:r.jsxs(W,{variant:"outline",size:"sm",className:"border-blue-500 text-blue-400 hover:bg-blue-500/20",children:[r.jsx(Wo,{className:"w-4 h-4 mr-1 md:mr-2"}),r.jsx("span",{className:"hidden md:inline",children:"Baixar"})]})}),r.jsx("a",{href:t.pdf_url,target:"_blank",rel:"noopener noreferrer",onClick:u=>u.stopPropagation(),children:r.jsxs(W,{variant:"outline",size:"sm",className:"border-green-500 text-green-400 hover:bg-green-500/20",children:[r.jsx($b,{className:"w-4 h-4 mr-1 md:mr-2"}),r.jsx("span",{className:"hidden md:inline",children:"Abrir"})]})}),r.jsx(W,{variant:"ghost",size:"icon",onClick:u=>{u.stopPropagation(),e()},className:"text-gray-400 hover:text-white",children:r.jsx(nt,{className:"w-5 h-5"})})]})]})}),r.jsxs("div",{className:"flex-1 overflow-hidden bg-slate-950 relative",children:[n&&r.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center z-10 bg-slate-950/90",children:[r.jsx(zt,{className:"w-12 h-12 text-purple-500 animate-spin mb-4"}),r.jsx("p",{className:"text-purple-300 text-sm",children:"Carregando PDF..."})]}),s&&r.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center z-10 bg-slate-950",children:[r.jsx(FileText,{className:"w-16 h-16 text-red-500 mb-4"}),r.jsx("p",{className:"text-red-300 text-lg mb-4",children:"No foi possvel carregar o PDF"}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("a",{href:t.pdf_url,target:"_blank",rel:"noopener noreferrer",children:r.jsxs(W,{className:"bg-purple-600 hover:bg-purple-700",children:[r.jsx($b,{className:"w-4 h-4 mr-2"}),"Abrir em Nova Aba"]})}),r.jsx("a",{href:t.pdf_url,download:!0,children:r.jsxs(W,{variant:"outline",children:[r.jsx(Wo,{className:"w-4 h-4 mr-2"}),"Baixar PDF"]})})]})]}),r.jsx("iframe",{src:o[l],className:"w-full h-full",style:{border:"none"},onLoad:()=>a(!1),onError:d,title:t.title,allow:"fullscreen"})]})]})})}const RPe=["https://portaltarot.com.br/wp-content/uploads/2025/10/1.png","https://portaltarot.com.br/wp-content/uploads/2025/10/2.png","https://portaltarot.com.br/wp-content/uploads/2025/10/3.png","https://portaltarot.com.br/wp-content/uploads/2025/10/4.png","https://portaltarot.com.br/wp-content/uploads/2025/10/5.png","https://portaltarot.com.br/wp-content/uploads/2025/10/6.png","https://portaltarot.com.br/wp-content/uploads/2025/10/7.png","https://portaltarot.com.br/wp-content/uploads/2025/10/8.png"],lF=["https://portaltarot.com.br/wp-content/uploads/2025/05/arcanos-para-o-tarot-virtual.png","https://portaltarot.com.br/wp-content/uploads/2025/05/arcanos-para-o-tarot-virtual-1.png","https://portaltarot.com.br/wp-content/uploads/2025/05/arcanos-para-o-tarot-virtual-1-1.png","https://portaltarot.com.br/wp-content/uploads/2025/05/arcanos-para-o-tarot-virtual-2.png","https://portaltarot.com.br/wp-content/uploads/2025/05/arcanos-para-o-tarot-virtual-1-2.png","https://portaltarot.com.br/wp-content/uploads/2025/05/arcanos-para-o-tarot-virtual-3.png","https://portaltarot.com.br/wp-content/uploads/2025/05/arcanos-para-o-tarot-virtual-4.png","https://portaltarot.com.br/wp-content/uploads/2025/05/arcanos-para-o-tarot-virtual-5.png","https://portaltarot.com.br/wp-content/uploads/2025/05/arcanos-para-o-tarot-virtual-6.png","https://portaltarot.com.br/wp-content/uploads/2025/05/arcanos-para-o-tarot-virtual-7.png","https://portaltarot.com.br/wp-content/uploads/2025/05/arcanos-para-o-tarot-virtual-8.png"],OPe=["https://portaltarot.com.br/wp-content/uploads/2025/05/Design-sem-nome-33-1.png","https://portaltarot.com.br/wp-content/uploads/2025/05/Design-sem-nome-34.png","https://portaltarot.com.br/wp-content/uploads/2025/05/Design-sem-nome-33.png","https://portaltarot.com.br/wp-content/uploads/2025/05/Design-sem-nome-34-1.png","https://portaltarot.com.br/wp-content/uploads/2025/05/Design-sem-nome-35.png","https://portaltarot.com.br/wp-content/uploads/2025/05/Design-sem-nome-36.png","https://portaltarot.com.br/wp-content/uploads/2025/05/Design-sem-nome-37.png"],DPe=["https://portaltarot.com.br/wp-content/uploads/2025/06/6-1.png","https://portaltarot.com.br/wp-content/uploads/2025/06/4-3.png","https://portaltarot.com.br/wp-content/uploads/2025/06/3-4.png","https://portaltarot.com.br/wp-content/uploads/2025/06/1-2.png","https://portaltarot.com.br/wp-content/uploads/2025/06/2-2.png","https://portaltarot.com.br/wp-content/uploads/2025/06/4-2.png","https://portaltarot.com.br/wp-content/uploads/2025/06/5-3.png"],IPe=["https://portaltarot.com.br/wp-content/uploads/2025/09/3.png","https://portaltarot.com.br/wp-content/uploads/2025/09/2.png","https://portaltarot.com.br/wp-content/uploads/2025/09/1.png","https://portaltarot.com.br/wp-content/uploads/2025/09/7.png","https://portaltarot.com.br/wp-content/uploads/2025/09/8.png","https://portaltarot.com.br/wp-content/uploads/2025/09/6.png","https://portaltarot.com.br/wp-content/uploads/2025/09/5.png","https://portaltarot.com.br/wp-content/uploads/2025/09/4.png"];function b0({images:t,speed:e=30,reverse:n=!1}){return r.jsx("div",{className:"relative w-full overflow-hidden",children:r.jsx(q.div,{className:"flex gap-4",animate:{x:n?[0,-1920]:[-1920,0]},transition:{duration:e,repeat:1/0,ease:"linear"},children:[...t,...t,...t].map((a,s)=>r.jsx("img",{src:a,alt:"",className:"w-[200px] h-[200px] sm:w-[250px] sm:h-[250px] object-contain flex-shrink-0"},s))})})}function GJ(){const[t,e]=w.useState(null),[n,a]=w.useState(null),{scrollYProgress:s}=$X(),i=w.useRef(null);I_e(i,{once:!1}),w.useEffect(()=>{o()},[]);const o=async()=>{try{const c=await H.auth.me();e(c)}catch(c){console.error("Erro ao carregar usurio:",c)}},{data:l}=Oe({queryKey:["pdf-library"],queryFn:()=>H.entities.PDFLibrary.filter({is_active:!0,category:"tarot"},"order",50),enabled:!!t});return r.jsxs("div",{className:"min-h-screen bg-[#0a0a0a] text-white overflow-x-hidden",style:{fontFamily:"'Roboto', sans-serif"},children:[r.jsx("style",{children:`
        @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700;900&display=swap');
        
        * {
          font-family: 'Roboto', sans-serif !important;
        }
        
        h1, h2, h3, h4, h5, h6 {
          font-weight: 700;
          letter-spacing: -0.02em;
        }
        
        p {
          font-weight: 400;
          line-height: 1.6;
        }
      `}),r.jsxs("section",{ref:i,className:"relative min-h-screen flex flex-col items-center justify-start px-4 py-8 sm:py-12 overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#00cf7f]/5 via-black to-black"}),r.jsx(q.div,{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 pointer-events-none",animate:{rotate:360},transition:{duration:60,repeat:1/0,ease:"linear"},children:r.jsxs("svg",{width:"900",height:"900",viewBox:"0 0 1105 1104",fill:"none",className:"w-[600px] h-[600px] sm:w-[800px] sm:h-[800px] opacity-20",children:[r.jsxs("g",{children:[r.jsx("path",{opacity:"0.4",d:"M195 552C195 748.613 355.058 908 552.5 908C749.942 908 910 748.613 910 552C910 355.387 749.942 196 552.5 196C355.058 196 195 355.387 195 552Z",stroke:"url(#grad1)",strokeWidth:"8.4",strokeDasharray:"1.4 8.4"}),r.jsx("path",{opacity:"0.4",d:"M3 552C3 855.204 249.02 1101 552.5 1101C855.98 1101 1102 855.204 1102 552C1102 248.796 855.98 3 552.5 3C249.02 3 3 248.796 3 552Z",stroke:"url(#grad2)",strokeWidth:"4.2",strokeDasharray:"1.4 12.6"})]}),r.jsxs("defs",{children:[r.jsxs("linearGradient",{id:"grad1",x1:"552.5",y1:"808.232",x2:"552.5",y2:"257.971",gradientUnits:"userSpaceOnUse",children:[r.jsx("stop",{stopColor:"#00CF7F",stopOpacity:"0"}),r.jsx("stop",{offset:"0.196628",stopColor:"#00CF7F"}),r.jsx("stop",{offset:"0.81159",stopColor:"#00CF7F"}),r.jsx("stop",{offset:"0.986765",stopColor:"#00CF7F",stopOpacity:"0"})]}),r.jsxs("linearGradient",{id:"grad2",x1:"552.5",y1:"891.045",x2:"552.5",y2:"164.732",gradientUnits:"userSpaceOnUse",children:[r.jsx("stop",{stopColor:"#00CF7F",stopOpacity:"0"}),r.jsx("stop",{offset:"0.196628",stopColor:"#00CF7F"}),r.jsx("stop",{offset:"0.81159",stopColor:"#00CF7F"}),r.jsx("stop",{offset:"0.986765",stopColor:"#00CF7F",stopOpacity:"0"})]})]})]})}),r.jsx(q.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.8},className:"relative z-10 mb-8 sm:mb-12 w-full max-w-[200px] sm:max-w-[280px] md:max-w-[350px] mx-auto",children:r.jsx("img",{src:"https://portaltarot.com.br/wp-content/uploads/2024/02/O-EREMITA-2.png",alt:"Portal Tarot",className:"w-full h-auto"})}),r.jsx("div",{className:"relative z-10 w-full max-w-7xl mb-8 sm:mb-12",children:r.jsx(b0,{images:RPe,speed:25})}),r.jsxs(q.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.3},className:"relative z-10 text-center max-w-5xl mb-8 sm:mb-12 px-4",children:[r.jsxs("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold mb-4 sm:mb-6 leading-tight",children:[r.jsx("span",{className:"text-white",children:"O Portal Tarot  mais"}),r.jsx("br",{}),r.jsx("span",{className:"text-white",children:"que um curso."})]}),r.jsxs("p",{className:"text-base sm:text-lg md:text-xl lg:text-2xl text-gray-300 mb-6 sm:mb-8 leading-relaxed font-light",children:[" um ecossistema vivo onde sabedoria ancestral",r.jsx("br",{className:"hidden sm:block"}),"encontra o despertar da nova era."]}),r.jsxs(W,{size:"lg",className:"bg-[#00cf7f] hover:bg-[#00b66f] text-black font-bold text-sm sm:text-base md:text-lg px-8 sm:px-12 py-5 sm:py-7 rounded-full shadow-2xl shadow-[#00cf7f]/30 hover:scale-105 transition-all duration-300 uppercase",children:["ACESSAR AGORA",r.jsx(mf,{className:"w-5 h-5 ml-2 sm:ml-3"})]})]}),r.jsx("div",{className:"relative z-10 w-full mb-4 sm:mb-6",children:r.jsx(b0,{images:lF.slice(0,6),speed:35})}),r.jsx("div",{className:"relative z-10 w-full",children:r.jsx(b0,{images:lF.slice(6),speed:30,reverse:!0})})]}),r.jsx("section",{className:"relative py-16 sm:py-24 px-4 bg-gradient-to-b from-black via-[#0a0a0a] to-black",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsx(q.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-12 sm:mb-16",children:r.jsxs("h2",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold mb-2 leading-tight",children:["Desperte sua intuio.",r.jsx("br",{}),r.jsx("span",{className:"text-[#00cf7f]",children:"Estruture seu dom."}),r.jsx("br",{}),"Viva o Tarot."]})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 sm:gap-12 items-center",children:[r.jsx(q.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6},className:"relative",children:r.jsx("img",{src:"https://portaltarot.com.br/wp-content/uploads/2025/05/IDENTIDADE-VISUAL-PORTAL-TAROT-1200-x-800-px-2.png",alt:"Portal Tarot Interface",className:"w-full h-auto"})}),r.jsxs(q.div,{initial:{opacity:0,x:30},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6},className:"space-y-6 sm:space-y-8",children:[r.jsxs("div",{className:"flex items-start gap-3 sm:gap-4",children:[r.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-[#00cf7f]/20 flex items-center justify-center flex-shrink-0",children:r.jsx(Rn,{className:"w-5 h-5 sm:w-6 sm:h-6 text-[#00cf7f]"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg sm:text-xl font-bold mb-2",children:"Seja aluno e ganhe"}),r.jsxs("p",{className:"text-sm sm:text-base text-gray-300 leading-relaxed",children:["Manual de Tarot Teraputico e Divinatrio. Um material exclusivo, impresso com amor, que vai acompanhar a sua jornada como Tarloga de ",r.jsx("strong",{children:"verdade."})]})]})]}),r.jsxs("div",{className:"flex items-start gap-3 sm:gap-4",children:[r.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-[#00cf7f]/20 flex items-center justify-center flex-shrink-0",children:r.jsx(Oa,{className:"w-5 h-5 sm:w-6 sm:h-6 text-[#00cf7f]"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg sm:text-xl font-bold mb-2",children:"Preparamos um epicentro"}),r.jsx("p",{className:"text-sm sm:text-base text-gray-300 leading-relaxed",children:"Contedos e ferramentas que agregam valor em suas interpretaes e consultas."})]})]}),r.jsxs("div",{className:"flex items-start gap-3 sm:gap-4",children:[r.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-[#00cf7f]/20 flex items-center justify-center flex-shrink-0",children:r.jsx(_e,{className:"w-5 h-5 sm:w-6 sm:h-6 text-[#00cf7f]"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg sm:text-xl font-bold mb-2",children:"Estruture seu dom. Viva o Tarot"}),r.jsx("p",{className:"text-sm sm:text-base text-gray-300 leading-relaxed",children:"Acesso completo  sua formao mgica: materiais, mtodos, mentorias e uma comunidade que reconhece seu poder."})]})]}),r.jsx(W,{size:"lg",className:"w-full sm:w-auto bg-[#00cf7f] hover:bg-[#00b66f] text-black font-bold text-sm sm:text-base px-8 sm:px-12 py-5 sm:py-6 rounded-full shadow-lg shadow-[#00cf7f]/20 uppercase",children:"EMBARQUE AGORA"})]})]})]})}),r.jsx("section",{className:"relative py-16 sm:py-24 px-4 bg-gradient-to-b from-black to-[#0a0a0a]",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs(q.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-12 sm:mb-16",children:[r.jsx("p",{className:"text-[#00cf7f] uppercase text-xs sm:text-sm font-bold mb-3 sm:mb-4 tracking-widest",children:"PROCESSO TRANSPARENTE"}),r.jsxs("h2",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold leading-tight",children:["Do conceito ao resultado em",r.jsx("br",{}),r.jsx("span",{className:"text-[#00cf7f]",children:"4 etapas simples"})]})]}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 sm:gap-8 mb-12 sm:mb-16",children:[{icon:r.jsx(Oa,{className:"w-6 h-6 sm:w-8 sm:h-8"}),title:"Organizao",description:"Aqui dentro do Portal voc vai entender como a organizao pode acelerar os seus estudos com o Tarot."},{icon:r.jsx(La,{className:"w-6 h-6 sm:w-8 sm:h-8"}),title:"Aprendizado",description:"Todo o conhecimento essencial sobre o Tarot encontra-se no Portal Tarot."},{icon:r.jsx(Mr,{className:"w-6 h-6 sm:w-8 sm:h-8"}),title:"Atualizaes",description:"Os usurios recebero atualizaes abrangentes em nosso Portal."},{icon:r.jsx(Da,{className:"w-6 h-6 sm:w-8 sm:h-8"}),title:"Suporte",description:"Todos os membros do portal tm acesso a suporte dedicado via WhatsApp."}].map((c,d)=>r.jsx(q.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:d*.1,duration:.5},children:r.jsxs(X,{className:"bg-gradient-to-br from-gray-900/50 to-black/50 border-[#00cf7f]/10 p-6 sm:p-8 h-full hover:border-[#00cf7f]/30 transition-all",children:[r.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 rounded-full bg-[#00cf7f]/10 flex items-center justify-center mb-4 sm:mb-6 text-[#00cf7f]",children:c.icon}),r.jsx("h3",{className:"text-xl sm:text-2xl font-bold mb-3 sm:mb-4",children:c.title}),r.jsx("p",{className:"text-sm sm:text-base text-gray-300 leading-relaxed",children:c.description})]})},d))}),r.jsx(q.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.6},className:"text-center",children:r.jsx("img",{src:"https://portaltarot.com.br/wp-content/uploads/2025/09/Certificado-Portal-Tarot-3.png",alt:"Certificado Portal Tarot",className:"max-w-full sm:max-w-2xl w-full mx-auto"})})]})}),r.jsxs("section",{className:"relative py-16 sm:py-24 px-4 bg-gradient-to-b from-[#0a0a0a] to-black overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 opacity-5",children:r.jsx("img",{src:"https://portaltarot.com.br/wp-content/uploads/2025/10/3-8__1_-removebg-preview.png",alt:"",className:"w-full h-full object-cover"})}),r.jsxs("div",{className:"max-w-7xl mx-auto relative z-10",children:[r.jsxs(q.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-12 sm:mb-16",children:[r.jsxs("h2",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold mb-4 sm:mb-6",children:[r.jsx("span",{className:"text-[#00cf7f]",children:"VOCEM"}),r.jsx("br",{}),"Grimrio Auditivo"]}),r.jsxs("p",{className:"text-base sm:text-lg md:text-xl text-gray-300 max-w-4xl mx-auto leading-relaxed font-light",children:["VOCEM  um grimrio como nenhum outro. No se l  se escuta.",r.jsx("br",{className:"hidden sm:block"}),"Cada episdio  uma pgina viva de um livro que no se l, mas se sente  um espao onde a palavra se torna ritual e o som, um portal de acesso a dimenses simblicas, filosficas e mgicas."]})]}),r.jsx("div",{className:"mb-8 sm:mb-12",children:r.jsx(b0,{images:DPe,speed:28})}),r.jsx(q.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center",children:r.jsx(W,{size:"lg",className:"bg-[#00cf7f] hover:bg-[#00b66f] text-black font-bold text-sm sm:text-base px-8 sm:px-12 py-5 sm:py-6 rounded-full shadow-lg shadow-[#00cf7f]/20 uppercase",children:"QUERO ASSINAR AGORA"})})]}),r.jsx("div",{className:"mt-12 sm:mt-16 opacity-10",children:r.jsx(b0,{images:OPe,speed:32,reverse:!0})})]}),r.jsx("section",{className:"relative py-16 sm:py-24 px-4 bg-black",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsx(q.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-12 sm:mb-16",children:r.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold mb-4",children:"Comunidade do Portal Tarot"})}),r.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3 sm:gap-4",children:IPe.map((c,d)=>r.jsx(q.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{delay:d*.05,duration:.4},className:"aspect-[3/4] overflow-hidden rounded-lg",children:r.jsx("img",{src:c,alt:`Depoimento ${d+1}`,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300"})},d))})]})}),r.jsx("section",{id:"compra",className:"relative py-16 sm:py-24 px-4 bg-gradient-to-b from-black via-[#00cf7f]/5 to-black",children:r.jsx("div",{className:"max-w-4xl mx-auto text-center",children:r.jsxs(q.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.6},children:[r.jsxs("h2",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold mb-6 sm:mb-8",children:["Transforme Sua Vida",r.jsx("br",{}),r.jsx("span",{className:"text-[#00cf7f]",children:"com o Portal Tarot"})]}),r.jsx("p",{className:"text-lg sm:text-xl md:text-2xl text-gray-300 mb-8 sm:mb-12 font-light",children:"Junte-se a milhares de alunos que j despertaram sua intuio"}),r.jsxs(W,{size:"lg",className:"bg-[#00cf7f] hover:bg-[#00b66f] text-black font-bold text-lg sm:text-xl md:text-2xl px-12 sm:px-16 py-7 sm:py-10 rounded-full shadow-2xl shadow-[#00cf7f]/40 hover:scale-105 transition-all duration-300 uppercase",children:[r.jsx(xr,{className:"w-6 h-6 sm:w-8 sm:h-8 mr-3 sm:mr-4"}),"QUERO FAZER PARTE",r.jsx(_e,{className:"w-6 h-6 sm:w-8 sm:h-8 ml-3 sm:ml-4"})]}),r.jsxs("div",{className:"mt-8 sm:mt-12 flex flex-col sm:flex-row items-center justify-center gap-4 sm:gap-6 text-xs sm:text-sm text-gray-400",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Rn,{className:"w-4 h-4 sm:w-5 sm:h-5 text-[#00cf7f]"}),r.jsx("span",{children:"Acesso vitalcio"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Rn,{className:"w-4 h-4 sm:w-5 sm:h-5 text-[#00cf7f]"}),r.jsx("span",{children:"Certificado includo"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Rn,{className:"w-4 h-4 sm:w-5 sm:h-5 text-[#00cf7f]"}),r.jsx("span",{children:"Suporte premium"})]})]})]})})}),r.jsx("footer",{className:"bg-black border-t border-gray-900 py-6 sm:py-8 px-4",children:r.jsx("div",{className:"max-w-7xl mx-auto text-center text-gray-500 text-xs sm:text-sm",children:r.jsx("p",{children:" 2024 Portal Tarot. Todos os direitos reservados."})})}),r.jsx(gt,{children:n&&r.jsx(HJ,{pdf:n,onClose:()=>a(null)})})]})}const LPe={easy:{label:"Fcil",color:"text-green-400",bg:"bg-green-500/20"},medium:{label:"Mdio",color:"text-yellow-400",bg:"bg-yellow-500/20"},hard:{label:"Difcil",color:"text-orange-400",bg:"bg-orange-500/20"},legendary:{label:"Lendrio",color:"text-purple-400",bg:"bg-purple-500/20"}},FPe={social:"",exploration:"",mystical:"",community:"",learning:""};function WJ(){const[t,e]=w.useState(null),[n,a]=w.useState("daily"),s=wt();w.useEffect(()=>{i()},[]);const i=async()=>{try{const v=await H.auth.me();e(v)}catch(v){console.error("Erro ao carregar usurio:",v)}},{data:o}=Oe({queryKey:["quests",n],queryFn:()=>H.entities.Quest.filter({type:n,is_active:!0},"order",50),enabled:!!t,initialData:[]}),{data:l}=Oe({queryKey:["questProgress",t==null?void 0:t.id],queryFn:()=>H.entities.QuestProgress.filter({user_id:t.id},"-updated_date",100),enabled:!!t,initialData:[]}),c=Ue({mutationFn:async({progressId:v,quest:x})=>{await H.entities.QuestProgress.update(v,{reward_claimed:!0,claimed_at:new Date().toISOString()});const g={xp:(t.xp||0)+x.xp_reward,ouros:(t.ouros||0)+(x.ouros_reward||0)};if(await H.auth.updateMe(g),x.badge_reward){const y=await H.entities.Badge.filter({id:x.badge_reward});if(y.length>0){const b=y[0];await H.entities.UserBadge.create({user_id:t.id,badge_id:b.id,badge_name:b.name,badge_icon:b.icon,badge_rarity:b.rarity,badge_color:b.color}),await H.entities.Badge.update(b.id,{total_unlocked:(b.total_unlocked||0)+1})}}return g},onSuccess:v=>{s.invalidateQueries({queryKey:["questProgress"]}),e({...t,...v}),window.dispatchEvent(new CustomEvent("xpUpdated")),ja.success("Recompensa coletada! ",{icon:"",style:{background:"#8b5cf6",color:"#fff"}})}}),d=(v,x)=>{c.mutate({progressId:v,quest:x})},u=v=>{const x=new Date;if(v==="daily"){const g=new Date(x);return g.setDate(g.getDate()+1),g.setHours(0,0,0,0),`${CL(g,x)}h restantes`}else if(v==="weekly"){const g=new Date(x),y=(8-x.getDay())%7||7;g.setDate(g.getDate()+y),g.setHours(0,0,0,0);const b=CL(g,x);return`${Math.floor(b/24)}d ${b%24}h`}return""},h={completed:l.filter(v=>v.is_completed).length,inProgress:l.filter(v=>!v.is_completed&&v.current_count>0).length,totalXP:l.reduce((v,x)=>{if(x.reward_claimed){const g=o.find(y=>y.id===x.quest_id);return v+((g==null?void 0:g.xp_reward)||0)}return v},0),streak:(t==null?void 0:t.daily_streak)||0};if(!t)return r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx(_e,{className:"w-12 h-12 text-purple-500 animate-pulse"})});const f=[{id:"daily",label:"Dirias",icon:Mr,color:"from-blue-600 to-cyan-600"},{id:"weekly",label:"Semanais",icon:Ya,color:"from-purple-600 to-pink-600"},{id:"permanent",label:"Permanentes",icon:XD,color:"from-amber-600 to-orange-600"}];return r.jsx("div",{className:"min-h-screen bg-gradient-to-b from-[#0f0f1e] via-[#1a1a2e] to-[#0f0f1e]",children:r.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-6 md:py-8",children:[r.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 md:w-20 md:h-20 rounded-full bg-gradient-to-br from-purple-600 to-pink-600 mb-4 shadow-xl shadow-purple-500/50",children:r.jsx(Tl,{className:"w-8 h-8 md:w-10 md:h-10 text-white"})}),r.jsx("h1",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-white mb-2",children:"Misses Msticas"}),r.jsx("p",{className:"text-gray-400 text-sm md:text-base",children:"Complete desafios e ganhe recompensas picas"})]}),r.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-4 mb-6",children:[r.jsx(X,{className:"bg-[#1a1a2e] border-purple-900/20 p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-green-500/20 flex items-center justify-center",children:r.jsx(_n,{className:"w-5 h-5 text-green-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-white",children:h.completed}),r.jsx("p",{className:"text-xs text-gray-400",children:"Completadas"})]})]})}),r.jsx(X,{className:"bg-[#1a1a2e] border-purple-900/20 p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-yellow-500/20 flex items-center justify-center",children:r.jsx(gr,{className:"w-5 h-5 text-yellow-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-white",children:h.inProgress}),r.jsx("p",{className:"text-xs text-gray-400",children:"Em Progresso"})]})]})}),r.jsx(X,{className:"bg-[#1a1a2e] border-purple-900/20 p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-purple-500/20 flex items-center justify-center",children:r.jsx(Jn,{className:"w-5 h-5 text-purple-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-white",children:h.totalXP}),r.jsx("p",{className:"text-xs text-gray-400",children:"XP Total"})]})]})}),r.jsx(X,{className:"bg-[#1a1a2e] border-purple-900/20 p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-orange-500/20 flex items-center justify-center",children:r.jsx(ci,{className:"w-5 h-5 text-orange-400"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-white",children:h.streak}),r.jsx("p",{className:"text-xs text-gray-400",children:"Sequncia"})]})]})})]}),r.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"mb-6",children:r.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:f.map(v=>{const x=v.icon;return r.jsxs("button",{onClick:()=>a(v.id),className:`flex items-center gap-2 px-4 md:px-6 py-3 rounded-lg font-semibold transition whitespace-nowrap ${n===v.id?`bg-gradient-to-r ${v.color} text-white shadow-lg`:"bg-[#1a1a2e] text-gray-400 hover:text-white"}`,children:[r.jsx(x,{className:"w-4 h-4 md:w-5 md:h-5"}),r.jsx("span",{className:"text-sm md:text-base",children:v.label}),n===v.id&&v.id!=="permanent"&&r.jsx("span",{className:"text-xs bg-white/20 px-2 py-0.5 rounded-full",children:u(v.id)})]},v.id)})})}),r.jsx(gt,{mode:"wait",children:r.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"grid md:grid-cols-2 gap-4",children:o.length===0?r.jsxs(X,{className:"md:col-span-2 bg-[#1a1a2e] border-purple-900/20 p-12 text-center",children:[r.jsx(Tl,{className:"w-16 h-16 text-purple-500/50 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-bold text-purple-300 mb-2",children:"Nenhuma Misso Disponvel"}),r.jsx("p",{className:"text-gray-400",children:"Novas misses aparecero em breve!"})]}):o.map((v,x)=>{const g=l.find(C=>C.quest_id===v.id),y=(g==null?void 0:g.current_count)||0,b=(g==null?void 0:g.is_completed)||!1,_=(g==null?void 0:g.reward_claimed)||!1,j=Math.min(y/v.target_count*100,100),S=LPe[v.difficulty||"easy"];return r.jsx(q.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:x*.05},children:r.jsxs(X,{className:`bg-[#1a1a2e] border-purple-900/20 p-5 relative overflow-hidden ${b&&!_?"ring-2 ring-green-500/50":""}`,children:[b&&!_&&r.jsx(q.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-green-400/10 to-transparent",animate:{x:["-100%","100%"]},transition:{duration:2,repeat:XD}}),r.jsxs("div",{className:"relative z-10",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"text-3xl",style:{filter:b?"none":"grayscale(50%) opacity(0.7)"},children:v.icon||FPe[v.category]||""}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-white text-base",children:v.title}),r.jsx("p",{className:"text-xs text-gray-400 line-clamp-1",children:v.description})]})]}),r.jsx(De,{className:`${S.bg} ${S.color} text-[10px]`,children:S.label})]}),r.jsxs("div",{className:"mb-3",children:[r.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[r.jsx("span",{className:"text-gray-400",children:"Progresso"}),r.jsxs("span",{className:"text-white font-semibold",children:[y,"/",v.target_count]})]}),r.jsx(s_,{value:j,className:"h-2",style:{"--progress-color":v.color||"#8b5cf6"}})]}),r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[r.jsx(Wn,{className:"w-4 h-4 text-purple-400"}),r.jsxs("span",{className:"text-white font-semibold",children:["+",v.xp_reward," XP"]})]}),v.ouros_reward>0&&r.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[r.jsx(xr,{className:"w-4 h-4 text-yellow-400"}),r.jsxs("span",{className:"text-white font-semibold",children:["+",v.ouros_reward," Ouros"]})]})]}),b&&!_&&r.jsxs(W,{onClick:()=>d(g.id,v),disabled:c.isPending,className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white font-bold",children:[r.jsx(_1,{className:"w-4 h-4 mr-2"}),"Coletar Recompensa"]}),_&&r.jsxs("div",{className:"flex items-center justify-center gap-2 text-green-400 text-sm font-semibold",children:[r.jsx(_n,{className:"w-4 h-4"}),r.jsx("span",{children:"Recompensa Coletada!"})]}),!b&&r.jsx("div",{className:"text-center text-gray-400 text-sm",children:"Continue progredindo..."})]})]})},v.id)})},n)})]})})}const Jh={1:{bg:"from-yellow-600 to-amber-600",glow:"shadow-yellow-500/50"},2:{bg:"from-gray-400 to-gray-500",glow:"shadow-gray-400/50"},3:{bg:"from-amber-700 to-amber-800",glow:"shadow-amber-600/50"}};function KJ(){const[t,e]=w.useState(null),[n,a]=w.useState("xp"),[s,i]=w.useState("");w.useEffect(()=>{o()},[]);const o=async()=>{try{const g=await H.auth.me();e(g)}catch(g){console.error("Erro ao carregar usurio:",g)}},{data:l,isLoading:c}=Oe({queryKey:["ranking",n],queryFn:async()=>{const g=n==="xp"?"-xp":n==="level"?"-level":"-ouros";return await H.entities.User.list(g,100)},enabled:!!t,initialData:[]}),{data:d}=Oe({queryKey:["topUsersBadges"],queryFn:async()=>{const y=l.slice(0,3).map(_=>H.entities.UserBadge.filter({user_id:_.id,is_equipped:!0},"-unlocked_at",3));return await Promise.all(y)},enabled:l.length>0,initialData:[]}),u=l.filter(g=>{var b,_,j;if(!s)return!0;const y=s.toLowerCase();return((b=g.full_name)==null?void 0:b.toLowerCase().includes(y))||((_=g.display_name)==null?void 0:_.toLowerCase().includes(y))||((j=g.username)==null?void 0:j.toLowerCase().includes(y))}),h=u.findIndex(g=>g.id===(t==null?void 0:t.id))+1,f=g=>n==="xp"?g.xp||0:n==="level"?g.level||1:g.ouros||0;if(!t)return r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx(_e,{className:"w-12 h-12 text-purple-500 animate-pulse"})});const v=u.slice(0,3),x=u.slice(3);return r.jsx("div",{className:"min-h-screen bg-gradient-to-b from-[#0f0f1e] via-[#1a1a2e] to-[#0f0f1e]",children:r.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-6 md:py-8",children:[r.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 md:w-20 md:h-20 rounded-full bg-gradient-to-br from-amber-600 to-yellow-600 mb-4 shadow-xl shadow-amber-500/50",children:r.jsx(Tl,{className:"w-8 h-8 md:w-10 md:h-10 text-white"})}),r.jsx("h1",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-white mb-2",children:"Ranking Mstico"}),r.jsx("p",{className:"text-gray-400 text-sm md:text-base",children:"Os maiores viajantes do portal"})]}),r.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"mb-6 space-y-4",children:[r.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:[{id:"xp",label:"Por XP",icon:Jn},{id:"level",label:"Por Nvel",icon:Wn},{id:"ouros",label:"Por Ouros",icon:Tl}].map(g=>{const y=g.icon;return r.jsxs(W,{onClick:()=>a(g.id),variant:n===g.id?"default":"outline",className:`whitespace-nowrap ${n===g.id?"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700":"border-purple-900/30 hover:bg-purple-900/20"}`,children:[r.jsx(y,{className:"w-4 h-4 mr-2"}),g.label]},g.id)})}),r.jsxs("div",{className:"relative",children:[r.jsx($s,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),r.jsx(je,{value:s,onChange:g=>i(g.target.value),placeholder:"Buscar viajante...",className:"pl-10 bg-[#1a1a2e] border-purple-900/20 text-white"})]})]}),h>0&&r.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"mb-6",children:r.jsx(X,{className:"bg-gradient-to-r from-purple-900/50 to-pink-900/50 border-purple-500/30 p-4",children:r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-purple-600/30 flex items-center justify-center",children:r.jsxs("span",{className:"text-white font-bold text-lg",children:["#",h]})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-white font-bold",children:"Sua Posio"}),r.jsxs("p",{className:"text-purple-200 text-sm",children:[f(t).toLocaleString()," ",n==="xp"?"XP":n==="level"?"Nvel":"Ouros"]})]})]})})})}),v.length>0&&r.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"mb-8",children:r.jsxs("div",{className:"grid grid-cols-3 gap-3 md:gap-4",children:[v[1]&&r.jsx(X,{className:`bg-gradient-to-br ${Jh[2].bg} border-gray-400/30 p-4 shadow-xl ${Jh[2].glow} order-1`,children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"flex justify-center mb-3",children:r.jsx(Ub,{className:"w-8 h-8 md:w-10 md:h-10 text-white"})}),r.jsx(Es,{user:v[1],children:r.jsx(Lr,{user:v[1],size:"lg"})}),r.jsx("p",{className:"text-white font-bold mt-2 text-sm md:text-base truncate",children:v[1].display_name||v[1].full_name}),r.jsxs("p",{className:"text-white/80 text-xs",children:["Nvel ",v[1].level||1]}),r.jsx(De,{className:"mt-2 bg-white/20 text-white text-xs",children:f(v[1]).toLocaleString()})]})}),v[0]&&r.jsx(X,{className:`bg-gradient-to-br ${Jh[1].bg} border-yellow-400/50 p-4 shadow-2xl ${Jh[1].glow} order-2 md:scale-110 md:-mt-4`,children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"flex justify-center mb-3",children:r.jsx(q.div,{animate:{rotate:[0,10,-10,0]},transition:{duration:2,repeat:1/0},children:r.jsx(Bn,{className:"w-10 h-10 md:w-12 md:h-12 text-white"})})}),r.jsx(Es,{user:v[0],children:r.jsx(Lr,{user:v[0],size:"xl"})}),r.jsx("p",{className:"text-white font-bold mt-2 text-base md:text-lg truncate",children:v[0].display_name||v[0].full_name}),r.jsxs("p",{className:"text-white/90 text-xs md:text-sm",children:["Nvel ",v[0].level||1]}),r.jsx(De,{className:"mt-2 bg-white/30 text-white font-bold",children:f(v[0]).toLocaleString()})]})}),v[2]&&r.jsx(X,{className:`bg-gradient-to-br ${Jh[3].bg} border-amber-600/30 p-4 shadow-xl ${Jh[3].glow} order-3`,children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"flex justify-center mb-3",children:r.jsx(Ub,{className:"w-8 h-8 md:w-10 md:h-10 text-white"})}),r.jsx(Es,{user:v[2],children:r.jsx(Lr,{user:v[2],size:"lg"})}),r.jsx("p",{className:"text-white font-bold mt-2 text-sm md:text-base truncate",children:v[2].display_name||v[2].full_name}),r.jsxs("p",{className:"text-white/80 text-xs",children:["Nvel ",v[2].level||1]}),r.jsx(De,{className:"mt-2 bg-white/20 text-white text-xs",children:f(v[2]).toLocaleString()})]})})]})}),r.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"space-y-3",children:x.map((g,y)=>{const b=y+4,_=g.id===t.id;return r.jsx(q.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:y*.02},children:r.jsx(X,{className:`bg-[#1a1a2e] border-purple-900/20 p-4 hover:bg-[#1f1f2e] transition ${_?"ring-2 ring-purple-500/50":""}`,children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-purple-600/20 flex items-center justify-center flex-shrink-0",children:r.jsxs("span",{className:"text-white font-bold",children:["#",b]})}),r.jsx(Es,{user:g,children:r.jsx(Lr,{user:g,size:"md"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx(Es,{user:g,children:r.jsx("p",{className:"text-white font-semibold truncate hover:text-purple-400 transition",children:g.display_name||g.full_name})}),r.jsxs("p",{className:"text-gray-400 text-sm",children:["Nvel ",g.level||1]})]}),r.jsx(De,{className:"bg-purple-600/20 text-purple-300 font-bold",children:f(g).toLocaleString()})]})})},g.id)})}),u.length===0&&r.jsxs(X,{className:"bg-[#1a1a2e] border-purple-900/20 p-12 text-center",children:[r.jsx(Tl,{className:"w-16 h-16 text-purple-500/50 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-bold text-purple-300 mb-2",children:"Nenhum Viajante Encontrado"}),r.jsx("p",{className:"text-gray-400",children:"Tente ajustar sua busca"})]})]})})}const cF={lobby:"https://cdn.pixabay.com/download/audio/2022/03/10/audio_4a463d640d.mp3?filename=mystical-ambience-10561.mp3",city:"https://cdn.pixabay.com/download/audio/2022/05/27/audio_1808fbf07f.mp3?filename=fantasy-game-background-looping-122859.mp3"},$Pe={portal:"https://cdn.pixabay.com/download/audio/2022/03/15/audio_c6c2c97bca.mp3?filename=magic-spell-6005.mp3",collect:"https://cdn.pixabay.com/download/audio/2022/03/24/audio_1882f75cc0.mp3?filename=coin-recieved-230517.mp3",connect:"https://cdn.pixabay.com/download/audio/2022/03/10/audio_21313a6f93.mp3?filename=notification-5-140376.mp3",interact:"https://cdn.pixabay.com/download/audio/2021/08/04/audio_7931320f3c.mp3?filename=click-21156.mp3",error:"https://cdn.pixabay.com/download/audio/2022/03/15/audio_bb630cc098.mp3?filename=error-126627.mp3",success:"https://cdn.pixabay.com/download/audio/2022/03/24/audio_e18c91c54f.mp3?filename=success-1-6297.mp3",notification:"https://cdn.pixabay.com/download/audio/2022/03/10/audio_c74a0b6d16.mp3?filename=notification-sound-7062.mp3"};function UPe({isGameActive:t,currentMap:e="lobby",volume:n=.3,onStepSound:a,onPortalSound:s,onCollectSound:i,onConnectSound:o,onInteractSound:l,onErrorSound:c,onSuccessSound:d,onNotificationSound:u}){const h=w.useRef(null),f=w.useRef({});return w.useEffect(()=>(console.log(" Iniciando SoundManager - Pr-carregando sons..."),Object.entries($Pe).forEach(([v,x])=>{const g=new Audio(x);g.volume=n*.8,g.preload="auto",f.current[v]=g,g.addEventListener("canplaythrough",()=>{console.log(` Som "${v}" carregado com sucesso`)}),g.addEventListener("error",y=>{console.error(` Erro ao carregar som "${v}":`,y)})}),()=>{Object.values(f.current).forEach(v=>{v.pause(),v.src=""})}),[]),w.useEffect(()=>{if(!t)return;const v=cF[e]||cF.lobby;console.log(` Carregando msica ambiente para mapa: ${e}`),h.current||(h.current=new Audio(v),h.current.loop=!0,h.current.volume=n,h.current.addEventListener("canplaythrough",()=>{console.log(" Msica ambiente carregada com sucesso")}),h.current.addEventListener("error",g=>{console.error(" Erro ao carregar msica ambiente:",g)})),h.current.src=v,h.current.volume=0,h.current.play().then(()=>console.log(" Msica ambiente tocando")).catch(g=>console.error(" Erro ao tocar msica ambiente:",g));const x=setInterval(()=>{h.current.volume<n?h.current.volume=Math.min(h.current.volume+.05,n):clearInterval(x)},100);return()=>{if(clearInterval(x),h.current){const g=setInterval(()=>{h.current.volume>.05?h.current.volume=Math.max(h.current.volume-.05,0):(clearInterval(g),h.current.pause())},100)}}},[t,e,n]),w.useEffect(()=>{const v=x=>{const g=f.current[x];g?(g.currentTime=0,g.play().then(()=>console.log(` Som "${x}" tocado`)).catch(y=>console.error(` Erro ao tocar som "${x}":`,y))):console.warn(` Som "${x}" no encontrado`)};return s&&(window.playPortalSound=()=>v("portal"),console.log(" playPortalSound registrado")),i&&(window.playCollectSound=()=>v("collect"),console.log(" playCollectSound registrado")),o&&(window.playConnectSound=()=>v("connect"),console.log(" playConnectSound registrado")),l&&(window.playInteractSound=()=>v("interact"),console.log(" playInteractSound registrado")),c&&(window.playErrorSound=()=>v("error"),console.log(" playErrorSound registrado")),d&&(window.playSuccessSound=()=>v("success"),console.log(" playSuccessSound registrado")),u&&(window.playNotificationSound=()=>v("notification"),console.log(" playNotificationSound registrado")),()=>{delete window.playStepSound,delete window.playPortalSound,delete window.playCollectSound,delete window.playConnectSound,delete window.playInteractSound,delete window.playErrorSound,delete window.playSuccessSound,delete window.playNotificationSound,console.log(" Funes de udio removidas")}},[a,s,i,o,l,c,d,u]),null}function BPe({currentUser:t,otherPlayers:e,playerPos:n,proximityDistance:a=5}){const[s,i]=w.useState(null),[o,l]=w.useState({}),[c,d]=w.useState(!0),[u,h]=w.useState(!1),[f,v]=w.useState({}),[x,g]=w.useState({}),[y,b]=w.useState({}),_=w.useRef({}),j=w.useRef({}),S=w.useRef({}),C=w.useRef({}),E=w.useRef({}),P={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"},{urls:"stun:stun2.l.google.com:19302"}]};w.useEffect(()=>(T(),()=>{s&&s.getTracks().forEach(L=>L.stop())}),[]);const T=async()=>{try{const L=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0,sampleRate:48e3},video:{width:{ideal:640},height:{ideal:480},frameRate:{ideal:30}}});return L.getVideoTracks()[0].enabled=!1,i(L),M("local",L),L}catch(L){console.error("Erro ao acessar mdia:",L);try{const U=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0},video:!1});return i(U),h(!1),M("local",U),U}catch(U){return console.error("Erro ao acessar udio:",U),null}}},M=(L,U)=>{try{const z=new(window.AudioContext||window.webkitAudioContext),K=z.createAnalyser();z.createMediaStreamSource(U).connect(K),K.fftSize=256,C.current[L]={analyser:K,audioContext:z};const Y=()=>{const ee=new Uint8Array(K.frequencyBinCount);K.getByteFrequencyData(ee);const se=ee.reduce((pe,Pe)=>pe+Pe)/ee.length;b(pe=>({...pe,[L]:se>20})),E.current[L]=requestAnimationFrame(Y)};Y()}catch(z){console.error("Erro ao configurar analyser:",z)}},k=(L,U,z,K)=>Math.sqrt((z-L)**2+(K-U)**2);w.useEffect(()=>{if(!s||!(t!=null&&t.id))return;const L=e.filter(K=>!(K!=null&&K.user_id)||!(K!=null&&K.current_room)||!(K!=null&&K.x)||!(K!=null&&K.y)?!1:k(n.x,n.y,K.x,K.y)<=a),U=L.map(K=>K.user_id);Object.keys(_.current).forEach(K=>{U.includes(K)||$(K)}),L.forEach(K=>{_.current[K.user_id]||O(K.user_id,!0)})},[e,n,s,t==null?void 0:t.id]);const O=async(L,U=!1)=>{if(!s||!L||L===(t==null?void 0:t.id))return null;if(_.current[L])return _.current[L];console.log(` Criando conexo WebRTC com ${L} (initiator: ${U})`);const z=new RTCPeerConnection(P);if(_.current[L]=z,s.getTracks().forEach(K=>{z.addTrack(K,s)}),z.ontrack=K=>{console.log(` Track recebido de ${L}:`,K.track.kind);const V=K.streams[0];if(K.track.kind==="audio"){if(!j.current[L]){const Y=new Audio;Y.srcObject=V,Y.autoplay=!0,Y.volume=1,j.current[L]=Y,M(L,V)}v(Y=>({...Y,[L]:!0}))}K.track.kind==="video"&&(S.current[L]=V,g(Y=>({...Y,[L]:!0}))),l(Y=>({...Y,[L]:V}))},z.onicecandidate=K=>{K.candidate&&console.log(` ICE candidate para ${L}`)},z.onconnectionstatechange=()=>{console.log(` Estado da conexo com ${L}: ${z.connectionState}`),z.connectionState==="disconnected"||z.connectionState==="failed"?$(L):z.connectionState==="connected"&&console.log(` Conectado com ${L}`)},U&&t.id<L)try{const K=await z.createOffer();await z.setLocalDescription(K),console.log(` Oferta criada para ${L}`)}catch(K){console.error(`Erro ao criar oferta para ${L}:`,K)}return z},$=L=>{console.log(` Fechando conexo com ${L}`),_.current[L]&&(_.current[L].close(),delete _.current[L]),j.current[L]&&(j.current[L].pause(),j.current[L].srcObject=null,delete j.current[L]),S.current[L]&&delete S.current[L],C.current[L]&&(E.current[L]&&cancelAnimationFrame(E.current[L]),C.current[L].audioContext&&C.current[L].audioContext.close(),delete C.current[L]),l(U=>{const z={...U};return delete z[L],z}),v(U=>{const z={...U};return delete z[L],z}),g(U=>{const z={...U};return delete z[L],z}),b(U=>{const z={...U};return delete z[L],z})},F=()=>{if(s){const L=s.getAudioTracks()[0];L&&(L.enabled=!L.enabled,d(L.enabled))}},B=()=>{if(s){const L=s.getVideoTracks()[0];L&&(L.enabled=!L.enabled,h(L.enabled))}},G=L=>{if(j.current[L]){const U=j.current[L];U.muted=!U.muted,v(z=>({...z,[L]:!U.muted}))}},I=L=>S.current[L];return w.useEffect(()=>()=>{s&&s.getTracks().forEach(L=>L.stop()),Object.keys(_.current).forEach(L=>{$(L)}),Object.values(E.current).forEach(L=>{cancelAnimationFrame(L)})},[]),{localStream:s,remoteStreams:o,micEnabled:c,cameraEnabled:u,audioEnabled:f,videoEnabled:x,isSpeaking:y,toggleMic:F,toggleCamera:B,toggleParticipantAudio:G,getVideoElement:I,peerConnections:_.current}}function zPe({webRTC:t,currentUser:e,nearbyPlayers:n,onClose:a}){const[s,i]=w.useState("normal"),[o,l]=w.useState(!1),c=w.useRef(null),d=w.useRef({});w.useEffect(()=>{c.current&&t.localStream&&(c.current.srcObject=t.localStream)},[t.localStream]),w.useEffect(()=>{n.forEach(h=>{const f=t.getVideoElement(h.user_id);f&&d.current[h.user_id]&&(d.current[h.user_id].srcObject=f)})},[n,t.remoteStreams]);const u={small:"w-32 h-24",normal:"w-48 h-36",large:"w-64 h-48"};return n.length===0&&!t.cameraEnabled?null:r.jsx(gt,{children:r.jsx(q.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:`fixed ${o?"bottom-20 right-4":"top-20 right-4"} z-[60] ${o?"w-20":""}`,children:r.jsxs("div",{className:`bg-slate-900/95 backdrop-blur-md rounded-xl border border-purple-500/30 overflow-hidden shadow-2xl ${o?"p-2":"p-4"}`,children:[!o&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("h3",{className:"text-white font-bold text-sm flex items-center gap-2",children:[r.jsx(La,{className:"w-4 h-4 text-purple-400"}),n.length," Conexo(es)"]}),r.jsxs("div",{className:"flex gap-1",children:[r.jsx(W,{size:"icon",variant:"ghost",onClick:()=>l(!0),className:"h-6 w-6 text-gray-400 hover:text-white",children:r.jsx(H3,{className:"w-4 h-4"})}),r.jsx(W,{size:"icon",variant:"ghost",onClick:a,className:"h-6 w-6 text-gray-400 hover:text-white",children:r.jsx(nt,{className:"w-4 h-4"})})]})]}),t.cameraEnabled&&r.jsxs("div",{className:`mb-3 relative ${u[s]} bg-slate-800 rounded-lg overflow-hidden`,children:[r.jsx("video",{ref:c,autoPlay:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover mirror"}),r.jsx("div",{className:"absolute bottom-2 left-2 bg-black/60 px-2 py-1 rounded text-xs text-white",children:"Voc"}),t.isSpeaking.local&&r.jsx("div",{className:"absolute top-2 right-2 w-3 h-3 bg-green-500 rounded-full animate-pulse"})]}),r.jsx("div",{className:"space-y-2 max-h-[60vh] overflow-y-auto",children:n.map(h=>{var f,v;return r.jsxs("div",{className:`relative ${u[s]} bg-slate-800 rounded-lg overflow-hidden`,children:[t.videoEnabled[h.user_id]?r.jsx("video",{ref:x=>d.current[h.user_id]=x,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}):r.jsx("div",{className:"w-full h-full flex items-center justify-center",children:r.jsx(Lr,{user:h.user,size:"lg"})}),r.jsxs("div",{className:"absolute bottom-2 left-2 bg-black/60 px-2 py-1 rounded text-xs text-white flex items-center gap-1",children:[((f=h.user)==null?void 0:f.display_name)||((v=h.user)==null?void 0:v.full_name)||"Jogador",t.isSpeaking[h.user_id]&&r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"})]}),r.jsx(W,{size:"icon",variant:"ghost",onClick:()=>t.toggleParticipantAudio(h.user_id),className:"absolute top-2 right-2 h-7 w-7 bg-black/60 hover:bg-black/80",children:t.audioEnabled[h.user_id]?r.jsx(Ko,{className:"w-4 h-4 text-white"}):r.jsx(K3,{className:"w-4 h-4 text-red-400"})})]},h.user_id)})}),r.jsxs("div",{className:"flex gap-2 mt-3 pt-3 border-t border-purple-500/30",children:[r.jsx(W,{size:"sm",onClick:t.toggleMic,className:t.micEnabled?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700",children:t.micEnabled?r.jsx(mo,{className:"w-4 h-4"}):r.jsx(YH,{className:"w-4 h-4"})}),r.jsx(W,{size:"sm",onClick:t.toggleCamera,className:t.cameraEnabled?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700",children:t.cameraEnabled?r.jsx(La,{className:"w-4 h-4"}):r.jsx(oG,{className:"w-4 h-4"})}),r.jsxs("select",{value:s,onChange:h=>i(h.target.value),className:"bg-slate-800 text-white text-xs px-2 rounded border border-purple-500/30",children:[r.jsx("option",{value:"small",children:"Pequeno"}),r.jsx("option",{value:"normal",children:"Normal"}),r.jsx("option",{value:"large",children:"Grande"})]})]})]}),o&&r.jsx("button",{onClick:()=>l(!1),className:"flex items-center justify-center w-16 h-16 hover:scale-110 transition",children:r.jsxs("div",{className:"relative",children:[r.jsx(La,{className:"w-8 h-8 text-purple-400"}),n.length>0&&r.jsx("div",{className:"absolute -top-1 -right-1 bg-green-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:n.length})]})})]})})})}function qPe({progress:t=0,currentTask:e="Carregando..."}){const[n,a]=w.useState(0);return w.useEffect(()=>{const s=setInterval(()=>{a(i=>i<t?Math.min(i+2,t):i)},50);return()=>clearInterval(s)},[t]),r.jsxs(q.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[200] bg-gradient-to-b from-[#0f0f1e] via-[#1a1a2e] to-[#0f0f1e] flex items-center justify-center",children:[r.jsxs("div",{className:"text-center max-w-md w-full px-6",children:[r.jsx(q.div,{animate:{scale:[1,1.2,1],rotate:[0,360]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"mb-8",children:r.jsx(_e,{className:"w-16 h-16 text-purple-500 mx-auto"})}),r.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-6 bg-gradient-to-r from-purple-400 via-pink-400 to-blue-400 bg-clip-text text-transparent",children:"Preparando Zamira"}),r.jsx("div",{className:"relative w-full h-3 bg-slate-800 rounded-full overflow-hidden mb-4",children:r.jsx(q.div,{className:"absolute top-0 left-0 h-full bg-gradient-to-r from-purple-600 via-pink-600 to-purple-600",style:{width:`${n}%`},transition:{duration:.3},children:r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent animate-shimmer"})})}),r.jsx("p",{className:"text-purple-300 text-sm mb-2",children:e}),r.jsxs("p",{className:"text-purple-400 text-xl font-bold",children:[n,"%"]}),r.jsxs("div",{className:"mt-8 flex items-center justify-center gap-2",children:[r.jsx(zt,{className:"w-4 h-4 text-purple-400 animate-spin"}),r.jsx("span",{className:"text-gray-400 text-xs",children:"Aguarde..."})]})]}),r.jsx("style",{children:`
        @keyframes shimmer {
          0% { transform: translateX(-100%); }
          100% { transform: translateX(100%); }
        }
        .animate-shimmer {
          animation: shimmer 2s infinite;
        }
      `})]})}function VPe({fromMap:t,toMap:e,onComplete:n}){const[a,s]=w.useState(0),[i,o]=w.useState("preparing"),l=[{key:"preparing",label:"Preparando viagem mstica...",duration:800},{key:"opening",label:"Abrindo portal dimensional...",duration:1e3},{key:"traveling",label:"Atravessando o vu csmico...",duration:1200},{key:"loading",label:`Materializando ${e}...`,duration:1e3},{key:"stabilizing",label:"Estabilizando energias...",duration:600}];w.useEffect(()=>{let u=0;(async()=>{for(let f=0;f<l.length;f++){o(l[f].key);const v=100/l.length,x=20,g=l[f].duration/x;for(let y=0;y<x;y++)await new Promise(b=>setTimeout(b,g)),u+=v/x,s(Math.min(u,100))}setTimeout(()=>{n&&n()},300)})()},[]);const c=()=>{switch(i){case"preparing":return"";case"opening":return"";case"traveling":return"";case"loading":return"";case"stabilizing":return"";default:return""}},d=l.find(u=>u.key===i);return r.jsxs(q.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[200] bg-gradient-to-b from-[#0f0f1e] via-[#1a1a2e] to-[#0f0f1e] flex items-center justify-center overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0",children:[...Array(30)].map((u,h)=>r.jsx(q.div,{className:"absolute w-2 h-2 bg-purple-400 rounded-full",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`},animate:{scale:[0,1.5,0],opacity:[0,.8,0],y:[0,-100]},transition:{duration:2+Math.random()*2,repeat:1/0,delay:Math.random()*2,ease:"easeOut"}},h))}),r.jsx(q.div,{className:"absolute inset-0 flex items-center justify-center",animate:{rotate:360},transition:{duration:20,repeat:1/0,ease:"linear"},children:r.jsxs("div",{className:"relative w-64 h-64 md:w-96 md:h-96",children:[[...Array(5)].map((u,h)=>r.jsx(q.div,{className:"absolute inset-0 rounded-full border-2",style:{borderColor:`rgba(168, 85, 247, ${.2-h*.03})`,transform:`scale(${1-h*.15})`},animate:{scale:[1-h*.15,1.2-h*.15,1-h*.15],opacity:[.3,.6,.3],rotate:h%2===0?360:-360},transition:{duration:4+h,repeat:1/0,ease:"easeInOut",delay:h*.2}},h)),r.jsx(q.div,{className:"absolute inset-0 flex items-center justify-center",animate:{scale:[1,1.05,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:r.jsx("div",{className:"w-32 h-32 md:w-48 md:h-48 rounded-full bg-gradient-to-br from-purple-600/40 via-pink-600/40 to-blue-600/40 backdrop-blur-xl flex items-center justify-center",children:r.jsx(q.div,{animate:{rotate:360,scale:[1,1.2,1]},transition:{rotate:{duration:3,repeat:1/0,ease:"linear"},scale:{duration:2,repeat:1/0}},className:"text-6xl md:text-8xl",children:c()})})})]})}),[...Array(12)].map((u,h)=>r.jsx(q.div,{className:"absolute w-1 bg-gradient-to-t from-transparent via-purple-400/60 to-transparent",style:{left:"50%",top:"50%",height:"50vh",transformOrigin:"bottom center",transform:`rotate(${h*30}deg)`},animate:{scaleY:[0,1,0],opacity:[0,.8,0]},transition:{duration:2,repeat:1/0,delay:h*.15,ease:"easeInOut"}},`ray-${h}`)),r.jsxs("div",{className:"relative z-10 text-center px-4 max-w-md",children:[r.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"mb-8",children:[r.jsx("h2",{className:"text-2xl md:text-4xl font-bold bg-gradient-to-r from-purple-400 via-pink-400 to-blue-400 bg-clip-text text-transparent mb-2",children:"Viajando..."}),r.jsx("p",{className:"text-gray-300 text-sm md:text-lg",children:d==null?void 0:d.label})]},i),r.jsxs("div",{className:"w-full mb-6",children:[r.jsxs("div",{className:"relative h-4 bg-slate-800/50 rounded-full overflow-hidden backdrop-blur-sm border border-purple-500/30",children:[r.jsx(q.div,{className:"absolute inset-y-0 left-0 bg-gradient-to-r from-purple-600 via-pink-600 to-blue-600 rounded-full",initial:{width:0},animate:{width:`${a}%`},transition:{duration:.3}}),r.jsx(q.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent",animate:{x:["-100%","200%"]},transition:{duration:1.5,repeat:1/0,ease:"linear"}})]}),r.jsxs("div",{className:"flex items-center justify-center gap-2 mt-3",children:[r.jsx(q.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},children:r.jsx(_e,{className:"w-4 h-4 text-purple-400"})}),r.jsxs("span",{className:"text-purple-300 font-mono text-sm",children:[Math.round(a),"%"]})]})]}),r.jsxs("div",{className:"flex justify-center gap-6 md:gap-8",children:[r.jsxs(q.div,{animate:{opacity:a>=25?1:.3,scale:a>=25?[1,1.2,1]:1,y:a>=25?[0,-5,0]:0},transition:{duration:.5,repeat:a>=25?1/0:0},className:"flex flex-col items-center gap-2",children:[r.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${a>=25?"bg-purple-600/30":"bg-slate-800/30"}`,children:r.jsx(Ts,{className:`w-6 h-6 ${a>=25?"text-purple-400":"text-gray-600"}`})}),r.jsx("span",{className:"text-xs text-gray-400",children:"Mapa"})]}),r.jsxs(q.div,{animate:{opacity:a>=50?1:.3,scale:a>=50?[1,1.2,1]:1,y:a>=50?[0,-5,0]:0},transition:{duration:.5,repeat:a>=50?1/0:0},className:"flex flex-col items-center gap-2",children:[r.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${a>=50?"bg-pink-600/30":"bg-slate-800/30"}`,children:r.jsx(JH,{className:`w-6 h-6 ${a>=50?"text-pink-400":"text-gray-600"}`})}),r.jsx("span",{className:"text-xs text-gray-400",children:"Posio"})]}),r.jsxs(q.div,{animate:{opacity:a>=75?1:.3,scale:a>=75?[1,1.2,1]:1,y:a>=75?[0,-5,0]:0},transition:{duration:.5,repeat:a>=75?1/0:0},className:"flex flex-col items-center gap-2",children:[r.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${a>=75?"bg-blue-600/30":"bg-slate-800/30"}`,children:r.jsx(gr,{className:`w-6 h-6 ${a>=75?"text-blue-400":"text-gray-600"}`})}),r.jsx("span",{className:"text-xs text-gray-400",children:"Energias"})]})]}),r.jsx(q.div,{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-96 h-96 md:w-[600px] md:h-[600px]",animate:{scale:[1,2,1],opacity:[.5,0,.5]},transition:{duration:3,repeat:1/0,ease:"easeOut"},children:r.jsx("div",{className:"w-full h-full rounded-full border-4 border-purple-400/30"})})]}),[...Array(8)].map((u,h)=>r.jsx(q.div,{className:"absolute w-1 h-20 bg-gradient-to-b from-white via-purple-400 to-transparent",style:{left:`${10+h*12}%`,top:"-10%",transform:"rotate(45deg)"},animate:{y:["0vh","120vh"],opacity:[0,1,0]},transition:{duration:1.5,repeat:1/0,delay:h*.3,ease:"linear"}},`star-${h}`))]})}const HPe={lobby:[{x:7,y:12},{x:15,y:16}],city:[{x:5,y:15},{x:12,y:8},{x:8,y:5},{x:15,y:14}]},GPe={lobby:[{x:5,y:5,name:"Portal Norte"},{x:15,y:5,name:"Portal Nordeste"},{x:5,y:15,name:"Portal Sul"}],city:[{x:4,y:4,name:"Portal Central"},{x:15,y:4,name:"Portal Leste"},{x:10,y:15,name:"Portal Sul"}]},WPe=t=>Array.from({length:t},(e,n)=>({id:n,initialX:Math.random()*100,initialY:Math.random()*100,delay:Math.random()*5,duration:6+Math.random()*8,size:1.5+Math.random()*2.5,opacity:.4+Math.random()*.5,hue:45+Math.random()*15}));function KPe({currentMap:t,playerPos:e,canvasWidth:n,canvasHeight:a,tileSize:s,zoomLevel:i=1,targetMap:o,onComplete:l,currentRoom:c}){const d=w.useRef(null),u=w.useRef(WPe(60));return w.useEffect(()=>{window.scrollTo({top:0,behavior:"instant"})},[]),w.useEffect(()=>{const h=d.current;if(!h)return;const f=h.getContext("2d");h.width=n,h.height=a;let v;const x=s*i,g=()=>{f.clearRect(0,0,h.width,h.height);const y=Date.now()/1e3,b=e.x*x-h.width/2,_=e.y*x-h.height/2,j=Math.min(h.width,h.height)*.4,S=f.createRadialGradient(0,0,0,0,0,j);S.addColorStop(0,"rgba(0, 0, 0, 0.5)"),S.addColorStop(.5,"rgba(0, 0, 0, 0.2)"),S.addColorStop(1,"rgba(0, 0, 0, 0)"),f.fillStyle=S,f.fillRect(0,0,j,j);const C=f.createRadialGradient(h.width,0,0,h.width,0,j);C.addColorStop(0,"rgba(0, 0, 0, 0.5)"),C.addColorStop(.5,"rgba(0, 0, 0, 0.2)"),C.addColorStop(1,"rgba(0, 0, 0, 0)"),f.fillStyle=C,f.fillRect(h.width-j,0,j,j);const E=f.createRadialGradient(0,h.height,0,0,h.height,j);E.addColorStop(0,"rgba(0, 0, 0, 0.5)"),E.addColorStop(.5,"rgba(0, 0, 0, 0.2)"),E.addColorStop(1,"rgba(0, 0, 0, 0)"),f.fillStyle=E,f.fillRect(0,h.height-j,j,j);const P=f.createRadialGradient(h.width,h.height,0,h.width,h.height,j);P.addColorStop(0,"rgba(0, 0, 0, 0.5)"),P.addColorStop(.5,"rgba(0, 0, 0, 0.2)"),P.addColorStop(1,"rgba(0, 0, 0, 0)"),f.fillStyle=P,f.fillRect(h.width-j,h.height-j,j,j),(HPe[t]||[]).forEach(k=>{const O=k.x*x-b,$=k.y*x-_;if(O<-150||O>h.width+150||$<-150||$>h.height+150)return;const F=x*2,B=Math.sin(y*1.2)*.2+.8,G=f.createRadialGradient(O+x/2,$+x/2,0,O+x/2,$+x/2,F*B*1.3);G.addColorStop(0,`rgba(100, 180, 255, ${.3*B})`),G.addColorStop(.5,`rgba(80, 150, 255, ${.15*B})`),G.addColorStop(1,"rgba(60, 120, 255, 0)"),f.fillStyle=G,f.beginPath(),f.arc(O+x/2,$+x/2,F*B*1.3,0,Math.PI*2),f.fill();const I=f.createRadialGradient(O+x/2,$+x/2,0,O+x/2,$+x/2,F*B*.8);I.addColorStop(0,`rgba(120, 200, 255, ${.4*B})`),I.addColorStop(.6,`rgba(90, 170, 255, ${.2*B})`),I.addColorStop(1,"rgba(70, 140, 255, 0)"),f.fillStyle=I,f.beginPath(),f.arc(O+x/2,$+x/2,F*B*.8,0,Math.PI*2),f.fill();const L=f.createRadialGradient(O+x/2,$+x/2,0,O+x/2,$+x/2,F*.3*B);L.addColorStop(0,`rgba(180, 220, 255, ${.6*B})`),L.addColorStop(.5,`rgba(140, 200, 255, ${.4*B})`),L.addColorStop(1,`rgba(100, 170, 255, ${.2*B})`),f.fillStyle=L,f.beginPath(),f.arc(O+x/2,$+x/2,F*.3*B,0,Math.PI*2),f.fill();for(let z=0;z<8;z++){const K=y*1.5+z*Math.PI*2/8,V=F*.6,Y=O+x/2+Math.cos(K)*V,ee=$+x/2+Math.sin(K)*V,se=Math.sin(y*2.5+z)*.3+.7;f.fillStyle=`rgba(150, 210, 255, ${.5*se})`,f.shadowColor="rgba(100, 180, 255, 0.8)",f.shadowBlur=10,f.beginPath(),f.arc(Y,ee,3*se,0,Math.PI*2),f.fill(),f.shadowBlur=0}const U=y*1.5%2;if(U<1.5){const z=F*U*.7,K=(1-U/1.5)*.35;f.strokeStyle=`rgba(120, 200, 255, ${K})`,f.lineWidth=3,f.beginPath(),f.arc(O+x/2,$+x/2,z,0,Math.PI*2),f.stroke()}}),(GPe[t]||[]).forEach(k=>{const O=k.x*x-b,$=k.y*x-_;if(O<-100||O>h.width+100||$<-100||$>h.height+100)return;const F=x*1.2,B=Math.sin(y*1.5)*.15+.85,G=f.createRadialGradient(O+x/2,$+x/2,0,O+x/2,$+x/2,F*B*1.5);G.addColorStop(0,`rgba(100, 200, 255, ${.15*B})`),G.addColorStop(.5,`rgba(100, 200, 255, ${.08*B})`),G.addColorStop(1,"rgba(100, 200, 255, 0)"),f.fillStyle=G,f.beginPath(),f.arc(O+x/2,$+x/2,F*B*1.5,0,Math.PI*2),f.fill();const I=f.createRadialGradient(O+x/2,$+x/2,0,O+x/2,$+x/2,F*B);I.addColorStop(0,`rgba(120, 220, 255, ${.25*B})`),I.addColorStop(.6,`rgba(100, 200, 255, ${.12*B})`),I.addColorStop(1,"rgba(100, 200, 255, 0)"),f.fillStyle=I,f.beginPath(),f.arc(O+x/2,$+x/2,F*B,0,Math.PI*2),f.fill();const L=f.createRadialGradient(O+x/2,$+x/2,0,O+x/2,$+x/2,F*.4*B);L.addColorStop(0,`rgba(180, 240, 255, ${.4*B})`),L.addColorStop(.5,`rgba(140, 220, 255, ${.25*B})`),L.addColorStop(1,`rgba(100, 200, 255, ${.1*B})`),f.fillStyle=L,f.beginPath(),f.arc(O+x/2,$+x/2,F*.4*B,0,Math.PI*2),f.fill();for(let z=0;z<6;z++){const K=y*2+z*Math.PI*2/6,V=F*.7,Y=O+x/2+Math.cos(K)*V,ee=$+x/2+Math.sin(K)*V,se=Math.sin(y*3+z)*.3+.7;f.fillStyle=`rgba(180, 240, 255, ${.5*se})`,f.shadowColor="rgba(100, 200, 255, 0.8)",f.shadowBlur=8,f.beginPath(),f.arc(Y,ee,2.5*se,0,Math.PI*2),f.fill(),f.shadowBlur=0}const U=y*1.2%2;if(U<1.5){const z=F*U*.8,K=(1-U/1.5)*.25;f.strokeStyle=`rgba(100, 200, 255, ${K})`,f.lineWidth=2,f.beginPath(),f.arc(O+x/2,$+x/2,z,0,Math.PI*2),f.stroke()}}),u.current.forEach(k=>{const $=(y+k.delay)%k.duration/k.duration,F=(k.initialX+Math.sin($*Math.PI*4)*8+Math.cos($*Math.PI*2)*3)*h.width/100,B=(k.initialY+Math.cos($*Math.PI*5)*6+Math.sin($*Math.PI*3)*4-$*8)*h.height/100,G=Math.sin($*Math.PI*10)*.4+.6,I=k.opacity*G,L=f.createRadialGradient(F,B,0,F,B,k.size*4);L.addColorStop(0,`hsla(${k.hue}, 100%, 80%, ${I*.9})`),L.addColorStop(.3,`hsla(${k.hue}, 90%, 70%, ${I*.7})`),L.addColorStop(.6,`hsla(${k.hue}, 80%, 60%, ${I*.4})`),L.addColorStop(1,"rgba(255, 240, 150, 0)"),f.fillStyle=L,f.beginPath(),f.arc(F,B,k.size*4,0,Math.PI*2),f.fill();const U=f.createRadialGradient(F,B,0,F,B,k.size);U.addColorStop(0,`hsla(${k.hue}, 100%, 95%, ${I})`),U.addColorStop(.5,`hsla(${k.hue}, 100%, 85%, ${I*.8})`),U.addColorStop(1,`hsla(${k.hue}, 90%, 75%, ${I*.3})`),f.fillStyle=U,f.beginPath(),f.arc(F,B,k.size,0,Math.PI*2),f.fill(),f.shadowColor=`hsla(${k.hue}, 100%, 70%, ${I*.6})`,f.shadowBlur=k.size*3,f.fillStyle=`hsla(${k.hue}, 100%, 90%, ${I*.2})`,f.beginPath(),f.arc(F,B,k.size*1.5,0,Math.PI*2),f.fill(),f.shadowBlur=0}),v=requestAnimationFrame(g)};return g(),()=>{v&&cancelAnimationFrame(v)}},[t,e,n,a,s,i]),r.jsx("canvas",{ref:d,className:"absolute top-0 left-0 pointer-events-none",style:{width:"100%",height:"100%",mixBlendMode:"screen",opacity:.85}})}const em={common:{bg:"bg-gray-600",border:"border-gray-500",text:"text-gray-300",glow:"shadow-gray-500/50"},uncommon:{bg:"bg-green-600",border:"border-green-500",text:"text-green-300",glow:"shadow-green-500/50"},rare:{bg:"bg-blue-600",border:"border-blue-500",text:"text-blue-300",glow:"shadow-blue-500/50"},epic:{bg:"bg-purple-600",border:"border-purple-500",text:"text-purple-300",glow:"shadow-purple-500/50"},legendary:{bg:"bg-yellow-600",border:"border-yellow-500",text:"text-yellow-300",glow:"shadow-yellow-500/50"},mythical:{bg:"bg-pink-600",border:"border-pink-500",text:"text-pink-300",glow:"shadow-pink-500/50"}},XPe={consumable:$n,equipment:ud,quest:Wn,material:Ou,mystical:si,potion:gr,crystal:WH,artifact:_e};function YPe({user:t,isOpen:e,onClose:n}){const[a,s]=w.useState(null),i=wt(),{data:o,isLoading:l}=Oe({queryKey:["inventory",t==null?void 0:t.id],queryFn:()=>H.entities.InventoryItem.filter({user_id:t.id},"-created_date",100),enabled:!!t&&e,initialData:[]}),c=Ue({mutationFn:h=>H.entities.InventoryItem.delete(h),onSuccess:()=>{i.invalidateQueries({queryKey:["inventory"]}),s(null)}}),d=Ue({mutationFn:async h=>(h.quantity>1?await H.entities.InventoryItem.update(h.id,{quantity:h.quantity-1}):await H.entities.InventoryItem.delete(h.id),h),onSuccess:()=>{i.invalidateQueries({queryKey:["inventory"]}),s(null)}}),u=o.reduce((h,f)=>(h[f.item_type]||(h[f.item_type]=[]),h[f.item_type].push(f),h),{});return e?r.jsx(gt,{children:r.jsx(q.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] bg-black/80 backdrop-blur-sm flex items-center justify-center p-4",onClick:n,children:r.jsxs(q.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},onClick:h=>h.stopPropagation(),className:"bg-gradient-to-br from-slate-900 to-slate-800 rounded-3xl p-6 max-w-4xl w-full max-h-[90vh] overflow-y-auto border-2 border-purple-500/50",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-purple-600/30 flex items-center justify-center",children:r.jsx(Fm,{className:"w-6 h-6 text-purple-300"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-white",children:"Inventrio Mstico"}),r.jsxs("p",{className:"text-sm text-gray-400",children:[o.length," itens coletados"]})]})]}),r.jsx(W,{variant:"ghost",size:"icon",onClick:n,className:"text-gray-400 hover:text-white",children:r.jsx(nt,{className:"w-6 h-6"})})]}),l?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(_e,{className:"w-12 h-12 text-purple-500 animate-pulse mx-auto mb-4"}),r.jsx("p",{className:"text-gray-400",children:"Carregando inventrio..."})]}):o.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Ou,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-400 text-lg mb-2",children:"Inventrio Vazio"}),r.jsx("p",{className:"text-gray-500 text-sm",children:"Explore Zamira para coletar itens msticos!"})]}):r.jsx("div",{className:"space-y-6",children:Object.entries(u).map(([h,f])=>{const v=XPe[h]||Ou;return r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx(v,{className:"w-5 h-5 text-purple-400"}),r.jsx("h3",{className:"text-lg font-semibold text-purple-300 capitalize",children:h==="consumable"?"Consumveis":h==="equipment"?"Equipamentos":h==="quest"?"Misso":h==="material"?"Materiais":h==="mystical"?"Msticos":h==="potion"?"Poes":h==="crystal"?"Cristais":h==="artifact"?"Artefatos":h}),r.jsx(De,{variant:"outline",className:"text-xs",children:f.length})]}),r.jsx("div",{className:"grid grid-cols-4 md:grid-cols-6 lg:grid-cols-8 gap-3",children:f.map(x=>{const g=em[x.item_rarity]||em.common;return r.jsxs(q.button,{whileHover:{scale:1.05,y:-5},whileTap:{scale:.95},onClick:()=>s(x),className:`relative aspect-square rounded-xl ${g.bg} ${g.border} border-2 p-2 flex flex-col items-center justify-center transition-all hover:shadow-lg ${g.glow}`,children:[r.jsx("span",{className:"text-3xl mb-1",children:x.icon||""}),x.quantity>1&&r.jsx(De,{className:"absolute -top-2 -right-2 h-5 w-5 p-0 flex items-center justify-center text-xs font-bold bg-white text-black",children:x.quantity}),r.jsx("p",{className:"text-[10px] text-white font-semibold text-center line-clamp-1",children:x.item_name})]},x.id)})})]},h)})}),r.jsx(gt,{children:a&&r.jsx(q.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[110] bg-black/60 backdrop-blur-sm flex items-center justify-center p-4",onClick:()=>s(null),children:r.jsxs(q.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},onClick:h=>h.stopPropagation(),className:"bg-gradient-to-br from-slate-900 to-slate-800 rounded-2xl p-6 max-w-md w-full border-2 border-purple-500/30",children:[r.jsxs("div",{className:"text-center mb-4",children:[r.jsx("div",{className:`w-24 h-24 mx-auto rounded-2xl ${em[a.item_rarity].bg} flex items-center justify-center text-6xl mb-4 shadow-xl ${em[a.item_rarity].glow}`,children:a.icon||""}),r.jsx("h3",{className:"text-2xl font-bold text-white mb-1",children:a.item_name}),r.jsx(De,{className:`${em[a.item_rarity].bg} ${em[a.item_rarity].text} capitalize`,children:a.item_rarity})]}),a.description&&r.jsx("p",{className:"text-gray-300 text-sm mb-4 text-center",children:a.description}),r.jsxs("div",{className:"space-y-2 mb-4",children:[r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-gray-400",children:"Tipo:"}),r.jsx("span",{className:"text-white capitalize",children:a.item_type})]}),r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-gray-400",children:"Quantidade:"}),r.jsxs("span",{className:"text-white",children:[a.quantity,"x"]})]}),a.power>0&&r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-gray-400",children:"Poder:"}),r.jsxs("span",{className:"text-purple-400 font-bold",children:["+",a.power]})]}),a.collected_at&&r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-gray-400",children:"Coletado em:"}),r.jsx("span",{className:"text-white",children:a.collected_at})]})]}),r.jsxs("div",{className:"flex gap-2",children:[a.item_type==="consumable"&&r.jsxs(W,{onClick:()=>d.mutate(a),disabled:d.isPending,className:"flex-1 bg-green-600 hover:bg-green-700",children:[r.jsx(gr,{className:"w-4 h-4 mr-2"}),"Usar"]}),r.jsxs(W,{onClick:()=>c.mutate(a.id),disabled:c.isPending,variant:"outline",className:"flex-1 border-red-500/50 text-red-400 hover:bg-red-900/20",children:[r.jsx(qr,{className:"w-4 h-4 mr-2"}),"Descartar"]})]})]})})})]})})}):null}const dF={bruxa_natural:"#9333EA",sabio:"#F59E0B",guardiao_astral:"#3B82F6",xama:"#10B981",navegador_cosmico:"#8B5CF6",alquimista:"#6366F1",none:"#A855F7"};function QPe({currentMap:t,mapData:e,playerPos:n,otherPlayers:a,npcPosition:s,mysticalPoints:i,transitionZones:o,isExpanded:l,onToggleExpand:c}){const d=w.useRef(null),[u,h]=w.useState(!1);w.useEffect(()=>{const v=()=>h(window.innerWidth<768);return v(),window.addEventListener("resize",v),()=>window.removeEventListener("resize",v)},[]),w.useEffect(()=>{const v=d.current;if(!v||!e)return;const x=v.getContext("2d"),g=u?l?200:100:l?300:150;v.width=g,v.height=g;const y=e.width,b=e.height,_=g/Math.max(y,b);x.fillStyle="rgba(10, 10, 21, 0.9)",x.fillRect(0,0,g,g),x.strokeStyle="rgba(168, 85, 247, 0.1)",x.lineWidth=1;const j=5;for(let F=0;F<=y;F+=j)x.beginPath(),x.moveTo(F*_,0),x.lineTo(F*_,b*_),x.stroke();for(let F=0;F<=b;F+=j)x.beginPath(),x.moveTo(0,F*_),x.lineTo(y*_,F*_),x.stroke();if(e.collisionMap&&e.collisionMap.forEach((F,B)=>{F.forEach((G,I)=>{G===0&&(x.fillStyle="rgba(34, 197, 94, 0.1)",x.fillRect(I*_,B*_,_,_))})}),o&&o.forEach(F=>{const B=Date.now()/1e3,G=Math.sin(B*2)*.3+.7;x.fillStyle=`rgba(168, 85, 247, ${.4*G})`,x.fillRect(F.x*_,F.y*_,F.width*_,F.height*_),x.strokeStyle=`rgba(168, 85, 247, ${G})`,x.lineWidth=2,x.strokeRect(F.x*_,F.y*_,F.width*_,F.height*_)}),i&&i.forEach(F=>{const B=F.x*_,G=F.y*_;x.fillStyle="rgba(168, 85, 247, 0.6)",x.beginPath(),x.arc(B,G,3,0,Math.PI*2),x.fill();const I=x.createRadialGradient(B,G,0,B,G,8);I.addColorStop(0,"rgba(168, 85, 247, 0.4)"),I.addColorStop(1,"rgba(168, 85, 247, 0)"),x.fillStyle=I,x.beginPath(),x.arc(B,G,8,0,Math.PI*2),x.fill()}),s&&t===s.map){const F=s.x*_,B=s.y*_;x.fillStyle="#F59E0B",x.beginPath(),x.arc(F,B,4,0,Math.PI*2),x.fill(),x.strokeStyle="#FCD34D",x.lineWidth=2,x.stroke()}a.forEach(F=>{if(F.current_room===t&&F.user){const B=F.x*_,G=F.y*_,I=dF[F.user.archetype]||dF.none;x.fillStyle=I,x.beginPath(),x.arc(B,G,3,0,Math.PI*2),x.fill(),x.strokeStyle="rgba(255, 255, 255, 0.5)",x.lineWidth=1,x.stroke()}});const S=Date.now()/1e3,C=Math.sin(S*3)*.2+.8,E=n.x*_,P=n.y*_;x.strokeStyle=`rgba(251, 191, 36, ${C*.6})`,x.lineWidth=2,x.beginPath(),x.arc(E,P,8*C,0,Math.PI*2),x.stroke(),x.fillStyle="#FBBF24",x.beginPath(),x.arc(E,P,5,0,Math.PI*2),x.fill(),x.strokeStyle="#FDE047",x.lineWidth=2,x.stroke();const M={up:-Math.PI/2,down:Math.PI/2,left:Math.PI,right:0}[n.direction]||0,k=8,O=E+Math.cos(M)*k,$=P+Math.sin(M)*k;x.strokeStyle="#FDE047",x.lineWidth=2,x.beginPath(),x.moveTo(E,P),x.lineTo(O,$),x.stroke(),x.strokeStyle="rgba(168, 85, 247, 0.5)",x.lineWidth=2,x.strokeRect(0,0,g,g)},[t,e,n,a,s,i,o,l,u]);const f=u?l?"w-[200px] h-[200px]":"w-[100px] h-[100px]":l?"w-[300px] h-[300px]":"w-[150px] h-[150px]";return r.jsxs(q.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:`fixed top-20 ${u?"right-2":"right-4"} z-40 bg-slate-900/90 backdrop-blur-sm rounded-2xl border-2 border-purple-500/50 shadow-2xl overflow-hidden ${f}`,children:[r.jsxs("div",{className:"relative",children:[r.jsx("canvas",{ref:d,className:"block w-full h-full",style:{imageRendering:"pixelated"}}),r.jsx("button",{onClick:c,className:`absolute top-2 right-2 ${u?"w-6 h-6":"w-8 h-8"} rounded-lg bg-slate-800/80 hover:bg-slate-700 border border-purple-500/30 flex items-center justify-center transition`,children:l?r.jsx(H3,{className:`${u?"w-3 h-3":"w-4 h-4"} text-purple-300`}):r.jsx(V3,{className:`${u?"w-3 h-3":"w-4 h-4"} text-purple-300`})}),l&&r.jsx("div",{className:"absolute bottom-2 left-2 right-2 bg-slate-800/90 rounded-lg p-2 border border-purple-500/30",children:r.jsxs("div",{className:`grid grid-cols-2 gap-1 ${u?"text-[8px]":"text-[10px]"}`,children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:`${u?"w-1.5 h-1.5":"w-2 h-2"} rounded-full bg-yellow-400`}),r.jsx("span",{className:"text-yellow-300",children:"Voc"})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:`${u?"w-1.5 h-1.5":"w-2 h-2"} rounded-full bg-purple-400`}),r.jsx("span",{className:"text-purple-300",children:"Jogadores"})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:`${u?"w-1.5 h-1.5":"w-2 h-2"} rounded-full bg-orange-400`}),r.jsx("span",{className:"text-orange-300",children:"NPC"})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:`${u?"w-1.5 h-1.5":"w-2 h-2"} rounded-full bg-purple-400`}),r.jsx("span",{className:"text-purple-300",children:"Portais"})]})]})})]}),r.jsx("div",{className:`absolute top-2 left-2 bg-slate-800/80 px-2 py-1 rounded ${u?"text-[8px]":"text-[10px]"} text-purple-300 font-semibold`,children:(e==null?void 0:e.name)||"Mapa"})]})}const T2={potion:"",crystal:"",amulet:"",scroll:"",essence:"",artifact:""},Ey={common:{bg:"from-gray-700 to-gray-800",border:"border-gray-500",text:"text-gray-300",glow:"shadow-gray-500/50"},uncommon:{bg:"from-green-700 to-green-800",border:"border-green-500",text:"text-green-300",glow:"shadow-green-500/50"},rare:{bg:"from-blue-700 to-blue-800",border:"border-blue-500",text:"text-blue-300",glow:"shadow-blue-500/50"},epic:{bg:"from-purple-700 to-purple-800",border:"border-purple-500",text:"text-purple-300",glow:"shadow-purple-500/50"},legendary:{bg:"from-yellow-600 to-yellow-700",border:"border-yellow-500",text:"text-yellow-300",glow:"shadow-yellow-500/50"},mythical:{bg:"from-pink-600 to-pink-700",border:"border-pink-500",text:"text-pink-300",glow:"shadow-pink-500/50"}};function ZPe({user:t,onClose:e,preloadedProducts:n}){const[a,s]=w.useState(null),[i,o]=w.useState("all"),l=wt(),{data:c,isLoading:d}=Oe({queryKey:["mysticalProducts"],queryFn:async()=>{if(n)return console.log(" Usando produtos pr-carregados:",n.length),n;const x=await H.entities.MysticalProduct.filter({is_active:!0});return console.log("Produtos carregados:",x),x},initialData:n||[],staleTime:6e4}),u=Ue({mutationFn:async x=>{if(t.ouros<x.price_ouros)throw new Error("Ouros insuficientes!");if(await H.auth.updateMe({ouros:t.ouros-x.price_ouros}),await H.entities.InventoryItem.create({user_id:t.id,item_name:x.name,item_type:"mystical",item_rarity:x.rarity,quantity:1,description:x.description,icon:x.icon,image_url:x.image_url,power:x.effect_value,collected_at:"Loja de Zamira"}),x.effect_type==="remove_spell"||x.effect_type==="inventory_expansion"||x.effect_type==="teleport_token")await h(x);else{const g=x.effect_duration_hours>0?new Date(Date.now()+x.effect_duration_hours*36e5).toISOString():null;await H.entities.UserEffect.create({user_id:t.id,product_id:x.id,product_name:x.name,effect_type:x.effect_type,effect_value:x.effect_value,activated_at:new Date().toISOString(),expires_at:g,is_active:!0})}return x},onSuccess:x=>{l.invalidateQueries({queryKey:["inventory"]}),l.invalidateQueries({queryKey:["userEffects"]}),qe.success(`${x.name} adquirido com sucesso! `),s(null),window.playSuccessSound&&window.playSuccessSound()},onError:x=>{qe.error(x.message),window.playErrorSound&&window.playErrorSound()}}),h=async x=>{x.effect_type==="inventory_expansion"&&await H.entities.Notification.create({user_id:t.id,type:"announcement",title:"Inventrio Expandido! ",message:`Seu inventrio foi expandido em +${x.effect_value} espaos!`})},f=i==="all"?c:c.filter(x=>x.category===i),v=x=>({xp_boost:` Aumenta ganho de XP em ${x.effect_value}% por ${x.effect_duration_hours}h`,remove_spell:" Remove todos os feitios de suas publicaes instantaneamente",tinder_boost:` Aumenta visibilidade no Tinder Mstico em ${x.effect_value}% por ${x.effect_duration_hours}h`,duel_boost:` Aumenta chances de vitria em duelos em ${x.effect_value}% por ${x.effect_duration_hours}h`,protection:` Protege contra feitios negativos por ${x.effect_duration_hours}h`,quest_accelerator:` Acelera progresso de misses em ${x.effect_value}% por ${x.effect_duration_hours}h`,gold_multiplier:` Multiplica ganho de ouros por ${x.effect_value}x durante ${x.effect_duration_hours}h`,voice_amplifier:` Aumenta alcance de mensagens de voz por ${x.effect_duration_hours}h`,post_highlight:` Destaca suas publicaes no topo por ${x.effect_duration_hours}h`,connection_magnet:` Atrai ${x.effect_value} conexes compatveis automaticamente`,lunar_power:` Potencializa rituais lunares em ${x.effect_value}% por ${x.effect_duration_hours}h`,arena_advantage:` Bnus permanente de ${x.effect_value}% em todas as batalhas`,daily_blessing:` Recebe bno diria extra por ${x.effect_duration_hours}h`,inventory_expansion:` Expande seu inventrio permanentemente em +${x.effect_value} espaos`,teleport_token:" Permite teletransportar para qualquer local no universo",mystical_vision:` Revela todos os segredos do mapa por ${x.effect_duration_hours}h`,energy_recovery:" Recupera energia vital instantaneamente",reputation_boost:` Aumenta reputao em ${x.effect_value}% por ${x.effect_duration_hours}h`})[x.effect_type]||" Efeito mgico especial";return r.jsx(gt,{children:r.jsx(q.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] bg-black/95 backdrop-blur-sm flex items-center justify-center",onClick:e,children:r.jsxs(q.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:x=>x.stopPropagation(),className:"relative w-full h-full overflow-hidden bg-gradient-to-br from-amber-950 via-amber-900 to-amber-950 border-4 border-yellow-700/50",children:[r.jsxs("div",{className:"h-full overflow-y-auto p-4 md:p-6",children:[r.jsxs("div",{className:"mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-12 h-12 md:w-16 md:h-16 rounded-full bg-gradient-to-br from-yellow-600 to-amber-700 flex items-center justify-center border-4 border-yellow-500/30 shadow-xl",children:r.jsx(Ia,{className:"w-6 h-6 md:w-8 md:h-8 text-yellow-200"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-yellow-200 font-serif",children:"Loja de Zamira"}),r.jsx("p",{className:"text-amber-300 text-xs md:text-sm",children:"Produtos Msticos do Vendedor Welder"})]})]}),r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"bg-slate-900/50 px-3 py-2 md:px-4 md:py-2 rounded-xl border-2 border-yellow-600/30 flex items-center gap-2",children:[r.jsx(Gn,{className:"w-4 h-4 md:w-5 md:h-5 text-yellow-400"}),r.jsx("span",{className:"text-yellow-300 font-bold text-sm md:text-lg",children:t.ouros||0}),r.jsx("span",{className:"text-yellow-500 text-xs md:text-sm",children:"Ouros"})]}),r.jsx("button",{onClick:x=>{x.stopPropagation(),console.log(" Fechando loja"),e()},className:"w-10 h-10 md:w-12 md:h-12 rounded-full bg-black/50 hover:bg-black/70 flex items-center justify-center transition",children:r.jsx(nt,{className:"w-5 h-5 md:w-6 md:h-6 text-yellow-300"})})]}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsx("button",{onClick:x=>{x.stopPropagation(),o("all")},className:`px-3 py-1.5 rounded-lg text-xs md:text-sm font-semibold transition ${i==="all"?"bg-yellow-600 text-white":"bg-black/30 text-yellow-300 hover:bg-black/40"}`,children:"Todos"}),Object.entries(T2).map(([x,g])=>r.jsxs("button",{onClick:y=>{y.stopPropagation(),o(x)},className:`px-3 py-1.5 rounded-lg text-xs md:text-sm font-semibold transition ${i===x?"bg-yellow-600 text-white":"bg-black/30 text-yellow-300 hover:bg-black/40"}`,children:[r.jsx("span",{className:"mr-1",children:g}),x.charAt(0).toUpperCase()+x.slice(1)]},x))]})]}),d&&!n?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(_e,{className:"w-12 h-12 text-yellow-500 animate-pulse mx-auto mb-4"}),r.jsx("p",{className:"text-amber-300",children:"Carregando produtos msticos..."})]}):f.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Ia,{className:"w-16 h-16 text-amber-700 mx-auto mb-4"}),r.jsx("p",{className:"text-amber-300",children:"Nenhum produto disponvel"})]}):r.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3 md:gap-4 pb-6",children:f.map(x=>{const g=Ey[x.rarity]||Ey.common;return r.jsxs(q.button,{whileHover:{scale:1.03},whileTap:{scale:.98},onClick:y=>{y.stopPropagation(),s(x)},className:`relative bg-gradient-to-br ${g.bg} rounded-xl p-3 border-2 ${g.border} hover:shadow-2xl transition-all`,children:[x.image_url?r.jsx("div",{className:"relative mb-2 aspect-square rounded-lg overflow-hidden bg-black/30",children:r.jsx("img",{src:x.image_url,alt:x.name,className:"w-full h-full object-cover"})}):r.jsx("div",{className:"aspect-square bg-black/30 rounded-lg flex items-center justify-center text-4xl md:text-5xl mb-2",children:x.icon||T2[x.category]}),r.jsx(De,{className:`absolute top-1 right-1 ${g.text} bg-black/70 border ${g.border} capitalize text-[10px] px-1.5 py-0.5`,children:x.rarity}),r.jsx("h3",{className:"text-white font-bold text-xs md:text-sm mb-2 line-clamp-2 text-center leading-tight",children:x.name}),r.jsxs("div",{className:"flex items-center justify-center gap-1 bg-black/30 py-1.5 px-2 rounded-lg",children:[r.jsx(Gn,{className:"w-3 h-3 md:w-4 md:h-4 text-yellow-400"}),r.jsx("span",{className:"text-yellow-300 font-bold text-xs md:text-sm",children:x.price_ouros})]})]},x.id)})})]}),r.jsx(gt,{children:a&&r.jsx(q.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 z-50 bg-black/95 backdrop-blur-sm",onClick:x=>{x.stopPropagation(),s(null)},children:r.jsx("div",{className:"h-full overflow-y-auto",children:r.jsxs(q.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:x=>x.stopPropagation(),className:"min-h-full bg-gradient-to-br from-amber-950 to-amber-900 p-6",children:[r.jsxs("button",{onClick:()=>s(null),className:"mb-4 flex items-center gap-2 text-amber-300 hover:text-amber-200",children:[r.jsx(w1,{className:"w-5 h-5"}),r.jsx("span",{className:"text-sm font-semibold",children:"Voltar"})]}),r.jsxs("div",{className:"text-center mb-6",children:[a.image_url?r.jsx("img",{src:a.image_url,alt:a.name,className:"w-48 h-48 md:w-64 md:h-64 mx-auto rounded-2xl shadow-2xl object-cover mb-4"}):r.jsx("div",{className:"w-48 h-48 md:w-64 md:h-64 mx-auto rounded-2xl bg-black/30 flex items-center justify-center text-8xl md:text-9xl mb-4",children:a.icon||T2[a.category]}),r.jsx("h3",{className:"text-3xl md:text-4xl font-bold text-yellow-200 mb-2 font-serif",children:a.name}),r.jsx(De,{className:`${Ey[a.rarity].text} bg-black/50 border ${Ey[a.rarity].border} capitalize text-sm px-3 py-1`,children:a.rarity})]}),r.jsx("div",{className:"bg-black/30 rounded-xl p-4 md:p-6 mb-6 max-w-2xl mx-auto",children:r.jsx("p",{className:"text-amber-200 text-sm md:text-base leading-relaxed text-center",children:a.description})}),r.jsxs("div",{className:"max-w-2xl mx-auto mb-6",children:[r.jsxs("h4",{className:"text-yellow-300 font-bold text-lg mb-3 flex items-center gap-2",children:[r.jsx(_e,{className:"w-5 h-5"}),"O que este produto faz:"]}),r.jsx("div",{className:"bg-purple-900/30 border-2 border-purple-500/30 rounded-xl p-4",children:r.jsx("p",{className:"text-white font-semibold text-base md:text-lg",children:v(a)})})]}),r.jsxs("div",{className:"space-y-3 mb-6 max-w-2xl mx-auto",children:[a.effect_duration_hours>0&&r.jsxs("div",{className:"flex items-center gap-3 bg-black/20 p-4 rounded-lg",children:[r.jsx(Mr,{className:"w-6 h-6 text-blue-400 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-amber-400",children:"Durao"}),r.jsxs("p",{className:"text-white font-semibold",children:[a.effect_duration_hours," horas"]})]})]}),r.jsxs("div",{className:"flex items-center gap-3 bg-black/20 p-4 rounded-lg",children:[r.jsx(Gn,{className:"w-6 h-6 text-yellow-400 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-amber-400",children:"Preo"}),r.jsxs("p",{className:"text-yellow-300 font-bold text-xl",children:[a.price_ouros," Ouros"]})]})]})]}),r.jsx("div",{className:"max-w-2xl mx-auto",children:r.jsx(W,{onClick:()=>u.mutate(a),disabled:u.isPending||t.ouros<a.price_ouros,className:"w-full py-6 text-lg font-bold bg-gradient-to-r from-yellow-600 to-amber-600 hover:from-yellow-700 hover:to-amber-700 disabled:opacity-50",children:u.isPending?r.jsxs(r.Fragment,{children:[r.jsx(_e,{className:"w-5 h-5 mr-2 animate-spin"}),"Comprando..."]}):t.ouros<a.price_ouros?" Ouros Insuficientes":r.jsxs(r.Fragment,{children:[r.jsx(Rn,{className:"w-5 h-5 mr-2"}),"Comprar Agora"]})})})]})})})})]})})})}function JPe({isOpen:t,onClose:e,onShowMapLegend:n,onShowMysticalPoints:a,onShowTutorial:s,onToggleJoystick:i,showJoystick:o,onShowInventory:l,playersOnline:c,nearbyPlayers:d}){const u=Sn(),h=[{icon:Ts,label:"Mapa & Legenda",color:"from-blue-600 to-cyan-600",action:()=>{n(),e()}},{icon:_e,label:"Pontos Msticos",color:"from-purple-600 to-pink-600",action:()=>{a(),e()}},{icon:Fm,label:"Inventrio",color:"from-yellow-600 to-orange-600",action:()=>{l(),e()}},{icon:Ia,label:"Loja de Zamira",color:"from-amber-600 to-yellow-600",action:()=>{e()}},{icon:Da,label:"Chat Global",color:"from-green-600 to-emerald-600",action:()=>{u(ft("Chat"))}},{icon:xr,label:"Misses",color:"from-indigo-600 to-purple-600",action:()=>{u(ft("Missoes"))}},{icon:gr,label:"Arena",color:"from-red-600 to-pink-600",action:()=>{u(ft("ArenaHub"))}},{icon:B3,label:"Tutorial",color:"from-slate-600 to-slate-700",action:()=>{s(),e()}},{icon:JH,label:o?"Ocultar Joystick":"Mostrar Joystick",color:"from-teal-600 to-cyan-600",action:()=>{i(),e()}}];return r.jsx(gt,{children:t&&r.jsx(q.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[60] bg-black/80 backdrop-blur-sm",onClick:e,children:r.jsx(q.div,{initial:{x:-300},animate:{x:0},exit:{x:-300},transition:{type:"spring",damping:25},onClick:f=>f.stopPropagation(),className:"absolute left-0 top-0 bottom-0 w-80 max-w-[85vw] bg-gradient-to-b from-slate-900 to-slate-800 border-r border-purple-500/30 overflow-y-auto",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-2xl font-bold text-white",children:"Menu Mstico"}),r.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white transition",children:r.jsx(nt,{className:"w-6 h-6"})})]}),r.jsx("div",{className:"space-y-3 mb-6",children:h.map((f,v)=>{const x=f.icon;return r.jsxs(q.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:f.action,className:`w-full flex items-center gap-4 p-4 rounded-xl bg-gradient-to-r ${f.color} hover:opacity-90 transition shadow-lg`,children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-white/20 flex items-center justify-center",children:r.jsx(x,{className:"w-5 h-5 text-white"})}),r.jsx("span",{className:"text-white font-semibold text-left flex-1",children:f.label})]},v)})}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/30",children:[r.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"Viajantes Online"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Kn,{className:"w-5 h-5 text-green-400"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:c})]})]}),r.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/30",children:[r.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"Prximos de Voc"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Kn,{className:"w-5 h-5 text-purple-400"}),r.jsx("p",{className:"text-2xl font-bold text-green-400",children:d})]})]})]})]})})})})}const ot=48,uF=8,eTe=30,tTe=100,k2=8,hF=3,R2="mawemaster@gmail.com",Ao={lobby:{name:"Centro de Zamira",url:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/690e5f6f991e09e82bef3795/6d234581f_Mapadejogo2Dcom.png",width:20,height:20,spawnPoint:{x:9.5,y:9.5},minX:2,maxX:17,minY:2,maxY:17,collisionMap:[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1],[1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1],[1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1],[1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1],[1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1],[1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1],[1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1],[1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1],[1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1],[1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1],[1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1],[1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1],[1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1],[1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1],[1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1],[1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]],transitionZones:[{x:9.5,y:1.5,width:3,height:1,targetMap:"city",targetPos:{x:9.5,y:17},label:"Cidade Expandida"}]},city:{name:"Cidade de Zamira",url:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/690e5f6f991e09e82bef3795/710d92912_Mapadejogo2Dcom3.png",width:20,height:20,spawnPoint:{x:9.5,y:17},minX:1,maxX:18,minY:1,maxY:18,collisionMap:Array(20).fill(null).map((t,e)=>Array(20).fill(null).map((n,a)=>a===0||a===19||e===0||e===19?1:(e===0&&a>=8&&a<=11,0))),transitionZones:[{x:9.5,y:1,width:3,height:1,targetMap:"lobby",targetPos:{x:9.5,y:17},label:"Centro de Zamira"}]}},nTe="https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/690e5f6f991e09e82bef3795/a3f627646_imgi_2_337f3cf9e282bc41c87500e885414629.png",qa={name:"Welder",x:10.5,y:9,avatar:"",color:"#F59E0B",map:"lobby"},rTe=[{x:5,y:5,name:"Fonte da Sabedoria",emoji:"",map:"lobby"},{x:15,y:5,name:"Portal do Norte",emoji:"",map:"lobby"},{x:5,y:15,name:"Portal do Sul",emoji:"",map:"lobby"},{x:15,y:15,name:"Jardim Lunar",emoji:"",map:"lobby"}],mF={lobby:{"4,4":{x:15,y:15},"15,4":{x:4,y:15},"4,15":{x:15,y:4},"15,15":{x:4,y:4}},city:{}},O2={bruxa_natural:"#9333EA",sabio:"#F59E0B",guardiao_astral:"#3B82F6",xama:"#10B981",navegador_cosmico:"#8B5CF6",alquimista:"#6366F1",none:"#A855F7"},fF={bruxa_natural:"",sabio:"",guardiao_astral:"",xama:"",navegador_cosmico:"",alquimista:"",none:""};function aTe({user:t,onExit:e}){var Zt,nn,Xn,fa,br;const n=t;if(!(n!=null&&n.id))return null;const a=Sn();Li();const s=w.useRef(null),[i,o]=w.useState({x:9.5,y:9.5}),[l,c]=w.useState("down"),[d,u]=w.useState(!1),[h,f]=w.useState(null),[v,x]=w.useState([]),[g,y]=w.useState([]),[b,_]=w.useState(null),[j,S]=w.useState(!1),[C,E]=w.useState(!1),[P,T]=w.useState(null),[M,k]=w.useState(!1),[O,$]=w.useState(!1),[F,B]=w.useState(!1),[G,I]=w.useState(!1),[L,U]=w.useState(!0),[z,K]=w.useState(null),[V,Y]=w.useState(!1),[ee,se]=w.useState(!0),[pe,Pe]=w.useState(""),[xe,Ie]=w.useState(null),[fe,Ne]=w.useState(!1),[Le,re]=w.useState([]),[he,Ee]=w.useState("lobby"),[Xe,Ve]=w.useState(!1),[at,de]=w.useState(null),[Z,J]=w.useState({}),[ve,te]=w.useState(!1),[Te,Be]=w.useState(null),[ut,st]=w.useState({width:0,height:0}),[vt,Ft]=w.useState(!1),[on,Ge]=w.useState(!1),[Nn,ln]=w.useState(!1),[Qt,kt]=w.useState(null),[_t,an]=w.useState([]),[Cn,er]=w.useState(!0),sn=w.useRef(null),Je=w.useRef(Date.now()),ue=w.useRef(Date.now()),Ze=w.useRef({}),[tt,Kt]=w.useState(1),[Ut,Ln]=w.useState(null),[zn,vr]=w.useState(null),[Gr,cn]=w.useState(0),[Ur,yr]=w.useState("Iniciando..."),Ja=BPe({currentUser:n,otherPlayers:v,playerPos:i,proximityDistance:k2}),Aa=w.useCallback((ie,$e,ze,pt)=>Math.sqrt((ze-ie)**2+(pt-$e)**2),[]);w.useEffect(()=>{const ie=()=>{Y(window.innerWidth<768)};return ie(),window.addEventListener("resize",ie),()=>window.removeEventListener("resize",ie)},[]),w.useEffect(()=>{(()=>{const $e=Array.from({length:20}).map((ze,pt)=>({id:pt,initialX:Math.random()*100,initialY:Math.random()*100,duration:5+Math.random()*10,delay:Math.random()*5}));an($e)})()},[]),w.useEffect(()=>{const ie=()=>{const ze=new Date,pt=String(ze.getHours()).padStart(2,"0"),it=String(ze.getMinutes()).padStart(2,"0");Pe(`${pt}:${it}`)};ie();const $e=setInterval(ie,1e3);return()=>clearInterval($e)},[]),w.useEffect(()=>{const ie=setTimeout(()=>se(!1),4e3);return()=>clearTimeout(ie)},[]);const zs=w.useCallback((ie,$e)=>{const ze=Ao[he];if(!ze||!ze.collisionMap||ie<ze.minX||ie>ze.maxX||$e<ze.minY||$e>ze.maxY)return!1;const pt=Math.floor(ie),it=Math.floor($e);return it<0||it>=ze.height||pt<0||pt>=ze.width?!1:ze.collisionMap[it][pt]!==1},[he]),sl=w.useCallback(()=>({down:"S",up:"N",left:"W",right:"E"})[l]||"N",[l]);w.useEffect(()=>{let ie=!0;return(async()=>{try{console.log(" INICIANDO CARREGAMENTO COMPLETO"),yr("Carregando mapas..."),cn(10);const ze={};for(const[Dt,pa]of Object.entries(Ao))await new Promise(ps=>{const nr=new Image;nr.crossOrigin="anonymous",nr.onload=()=>{ze[Dt]=nr,console.log(` Mapa ${Dt} carregado`),ps()},nr.onerror=()=>{console.error(` Erro mapa ${Dt}`),ps()},nr.src=pa.url});if(!ie)return;J(ze),cn(20),yr("Carregando produtos...");const pt=await H.entities.MysticalProduct.filter({is_active:!0});if(!ie)return;Ln(pt),cn(30),yr("Carregando configuraes...");const it=await H.entities.ZamiraCitySettings.list();it.length>0&&ie&&vr(it[0]),cn(35),yr("Localizando voc...");const $t=await H.entities.ZamiraPosition.filter({user_id:n.id});let Jt="lobby";if($t.length>0){const Dt=$t[0];if(!ie)return;o({x:Dt.x,y:Dt.y}),c(Dt.direction||"down"),Ee(Dt.current_room||"lobby"),Jt=Dt.current_room||"lobby",await H.entities.ZamiraPosition.update(Dt.id,{is_online:!0})}else{const Dt=Ao[Jt].spawnPoint;if(!ie)return;o(Dt),Ee(Jt),await H.entities.ZamiraPosition.create({user_id:n.id,x:Dt.x,y:Dt.y,direction:"down",current_room:Jt,is_online:!0})}if(!ie)return;Ie(ze[Jt]),cn(50),yr("Carregando TODOS os jogadores online..."),console.log(" Buscando jogadores...");const Ct=await H.entities.ZamiraPosition.filter({is_online:!0},"-updated_date",500);console.log(` ${Ct.length} posies encontradas`);const pn=Ct.filter(Dt=>Dt.user_id&&Dt.user_id!==n.id);if(console.log(` ${pn.length} outros jogadores`),!ie)return;cn(60);const vn=[...new Set(pn.map(Dt=>Dt.user_id))].filter(Boolean);console.log(` ${vn.length} IDs nicos: ${vn.join(", ")}`),yr(`Carregando dados de ${vn.length} jogadores...`);const tr=10;for(let Dt=0;Dt<vn.length;Dt+=tr){const pa=vn.slice(Dt,Dt+tr);if(await Promise.all(pa.map(async nr=>{try{const kr=await H.entities.User.filter({id:nr});kr.length>0&&ie?(Ze.current[nr]=kr[0],console.log(` ${kr[0].display_name||kr[0].full_name} (${nr})`)):console.warn(` Usurio no encontrado: ${nr}`)}catch(kr){console.error(` Erro user ${nr}:`,kr)}})),!ie)return;const ps=60+Dt/vn.length*30;cn(Math.floor(ps))}if(!ie)return;cn(90);const ur=pn.filter(Dt=>Ze.current[Dt.user_id]).map(Dt=>({...Dt,user:Ze.current[Dt.user_id]}));if(console.log(` ${ur.length} jogadores PRONTOS`),!ie||(x(ur),cn(95),yr("Preparando ambiente..."),await new Promise(Dt=>setTimeout(Dt,500)),!ie))return;cn(100),setTimeout(()=>{ie&&(Ne(!0),console.log(" ZAMIRA TOTALMENTE CARREGADA!"))},300)}catch(ze){console.error(" Erro no carregamento:",ze),ie&&Ne(!0)}})(),()=>{ie=!1}},[n.id]),w.useEffect(()=>{Z[he]&&Ie(Z[he])},[he,Z]),w.useEffect(()=>{if(!fe)return;const ie=async()=>{try{const pt=(await H.entities.ZamiraPosition.filter({is_online:!0},"-updated_date",500)).filter(Ct=>Ct.user_id&&Ct.user_id!==n.id),it=pt.map(Ct=>Ct.user_id).filter(Ct=>!Ze.current[Ct]);it.length>0&&(console.log(` Carregando ${it.length} novos jogadores...`),await Promise.all(it.map(async Ct=>{try{const pn=await H.entities.User.filter({id:Ct});pn.length>0&&(Ze.current[Ct]=pn[0],console.log(` Novo: ${pn[0].display_name||pn[0].full_name}`))}catch(pn){console.error(` Erro ao carregar ${Ct}:`,pn)}})));const $t=pt.filter(Ct=>Ze.current[Ct.user_id]).map(Ct=>({...Ct,user:Ze.current[Ct.user_id]}));x($t);const Jt=$t.filter(Ct=>Ct.current_room!==he?!1:Aa(i.x,i.y,Ct.x,Ct.y)<=k2);y(Jt)}catch(ze){console.error(" Erro sync:",ze)}};ie();const $e=setInterval(ie,tTe);return()=>clearInterval($e)},[n.id,i,he,Aa,fe]);const di=w.useCallback(async(ie,$e,ze="down",pt=null)=>{var it;try{const $t=await H.entities.ZamiraPosition.filter({user_id:n.id}),Jt=pt||he,Ct=Math.floor(ie),pn=Math.floor($e),vn=`${Ct},${pn}`;if((it=mF[Jt])!=null&&it[vn]){window.playPortalSound&&window.playPortalSound();const tr=mF[Jt][vn];o({x:tr.x+.5,y:tr.y+.5}),f(null),ie=tr.x+.5,$e=tr.y+.5}$t.length>0?await H.entities.ZamiraPosition.update($t[0].id,{x:ie,y:$e,direction:ze,current_room:Jt,is_online:!0}):await H.entities.ZamiraPosition.create({user_id:n.id,x:ie,y:$e,direction:ze,current_room:Jt,is_online:!0})}catch($t){console.error("Erro ao salvar:",$t)}},[n.id,he]);w.useEffect(()=>{const ie=Aa(i.x,i.y,qa.x,qa.y);he===qa.map&&ie<=hF&&!O?k(!0):k(!1)},[i,O,Aa,he]),w.useEffect(()=>{const ie=Ao[he];if(ie){for(const $e of ie.transitionZones)if(Aa(i.x,i.y,$e.x,$e.y)<=1.5&&!Xe&&!ve){de($e),Ve(!0),f(null);break}}},[i,he,Xe,ve,Aa]);const Ad=async ie=>{if(Ve(!1),!ie||!at){de(null);return}window.playPortalSound&&window.playPortalSound(),Be(at),te(!0);const $e=at.targetMap;if(!Z[$e]&&Ao[$e]){const ze=new Image;ze.crossOrigin="anonymous",ze.src=Ao[$e].url,await new Promise(pt=>{ze.onload=()=>{J(it=>({...it,[$e]:ze})),pt()},ze.onerror=()=>pt()})}},yh=async()=>{Te&&(Ee(Te.targetMap),o(Te.targetPos),f(null),await di(Te.targetPos.x,Te.targetPos.y,l,Te.targetMap),te(!1),de(null),Be(null))},bh=w.useCallback(ie=>{Le.length<2||Le.forEach($e=>{const ze=(Date.now()-$e.timestamp)/2e3;if(ze>=1)return;const pt=(1-ze)*.7,it=(1-ze)*360,$t=6+(1-ze)*6,Jt=$e.x*ot,Ct=$e.y*ot;ie.fillStyle=`hsla(${it}, 100%, 60%, ${pt})`,ie.shadowColor=`hsl(${it}, 100%, 60%)`,ie.shadowBlur=15,ie.beginPath(),ie.arc(Jt+ot/2,Ct+ot/2,$t,0,Math.PI*2),ie.fill(),ie.shadowBlur=0})},[Le]),qs=w.useCallback((ie,$e,ze,pt,it=!1)=>{if(!pt)return;const $t=$e*ot,Jt=ze*ot,Ct=pt.email===R2,pn=Ct?25:22;ie.fillStyle="rgba(0, 0, 0, 0.4)",ie.beginPath(),ie.ellipse($t+ot/2,Jt+ot-2,Ct?18:16,6,0,0,Math.PI*2),ie.fill();const vn=O2[pt.archetype]||O2.none;if(Ja.isSpeaking[pt.id]||Ja.isSpeaking.local){const nr=Date.now()/200,kr=Math.sin(nr*5)*.4+.6;ie.strokeStyle=`rgba(34, 197, 94, ${kr})`,ie.lineWidth=6,ie.shadowColor="#22c55e",ie.shadowBlur=25,ie.beginPath(),ie.arc($t+ot/2,Jt+ot/2,pn+8,0,Math.PI*2),ie.stroke(),ie.shadowBlur=0}if(Ct){const nr=Date.now()/1e3,kr=Math.sin(nr*4)*.3+.7;ie.strokeStyle=`rgba(255, 215, 0, ${kr})`,ie.lineWidth=5,ie.shadowColor="rgba(255, 215, 0, 0.9)",ie.shadowBlur=25,ie.beginPath(),ie.arc($t+ot/2,Jt+ot/2,pn+7,0,Math.PI*2),ie.stroke(),ie.strokeStyle=`rgba(255, 255, 255, ${kr*.6})`,ie.lineWidth=2,ie.shadowBlur=35,ie.beginPath(),ie.arc($t+ot/2,Jt+ot/2,pn+10,0,Math.PI*2),ie.stroke(),ie.shadowBlur=0}if(ie.fillStyle=vn,ie.beginPath(),ie.arc($t+ot/2,Jt+ot/2,pn,0,Math.PI*2),ie.fill(),it&&!Ct&&(ie.strokeStyle="#fbbf24",ie.lineWidth=4,ie.beginPath(),ie.arc($t+ot/2,Jt+ot/2,pn+2,0,Math.PI*2),ie.stroke()),ie.save(),ie.beginPath(),ie.arc($t+ot/2,Jt+ot/2,pn-2,0,Math.PI*2),ie.clip(),pt.avatar_url){const nr=new Image;if(nr.crossOrigin="anonymous",nr.src=pt.avatar_url,nr.complete){const kr=(pn-2)*2;ie.drawImage(nr,$t+ot/2-kr/2,Jt+ot/2-kr/2,kr,kr)}else ie.fillStyle="white",ie.font="bold 18px Arial",ie.textAlign="center",ie.textBaseline="middle",ie.fillText((pt.display_name||pt.full_name||"U")[0].toUpperCase(),$t+ot/2,Jt+ot/2)}else ie.fillStyle="white",ie.font="bold 18px Arial",ie.textAlign="center",ie.textBaseline="middle",ie.fillText((pt.display_name||pt.full_name||"U")[0].toUpperCase(),$t+ot/2,Jt+ot/2);ie.restore();const ur=V?10:12,Dt=pt.display_name||pt.full_name||"Viajante",pa=fF[pt.archetype]||fF.none;ie.fillStyle="white",ie.strokeStyle="black",ie.lineWidth=3,ie.font=`bold ${ur}px Arial`,ie.textAlign="center";const ps=ie.measureText(Dt).width;ie.font=`${ur+2}px Arial`,ie.strokeText(pa,$t+ot/2-ps/2-10,Jt-10),ie.fillText(pa,$t+ot/2-ps/2-10,Jt-10),ie.font=`bold ${ur}px Arial`,ie.strokeText(Dt,$t+ot/2+5,Jt-10),ie.fillText(Dt,$t+ot/2+5,Jt-10),Ct&&(ie.fillStyle="#FFD700",ie.strokeStyle="black",ie.lineWidth=2,ie.font=`bold ${ur}px Arial`,ie.strokeText(" ADMIN",$t+ot/2,Jt-28),ie.fillText(" ADMIN",$t+ot/2,Jt-28)),ie.fillStyle="#fbbf24",ie.strokeStyle="black",ie.lineWidth=2,ie.font=`bold ${ur-2}px Arial`,ie.strokeText(`Nv ${pt.level||1}`,$t+ot/2,Jt+ot+16),ie.fillText(`Nv ${pt.level||1}`,$t+ot/2,Jt+ot+16),it||Aa(i.x,i.y,$e,ze)<=k2&&(ie.fillStyle="#4ade80",ie.beginPath(),ie.arc($t+ot-8,Jt+8,6,0,Math.PI*2),ie.fill(),ie.strokeStyle="white",ie.lineWidth=2,ie.stroke())},[Aa,V,i,Ja.isSpeaking]),Md=w.useCallback(ie=>{if(he!==qa.map)return;const $e=qa.x*ot,ze=qa.y*ot;ie.fillStyle="rgba(0, 0, 0, 0.4)",ie.beginPath(),ie.ellipse($e+ot/2,ze+ot-2,16,6,0,0,Math.PI*2),ie.fill(),ie.fillStyle=qa.color,ie.beginPath(),ie.arc($e+ot/2,ze+ot/2,22,0,Math.PI*2),ie.fill();const pt=Date.now()/1e3,it=Math.sin(pt*3)*.3+.7;ie.strokeStyle=`rgba(245, 158, 11, ${it})`,ie.lineWidth=3,ie.beginPath(),ie.arc($e+ot/2,ze+ot/2,26,0,Math.PI*2),ie.stroke(),ie.font="28px Arial",ie.textAlign="center",ie.textBaseline="middle",ie.fillText(qa.avatar,$e+ot/2,ze+ot/2);const $t=V?10:12;ie.fillStyle="white",ie.strokeStyle="black",ie.lineWidth=3,ie.font=`bold ${$t}px Arial`,ie.strokeText(qa.name,$e+ot/2,ze-10),ie.fillText(qa.name,$e+ot/2,ze-10)},[V,he]),ne=w.useCallback(ie=>{rTe.filter(ze=>ze.map===he).forEach(ze=>{const pt=ze.x*ot,it=ze.y*ot,$t=Date.now()/1e3,Jt=Math.sin($t*2)*.2+.8;ie.shadowColor="#A855F7",ie.shadowBlur=20,ie.font=`${24*Jt}px Arial`,ie.textAlign="center",ie.textBaseline="middle",ie.fillText(ze.emoji,pt+ot/2,it+ot/2),ie.shadowBlur=0})},[he]),ge=w.useCallback(ie=>{const $e=Ao[he];$e&&$e.transitionZones.forEach(ze=>{const pt=ze.x*ot,it=ze.y*ot,$t=Date.now()/1e3,Jt=Math.sin($t*2)*.3+.7,Ct=Math.sin($t*3)*8,pn="#A855F7";ie.save(),ie.translate(pt+ot/2,it+ot),ie.fillStyle=`rgba(168, 85, 247, ${Jt})`,ie.shadowColor=pn,ie.shadowBlur=20,ie.beginPath(),ie.moveTo(0,-40+Ct),ie.lineTo(-20,-10+Ct),ie.lineTo(-8,-10+Ct),ie.lineTo(-8,15+Ct),ie.lineTo(8,15+Ct),ie.lineTo(8,-10+Ct),ie.lineTo(20,-10+Ct),ie.closePath(),ie.fill(),ie.shadowBlur=0,ie.restore()})},[he]);w.useEffect(()=>{if(!fe)return;const ie=s.current;if(!ie)return;const $e=ie.getContext("2d");ie.width=window.innerWidth,ie.height=window.innerHeight-(V?140:120),st({width:ie.width,height:ie.height});const ze=()=>{if($e.clearRect(0,0,ie.width,ie.height),$e.fillStyle="#0a0a15",$e.fillRect(0,0,ie.width,ie.height),$e.save(),$e.translate(ie.width/2,ie.height/2),$e.scale(tt,tt),$e.translate(-(i.x*ot+ot/2),-(i.y*ot+ot/2)),xe){const it=Ao[he];$e.drawImage(xe,0,0,it.width*ot,it.height*ot)}if(n.email===R2&&bh($e),ne($e),ge($e),he===qa.map&&Md($e),v.filter(it=>it&&it.user&&it.current_room===he).forEach(it=>{qs($e,it.x,it.y,it.user,!1)}),qs($e,i.x,i.y,n,!0),h){const it=h.x*ot,$t=h.y*ot,Jt=Date.now()/1e3,Ct=Math.sin(Jt*4)*.3+.7;$e.strokeStyle=`rgba(168, 85, 247, ${Ct})`,$e.lineWidth=3,$e.setLineDash([5,5]),$e.beginPath(),$e.arc(it+ot/2,$t+ot/2,20,0,Math.PI*2),$e.stroke(),$e.setLineDash([])}$e.restore(),sn.current=requestAnimationFrame(ze)};return ze(),()=>{sn.current&&cancelAnimationFrame(sn.current)}},[fe,i,h,v,n,xe,qs,Md,ne,bh,ge,V,he,tt]),w.useEffect(()=>{if(n.email===R2&&d){const ie=Date.now();ie-(Je.current||0)>50&&re($e=>[...$e,{x:i.x,y:i.y,timestamp:ie}].filter(it=>ie-it.timestamp<2e3).slice(-30))}},[i,d,n.email]),w.useEffect(()=>{if(!h){u(!1);return}u(!0);const ie=setInterval(()=>{o($e=>{const ze=h.x-$e.x,pt=h.y-$e.y,it=Math.sqrt(ze*ze+pt*pt);if(it<.1)return f(null),u(!1),$e;const $t=ze/it*(uF/60),Jt=pt/it*(uF/60);Math.abs(ze)>Math.abs(pt)?c(ze>0?"right":"left"):c(pt>0?"down":"up");const Ct=$e.x+$t,pn=$e.y+Jt;if(zs(Ct,pn)){const vn=Date.now();vn-ue.current>300&&(window.playStepSound&&window.playStepSound(),ue.current=vn);const tr=Date.now();return tr-Je.current>eTe&&(di(Ct,pn,l),Je.current=tr),{x:Ct,y:pn}}return f(null),u(!1),$e})},16);return()=>clearInterval(ie)},[h,zs,di,l]);const Ae=ie=>{const $e=s.current;if(!$e)return;const ze=$e.getBoundingClientRect(),pt=ie.clientX-ze.left,it=ie.clientY-ze.top,$t=(pt-$e.width/2)/tt+(i.x*ot+ot/2),Jt=(it-$e.height/2)/tt+(i.y*ot+ot/2),Ct=$t/ot,pn=Jt/ot;if(he===qa.map){const ur=Ct-qa.x,Dt=pn-qa.y;if(Math.sqrt(ur*ur+Dt*Dt)<.8){Aa(i.x,i.y,qa.x,qa.y)<=hF&&($(!0),k(!1),window.playInteractSound&&window.playInteractSound());return}}const vn=v.filter(ur=>ur&&ur.user&&ur.current_room===he);let tr=null;for(const ur of vn){const Dt=Ct-ur.x,pa=pn-ur.y;if(Math.sqrt(Dt*Dt+pa*pa)<.8){tr=ur;break}}tr?(_(tr),S(!0)):zs(Ct,pn)&&f({x:Ct,y:pn})},ke=async()=>{b!=null&&b.user&&(S(!1),T(b.user),E(!0))},Se=async()=>{if(b!=null&&b.user)try{(await H.entities.Connection.filter({follower_id:n.id,following_id:b.user.id})).length===0&&(await H.entities.Connection.create({follower_id:n.id,follower_name:n.display_name||n.full_name,follower_avatar:n.avatar_url,following_id:b.user.id,following_name:b.user.display_name||b.user.full_name,following_avatar:b.user.avatar_url}),await H.entities.Notification.create({user_id:b.user.id,type:"follow",title:"Nova Conexo!",message:`${n.display_name||n.full_name} conectou-se com voc`,from_user_id:n.id,from_user_name:n.display_name||n.full_name,from_user_avatar:n.avatar_url})),S(!1)}catch(ie){console.error("Erro ao conectar:",ie)}},dt=()=>{kt(null),ln(!0)},Mt=ie=>{kt(ft(ie)),ln(!0)},Vt=async()=>{try{const ie=await H.entities.ZamiraPosition.filter({user_id:n.id});ie.length>0&&await H.entities.ZamiraPosition.update(ie[0].id,{is_online:!1})}catch(ie){console.error("Erro ao desconectar:",ie)}Qt?a(Qt):e&&e(),ln(!1),kt(null)};if(!fe)return r.jsx(qPe,{progress:Gr,currentTask:Ur});const ht=v.filter(ie=>ie&&ie.user&&ie.current_room===he),dn=[{icon:KH,label:"Incio",path:"Hub"},{icon:Fb,label:"Explorar",path:"Explorar"},{icon:Vr,label:"Portal",path:"Portais",special:!0},{icon:Da,label:"Chat",path:"Chat"},{icon:Gu,label:"Conta",path:"MinhaConta"}];return r.jsxs("div",{className:"fixed inset-0 z-50 bg-gradient-to-b from-[#0f0f1e] via-[#1a1a2e] to-[#0f0f1e]",children:[r.jsx(UPe,{isGameActive:!0,currentMap:he,onStepSound:!1,onPortalSound:!0,onConnectSound:!0,onCollectSound:!0,onInteractSound:!0,onSuccessSound:!0,onNotificationSound:!0}),r.jsxs(gt,{children:[ee&&r.jsx(sTe,{onClose:()=>se(!1)}),F&&r.jsx(JPe,{currentUser:n,onClose:()=>B(!1),onNavigate:Mt}),G&&r.jsx(iTe,{onClose:()=>I(!1)}),Cn&&g.length>0&&r.jsx(zPe,{webRTC:Ja,currentUser:n,nearbyPlayers:g,onClose:()=>er(!1)}),L&&r.jsx(QPe,{playerPos:i,currentMap:he,mapImages:Z,MAPS:Ao,TILE_SIZE:ot,otherPlayers:v,nearbyPlayers:g,minimapExpanded:on,setMinimapExpanded:Ge}),O&&r.jsx(ZPe,{currentUser:n,preloadedProducts:Ut,onClose:()=>$(!1)}),vt&&r.jsx(YPe,{currentUser:n,onClose:()=>Ft(!1)}),P&&C&&r.jsx(q.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50",onClick:()=>E(!1),children:r.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-xl border border-purple-600 w-full max-w-sm mx-4",onClick:ie=>ie.stopPropagation(),children:[r.jsxs("h3",{className:"text-2xl font-bold text-white mb-4 flex items-center justify-between",children:["Perfil de ",P.display_name||P.full_name,r.jsx(nt,{className:"w-6 h-6 cursor-pointer text-gray-400 hover:text-white",onClick:()=>E(!1)})]}),r.jsxs("div",{className:"flex flex-col items-center gap-4",children:[r.jsx(Lr,{user:P,size:"lg"}),r.jsxs("p",{className:"text-gray-300 text-center",children:["Arquetipo: ",r.jsx("span",{className:"font-bold",style:{color:O2[P.archetype]},children:((Zt=P.archetype)==null?void 0:Zt.replace(/_/g," ").toUpperCase())||"NO DEFINIDO"})]}),r.jsxs("p",{className:"text-gray-300 text-center",children:["Nvel: ",r.jsx("span",{className:"font-bold text-yellow-400",children:P.level||1})]})]}),r.jsx(W,{onClick:()=>E(!1),className:"mt-6 w-full bg-purple-600 hover:bg-purple-700",children:"Fechar"})]})}),b&&j&&r.jsx(q.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50",onClick:()=>S(!1),children:r.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-xl border border-purple-600 w-full max-w-sm mx-4",onClick:ie=>ie.stopPropagation(),children:[r.jsxs("h3",{className:"text-2xl font-bold text-white mb-4 flex items-center justify-between",children:[((nn=b.user)==null?void 0:nn.display_name)||((Xn=b.user)==null?void 0:Xn.full_name)||"Jogador",r.jsx(nt,{className:"w-6 h-6 cursor-pointer text-gray-400 hover:text-white",onClick:()=>S(!1)})]}),r.jsxs("div",{className:"flex flex-col gap-3",children:[r.jsxs(W,{onClick:ke,className:"bg-blue-600 hover:bg-blue-700",children:[r.jsx(Gu,{className:"w-4 h-4 mr-2"})," Ver Perfil"]}),((fa=b.user)==null?void 0:fa.id)!==n.id&&r.jsxs(W,{onClick:Se,className:"bg-green-600 hover:bg-green-700",children:[r.jsx(Hu,{className:"w-4 h-4 mr-2"})," Conectar"]}),r.jsx(W,{onClick:()=>S(!1),className:"bg-gray-600 hover:bg-gray-700",children:"Fechar"})]})]})}),Xe&&r.jsx(q.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50",children:r.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-xl border border-purple-600 w-full max-w-sm mx-4 text-center",children:[r.jsxs("h3",{className:"text-2xl font-bold text-white mb-4",children:["Entrar em ",at==null?void 0:at.label,"?"]}),r.jsxs("p",{className:"text-gray-300 mb-6",children:["Voc ser transportado para ",at==null?void 0:at.label,"."]}),r.jsxs("div",{className:"flex justify-around gap-4",children:[r.jsx(W,{onClick:()=>Ad(!0),className:"bg-green-600 hover:bg-green-700 flex-1",children:"Confirmar"}),r.jsx(W,{onClick:()=>Ad(!1),className:"bg-red-600 hover:bg-red-700 flex-1",children:"Cancelar"})]})]})}),ve&&r.jsx(VPe,{onComplete:yh}),Nn&&r.jsx(q.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50",children:r.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-xl border border-purple-600 w-full max-w-sm mx-4 text-center",children:[r.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Confirmar Sada"}),r.jsx("p",{className:"text-gray-300 mb-6",children:"Voc realmente deseja sair? Sua posio ser salva."}),r.jsxs("div",{className:"flex justify-around gap-4",children:[r.jsx(W,{onClick:Vt,className:"bg-green-600 hover:bg-green-700 flex-1",children:"Sair"}),r.jsx(W,{onClick:()=>ln(!1),className:"bg-red-600 hover:bg-red-700 flex-1",children:"Cancelar"})]})]})})]}),r.jsxs("div",{className:"fixed top-0 left-0 right-0 bg-slate-900/80 backdrop-blur-md border-b border-purple-500/20 p-2 md:p-3 z-40",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2 md:gap-3 flex-1 min-w-0",children:[r.jsx("button",{onClick:()=>B(!0),className:"relative w-10 h-10 md:w-12 md:h-12 rounded-full overflow-hidden flex-shrink-0 hover:scale-110 transition z-50",style:{background:"radial-gradient(circle, rgba(168,85,237,0.4) 0%, rgba(139,92,246,0.6) 50%, rgba(109,40,217,0.8) 100%)",boxShadow:"inset 0 2px 12px rgba(255,255,255,0.4), 0 0 25px rgba(168,85,237,0.6)",border:"3px solid rgba(168,85,237,0.7)"},children:r.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-10",children:r.jsx("img",{src:nTe,alt:"Menu",className:"w-6 h-6 md:w-8 md:h-8 object-contain drop-shadow-2xl"})})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h2",{className:"text-white font-bold text-xs sm:text-sm md:text-base lg:text-lg truncate",children:((br=Ao[he])==null?void 0:br.name)||"Zamira"}),!V&&r.jsxs("p",{className:"text-gray-400 text-xs flex items-center gap-1 md:gap-2",children:[r.jsx(Kn,{className:"w-3 h-3"}),ht.length+1," viajantes",g.length>0&&r.jsxs("span",{className:"text-green-400",children:[" ",g.length," prximos"]})]})]})]}),r.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[r.jsxs("button",{onClick:()=>Ft(!0),className:"px-3 md:px-4 py-1.5 md:py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg font-bold transition text-sm md:text-base flex items-center gap-2",children:[r.jsx(Fm,{className:"w-4 h-4 md:w-5 md:h-5"}),!V&&r.jsx("span",{children:"Inventrio"})]}),r.jsxs("div",{className:"flex items-center gap-1 md:gap-2 bg-slate-800/50 px-2 md:px-3 py-1 md:py-1.5 rounded-lg",children:[r.jsx(Mr,{className:"w-3 h-3 md:w-4 md:h-4 text-purple-400"}),r.jsx("span",{className:"text-white font-mono text-xs md:text-sm",children:pe})]}),!V&&r.jsxs("div",{className:"flex items-center gap-2 bg-slate-800/50 px-3 py-1.5 rounded-lg",children:[r.jsx(Fb,{className:"w-4 h-4 text-blue-400"}),r.jsx("span",{className:"text-white font-bold text-sm",children:sl()})]})]}),r.jsx("button",{onClick:dt,className:"px-3 md:px-4 py-1.5 md:py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg font-bold transition text-sm md:text-base ml-2",children:"Sair"})]}),V&&r.jsxs("div",{className:"mt-2 flex items-center justify-between text-xs",children:[r.jsxs("div",{className:"flex items-center gap-2 text-gray-300",children:[r.jsx(Kn,{className:"w-3 h-3"}),r.jsxs("span",{children:[ht.length+1," online"]}),g.length>0&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"text-gray-500",children:""}),r.jsxs("span",{className:"text-green-400",children:[g.length," prximos"]})]})]}),r.jsxs("button",{onClick:()=>I(!0),className:"flex items-center gap-1 text-purple-400 hover:text-purple-300",children:[r.jsx(B3,{className:"w-3 h-3"}),r.jsx("span",{children:"Ajuda"})]})]})]}),r.jsxs("div",{className:"relative",children:[r.jsx("canvas",{ref:s,onClick:Ae,className:`absolute top-[60px] md:top-[72px] left-0 right-0 ${V?"bottom-[140px]":"bottom-[60px]"} cursor-pointer`,style:{touchAction:"none"}}),ut.width>0&&r.jsx("div",{className:`absolute top-[60px] md:top-[72px] left-0 right-0 ${V?"bottom-[140px]":"bottom-[60px]"} pointer-events-none`,children:r.jsx(KPe,{currentMap:he,playerPos:i,canvasWidth:ut.width,canvasHeight:ut.height,tileSize:ot})})]}),r.jsx("div",{className:`absolute bottom-0 left-0 right-0 bg-slate-900/80 backdrop-blur-md border-t border-purple-500/20 ${V?"p-2":"p-3"} z-10`,children:r.jsxs("div",{className:"max-w-4xl mx-auto flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[r.jsx(_e,{className:`${V?"w-4 h-4":"w-5 h-5"} text-purple-400 flex-shrink-0`}),r.jsxs("p",{className:`text-white ${V?"text-xs":"text-sm"} truncate`,children:[r.jsx("span",{className:"font-bold",children:V?"Toque":"Clique"})," para mover",!V&&g.length>0&&r.jsxs("span",{className:"text-green-400 ml-2",children:[" ",g.length," prximos"]})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(W,{size:"sm",onClick:Ja.toggleMic,className:`${Ja.micEnabled?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"} gap-1`,children:[r.jsx(mo,{className:"w-4 h-4"}),!V&&r.jsx("span",{className:"text-xs",children:Ja.micEnabled?"ON":"OFF"})]}),r.jsxs(W,{size:"sm",onClick:Ja.toggleCamera,className:`${Ja.cameraEnabled?"bg-green-600 hover:bg-green-700":"bg-slate-600 hover:bg-slate-700"} gap-1`,children:[r.jsx(La,{className:"w-4 h-4"}),!V&&r.jsx("span",{className:"text-xs",children:Ja.cameraEnabled?"ON":"OFF"})]})]})]})}),r.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-50 backdrop-blur-xl border-t border-purple-900/30",style:{backgroundColor:"rgba(2, 3, 28, 0.98)"},children:r.jsx("div",{className:"flex items-center justify-around h-14 md:h-16 px-2 max-w-md mx-auto relative z-10",children:dn.map(ie=>{const $e=ie.icon;return ie.special?r.jsx(q.div,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center justify-center -mt-8 md:-mt-10",children:r.jsx("button",{onClick:()=>Mt(ie.path),className:"relative flex items-center justify-center w-14 h-14 md:w-16 md:h-16 rounded-full bg-gradient-to-br from-purple-600 via-purple-500 to-purple-700 shadow-xl",style:{borderWidth:"3px",borderColor:"#02031C"},children:r.jsx($e,{className:"w-6 h-6 md:w-7 md:h-7 text-white"})})},ie.path):r.jsxs("button",{onClick:()=>Mt(ie.path),className:"flex flex-col items-center gap-0.5 text-gray-400 hover:text-white transition",children:[r.jsx($e,{className:"w-5 h-5 md:w-6 md:h-6"}),r.jsx("span",{className:"text-[9px] md:text-[10px]",children:ie.label})]},ie.path)})})})]})}function sTe({onClose:t}){return r.jsx(q.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-80 flex justify-center items-center z-[100]",onClick:t,children:r.jsxs(q.div,{initial:{scale:.8,y:50},animate:{scale:1,y:0},exit:{scale:.8,y:50},className:"bg-gradient-to-br from-indigo-900 to-purple-900 p-8 rounded-2xl shadow-2xl border border-purple-500 m-4 max-w-lg w-full text-center relative",onClick:e=>e.stopPropagation(),children:[r.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-300 hover:text-white",children:r.jsx(nt,{size:24})}),r.jsx("div",{className:"text-6xl mb-4 animate-bounce",children:""}),r.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Bem-vindo(a)  Zamira!"}),r.jsx("p",{className:"text-purple-200 mb-6 text-lg",children:"Explore um mundo de magia e conexes reais."}),r.jsx(W,{onClick:t,className:"bg-purple-600 hover:bg-purple-700 text-white font-bold py-3 px-8 rounded-full text-lg",children:"Comear!"})]})})}function iTe({onClose:t}){return r.jsx(q.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-80 flex justify-center items-center z-[100]",onClick:t,children:r.jsxs(q.div,{initial:{scale:.8},animate:{scale:1},className:"bg-gradient-to-br from-blue-900 to-teal-900 p-8 rounded-2xl border border-blue-500 m-4 max-w-lg w-full text-center",onClick:e=>e.stopPropagation(),children:[r.jsx("div",{className:"text-6xl mb-4",children:""}),r.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Guia Rpido"}),r.jsxs("ul",{className:"text-blue-100 text-left mb-6 space-y-3 px-4",children:[r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx(ZH,{className:"w-6 h-6 text-blue-300 flex-shrink-0 mt-1"}),r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"Movimento:"})," Toque no mapa para mover"]})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx(mo,{className:"w-6 h-6 text-blue-300 flex-shrink-0 mt-1"}),r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"udio/Vdeo:"})," Automtico com jogadores prximos"]})]}),r.jsxs("li",{className:"flex items-start gap-3",children:[r.jsx(Kn,{className:"w-6 h-6 text-blue-300 flex-shrink-0 mt-1"}),r.jsxs("div",{children:[r.jsx("span",{className:"font-semibold",children:"Interao:"})," Clique em outros jogadores"]})]})]}),r.jsx(W,{onClick:t,className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-8 rounded-full",children:"Entendi!"})]})})}function XJ(){const[t,e]=w.useState(null),[n,a]=w.useState(!1),[s,i]=w.useState(0);w.useEffect(()=>{o(),l();const d=setInterval(l,5e3);return()=>clearInterval(d)},[]);const o=async()=>{try{const d=await H.auth.me();e(d)}catch(d){console.error("Erro ao carregar usurio:",d)}},l=async()=>{try{const d=await H.entities.ZamiraPosition.filter({is_online:!0});i(d.length)}catch(d){console.error("Erro ao carregar contagem:",d)}},c=()=>{a(!0)};return t?n?r.jsx("div",{className:"fixed inset-0 z-[9999] bg-black",children:r.jsx(aTe,{user:t,onExit:()=>{a(!1),l()}})}):r.jsx("div",{className:"min-h-screen bg-gradient-to-b from-[#0f0f1e] via-[#1a1a2e] to-[#0f0f1e]",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[r.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 rounded-full bg-gradient-to-br from-purple-600 to-pink-600 mb-6 shadow-2xl shadow-purple-500/50",children:r.jsx(Ts,{className:"w-12 h-12 text-white"})}),r.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold bg-gradient-to-r from-purple-400 via-pink-400 to-blue-400 bg-clip-text text-transparent mb-4",children:" Cidade de Zamira"}),r.jsx("p",{className:"text-gray-300 text-lg md:text-xl max-w-2xl mx-auto mb-6",children:"Explore o metaverso mstico, encontre outros viajantes e descubra segredos escondidos na cidade mgica"}),r.jsx("div",{className:"flex items-center justify-center gap-6 text-sm md:text-base",children:r.jsxs("div",{className:"flex items-center gap-2 bg-slate-800/50 px-4 py-2 rounded-full border border-purple-500/30",children:[r.jsx(Kn,{className:"w-5 h-5 text-green-400"}),r.jsx("span",{className:"text-white font-bold",children:s}),r.jsx("span",{className:"text-gray-400",children:"online agora"})]})})]}),r.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-12",children:[r.jsx(q.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},children:r.jsxs(X,{className:"bg-gradient-to-br from-purple-900/40 to-purple-800/40 border-purple-500/30 p-6 h-full",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-purple-600/30 flex items-center justify-center mb-4",children:r.jsx(Jue,{className:"w-6 h-6 text-purple-300"})}),r.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Movimento Livre"}),r.jsx("p",{className:"text-purple-200 text-sm",children:"Clique em qualquer lugar da tela para mover seu avatar. Explore a cidade sem limites!"})]})}),r.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:r.jsxs(X,{className:"bg-gradient-to-br from-pink-900/40 to-pink-800/40 border-pink-500/30 p-6 h-full",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-pink-600/30 flex items-center justify-center mb-4",children:r.jsx(Kn,{className:"w-6 h-6 text-pink-300"})}),r.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Multiplayer em Tempo Real"}),r.jsx("p",{className:"text-pink-200 text-sm",children:"Veja outros viajantes se movendo ao vivo. Encontre amigos e faa novas conexes msticas!"})]})}),r.jsx(q.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},children:r.jsxs(X,{className:"bg-gradient-to-br from-blue-900/40 to-blue-800/40 border-blue-500/30 p-6 h-full",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-600/30 flex items-center justify-center mb-4",children:r.jsx(Ts,{className:"w-6 h-6 text-blue-300"})}),r.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Mundo Vivo"}),r.jsx("p",{className:"text-blue-200 text-sm",children:"Descubra portais msticos, reas secretas e locais especiais espalhados pela cidade"})]})})]}),r.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-center",children:r.jsxs(X,{className:"bg-gradient-to-r from-purple-900/60 via-pink-900/60 to-blue-900/60 border-purple-500/50 p-8 md:p-12 relative overflow-hidden",children:[r.jsx(q.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent",animate:{x:["-200%","200%"]},transition:{duration:3,repeat:1/0,ease:"linear"}}),r.jsxs("div",{className:"relative z-10",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Pronto para Explorar?"}),r.jsx("p",{className:"text-gray-200 text-lg mb-8 max-w-2xl mx-auto",children:"Entre na Cidade de Zamira agora e comece sua jornada no metaverso mstico!"}),r.jsxs(W,{onClick:c,className:"bg-gradient-to-r from-purple-600 via-pink-600 to-blue-600 hover:from-purple-700 hover:via-pink-700 hover:to-blue-700 text-white font-bold text-lg px-8 py-6 rounded-xl shadow-2xl shadow-purple-500/50 hover:shadow-purple-500/70 transition-all duration-300",children:[r.jsx(Ts,{className:"w-6 h-6 mr-2"}),"Entrar na Cidade",r.jsx(mf,{className:"w-6 h-6 ml-2"})]}),r.jsx("p",{className:"text-gray-300 text-sm mt-4",children:" Seu avatar ser criado automaticamente com base no seu perfil"})]})]})}),r.jsxs(q.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"mt-12",children:[r.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white text-center mb-8",children:" Como Jogar"}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[r.jsx(X,{className:"bg-slate-900/50 border-purple-500/20 p-6",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-purple-600/30 flex items-center justify-center flex-shrink-0 text-white font-bold",children:"1"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-white font-bold mb-2",children:"Movimento"}),r.jsx("p",{className:"text-gray-300 text-sm",children:"Clique em qualquer ponto da tela para mover seu avatar. Seu personagem andar automaticamente at o local clicado."})]})]})}),r.jsx(X,{className:"bg-slate-900/50 border-purple-500/20 p-6",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-purple-600/30 flex items-center justify-center flex-shrink-0 text-white font-bold",children:"2"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-white font-bold mb-2",children:"Explorao"}),r.jsx("p",{className:"text-gray-300 text-sm",children:"Explore a cidade livremente! Descubra reas verdes, fontes de gua e portais msticos roxos."})]})]})}),r.jsx(X,{className:"bg-slate-900/50 border-purple-500/20 p-6",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-purple-600/30 flex items-center justify-center flex-shrink-0 text-white font-bold",children:"3"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-white font-bold mb-2",children:"Interao"}),r.jsx("p",{className:"text-gray-300 text-sm",children:"Veja outros jogadores em tempo real! Seus avatares aparecem com seus nomes e nveis acima da cabea."})]})]})}),r.jsx(X,{className:"bg-slate-900/50 border-purple-500/20 p-6",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-purple-600/30 flex items-center justify-center flex-shrink-0 text-white font-bold",children:"4"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-white font-bold mb-2",children:"Personalizao"}),r.jsx("p",{className:"text-gray-300 text-sm",children:"Seu avatar usa a cor do seu arqutipo mstico e exibe sua foto de perfil. Voc  nico!"})]})]})})]})]})]})}):r.jsx("div",{className:"min-h-screen bg-gradient-to-b from-[#0f0f1e] via-[#1a1a2e] to-[#0f0f1e] flex items-center justify-center",children:r.jsx(_e,{className:"w-12 h-12 text-purple-500 animate-pulse"})})}function YJ(){const[t,e]=w.useState(null),[n,a]=w.useState(null),[s,i]=w.useState(!1),o=wt();w.useEffect(()=>{l()},[]);const l=async()=>{const S=await H.auth.me();e(S)},{data:c=[]}=Oe({queryKey:["all-skins"],queryFn:async()=>await H.entities.Skin.filter({is_available:!0})||[]}),{data:d=[]}=Oe({queryKey:["user-skins",t==null?void 0:t.id],queryFn:async()=>t!=null&&t.id?await H.entities.UserSkin.filter({user_id:t.id})||[]:[],enabled:!!(t!=null&&t.id)}),{data:u=[]}=Oe({queryKey:["user-items",t==null?void 0:t.id],queryFn:async()=>t!=null&&t.id?await H.entities.InventoryItem.filter({user_id:t.id})||[]:[],enabled:!!(t!=null&&t.id)}),h=Ue({mutationFn:async S=>{const C=c.find(E=>E.id===S);if(!C)throw new Error("Skin no encontrada");if(t.ouros<C.price_ouros)throw new Error("Ouros insuficientes");return await H.auth.updateMe({ouros:t.ouros-C.price_ouros}),await H.entities.UserSkin.create({user_id:t.id,skin_id:S,is_equipped:!1,acquired_date:new Date().toISOString()}),C},onSuccess:S=>{o.invalidateQueries({queryKey:["user-skins"]}),qe.success(`Voc adquiriu ${S.name}! `),i(!1),l()},onError:S=>{qe.error(S.message||"Erro ao comprar skin")}}),f=Ue({mutationFn:async S=>{const C=await H.entities.UserSkin.filter({user_id:t.id});for(const P of C)P.is_equipped&&await H.entities.UserSkin.update(P.id,{is_equipped:!1});const E=d.find(P=>P.skin_id===S);E&&await H.entities.UserSkin.update(E.id,{is_equipped:!0})},onSuccess:()=>{o.invalidateQueries({queryKey:["user-skins"]}),qe.success("Skin equipada com sucesso! "),i(!1)}}),v=S=>{a(S),i(!0)};if(!t)return r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx(zt,{className:"w-12 h-12 text-purple-500 animate-spin"})});const x=new Set(d.map(S=>S.skin_id)),g=d.find(S=>S.is_equipped),y=c.filter(S=>x.has(S.id)),b=c.filter(S=>!x.has(S.id)),_=n?x.has(n.id):!1,j=n&&g?g.skin_id===n.id:!1;return r.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-[#0f0f1e] via-[#1a1a2e] to-[#0f0f1e] p-3 md:p-6 pb-24",children:[r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-4 md:mb-6",children:r.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-3 mb-2",children:[r.jsx("div",{className:"w-12 h-12 md:w-16 md:h-16 rounded-full bg-gradient-to-br from-purple-600 to-pink-600 flex items-center justify-center",children:r.jsx(Fm,{className:"w-6 h-6 md:w-8 md:h-8 text-white"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl md:text-4xl font-bold text-white",children:"Meu Inventrio"}),r.jsxs("p",{className:"text-sm md:text-base text-gray-400",children:[y.length+u.length," itens msticos coletados"]})]})]})}),r.jsxs($r,{defaultValue:"skins",className:"w-full",children:[r.jsxs(Tr,{className:"grid w-full grid-cols-3 bg-slate-900/50 mb-4 md:mb-6",children:[r.jsxs(xt,{value:"skins",className:"text-xs md:text-sm",children:[r.jsx(_e,{className:"w-3 h-3 md:w-4 md:h-4 mr-1 md:mr-2"}),"Minhas Skins"]}),r.jsxs(xt,{value:"loja",className:"text-xs md:text-sm",children:[r.jsx(Ia,{className:"w-3 h-3 md:w-4 md:h-4 mr-1 md:mr-2"}),"Loja de Skins"]}),r.jsxs(xt,{value:"items",className:"text-xs md:text-sm",children:[r.jsx(Fm,{className:"w-3 h-3 md:w-4 md:h-4 mr-1 md:mr-2"}),"Outros Itens"]})]}),r.jsx(et,{value:"skins",children:y.length===0?r.jsxs(X,{className:"bg-slate-900/50 border-purple-500/30 p-8 md:p-12 text-center",children:[r.jsx(_e,{className:"w-12 h-12 md:w-16 md:h-16 text-purple-500/50 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg md:text-xl font-bold text-purple-300 mb-2",children:"Nenhuma Skin Ainda"}),r.jsx("p",{className:"text-sm md:text-base text-gray-400 mb-4",children:"Visite a loja e adquira skins msticas para personalizar seu perfil"})]}):r.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3 md:gap-4",children:y.map(S=>r.jsx(GP,{skin:S,owned:!0,equipped:(g==null?void 0:g.skin_id)===S.id,onClick:()=>v(S)},S.id))})}),r.jsxs(et,{value:"loja",children:[r.jsxs("div",{className:"mb-4 md:mb-6 bg-gradient-to-r from-purple-900/30 to-pink-900/30 border border-purple-500/30 rounded-xl p-3 md:p-4",children:[r.jsx("h3",{className:"text-base md:text-lg font-bold text-purple-300 mb-2",children:" Loja Mstica de Skins"}),r.jsx("p",{className:"text-xs md:text-sm text-gray-400",children:"Adquira skins exclusivas para personalizar seu perfil mstico"})]}),b.length===0?r.jsxs(X,{className:"bg-slate-900/50 border-purple-500/30 p-8 md:p-12 text-center",children:[r.jsx(Ia,{className:"w-12 h-12 md:w-16 md:h-16 text-gray-600 mx-auto mb-4"}),r.jsx("p",{className:"text-sm md:text-base text-gray-400",children:"Voc j possui todas as skins disponveis! "})]}):r.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3 md:gap-4",children:b.map(S=>r.jsx(GP,{skin:S,owned:!1,equipped:!1,onClick:()=>v(S)},S.id))})]}),r.jsx(et,{value:"items",children:u.length===0?r.jsxs(X,{className:"bg-slate-900/50 border-purple-500/30 p-8 md:p-12 text-center",children:[r.jsx(Fm,{className:"w-12 h-12 md:w-16 md:h-16 text-gray-600 mx-auto mb-4"}),r.jsx("p",{className:"text-sm md:text-base text-gray-400",children:"Seu inventrio est vazio"})]}):r.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3 md:gap-4",children:u.map(S=>r.jsxs(X,{className:"bg-slate-900/50 border-purple-500/30 p-3 md:p-4 text-center",children:[r.jsx("div",{className:"text-3xl md:text-4xl mb-2",children:S.icon||""}),r.jsx("p",{className:"text-white font-bold text-xs md:text-sm truncate",children:S.name}),r.jsxs("p",{className:"text-gray-400 text-[10px] md:text-xs",children:["x",S.quantity||1]})]},S.id))})})]})]}),r.jsx(TJ,{skin:n,owned:_,equipped:j,isOpen:s,onClose:()=>{i(!1),a(null)},onBuy:()=>h.mutate(n.id),onEquip:()=>f.mutate(n.id),buying:h.isPending,equipping:f.isPending,userOuros:(t==null?void 0:t.ouros)||0})]})}function pF(){var g,y;const[t,e]=w.useState({totalUsers:0,onlineUsers:0,totalPosts:0,totalMessages:0,totalProducts:0,totalOrders:0,totalOuros:0,activeVoiceRooms:0}),{data:n}=Oe({queryKey:["admin-users"],queryFn:()=>H.entities.User.list("-created_date",1e3),refetchInterval:5e3}),{data:a}=Oe({queryKey:["admin-positions"],queryFn:()=>H.entities.ZamiraPosition.filter({is_online:!0}),refetchInterval:2e3}),{data:s}=Oe({queryKey:["admin-posts"],queryFn:()=>H.entities.Post.list("-created_date",100)}),{data:i}=Oe({queryKey:["admin-messages"],queryFn:()=>H.entities.DirectMessage.list("-created_date",100)}),{data:o}=Oe({queryKey:["admin-products"],queryFn:()=>H.entities.Product.list()}),{data:l}=Oe({queryKey:["admin-voice-rooms"],queryFn:()=>H.entities.VoiceRoom.filter({is_active:!0}),refetchInterval:3e3}),{data:c}=Oe({queryKey:["dashboard-orders"],queryFn:()=>H.entities.Order.list("-created_date",200)}),{data:d}=Oe({queryKey:["dashboard-subscriptions"],queryFn:()=>H.entities.User.filter({is_pro_subscriber:!0})});w.useEffect(()=>{if(n){const b=n.reduce((_,j)=>_+(j.ouros||0),0);e(_=>({..._,totalUsers:n.length,totalOuros:b}))}},[n]),w.useEffect(()=>{a&&e(b=>({...b,onlineUsers:a.length}))},[a]),w.useEffect(()=>{s&&e(b=>({...b,totalPosts:s.length}))},[s]),w.useEffect(()=>{i&&e(b=>({...b,totalMessages:i.length}))},[i]),w.useEffect(()=>{o&&e(b=>({...b,totalProducts:o.length}))},[o]),w.useEffect(()=>{l&&e(b=>({...b,activeVoiceRooms:l.length}))},[l]);const u=((g=c==null?void 0:c.filter(b=>b.status==="approved"))==null?void 0:g.reduce((b,_)=>b+(_.total||0),0))||0,h=((y=c==null?void 0:c.filter(b=>b.status==="approved"))==null?void 0:y.length)||0,f=(d==null?void 0:d.length)||0,v=f*29.9,x=[{label:"Usurios Totais",value:t.totalUsers,icon:Kn,color:"from-blue-500 to-blue-600",change:"+12% este ms"},{label:"Online Agora",value:t.onlineUsers,icon:On,color:"from-green-500 to-green-600",change:"Em tempo real"},{label:"Posts Publicados",value:t.totalPosts,icon:Pr,color:"from-purple-500 to-purple-600",change:"+23% esta semana"},{label:"Mensagens Enviadas",value:t.totalMessages,icon:Vr,color:"from-pink-500 to-pink-600",change:"+45% hoje"},{label:"Produtos Cadastrados",value:t.totalProducts,icon:Ia,color:"from-amber-500 to-amber-600",change:"Atualizado"},{label:"Conversas de Voz",value:t.activeVoiceRooms,icon:gr,color:"from-indigo-500 to-indigo-600",change:"Ativas agora"},{label:"Ouros no Sistema",value:t.totalOuros.toLocaleString(),icon:Bn,color:"from-yellow-500 to-yellow-600",change:"Total circulante"},{label:"Viajantes em Zamira",value:t.onlineUsers,icon:Ts,color:"from-teal-500 to-teal-600",change:"Explorando"},{label:"Vendas Aprovadas",value:`R$ ${u.toFixed(2)}`,icon:Ng,color:"from-green-500 to-green-600",change:`${h} pedidos`},{label:"Receita PRO/Ms",value:`R$ ${v.toFixed(2)}`,icon:Bn,color:"from-yellow-500 to-amber-600",change:`${f} assinantes`}];return r.jsxs("div",{className:"space-y-6 pb-20",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Dashboard"}),r.jsx("p",{className:"text-slate-600",children:"Viso geral do sistema em tempo real"})]}),r.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:x.map((b,_)=>{const j=b.icon;return r.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:_*.05},children:r.jsxs(X,{className:"bg-white border-slate-200 p-4 hover:shadow-lg transition",children:[r.jsx("div",{className:"flex items-start justify-between mb-3",children:r.jsx("div",{className:`w-10 h-10 rounded-lg bg-gradient-to-br ${b.color} flex items-center justify-center shadow-md`,children:r.jsx(j,{className:"w-5 h-5 text-white"})})}),r.jsx("p",{className:"text-2xl font-bold text-slate-900 mb-1",children:b.value}),r.jsx("p",{className:"text-sm text-slate-600 mb-2",children:b.label}),r.jsx(De,{variant:"outline",className:"text-xs text-slate-500 border-slate-300",children:b.change})]})},b.label)})}),r.jsxs(X,{className:"bg-white border-slate-200 p-6",children:[r.jsxs("h3",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[r.jsx(Ia,{className:"w-5 h-5 text-green-600"}),"Vendas Recentes"]}),r.jsx("div",{className:"space-y-3",children:c==null?void 0:c.slice(0,5).map((b,_)=>{var j;return r.jsxs(q.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:_*.1},className:"flex items-center gap-3 p-3 bg-slate-50 rounded-lg hover:bg-slate-100 transition",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-green-100 flex items-center justify-center",children:r.jsx(Ia,{className:"w-5 h-5 text-green-600"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-semibold text-slate-900 truncate",children:b.product_name}),r.jsxs("p",{className:"text-xs text-slate-500",children:["Quantidade: ",b.quantity]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"text-sm font-bold text-green-600",children:["R$ ",(j=b.total)==null?void 0:j.toFixed(2)]}),r.jsx(De,{className:`text-xs ${b.status==="approved"?"bg-green-100 text-green-800":b.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:b.status})]})]},b.id)})})]}),r.jsxs(X,{className:"bg-white border-slate-200 p-6",children:[r.jsxs("h3",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[r.jsx(On,{className:"w-5 h-5 text-purple-600"}),"Atividade Recente"]}),r.jsx("div",{className:"space-y-3",children:s==null?void 0:s.slice(0,5).map((b,_)=>{var j;return r.jsxs(q.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:_*.1},className:"flex items-center gap-3 p-3 bg-slate-50 rounded-lg hover:bg-slate-100 transition",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-purple-100 flex items-center justify-center",children:r.jsx(Pr,{className:"w-5 h-5 text-purple-600"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("p",{className:"text-sm font-semibold text-slate-900 truncate",children:[b.author_name," criou um post"]}),r.jsxs("p",{className:"text-xs text-slate-500 truncate",children:[(j=b.content)==null?void 0:j.substring(0,60),"..."]})]}),r.jsx(De,{variant:"outline",className:"text-xs",children:new Date(b.created_date).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]},b.id)})})]}),r.jsxs(X,{className:"bg-white border-slate-200 p-6",children:[r.jsxs("h3",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[r.jsx(Ts,{className:"w-5 h-5 text-teal-600"}),"Viajantes em Zamira (",(a==null?void 0:a.length)||0,")"]}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:a==null?void 0:a.slice(0,8).map(b=>{var _,j;return r.jsxs("div",{className:"flex items-center gap-2 p-2 bg-slate-50 rounded-lg",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-purple-600 to-pink-600 flex items-center justify-center text-white text-xs font-bold",children:(_=b.user_id)==null?void 0:_.substring(0,2).toUpperCase()}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("p",{className:"text-xs font-semibold text-slate-900 truncate",children:["Viajante #",(j=b.user_id)==null?void 0:j.substring(0,8)]}),r.jsx("p",{className:"text-[10px] text-slate-500",children:b.current_room||"lobby"})]})]},b.id)})})]})]})}function xF({searchQuery:t}){const[e,n]=w.useState(null),[a,s]=w.useState({}),[i,o]=w.useState(""),[l,c]=w.useState(null),[d,u]=w.useState(""),h=wt(),{data:f,isLoading:v}=Oe({queryKey:["admin-users-full"],queryFn:()=>H.entities.User.list("-created_date",1e3),refetchInterval:1e4}),x=Ue({mutationFn:async({userId:T,data:M})=>await H.entities.User.update(T,M),onSuccess:()=>{h.invalidateQueries({queryKey:["admin-users-full"]}),n(null),s({}),alert(" Usurio atualizado!")}}),g=Ue({mutationFn:async T=>await H.entities.User.delete(T),onSuccess:()=>{h.invalidateQueries({queryKey:["admin-users-full"]})}}),y=Ue({mutationFn:async({userId:T,message:M})=>(await H.functions.invoke("sendIndividualMessage",{userId:T,message:M})).data,onSuccess:()=>{alert(" Mensagem enviada!"),c(null),u("")}}),b=T=>{n(T.id),s({display_name:T.display_name||"",username:T.username||"",email:T.email||"",bio:T.bio||"",level:T.level||1,xp:T.xp||0,ouros:T.ouros||0,archetype:T.archetype||"none",mystical_title:T.mystical_title||"",pronouns:T.pronouns||"",relationship_status:T.relationship_status||"",is_pro_subscriber:T.is_pro_subscriber||!1,online_status:T.online_status||"offline",user_role:T.user_role||"user",is_active:T.is_active!==!1})},_=()=>{e&&x.mutate({userId:e,data:a})},j=T=>{confirm("Tem certeza que deseja deletar este usurio?")&&g.mutate(T)},S=()=>{l&&d.trim()&&y.mutate({userId:l.id,message:d})},C=(f==null?void 0:f.filter(T=>{var k,O,$,F;const M=(i||t||"").toLowerCase();return((k=T.email)==null?void 0:k.toLowerCase().includes(M))||((O=T.display_name)==null?void 0:O.toLowerCase().includes(M))||(($=T.full_name)==null?void 0:$.toLowerCase().includes(M))||((F=T.username)==null?void 0:F.toLowerCase().includes(M))}))||[];if(v)return r.jsxs("div",{className:"text-center py-12",children:[r.jsx(On,{className:"w-12 h-12 text-purple-600 animate-pulse mx-auto mb-4"}),r.jsx("p",{className:"text-slate-600",children:"Carregando usurios..."})]});const E={user:"Usurio",moderator:"Moderador",admin:"Administrador"},P={user:"bg-slate-100 text-slate-800",moderator:"bg-blue-100 text-blue-800",admin:"bg-yellow-100 text-yellow-800"};return r.jsxs("div",{className:"space-y-6 pb-20",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Gerenciar Usurios"}),r.jsxs("p",{className:"text-slate-600",children:[C.length," usurios"]})]})}),r.jsx(X,{className:"bg-white border-slate-200 p-4",children:r.jsxs("div",{className:"relative",children:[r.jsx($s,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),r.jsx(je,{value:i,onChange:T=>o(T.target.value),placeholder:"Buscar...",className:"pl-10 border-slate-300"})]})}),l&&r.jsxs(X,{className:"bg-gradient-to-br from-blue-50 to-purple-50 border-blue-300 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h3",{className:"text-lg font-bold text-slate-900 flex items-center gap-2",children:[r.jsx(Pr,{className:"w-5 h-5 text-blue-600"}),"Enviar Mensagem Individual"]}),r.jsx(W,{variant:"ghost",size:"icon",onClick:()=>c(null),children:r.jsx(nt,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"bg-white rounded-lg p-4 mb-4",children:[r.jsxs("p",{className:"text-sm text-slate-600",children:["Para: ",r.jsx("strong",{children:l.display_name||l.full_name})]}),r.jsx("p",{className:"text-xs text-slate-500",children:l.email})]}),r.jsx(It,{value:d,onChange:T=>u(T.target.value),placeholder:"Digite sua mensagem...",className:"mb-4 h-32"}),r.jsxs(W,{onClick:S,disabled:y.isPending,className:"bg-blue-600 hover:bg-blue-700 text-white",children:[r.jsx(Hr,{className:"w-4 h-4 mr-2"}),"Enviar"]})]}),r.jsx("div",{className:"space-y-4",children:r.jsx(gt,{children:C.map((T,M)=>{var O,$,F,B,G,I,L,U,z,K,V;const k=e===T.id;return r.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:M*.01},children:r.jsx(X,{className:"bg-white border-slate-200 p-4",children:k?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-slate-700 mb-1 block",children:"Nome"}),r.jsx(je,{value:a.display_name,onChange:Y=>s({...a,display_name:Y.target.value}),className:"text-sm"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-slate-700 mb-1 block",children:"Username"}),r.jsx(je,{value:a.username,onChange:Y=>s({...a,username:Y.target.value}),className:"text-sm"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-slate-700 mb-1 block",children:"Email"}),r.jsx(je,{value:a.email,onChange:Y=>s({...a,email:Y.target.value}),className:"text-sm"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-slate-700 mb-1 block",children:"Nvel"}),r.jsx(je,{type:"number",value:a.level,onChange:Y=>s({...a,level:parseInt(Y.target.value)}),className:"text-sm"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-slate-700 mb-1 block",children:"XP"}),r.jsx(je,{type:"number",value:a.xp,onChange:Y=>s({...a,xp:parseInt(Y.target.value)}),className:"text-sm"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-slate-700 mb-1 block",children:"Ouros"}),r.jsx(je,{type:"number",value:a.ouros,onChange:Y=>s({...a,ouros:parseInt(Y.target.value)}),className:"text-sm"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-slate-700 mb-1 block",children:"Pronomes"}),r.jsx(je,{value:a.pronouns,onChange:Y=>s({...a,pronouns:Y.target.value}),className:"text-sm"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-slate-700 mb-1 block",children:"Ttulo"}),r.jsx(je,{value:a.mystical_title,onChange:Y=>s({...a,mystical_title:Y.target.value}),className:"text-sm"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-slate-700 mb-1 block",children:"Status Online"}),r.jsxs("select",{value:a.online_status,onChange:Y=>s({...a,online_status:Y.target.value}),className:"w-full px-2 py-1.5 text-sm border border-slate-300 rounded-lg",children:[r.jsx("option",{value:"online",children:"Online"}),r.jsx("option",{value:"busy",children:"Ocupado"}),r.jsx("option",{value:"offline",children:"Offline"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-slate-700 mb-1 block",children:"Conta PRO"}),r.jsxs("select",{value:a.is_pro_subscriber?"true":"false",onChange:Y=>s({...a,is_pro_subscriber:Y.target.value==="true"}),className:"w-full px-2 py-1.5 text-sm border border-slate-300 rounded-lg",children:[r.jsx("option",{value:"false",children:"No"}),r.jsx("option",{value:"true",children:"Sim"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-slate-700 mb-1 block",children:"Permisso"}),r.jsxs("select",{value:a.user_role,onChange:Y=>s({...a,user_role:Y.target.value}),className:"w-full px-2 py-1.5 text-sm border border-slate-300 rounded-lg bg-yellow-50",children:[r.jsx("option",{value:"user",children:" Usurio"}),r.jsx("option",{value:"moderator",children:" Moderador"}),r.jsx("option",{value:"admin",children:" Administrador"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-slate-700 mb-1 block",children:"Conta Ativa"}),r.jsxs("select",{value:a.is_active?"true":"false",onChange:Y=>s({...a,is_active:Y.target.value==="true"}),className:"w-full px-2 py-1.5 text-sm border border-slate-300 rounded-lg",children:[r.jsx("option",{value:"true",children:" Ativa"}),r.jsx("option",{value:"false",children:" Desativada"})]})]}),r.jsxs("div",{className:"md:col-span-3",children:[r.jsx("label",{className:"text-xs font-medium text-slate-700 mb-1 block",children:"Bio"}),r.jsx(It,{value:a.bio,onChange:Y=>s({...a,bio:Y.target.value}),className:"text-sm",rows:2})]})]}),r.jsxs("div",{className:"bg-slate-50 rounded-lg p-4",children:[r.jsxs("h4",{className:"font-bold text-slate-900 mb-3 flex items-center gap-2",children:[r.jsx(XH,{className:"w-4 h-4"}),"Dados Completos do Perfil"]}),r.jsxs("div",{className:"grid md:grid-cols-3 gap-3 text-xs",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Nome Completo:"})," ",T.first_name," ",T.last_name]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Data Nascimento:"})," ",T.birth_date||"N/D"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Signo Solar:"})," ",T.sun_sign||"N/D"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Hora Nascimento:"})," ",T.birth_time||(T.birth_time_unknown?"Desconhecido":"N/D")]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Cidade Natal:"})," ",T.birth_city||"N/D"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Gnero:"})," ",T.gender||"N/D"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Orientao:"})," ",T.orientation||"N/D"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Relacionamento:"})," ",T.relationship_status||"N/D"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Perfil Completo:"})," ",T.profile_completed?" Sim":" No"]}),r.jsxs("div",{className:"md:col-span-3",children:[r.jsx("strong",{children:"No Zamira para:"})," ",(O=T.zamira_purpose)!=null&&O.length?T.zamira_purpose.join(", "):"N/D"]}),r.jsxs("div",{className:"md:col-span-3",children:[r.jsxs("strong",{children:["Crenas (",(($=T.beliefs)==null?void 0:$.length)||0,"):"]})," ",(F=T.beliefs)!=null&&F.length?T.beliefs.slice(0,5).join(", ")+(T.beliefs.length>5?"...":""):"N/D"]}),r.jsxs("div",{className:"md:col-span-3",children:[r.jsxs("strong",{children:["Hobbies (",((B=T.hobbies)==null?void 0:B.length)||0,"):"]})," ",(G=T.hobbies)!=null&&G.length?T.hobbies.slice(0,5).join(", ")+(T.hobbies.length>5?"...":""):"N/D"]})]})]}),r.jsxs("div",{className:"flex gap-2 justify-end",children:[r.jsxs(W,{variant:"outline",onClick:()=>n(null),className:"border-slate-300",children:[r.jsx(nt,{className:"w-4 h-4 mr-2"}),"Cancelar"]}),r.jsxs(W,{onClick:_,disabled:x.isPending,className:"bg-purple-600 hover:bg-purple-700 text-white",children:[r.jsx(oa,{className:"w-4 h-4 mr-2"}),"Salvar"]})]})]}):r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-purple-600 to-pink-600 flex items-center justify-center text-white font-bold text-lg",children:((L=(I=T.display_name)==null?void 0:I[0])==null?void 0:L.toUpperCase())||((z=(U=T.email)==null?void 0:U[0])==null?void 0:z.toUpperCase())||"U"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[r.jsx("p",{className:"font-bold text-slate-900",children:T.display_name||T.full_name||"Sem nome"}),T.is_pro_subscriber&&r.jsxs(De,{className:"bg-yellow-100 text-yellow-800",children:[r.jsx(Bn,{className:"w-3 h-3 mr-1"}),"PRO"]}),r.jsx(De,{className:P[T.user_role||"user"],children:E[T.user_role||"user"]}),T.is_active===!1&&r.jsx(De,{className:"bg-red-100 text-red-800",children:"Desativada"}),T.online_status==="online"&&r.jsx(De,{className:"bg-green-100 text-green-800",children:"Online"})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs text-slate-600",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(q3,{className:"w-3 h-3"}),T.email]}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Jn,{className:"w-3 h-3"}),"Nv ",T.level||1]}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Gn,{className:"w-3 h-3 text-yellow-600"}),T.ouros||0]})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(W,{variant:"outline",size:"icon",onClick:()=>c(T),className:"border-blue-300 text-blue-600",title:"Mensagem",children:r.jsx(Pr,{className:"w-4 h-4"})}),r.jsx(W,{variant:"outline",size:"icon",onClick:()=>b(T),className:"border-slate-300",children:r.jsx(io,{className:"w-4 h-4"})}),r.jsx(W,{variant:"outline",size:"icon",onClick:()=>j(T.id),className:"border-red-300 text-red-600",children:r.jsx(qr,{className:"w-4 h-4"})})]})]}),r.jsx("div",{className:"bg-slate-50 rounded-lg p-4 mt-3",children:r.jsxs("div",{className:"grid md:grid-cols-3 gap-2 text-xs",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Username:"})," ",T.username||"N/D"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Signo:"})," ",T.sun_sign||"N/D"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Pronomes:"})," ",T.pronouns||"N/D"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Arqutipo:"})," ",T.archetype||"none"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Ttulo:"})," ",T.mystical_title||"N/D"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"XP Total:"})," ",T.xp||0]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Crenas:"})," ",((K=T.beliefs)==null?void 0:K.length)||0," selecionadas"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Hobbies:"})," ",((V=T.hobbies)==null?void 0:V.length)||0," selecionados"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Perfil:"})," ",T.profile_completed?" Completo":" Incompleto"]})]})})]})})},T.id)})})})]})}function gF(){const[t,e]=w.useState(""),n=wt(),{data:a=[],isLoading:s}=Oe({queryKey:["admin-ravens"],queryFn:async()=>await H.asServiceRole.entities.Raven.list("-created_date",100),refetchInterval:5e3}),i=Ue({mutationFn:async l=>{await H.asServiceRole.entities.Raven.delete(l)},onSuccess:()=>{n.invalidateQueries({queryKey:["admin-ravens"]})}}),o=a.filter(l=>{var c,d,u;return((c=l==null?void 0:l.sender_name)==null?void 0:c.toLowerCase().includes(t.toLowerCase()))||((d=l==null?void 0:l.recipient_name)==null?void 0:d.toLowerCase().includes(t.toLowerCase()))||((u=l==null?void 0:l.message)==null?void 0:u.toLowerCase().includes(t.toLowerCase()))});return s?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(zt,{className:"w-8 h-8 text-purple-500 animate-spin"})}):r.jsxs("div",{children:[r.jsx("div",{className:"mb-6 flex items-center gap-3",children:r.jsxs("div",{className:"relative flex-1",children:[r.jsx($s,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),r.jsx(je,{value:t,onChange:l=>e(l.target.value),placeholder:"Buscar corvos...",className:"pl-10 bg-slate-800 border-purple-900/30 text-white"})]})}),r.jsx("div",{className:"space-y-4",children:o.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("img",{src:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/690e5f6f991e09e82bef3795/4332b5385_corvo.png",alt:"Nenhum corvo",className:"w-24 h-24 mx-auto mb-4 opacity-50"}),r.jsx("p",{className:"text-gray-400",children:"Nenhum corvo encontrado"})]}):o.map(l=>l?r.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:r.jsx(X,{className:"bg-slate-900/50 border-purple-500/30 p-4",children:r.jsxs("div",{className:"flex items-start justify-between gap-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx(Lr,{user:{avatar_url:l.sender_avatar||"",display_name:l.sender_name||"Viajante",full_name:l.sender_name||"Viajante"},size:"sm"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-white font-bold",children:l.sender_name||"Viajante"}),r.jsx(Hr,{className:"w-4 h-4 text-purple-400"}),r.jsx("span",{className:"text-white font-bold",children:l.recipient_name||"Viajante"})]}),r.jsx("span",{className:"text-xs text-gray-400",children:Qo(new Date(l.created_date),{addSuffix:!0,locale:jn})})]}),l.is_read?r.jsx(De,{className:"bg-green-900/30 text-green-400",children:"Lido"}):r.jsx(De,{className:"bg-purple-900/30 text-purple-400",children:"No lido"})]}),r.jsx("p",{className:"text-gray-300 text-sm mb-2 bg-slate-800/50 p-3 rounded-lg",children:l.message||""}),r.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[r.jsxs("span",{children:["ID: ",l.id]}),l.read_at&&r.jsxs("span",{children:[" Lido em: ",new Date(l.read_at).toLocaleString("pt-BR")]})]})]}),r.jsx(W,{onClick:()=>{confirm("Excluir este corvo?")&&i.mutate(l.id)},size:"sm",variant:"ghost",className:"text-red-400 hover:text-red-300 hover:bg-red-900/20",children:r.jsx(qr,{className:"w-4 h-4"})})]})})},l.id):null)})]})}function vF(){const[t,e]=w.useState(""),[n,a]=w.useState(null),[s,i]=w.useState(!1),[o,l]=w.useState(!1),[c,d]=w.useState(""),[u,h]=w.useState({}),f=wt(),{data:v,isLoading:x}=Oe({queryKey:["admin-posts-all"],queryFn:()=>H.entities.Post.list("-created_date",500),refetchInterval:5e3}),g=Ue({mutationFn:async O=>await H.entities.Post.delete(O),onSuccess:()=>{f.invalidateQueries({queryKey:["admin-posts-all"]})}}),y=Ue({mutationFn:async({postId:O,reactions:$})=>await H.entities.Post.update(O,{reactions:$}),onSuccess:()=>{f.invalidateQueries({queryKey:["admin-posts-all"]}),i(!1),h({}),a(null),alert(" Reaes atualizadas!")}}),b=Ue({mutationFn:async({postId:O,comment:$})=>{const F=v.find(B=>B.id===O);return await H.entities.Notification.create({user_id:F.author_id,type:"comment",title:" Novo Comentrio",message:"Admin Zamira comentou em seu post",from_user_id:"admin",from_user_name:"Admin Zamira",related_entity_type:"post",related_entity_id:O}),await H.entities.Post.update(O,{comments_count:(F.comments_count||0)+1})},onSuccess:()=>{f.invalidateQueries({queryKey:["admin-posts-all"]}),l(!1),d(""),a(null),alert(" Comentrio adicionado!")}}),_=(v==null?void 0:v.filter(O=>{var F,B;const $=t.toLowerCase();return((F=O.content)==null?void 0:F.toLowerCase().includes($))||((B=O.author_name)==null?void 0:B.toLowerCase().includes($))}))||[],j=O=>{confirm("Tem certeza que deseja deletar este post?")&&g.mutate(O)},S=O=>{a(O),h(O.reactions||{sparkle:0,crystal_ball:0,pray:0,fire:0,water:0}),i(!0)},C=O=>{a(O),l(!0)},E=(O,$)=>{h({...u,[O]:Math.max(0,(u[O]||0)+$)})},P=()=>{n&&y.mutate({postId:n.id,reactions:u})},T=()=>{n&&c.trim()&&b.mutate({postId:n.id,comment:c})},M=O=>O.reactions?Object.values(O.reactions).reduce(($,F)=>$+F,0):0,k={sparkle:"",crystal_ball:"",pray:"",fire:"",water:""};return r.jsxs("div",{className:"space-y-6 pb-20",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Gerenciar Posts"}),r.jsxs("p",{className:"text-slate-600",children:[_.length," posts encontrados"]})]}),r.jsx(X,{className:"bg-white border-slate-200 p-4",children:r.jsxs("div",{className:"relative",children:[r.jsx($s,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),r.jsx(je,{value:t,onChange:O=>e(O.target.value),placeholder:"Buscar posts...",className:"pl-10 border-slate-300"})]})}),r.jsx("div",{className:"space-y-4",children:x?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(On,{className:"w-12 h-12 text-purple-600 animate-pulse mx-auto mb-4"}),r.jsx("p",{className:"text-slate-600",children:"Carregando posts..."})]}):_.length===0?r.jsxs(X,{className:"bg-white border-slate-200 p-12 text-center",children:[r.jsx(li,{className:"w-12 h-12 text-slate-400 mx-auto mb-4"}),r.jsx("p",{className:"text-slate-600",children:"Nenhum post encontrado"})]}):_.map((O,$)=>{var F,B;return r.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:$*.02},children:r.jsx(X,{className:"bg-white border-slate-200 p-4 hover:shadow-md transition",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-purple-600 to-pink-600 flex items-center justify-center text-white font-bold",children:((B=(F=O.author_name)==null?void 0:F[0])==null?void 0:B.toUpperCase())||"U"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("p",{className:"font-bold text-slate-900",children:O.author_name}),O.author_level&&r.jsxs(De,{variant:"outline",className:"text-xs",children:["Nv ",O.author_level]}),r.jsx(De,{className:"bg-purple-100 text-purple-800 border-purple-300 capitalize text-xs",children:O.post_type||"simples"})]}),r.jsx("p",{className:"text-sm text-slate-700 mb-3 line-clamp-3",children:O.content}),O.images&&O.images.length>0&&r.jsx("div",{className:"flex gap-2 mb-3",children:O.images.slice(0,3).map((G,I)=>r.jsx("img",{src:G,alt:"",className:"w-20 h-20 rounded-lg object-cover"},I))}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-600",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx($n,{className:"w-4 h-4"}),M(O)]}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Pr,{className:"w-4 h-4"}),O.comments_count||0]}),r.jsx("span",{className:"text-xs text-slate-500",children:new Date(O.created_date).toLocaleString("pt-BR")})]})]}),r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsxs(W,{variant:"outline",size:"sm",onClick:()=>S(O),className:"border-purple-300 text-purple-600",children:[r.jsx(si,{className:"w-4 h-4 mr-2"}),"Magia"]}),r.jsxs(W,{variant:"outline",size:"sm",onClick:()=>C(O),className:"border-blue-300 text-blue-600",children:[r.jsx(Pr,{className:"w-4 h-4 mr-2"}),"Comentar"]}),r.jsx(W,{variant:"outline",size:"sm",onClick:()=>j(O.id),disabled:g.isPending,className:"border-red-300 text-red-600 hover:bg-red-50",children:r.jsx(qr,{className:"w-4 h-4"})})]})]})})},O.id)})}),s&&n&&r.jsx("div",{className:"fixed inset-0 z-[100] bg-black/60 flex items-center justify-center p-4",children:r.jsxs(X,{className:"bg-white max-w-md w-full p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h3",{className:"text-lg font-bold text-slate-900 flex items-center gap-2",children:[r.jsx(si,{className:"w-5 h-5 text-purple-600"}),"Controlar Reaes"]}),r.jsx(W,{variant:"ghost",size:"icon",onClick:()=>i(!1),children:r.jsx(nt,{className:"w-5 h-5"})})]}),r.jsx("div",{className:"space-y-3 mb-4",children:Object.entries(k).map(([O,$])=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[r.jsx("span",{className:"text-lg",children:$}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(W,{variant:"outline",size:"icon",onClick:()=>E(O,-1),className:"h-8 w-8",children:r.jsx(QH,{className:"w-4 h-4"})}),r.jsx("span",{className:"font-bold text-slate-900 w-12 text-center",children:u[O]||0}),r.jsx(W,{variant:"outline",size:"icon",onClick:()=>E(O,1),className:"h-8 w-8",children:r.jsx(_r,{className:"w-4 h-4"})})]})]},O))}),r.jsxs(W,{onClick:P,disabled:y.isPending,className:"w-full bg-purple-600 hover:bg-purple-700 text-white",children:[r.jsx(si,{className:"w-4 h-4 mr-2"}),"Aplicar Magia"]})]})}),o&&n&&r.jsx("div",{className:"fixed inset-0 z-[100] bg-black/60 flex items-center justify-center p-4",children:r.jsxs(X,{className:"bg-white max-w-md w-full p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h3",{className:"text-lg font-bold text-slate-900 flex items-center gap-2",children:[r.jsx(Pr,{className:"w-5 h-5 text-blue-600"}),"Adicionar Comentrio"]}),r.jsx(W,{variant:"ghost",size:"icon",onClick:()=>l(!1),children:r.jsx(nt,{className:"w-5 h-5"})})]}),r.jsx("div",{className:"bg-slate-50 p-3 rounded-lg mb-4",children:r.jsx("p",{className:"text-sm text-slate-700 line-clamp-2",children:n.content})}),r.jsx(It,{value:c,onChange:O=>d(O.target.value),placeholder:"Digite seu comentrio como Admin Zamira...",className:"mb-4 h-32"}),r.jsxs(W,{onClick:T,disabled:b.isPending||!c.trim(),className:"w-full bg-blue-600 hover:bg-blue-700 text-white",children:[r.jsx(Hr,{className:"w-4 h-4 mr-2"}),"Publicar Comentrio"]})]})})]})}function yF(){const[t,e]=w.useState(""),[n,a]=w.useState(null),[s,i]=w.useState(!1),[o,l]=w.useState({name:"",price:0,category:"",type:"Fsico",description:"",short_description:"",images:[],is_active:!0,stock:0}),c=wt(),{data:d,isLoading:u}=Oe({queryKey:["admin-products-all"],queryFn:()=>H.entities.Product.list("-created_date",200),refetchInterval:1e4}),h=Ue({mutationFn:async j=>n?await H.entities.Product.update(n.id,j):await H.entities.Product.create(j),onSuccess:()=>{c.invalidateQueries({queryKey:["admin-products-all"]}),a(null),i(!1),l({name:"",price:0,category:"",type:"Fsico",description:"",short_description:"",images:[],is_active:!0,stock:0}),alert(" Produto salvo com sucesso!")}}),f=Ue({mutationFn:async j=>await H.entities.Product.delete(j),onSuccess:()=>{c.invalidateQueries({queryKey:["admin-products-all"]})}}),v=j=>{a(j),l({name:j.name||"",price:j.price||0,category:j.category||"",type:j.type||"Fsico",description:j.description||"",short_description:j.short_description||"",images:j.images||[],is_active:j.is_active!==!1,stock:j.stock||0}),i(!0)},x=()=>{if(!o.name||!o.category){alert("Nome e categoria so obrigatrios");return}h.mutate(o)},g=j=>{confirm("Tem certeza que deseja deletar este produto?")&&f.mutate(j)},y=async j=>{const S=j.target.files[0];if(S)try{const{file_url:C}=await H.integrations.Core.UploadFile({file:S});l({...o,images:[...o.images,C]}),alert(" Imagem adicionada!")}catch(C){alert("Erro ao fazer upload: "+C.message)}},b=j=>{const S=o.images.filter((C,E)=>E!==j);l({...o,images:S})},_=(d==null?void 0:d.filter(j=>{var C,E;const S=t.toLowerCase();return((C=j.name)==null?void 0:C.toLowerCase().includes(S))||((E=j.category)==null?void 0:E.toLowerCase().includes(S))}))||[];return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Gerenciar Produtos"}),r.jsxs("p",{className:"text-slate-600",children:[_.length," produtos encontrados"]})]}),r.jsxs(W,{onClick:()=>{i(!0),a(null),l({name:"",price:0,category:"",type:"Fsico",description:"",short_description:"",images:[],is_active:!0,stock:0})},className:"bg-purple-600 hover:bg-purple-700 text-white",children:[r.jsx(_r,{className:"w-4 h-4 mr-2"}),"Novo Produto"]})]}),r.jsx(X,{className:"bg-white border-slate-200 p-4",children:r.jsxs("div",{className:"relative",children:[r.jsx($s,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),r.jsx(je,{value:t,onChange:j=>e(j.target.value),placeholder:"Buscar produtos...",className:"pl-10 border-slate-300"})]})}),s&&r.jsxs(X,{className:"bg-gradient-to-br from-purple-50 to-blue-50 border-purple-300 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-bold text-slate-900",children:n?"Editar Produto":"Novo Produto"}),r.jsx(W,{variant:"ghost",size:"icon",onClick:()=>i(!1),children:r.jsx(nt,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-slate-700 mb-1 block",children:"Nome"}),r.jsx(je,{value:o.name,onChange:j=>l({...o,name:j.target.value}),className:"border-slate-300"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-slate-700 mb-1 block",children:"Preo (R$)"}),r.jsx(je,{type:"number",step:"0.01",value:o.price,onChange:j=>l({...o,price:parseFloat(j.target.value)}),className:"border-slate-300"})]})]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-slate-700 mb-1 block",children:"Categoria"}),r.jsx(je,{value:o.category,onChange:j=>l({...o,category:j.target.value}),className:"border-slate-300"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-slate-700 mb-1 block",children:"Estoque"}),r.jsx(je,{type:"number",value:o.stock,onChange:j=>l({...o,stock:parseInt(j.target.value)}),className:"border-slate-300"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-slate-700 mb-1 block",children:"Descrio Curta"}),r.jsx(je,{value:o.short_description,onChange:j=>l({...o,short_description:j.target.value}),className:"border-slate-300"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-slate-700 mb-1 block",children:"Descrio Completa"}),r.jsx(It,{value:o.description,onChange:j=>l({...o,description:j.target.value}),className:"border-slate-300 h-32"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-slate-700 mb-2 block",children:"Imagens do Produto"}),r.jsx("div",{className:"flex flex-wrap gap-3 mb-3",children:o.images.map((j,S)=>r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:j,className:"w-24 h-24 object-cover rounded border-2 border-slate-300"}),r.jsx("button",{onClick:()=>b(S),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center",children:r.jsx(nt,{className:"w-4 h-4"})})]},S))}),r.jsx("input",{type:"file",accept:"image/*",onChange:y,className:"w-full text-sm file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:bg-purple-50 file:text-purple-700"})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:o.is_active,onChange:j=>l({...o,is_active:j.target.checked})}),r.jsx("span",{className:"text-sm",children:"Produto Ativo"})]}),r.jsxs("select",{value:o.type,onChange:j=>l({...o,type:j.target.value}),className:"px-3 py-2 border border-slate-300 rounded-lg",children:[r.jsx("option",{value:"Fsico",children:"Fsico"}),r.jsx("option",{value:"Digital",children:"Digital"})]})]}),r.jsxs("div",{className:"flex gap-2 justify-end",children:[r.jsx(W,{variant:"outline",onClick:()=>i(!1),className:"border-slate-300",children:"Cancelar"}),r.jsxs(W,{onClick:x,disabled:h.isPending,className:"bg-purple-600 hover:bg-purple-700 text-white",children:[r.jsx(oa,{className:"w-4 h-4 mr-2"}),"Salvar Produto"]})]})]})]}),r.jsx("div",{className:"space-y-4",children:u?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(On,{className:"w-12 h-12 text-purple-600 animate-pulse mx-auto mb-4"}),r.jsx("p",{className:"text-slate-600",children:"Carregando produtos..."})]}):_.length===0?r.jsxs(X,{className:"bg-white border-slate-200 p-12 text-center",children:[r.jsx(Ia,{className:"w-12 h-12 text-slate-400 mx-auto mb-4"}),r.jsx("p",{className:"text-slate-600",children:"Nenhum produto encontrado"})]}):_.map((j,S)=>{var C,E,P;return r.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:S*.02},children:r.jsx(X,{className:"bg-white border-slate-200 p-4 hover:shadow-md transition",children:r.jsxs("div",{className:"flex items-center gap-4",children:[((C=j.images)==null?void 0:C[0])&&r.jsx("img",{src:j.images[0],alt:j.name,className:"w-16 h-16 rounded-lg object-cover"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("p",{className:"font-bold text-slate-900",children:j.name}),j.is_active!==!1?r.jsx(De,{className:"bg-green-100 text-green-800 border-green-300",children:"Ativo"}):r.jsx(De,{className:"bg-gray-100 text-gray-800 border-gray-300",children:"Inativo"})]}),r.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm text-slate-600",children:[r.jsx(De,{variant:"outline",className:"text-xs",children:j.category}),r.jsxs("span",{className:"font-bold text-purple-600",children:["R$ ",(E=j.price)==null?void 0:E.toFixed(2)]}),r.jsxs("span",{children:["Estoque: ",j.stock||0]}),r.jsxs("span",{className:"text-xs text-slate-500",children:[j.sales_count||0," vendas"]}),r.jsxs("span",{className:"text-xs text-slate-500",children:[((P=j.images)==null?void 0:P.length)||0," imagens"]})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(W,{variant:"outline",size:"icon",onClick:()=>v(j),className:"border-slate-300",children:r.jsx(io,{className:"w-4 h-4"})}),r.jsx(W,{variant:"outline",size:"icon",onClick:()=>g(j.id),className:"border-red-300 text-red-600 hover:bg-red-50",children:r.jsx(qr,{className:"w-4 h-4"})})]})]})})},j.id)})})]})}function bF(){const[t,e]=w.useState(""),[n,a]=w.useState(null),[s,i]=w.useState(0),o=wt(),{data:l,isLoading:c}=Oe({queryKey:["admin-economy-users"],queryFn:()=>H.entities.User.list("-ouros",500)}),d=Ue({mutationFn:async({userEmail:x,amount:g})=>(await H.functions.invoke("addOurosToUser",{userEmail:x,ourosAmount:g})).data,onSuccess:x=>{o.invalidateQueries({queryKey:["admin-economy-users"]}),alert(`${x.amountAdded} ouros adicionados com sucesso!`),a(null),i(0)},onError:x=>{alert("Erro ao adicionar ouros: "+x.message)}}),u=()=>{n&&s!==0&&d.mutate({userEmail:n.email,amount:s})},h=(l==null?void 0:l.filter(x=>{var y,b;const g=t.toLowerCase();return((y=x.email)==null?void 0:y.toLowerCase().includes(g))||((b=x.display_name)==null?void 0:b.toLowerCase().includes(g))}))||[],f=(l==null?void 0:l.reduce((x,g)=>x+(g.ouros||0),0))||0,v=l!=null&&l.length?Math.floor(f/l.length):0;return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Gerenciar Economia"}),r.jsx("p",{className:"text-slate-600",children:"Controle total da moeda do sistema"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(X,{className:"bg-white border-slate-200 p-4",children:r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-yellow-500 to-amber-600 flex items-center justify-center",children:r.jsx(Gn,{className:"w-5 h-5 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-slate-900",children:f.toLocaleString()}),r.jsx("p",{className:"text-sm text-slate-600",children:"Ouros no Sistema"})]})]})}),r.jsx(X,{className:"bg-white border-slate-200 p-4",children:r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center",children:r.jsx(Jn,{className:"w-5 h-5 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-slate-900",children:v.toLocaleString()}),r.jsx("p",{className:"text-sm text-slate-600",children:"Mdia por Usurio"})]})]})}),r.jsx(X,{className:"bg-white border-slate-200 p-4",children:r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-purple-500 to-purple-600 flex items-center justify-center",children:r.jsx(Kn,{className:"w-5 h-5 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-slate-900",children:(l==null?void 0:l.length)||0}),r.jsx("p",{className:"text-sm text-slate-600",children:"Usurios Totais"})]})]})})]}),n&&r.jsxs(X,{className:"bg-gradient-to-br from-amber-50 to-yellow-50 border-amber-300 p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx(Gn,{className:"w-6 h-6 text-amber-600"}),r.jsx("h3",{className:"text-lg font-bold text-amber-900",children:"Adicionar/Remover Ouros"})]}),r.jsxs("div",{className:"flex items-end gap-3 mb-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("label",{className:"text-sm font-medium text-amber-900 mb-1 block",children:"Usurio Selecionado"}),r.jsx(je,{value:n.display_name||n.email,disabled:!0,className:"border-amber-300 bg-white"})]}),r.jsxs("div",{className:"w-48",children:[r.jsx("label",{className:"text-sm font-medium text-amber-900 mb-1 block",children:"Quantidade"}),r.jsx(je,{type:"number",value:s,onChange:x=>i(parseInt(x.target.value)||0),placeholder:"Ex: 1000 ou -500",className:"border-amber-300"})]}),r.jsxs(W,{onClick:u,disabled:d.isPending||s===0,className:"bg-amber-600 hover:bg-amber-700 text-white",children:[r.jsx(Hr,{className:"w-4 h-4 mr-2"}),"Aplicar"]}),r.jsx(W,{variant:"outline",onClick:()=>{a(null),i(0)},className:"border-amber-300",children:"Cancelar"})]}),r.jsx("p",{className:"text-xs text-amber-700",children:" Use nmeros positivos para adicionar e negativos para remover ouros"})]}),r.jsx(X,{className:"bg-white border-slate-200 p-4",children:r.jsxs("div",{className:"relative",children:[r.jsx($s,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),r.jsx(je,{value:t,onChange:x=>e(x.target.value),placeholder:"Buscar usurios...",className:"pl-10 border-slate-300"})]})}),r.jsx("div",{className:"space-y-3",children:c?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(On,{className:"w-12 h-12 text-purple-600 animate-pulse mx-auto mb-4"}),r.jsx("p",{className:"text-slate-600",children:"Carregando dados..."})]}):h.map((x,g)=>{var y,b,_,j;return r.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:g*.01},children:r.jsx(X,{className:`bg-white border-slate-200 p-4 hover:shadow-md transition cursor-pointer ${(n==null?void 0:n.id)===x.id?"ring-2 ring-amber-500":""}`,onClick:()=>a(x),children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-purple-600 to-pink-600 flex items-center justify-center text-white font-bold",children:((b=(y=x.display_name)==null?void 0:y[0])==null?void 0:b.toUpperCase())||((j=(_=x.email)==null?void 0:_[0])==null?void 0:j.toUpperCase())}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-bold text-slate-900",children:x.display_name||x.full_name}),r.jsx("p",{className:"text-sm text-slate-600",children:x.email})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[r.jsx(Gn,{className:"w-4 h-4 text-yellow-600"}),r.jsx("p",{className:"font-bold text-lg text-slate-900",children:(x.ouros||0).toLocaleString()})]}),r.jsxs(De,{variant:"outline",className:"text-xs",children:["Nv ",x.level||1]})]})]})})},x.id)})})]})}function wF(){var j;const{data:t}=Oe({queryKey:["analytics-users"],queryFn:()=>H.entities.User.list("-created_date",1e3)}),{data:e}=Oe({queryKey:["analytics-posts"],queryFn:()=>H.entities.Post.list("-created_date",500)}),{data:n}=Oe({queryKey:["analytics-messages"],queryFn:()=>H.entities.DirectMessage.list("-created_date",1e3)}),{data:a}=Oe({queryKey:["analytics-products"],queryFn:()=>H.entities.Product.list()}),{data:s}=Oe({queryKey:["analytics-positions"],queryFn:()=>H.entities.ZamiraPosition.filter({is_online:!0}),refetchInterval:5e3}),{data:i}=Oe({queryKey:["analytics-duels"],queryFn:()=>H.entities.Duel.list("-created_date",200)}),o=(t==null?void 0:t.length)||0,l=(s==null?void 0:s.length)||0,c=(e==null?void 0:e.length)||0,d=(n==null?void 0:n.length)||0,u=(a==null?void 0:a.length)||0,h=(i==null?void 0:i.length)||0,f=((j=t==null?void 0:t.filter(S=>S.is_pro_subscriber))==null?void 0:j.length)||0,v=o>0?(f/o*100).toFixed(1):0,x=(t==null?void 0:t.reduce((S,C)=>S+(C.ouros||0),0))||0,g=t!=null&&t.length?(t.reduce((S,C)=>S+(C.level||1),0)/t.length).toFixed(1):0,y=(e==null?void 0:e.reduce((S,C)=>{const E=C.post_type||"simples";return S[E]=(S[E]||0)+1,S},{}))||{},b=(t==null?void 0:t.reduce((S,C)=>{const E=C.archetype||"none";return S[E]=(S[E]||0)+1,S},{}))||{},_=[{label:"Taxa de Converso PRO",value:`${v}%`,subtext:`${f} de ${o} usurios`,icon:Bn,color:"from-yellow-500 to-amber-600"},{label:"Engajamento Mdio",value:c>0?`${(d/c*100).toFixed(0)}%`:"0%",subtext:"Mensagens por post",icon:Jn,color:"from-green-500 to-emerald-600"},{label:"Nvel Mdio",value:g,subtext:"Progresso geral",icon:On,color:"from-purple-500 to-purple-600"},{label:"Taxa Online",value:o>0?`${(l/o*100).toFixed(1)}%`:"0%",subtext:`${l} online agora`,icon:Kn,color:"from-blue-500 to-blue-600"}];return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Analytics Avanado"}),r.jsx("p",{className:"text-slate-600",children:"Mtricas e insights do sistema"})]}),r.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:_.map((S,C)=>{const E=S.icon;return r.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:C*.05},children:r.jsxs(X,{className:"bg-white border-slate-200 p-4",children:[r.jsx("div",{className:`w-10 h-10 rounded-lg bg-gradient-to-br ${S.color} flex items-center justify-center mb-3`,children:r.jsx(E,{className:"w-5 h-5 text-white"})}),r.jsx("p",{className:"text-2xl font-bold text-slate-900 mb-1",children:S.value}),r.jsx("p",{className:"text-sm text-slate-600 mb-1",children:S.label}),r.jsx("p",{className:"text-xs text-slate-500",children:S.subtext})]})},S.label)})}),r.jsxs(X,{className:"bg-white border-slate-200 p-6",children:[r.jsxs("h3",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[r.jsx(Pr,{className:"w-5 h-5 text-purple-600"}),"Tipos de Posts"]}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-3",children:Object.entries(y).map(([S,C])=>r.jsxs(X,{className:"bg-slate-50 border-slate-200 p-3",children:[r.jsx("p",{className:"text-xs text-slate-600 capitalize mb-1",children:S}),r.jsx("p",{className:"text-2xl font-bold text-slate-900",children:C})]},S))})]}),r.jsxs(X,{className:"bg-white border-slate-200 p-6",children:[r.jsxs("h3",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[r.jsx(Kn,{className:"w-5 h-5 text-purple-600"}),"Usurios por Arqutipo"]}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:Object.entries(b).map(([S,C])=>r.jsxs(X,{className:"bg-slate-50 border-slate-200 p-3",children:[r.jsx("p",{className:"text-xs text-slate-600 capitalize mb-1",children:S==="bruxa_natural"?"Bruxa Natural":S==="sabio"?"Sbio":S==="guardiao_astral"?"Guardio Astral":S==="xama"?"Xam":S==="navegador_cosmico"?"Navegador Csmico":S==="alquimista"?"Alquimista":"Indefinido"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("p",{className:"text-2xl font-bold text-slate-900",children:C}),r.jsxs(De,{variant:"outline",className:"text-xs",children:[o>0?(C/o*100).toFixed(0):0,"%"]})]})]},S))})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs(X,{className:"bg-white border-slate-200 p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(gr,{className:"w-4 h-4 text-amber-600"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Total de Duelos"})]}),r.jsx("p",{className:"text-2xl font-bold text-slate-900",children:h})]}),r.jsxs(X,{className:"bg-white border-slate-200 p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Ia,{className:"w-4 h-4 text-purple-600"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Produtos Ativos"})]}),r.jsx("p",{className:"text-2xl font-bold text-slate-900",children:u})]}),r.jsxs(X,{className:"bg-white border-slate-200 p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Bn,{className:"w-4 h-4 text-yellow-600"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Ouros Circulantes"})]}),r.jsx("p",{className:"text-2xl font-bold text-slate-900",children:x.toLocaleString()})]}),r.jsxs(X,{className:"bg-white border-slate-200 p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Ts,{className:"w-4 h-4 text-teal-600"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Em Zamira"})]}),r.jsx("p",{className:"text-2xl font-bold text-slate-900",children:l})]})]})]})}function _F(){const[t,e]=w.useState(!1),[n,a]=w.useState(!1),s=wt(),{data:i}=Oe({queryKey:["system-users"],queryFn:()=>H.entities.User.list()}),{data:o}=Oe({queryKey:["system-posts"],queryFn:()=>H.entities.Post.list()}),{data:l}=Oe({queryKey:["system-messages"],queryFn:()=>H.entities.DirectMessage.list()}),{data:c}=Oe({queryKey:["system-products"],queryFn:()=>H.entities.Product.list()}),{data:d}=Oe({queryKey:["system-positions"],queryFn:()=>H.entities.ZamiraPosition.filter({is_online:!0})}),u={version:"2.5.0",uptime:"15 dias, 7 horas",lastBackup:new Date().toLocaleDateString("pt-BR"),dbSize:"2.4 GB",activeUsers:"Online",performance:"Excelente"},h=async()=>{e(!0),setTimeout(()=>{alert(" Backup do sistema iniciado! Voc receber uma notificao quando concluir."),e(!1)},2e3)},f=async()=>{if(confirm("Isso ir limpar o cache de TODOS os usurios e recarregar a aplicao para todos. Deseja continuar?")){a(!0);try{if(await H.asServiceRole.entities.AdminGlobalMessage.create({message:"SYSTEM_RELOAD",type:"system",is_active:!0,show_immediately:!0,priority:"critical"}),"caches"in window){const g=await caches.keys();await Promise.all(g.map(y=>caches.delete(y)))}s.clear(),setTimeout(()=>{window.location.reload(!0)},500)}catch(g){console.error("Erro ao limpar cache:",g),alert("Erro ao limpar cache. Recarregando pgina..."),window.location.reload(!0)}}},v=g=>{alert(` Exportando dados de ${g}...`)},x=[{label:"Usurios",count:(i==null?void 0:i.length)||0,icon:Kn,color:"from-blue-500 to-blue-600"},{label:"Posts",count:(o==null?void 0:o.length)||0,icon:li,color:"from-purple-500 to-purple-600"},{label:"Mensagens",count:(l==null?void 0:l.length)||0,icon:Pr,color:"from-pink-500 to-pink-600"},{label:"Produtos",count:(c==null?void 0:c.length)||0,icon:Ia,color:"from-amber-500 to-amber-600"},{label:"Online Agora",count:(d==null?void 0:d.length)||0,icon:Ts,color:"from-green-500 to-green-600"}];return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Configuraes do Sistema"}),r.jsx("p",{className:"text-slate-600",children:"Gerenciar e monitorar o sistema"})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[r.jsx(X,{className:"bg-white border-slate-200 p-4",children:r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm text-slate-600",children:"Verso"}),r.jsx(De,{className:"bg-purple-100 text-purple-800",children:u.version})]})}),r.jsx(X,{className:"bg-white border-slate-200 p-4",children:r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm text-slate-600",children:"Status"}),r.jsxs(De,{className:"bg-green-100 text-green-800",children:[r.jsx(On,{className:"w-3 h-3 mr-1"}),u.activeUsers]})]})}),r.jsx(X,{className:"bg-white border-slate-200 p-4",children:r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-sm text-slate-600",children:"Performance"}),r.jsx(De,{className:"bg-blue-100 text-blue-800",children:u.performance})]})})]}),r.jsxs(X,{className:"bg-white border-slate-200 p-6",children:[r.jsxs("h3",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[r.jsx(HH,{className:"w-5 h-5 text-purple-600"}),"Estatsticas do Banco de Dados"]}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:x.map((g,y)=>{const b=g.icon;return r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:`w-12 h-12 rounded-lg bg-gradient-to-br ${g.color} flex items-center justify-center mx-auto mb-2`,children:r.jsx(b,{className:"w-6 h-6 text-white"})}),r.jsx("p",{className:"text-2xl font-bold text-slate-900",children:g.count}),r.jsx("p",{className:"text-xs text-slate-600",children:g.label})]},y)})})]}),r.jsxs(X,{className:"bg-white border-slate-200 p-6",children:[r.jsxs("h3",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[r.jsx(dme,{className:"w-5 h-5 text-purple-600"}),"Informaes do Servidor"]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-slate-200",children:[r.jsx("span",{className:"text-slate-600",children:"Tempo Online"}),r.jsx("span",{className:"font-semibold text-slate-900",children:u.uptime})]}),r.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-slate-200",children:[r.jsx("span",{className:"text-slate-600",children:"ltimo Backup"}),r.jsx("span",{className:"font-semibold text-slate-900",children:u.lastBackup})]}),r.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-slate-200",children:[r.jsx("span",{className:"text-slate-600",children:"Tamanho do Banco"}),r.jsx("span",{className:"font-semibold text-slate-900",children:u.dbSize})]}),r.jsxs("div",{className:"flex items-center justify-between py-2",children:[r.jsx("span",{className:"text-slate-600",children:"Total de Entidades"}),r.jsx("span",{className:"font-semibold text-slate-900",children:"25 Tipos"})]})]})]}),r.jsxs(X,{className:"bg-white border-slate-200 p-6",children:[r.jsxs("h3",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[r.jsx(gr,{className:"w-5 h-5 text-purple-600"}),"Aes Rpidas"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[r.jsxs(W,{onClick:f,disabled:n,className:"bg-slate-900 hover:bg-slate-800 text-white justify-start",children:[r.jsx(fx,{className:`w-4 h-4 mr-2 ${n?"animate-spin":""}`}),n?"Limpando...":"Limpar Cache e Recarregar"]}),r.jsxs(W,{onClick:h,disabled:t,variant:"outline",className:"border-slate-300 justify-start",children:[r.jsx(Wo,{className:"w-4 h-4 mr-2"}),t?"Fazendo Backup...":"Fazer Backup Manual"]}),r.jsxs(W,{onClick:()=>v("Usurios"),variant:"outline",className:"border-slate-300 justify-start",children:[r.jsx(che,{className:"w-4 h-4 mr-2"}),"Exportar Dados de Usurios"]}),r.jsxs(W,{onClick:()=>v("Posts"),variant:"outline",className:"border-slate-300 justify-start",children:[r.jsx(li,{className:"w-4 h-4 mr-2"}),"Exportar Dados de Posts"]}),r.jsxs(W,{variant:"outline",className:"border-slate-300 justify-start",children:[r.jsx(Ps,{className:"w-4 h-4 mr-2"}),"Configurar Notificaes Push"]}),r.jsxs(W,{variant:"outline",className:"border-slate-300 justify-start",children:[r.jsx(ud,{className:"w-4 h-4 mr-2"}),"Revisar Logs de Segurana"]})]})]}),r.jsxs(X,{className:"bg-white border-slate-200 p-6",children:[r.jsxs("h3",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[r.jsx(dd,{className:"w-5 h-5 text-purple-600"}),"Integraes Ativas"]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Rn,{className:"w-5 h-5 text-green-600"}),r.jsx("span",{className:"font-medium text-slate-900",children:"Mercado Pago"})]}),r.jsx(De,{className:"bg-green-100 text-green-800",children:"Ativo"})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Rn,{className:"w-5 h-5 text-green-600"}),r.jsx("span",{className:"font-medium text-slate-900",children:"Gemini AI"})]}),r.jsx(De,{className:"bg-green-100 text-green-800",children:"Ativo"})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Rn,{className:"w-5 h-5 text-green-600"}),r.jsx("span",{className:"font-medium text-slate-900",children:"Base44 SDK"})]}),r.jsx(De,{className:"bg-green-100 text-green-800",children:"Ativo"})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Rn,{className:"w-5 h-5 text-green-600"}),r.jsx("span",{className:"font-medium text-slate-900",children:"WebRTC (Voz/Vdeo)"})]}),r.jsx(De,{className:"bg-green-100 text-green-800",children:"Ativo"})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Rn,{className:"w-5 h-5 text-green-600"}),r.jsx("span",{className:"font-medium text-slate-900",children:"PWA (Notificaes)"})]}),r.jsx(De,{className:"bg-green-100 text-green-800",children:"Ativo"})]})]})]})]})}const oTe={aberto:{bg:"bg-blue-100",text:"text-blue-800",label:"Aberto"},em_andamento:{bg:"bg-yellow-100",text:"text-yellow-800",label:"Em Andamento"},aguardando_usuario:{bg:"bg-purple-100",text:"text-purple-800",label:"Aguardando Usurio"},resolvido:{bg:"bg-green-100",text:"text-green-800",label:"Resolvido"},fechado:{bg:"bg-gray-100",text:"text-gray-800",label:"Fechado"}};function jF(){const[t,e]=w.useState(""),[n,a]=w.useState(null),[s,i]=w.useState(""),o=wt(),{data:l,isLoading:c}=Oe({queryKey:["admin-support-tickets"],queryFn:()=>H.entities.SupportTicket.list("-created_date",200),refetchInterval:1e4}),d=Ue({mutationFn:async({ticketId:g,response:y,status:b})=>{await H.entities.SupportTicket.update(g,{admin_response:y,status:b});const _=l.find(j=>j.id===g);_&&await H.entities.Notification.create({user_id:_.user_id,type:"announcement",title:" Resposta do Suporte",message:`Seu chamado "${_.subject}" recebeu uma resposta!`,from_user_id:"admin",from_user_name:"Equipe Zamira",related_entity_type:"support",related_entity_id:g})},onSuccess:()=>{o.invalidateQueries({queryKey:["admin-support-tickets"]}),a(null),i(""),alert("Resposta enviada com sucesso!")}}),u=Ue({mutationFn:async({ticketId:g,status:y})=>await H.entities.SupportTicket.update(g,{status:y}),onSuccess:()=>{o.invalidateQueries({queryKey:["admin-support-tickets"]})}}),h=(l==null?void 0:l.filter(g=>{var b,_,j,S;const y=t.toLowerCase();return((b=g.subject)==null?void 0:b.toLowerCase().includes(y))||((_=g.user_name)==null?void 0:_.toLowerCase().includes(y))||((j=g.user_email)==null?void 0:j.toLowerCase().includes(y))||((S=g.category)==null?void 0:S.toLowerCase().includes(y))}))||[],f=()=>{n&&s.trim()&&d.mutate({ticketId:n.id,response:s,status:"aguardando_usuario"})},v=h.filter(g=>g.status==="aberto"||g.status==="em_andamento"),x=h.filter(g=>g.status==="resolvido"||g.status==="fechado");return r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Gerenciar Suporte"}),r.jsxs("p",{className:"text-slate-600",children:[v.length," chamados abertos"]})]})}),r.jsx(X,{className:"bg-white border-slate-200 p-4",children:r.jsxs("div",{className:"relative",children:[r.jsx($s,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),r.jsx(je,{value:t,onChange:g=>e(g.target.value),placeholder:"Buscar chamados...",className:"pl-10 border-slate-300"})]})}),r.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[r.jsx(X,{className:"bg-white border-slate-200 p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Mr,{className:"w-8 h-8 text-blue-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-slate-900",children:v.length}),r.jsx("p",{className:"text-sm text-slate-600",children:"Abertos"})]})]})}),r.jsx(X,{className:"bg-white border-slate-200 p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(_n,{className:"w-8 h-8 text-green-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-slate-900",children:x.length}),r.jsx("p",{className:"text-sm text-slate-600",children:"Resolvidos"})]})]})}),r.jsx(X,{className:"bg-white border-slate-200 p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(mx,{className:"w-8 h-8 text-purple-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-slate-900",children:h.length}),r.jsx("p",{className:"text-sm text-slate-600",children:"Total"})]})]})})]}),n&&r.jsxs(X,{className:"bg-gradient-to-br from-purple-50 to-blue-50 border-purple-300 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h3",{className:"text-lg font-bold text-slate-900 flex items-center gap-2",children:[r.jsx(Pr,{className:"w-5 h-5 text-purple-600"}),"Responder Chamado"]}),r.jsx(W,{variant:"ghost",size:"icon",onClick:()=>a(null),children:r.jsx(nt,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"bg-white rounded-lg p-4 mb-4",children:[r.jsxs("p",{className:"text-sm text-slate-600 mb-1",children:["De: ",n.user_name," (",n.user_email,")"]}),r.jsxs("p",{className:"text-sm text-slate-600 mb-2",children:["Assunto: ",n.subject]}),r.jsx("p",{className:"text-slate-900",children:n.message})]}),r.jsx(It,{value:s,onChange:g=>i(g.target.value),placeholder:"Digite sua resposta...",className:"mb-4 h-32"}),r.jsxs(W,{onClick:f,disabled:d.isPending,className:"bg-purple-600 hover:bg-purple-700 text-white",children:[r.jsx(Hr,{className:"w-4 h-4 mr-2"}),"Enviar Resposta"]})]}),r.jsx("div",{className:"space-y-4",children:c?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(On,{className:"w-12 h-12 text-purple-600 animate-pulse mx-auto mb-4"}),r.jsx("p",{className:"text-slate-600",children:"Carregando chamados..."})]}):h.length===0?r.jsxs(X,{className:"bg-white border-slate-200 p-12 text-center",children:[r.jsx(mx,{className:"w-12 h-12 text-slate-400 mx-auto mb-4"}),r.jsx("p",{className:"text-slate-600",children:"Nenhum chamado encontrado"})]}):h.map((g,y)=>{var _,j;const b=oTe[g.status];return r.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:y*.02},children:r.jsx(X,{className:"bg-white border-slate-200 p-4 hover:shadow-md transition",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-purple-600 to-pink-600 flex items-center justify-center text-white font-bold",children:((j=(_=g.user_name)==null?void 0:_[0])==null?void 0:j.toUpperCase())||"U"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("p",{className:"font-bold text-slate-900",children:g.user_name}),r.jsx(De,{className:`${b.bg} ${b.text} border-none text-xs`,children:b.label}),r.jsx(De,{variant:"outline",className:"text-xs capitalize",children:g.category})]}),r.jsx("h3",{className:"font-semibold text-slate-900 mb-1",children:g.subject}),r.jsx("p",{className:"text-sm text-slate-700 mb-2 line-clamp-2",children:g.message}),g.admin_response&&r.jsxs("div",{className:"bg-green-50 border border-green-200 rounded p-2 mb-2",children:[r.jsx("p",{className:"text-xs font-semibold text-green-800 mb-1",children:"Sua Resposta:"}),r.jsx("p",{className:"text-sm text-green-900",children:g.admin_response})]}),r.jsx("p",{className:"text-xs text-slate-500",children:new Date(g.created_date).toLocaleString("pt-BR")})]}),r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsxs(W,{variant:"outline",size:"sm",onClick:()=>a(g),className:"border-purple-300 text-purple-600",children:[r.jsx(Pr,{className:"w-4 h-4 mr-2"}),"Responder"]}),r.jsxs("select",{value:g.status,onChange:S=>u.mutate({ticketId:g.id,status:S.target.value}),className:"text-xs px-2 py-1 border border-slate-300 rounded",children:[r.jsx("option",{value:"aberto",children:"Aberto"}),r.jsx("option",{value:"em_andamento",children:"Em Andamento"}),r.jsx("option",{value:"aguardando_usuario",children:"Aguardando"}),r.jsx("option",{value:"resolvido",children:"Resolvido"}),r.jsx("option",{value:"fechado",children:"Fechado"})]})]})]})})},g.id)})})]})}function NF(){const[t,e]=w.useState(""),n=wt(),{data:a,isLoading:s}=Oe({queryKey:["admin-subscriptions"],queryFn:()=>H.entities.User.list("-created_date",1e3)}),i=Ue({mutationFn:async({userId:u,isPro:h})=>await H.entities.User.update(u,{is_pro_subscriber:!h}),onSuccess:()=>{n.invalidateQueries({queryKey:["admin-subscriptions"]})}}),o=(a==null?void 0:a.filter(u=>{var f,v;const h=t.toLowerCase();return((f=u.email)==null?void 0:f.toLowerCase().includes(h))||((v=u.display_name)==null?void 0:v.toLowerCase().includes(h))}))||[],l=(a==null?void 0:a.filter(u=>u.is_pro_subscriber))||[],c=(a==null?void 0:a.filter(u=>!u.is_pro_subscriber))||[],d=a!=null&&a.length?(l.length/a.length*100).toFixed(1):0;return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Gerenciar Assinaturas"}),r.jsx("p",{className:"text-slate-600",children:"Controle de usurios PRO e FREE"})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsx(X,{className:"bg-white border-slate-200 p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-yellow-500 to-amber-600 flex items-center justify-center",children:r.jsx(Bn,{className:"w-5 h-5 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-slate-900",children:l.length}),r.jsx("p",{className:"text-sm text-slate-600",children:"Usurios PRO"})]})]})}),r.jsx(X,{className:"bg-white border-slate-200 p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-slate-500 to-slate-600 flex items-center justify-center",children:r.jsx(Kn,{className:"w-5 h-5 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-slate-900",children:c.length}),r.jsx("p",{className:"text-sm text-slate-600",children:"Usurios FREE"})]})]})}),r.jsx(X,{className:"bg-white border-slate-200 p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-green-500 to-emerald-600 flex items-center justify-center",children:r.jsx(Jn,{className:"w-5 h-5 text-white"})}),r.jsxs("div",{children:[r.jsxs("p",{className:"text-2xl font-bold text-slate-900",children:[d,"%"]}),r.jsx("p",{className:"text-sm text-slate-600",children:"Taxa Converso"})]})]})}),r.jsx(X,{className:"bg-white border-slate-200 p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-purple-500 to-purple-600 flex items-center justify-center",children:r.jsx(Ng,{className:"w-5 h-5 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-slate-900",children:"R$ 0"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Receita Mensal"})]})]})})]}),r.jsx(X,{className:"bg-white border-slate-200 p-4",children:r.jsxs("div",{className:"relative",children:[r.jsx($s,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),r.jsx(je,{value:t,onChange:u=>e(u.target.value),placeholder:"Buscar usurios...",className:"pl-10 border-slate-300"})]})}),r.jsx("div",{className:"space-y-3",children:s?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(On,{className:"w-12 h-12 text-purple-600 animate-pulse mx-auto mb-4"}),r.jsx("p",{className:"text-slate-600",children:"Carregando assinaturas..."})]}):o.map((u,h)=>{var f,v,x,g;return r.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:h*.01},children:r.jsx(X,{className:"bg-white border-slate-200 p-4 hover:shadow-md transition",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-purple-600 to-pink-600 flex items-center justify-center text-white font-bold",children:((v=(f=u.display_name)==null?void 0:f[0])==null?void 0:v.toUpperCase())||((g=(x=u.email)==null?void 0:x[0])==null?void 0:g.toUpperCase())}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("p",{className:"font-bold text-slate-900",children:u.display_name||u.full_name}),u.is_pro_subscriber?r.jsxs(De,{className:"bg-yellow-100 text-yellow-800 border-yellow-300",children:[r.jsx(Bn,{className:"w-3 h-3 mr-1"}),"PRO"]}):r.jsx(De,{variant:"outline",className:"text-slate-600",children:"FREE"})]}),r.jsxs("div",{className:"flex items-center gap-3 text-sm text-slate-600",children:[r.jsx("span",{children:u.email}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Ya,{className:"w-3 h-3"}),new Date(u.created_date).toLocaleDateString("pt-BR")]})]})]}),r.jsx(W,{variant:"outline",size:"sm",onClick:()=>i.mutate({userId:u.id,isPro:u.is_pro_subscriber}),disabled:i.isPending,className:u.is_pro_subscriber?"border-yellow-300 text-yellow-700 hover:bg-yellow-50":"border-slate-300",children:u.is_pro_subscriber?"Remover PRO":"Tornar PRO"})]})})},u.id)})})]})}function SF(){const[t,e]=w.useState(""),[n,a]=w.useState(null),[s,i]=w.useState(null),[o,l]=w.useState(null),[c,d]=w.useState(null),[u,h]=w.useState(!1),[f,v]=w.useState(!1),[x,g]=w.useState(!1),[y,b]=w.useState(!1),[_,j]=w.useState(!1),[S,C]=w.useState(null),[E,P]=w.useState({title:"",description:"",pdf_url:"",cover_image_url:"",category:"tarot",is_premium:!1,order:0}),[T,M]=w.useState({title:"",description:"",video_url:"",thumbnail_url:"",portal_type:"tarot",duration:"",is_premium:!1,order:0}),[k,O]=w.useState({title:"",description:"",audio_url:"",thumbnail_url:"",category:"meditacao",duration:0,is_premium:!1,order:0}),[$,F]=w.useState({title:"",description:"",content:"",video_url:"",thumbnail_url:"",lesson_number:1,is_premium:!1,order:0}),[B,G]=w.useState({title:"",description:"",audio_url:"",category:"meditacao",is_premium:!1,order:0}),I=wt(),{data:L,isLoading:U}=Oe({queryKey:["admin-portal-videos"],queryFn:()=>H.entities.PortalVideo.list("-order",500)}),{data:z,isLoading:K}=Oe({queryKey:["admin-voice-content"],queryFn:()=>H.entities.VoiceContent.list("-order",500)}),{data:V,isLoading:Y}=Oe({queryKey:["admin-tarot-courses"],queryFn:()=>H.entities.TarotCourse.list("lesson_number",500)}),{data:ee,isLoading:se}=Oe({queryKey:["admin-pdf-library"],queryFn:()=>H.entities.PDFLibrary.list("-order",500)}),pe=Ue({mutationFn:async te=>n?await H.entities.PortalVideo.update(n.id,te):await H.entities.PortalVideo.create(te),onSuccess:()=>{I.invalidateQueries({queryKey:["admin-portal-videos"]}),a(null),h(!1),M({title:"",description:"",video_url:"",thumbnail_url:"",portal_type:"tarot",duration:"",is_premium:!1,order:0}),alert(" Vdeo salvo!")}}),Pe=Ue({mutationFn:async te=>s?await H.entities.VoiceContent.update(s.id,te):await H.entities.VoiceContent.create(te),onSuccess:()=>{I.invalidateQueries({queryKey:["admin-voice-content"]}),i(null),v(!1),j(!1),O({title:"",description:"",audio_url:"",thumbnail_url:"",category:"meditacao",duration:0,is_premium:!1,order:0}),G({title:"",description:"",audio_url:"",category:"meditacao",is_premium:!1,order:0}),alert(" udio salvo!")}}),xe=Ue({mutationFn:async te=>o?await H.entities.TarotCourse.update(o.id,te):await H.entities.TarotCourse.create(te),onSuccess:()=>{I.invalidateQueries({queryKey:["admin-tarot-courses"]}),l(null),g(!1),F({title:"",description:"",content:"",video_url:"",thumbnail_url:"",lesson_number:1,is_premium:!1,order:0}),alert(" Curso salvo!")}}),Ie=Ue({mutationFn:async te=>await H.entities.PortalVideo.delete(te),onSuccess:()=>I.invalidateQueries({queryKey:["admin-portal-videos"]})}),fe=Ue({mutationFn:async te=>await H.entities.VoiceContent.delete(te),onSuccess:()=>I.invalidateQueries({queryKey:["admin-voice-content"]})}),Ne=Ue({mutationFn:async te=>await H.entities.TarotCourse.delete(te),onSuccess:()=>I.invalidateQueries({queryKey:["admin-tarot-courses"]})}),Le=Ue({mutationFn:async te=>S?await H.entities.PDFLibrary.update(S.id,te):await H.entities.PDFLibrary.create(te),onSuccess:()=>{I.invalidateQueries({queryKey:["admin-pdf-library"]}),C(null),b(!1),P({title:"",description:"",pdf_url:"",cover_image_url:"",category:"tarot",is_premium:!1,order:0}),alert(" PDF salvo!")}}),re=Ue({mutationFn:async te=>await H.entities.PDFLibrary.delete(te),onSuccess:()=>I.invalidateQueries({queryKey:["admin-pdf-library"]})}),he=async(te,Te)=>{const Be=te.target.files[0];if(Be)try{const{file_url:ut}=await H.integrations.Core.UploadFile({file:Be});Te==="video"?M({...T,thumbnail_url:ut}):Te==="audio"?O({...k,thumbnail_url:ut}):Te==="course"&&F({...$,thumbnail_url:ut}),alert(" Miniatura enviada!")}catch(ut){alert("Erro: "+ut.message)}},Ee=te=>{a(te),M(te),h(!0)},Xe=te=>{i(te),O(te),v(!0)},Ve=te=>{l(te),F(te),g(!0)},at=te=>{C(te),P(te),b(!0)},de=(L==null?void 0:L.filter(te=>{var Te;return(Te=te.title)==null?void 0:Te.toLowerCase().includes(t.toLowerCase())}))||[],Z=(z==null?void 0:z.filter(te=>{var Te;return(Te=te.title)==null?void 0:Te.toLowerCase().includes(t.toLowerCase())}))||[],J=(V==null?void 0:V.filter(te=>{var Te;return(Te=te.title)==null?void 0:Te.toLowerCase().includes(t.toLowerCase())}))||[],ve=(ee==null?void 0:ee.filter(te=>{var Te;return(Te=te.title)==null?void 0:Te.toLowerCase().includes(t.toLowerCase())}))||[];return r.jsxs("div",{className:"space-y-6 pb-20",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Gerenciar Contedo"}),r.jsx("p",{className:"text-slate-600",children:"Vdeos, udios, Cursos, PDFs e VOCEM"})]})}),r.jsx(X,{className:"bg-white border-slate-200 p-4",children:r.jsxs("div",{className:"relative",children:[r.jsx($s,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),r.jsx(je,{value:t,onChange:te=>e(te.target.value),placeholder:"Buscar contedo...",className:"pl-10 border-slate-300"})]})}),r.jsxs($r,{defaultValue:"videos",className:"w-full",children:[r.jsxs(Tr,{className:"grid w-full grid-cols-5 bg-slate-100",children:[r.jsxs(xt,{value:"videos",className:"text-xs md:text-sm",children:[r.jsx(La,{className:"w-4 h-4 mr-1 md:mr-2"}),r.jsx("span",{className:"hidden md:inline",children:"Vdeos"}),r.jsx("span",{className:"md:hidden",children:"Vid"})," (",(L==null?void 0:L.length)||0,")"]}),r.jsxs(xt,{value:"audios",className:"text-xs md:text-sm",children:[r.jsx(pu,{className:"w-4 h-4 mr-1 md:mr-2"}),r.jsx("span",{className:"hidden md:inline",children:"udios"}),r.jsx("span",{className:"md:hidden",children:"Aud"})," (",(z==null?void 0:z.length)||0,")"]}),r.jsxs(xt,{value:"pdfs",className:"text-xs md:text-sm",children:[r.jsx(li,{className:"w-4 h-4 mr-1 md:mr-2"}),"PDFs (",(ee==null?void 0:ee.length)||0,")"]}),r.jsxs(xt,{value:"courses",className:"text-xs md:text-sm",children:[r.jsx(Oa,{className:"w-4 h-4 mr-1 md:mr-2"}),r.jsx("span",{className:"hidden md:inline",children:"Cursos"}),r.jsx("span",{className:"md:hidden",children:"Cur"})," (",(V==null?void 0:V.length)||0,")"]}),r.jsxs(xt,{value:"vocem",className:"text-xs md:text-sm",children:[r.jsx(pu,{className:"w-4 h-4 mr-1 md:mr-2"}),"VOCEM (",(z==null?void 0:z.filter(te=>te.category==="meditacao").length)||0,")"]})]}),r.jsxs(et,{value:"videos",className:"space-y-4 mt-6",children:[r.jsxs(W,{onClick:()=>{h(!0),a(null),M({title:"",description:"",video_url:"",thumbnail_url:"",portal_type:"tarot",duration:"",is_premium:!1,order:0})},className:"bg-purple-600 hover:bg-purple-700 text-white",children:[r.jsx(_r,{className:"w-4 h-4 mr-2"}),"Adicionar Vdeo"]}),u&&r.jsxs(X,{className:"bg-gradient-to-br from-purple-50 to-blue-50 border-purple-300 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-bold text-slate-900",children:n?"Editar Vdeo":"Novo Vdeo"}),r.jsx(W,{variant:"ghost",size:"icon",onClick:()=>h(!1),children:r.jsx(nt,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(je,{placeholder:"Ttulo do vdeo",value:T.title,onChange:te=>M({...T,title:te.target.value})}),r.jsx(It,{placeholder:"Descrio",value:T.description,onChange:te=>M({...T,description:te.target.value}),rows:3}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-2 block",children:"URL do Vdeo (YouTube, Google Drive, etc) ou Upload:"}),r.jsx(je,{placeholder:"Cole o link do YouTube/Drive ou faa upload",value:T.video_url,onChange:te=>M({...T,video_url:te.target.value}),className:"mb-2"}),r.jsx("p",{className:"text-xs text-slate-600 mb-2",children:" YouTube: https://www.youtube.com/watch?v=... | Google Drive: Compartilhe e cole o link"}),r.jsx("input",{type:"file",accept:"video/*",onChange:async te=>{const Te=te.target.files[0];if(Te){const{file_url:Be}=await H.integrations.Core.UploadFile({file:Te});M({...T,video_url:Be})}},className:"w-full text-sm file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:bg-purple-50 file:text-purple-700"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Miniatura:"}),r.jsx("input",{type:"file",accept:"image/*",onChange:te=>he(te,"video"),className:"w-full text-sm file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:bg-purple-50 file:text-purple-700"}),T.thumbnail_url&&r.jsx("img",{src:T.thumbnail_url,className:"mt-2 w-32 h-20 object-cover rounded"})]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsxs("select",{value:T.portal_type,onChange:te=>M({...T,portal_type:te.target.value}),className:"px-3 py-2 border border-slate-300 rounded-lg",children:[r.jsx("option",{value:"tarot",children:"Tarot"}),r.jsx("option",{value:"astrologia",children:"Astrologia"}),r.jsx("option",{value:"meditacao",children:"Meditao"}),r.jsx("option",{value:"cristais",children:"Cristais"}),r.jsx("option",{value:"numerologia",children:"Numerologia"}),r.jsx("option",{value:"geral",children:"Geral"})]}),r.jsx(je,{placeholder:"Durao (ex: 15:30)",value:T.duration,onChange:te=>M({...T,duration:te.target.value})})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:T.is_premium,onChange:te=>M({...T,is_premium:te.target.checked})}),r.jsx("span",{className:"text-sm",children:"Contedo PRO"})]}),r.jsx(je,{type:"number",placeholder:"Ordem",value:T.order,onChange:te=>M({...T,order:parseInt(te.target.value)}),className:"w-24"})]}),r.jsxs(W,{onClick:()=>pe.mutate(T),disabled:pe.isPending,className:"bg-purple-600 hover:bg-purple-700 text-white",children:[r.jsx(oa,{className:"w-4 h-4 mr-2"}),"Salvar Vdeo"]})]})]}),U?r.jsx("div",{className:"text-center py-12",children:r.jsx(On,{className:"w-12 h-12 text-purple-600 animate-pulse mx-auto mb-4"})}):de.length===0?r.jsxs(X,{className:"bg-white border-slate-200 p-12 text-center",children:[r.jsx(La,{className:"w-12 h-12 text-slate-400 mx-auto mb-4"}),r.jsx("p",{className:"text-slate-600",children:"Nenhum vdeo encontrado"})]}):r.jsx("div",{className:"space-y-3",children:de.map(te=>r.jsx(X,{className:"bg-white border-slate-200 p-4",children:r.jsxs("div",{className:"flex items-start gap-4",children:[te.thumbnail_url&&r.jsx("img",{src:te.thumbnail_url,className:"w-24 h-16 object-cover rounded"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("h3",{className:"font-bold text-slate-900",children:te.title}),r.jsx(De,{variant:"outline",className:"capitalize",children:te.portal_type}),te.is_premium&&r.jsx(De,{className:"bg-yellow-100 text-yellow-800",children:"PRO"})]}),r.jsx("p",{className:"text-sm text-slate-600 mb-2",children:te.description}),r.jsxs("p",{className:"text-xs text-slate-500",children:[te.views_count||0," visualizaes  ",te.duration]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(W,{variant:"outline",size:"icon",onClick:()=>Ee(te),children:r.jsx(io,{className:"w-4 h-4"})}),r.jsx(W,{variant:"outline",size:"icon",onClick:()=>Ie.mutate(te.id),className:"border-red-300 text-red-600",children:r.jsx(qr,{className:"w-4 h-4"})})]})]})},te.id))})]}),r.jsxs(et,{value:"audios",className:"space-y-4 mt-6",children:[r.jsxs(W,{onClick:()=>{v(!0),i(null),O({title:"",description:"",audio_url:"",thumbnail_url:"",category:"meditacao",duration:0,is_premium:!1,order:0})},className:"bg-purple-600 hover:bg-purple-700 text-white",children:[r.jsx(_r,{className:"w-4 h-4 mr-2"}),"Adicionar udio"]}),f&&r.jsxs(X,{className:"bg-gradient-to-br from-purple-50 to-blue-50 border-purple-300 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-bold text-slate-900",children:s?"Editar udio":"Novo udio"}),r.jsx(W,{variant:"ghost",size:"icon",onClick:()=>v(!1),children:r.jsx(nt,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(je,{placeholder:"Ttulo do udio",value:k.title,onChange:te=>O({...k,title:te.target.value})}),r.jsx(It,{placeholder:"Descrio",value:k.description,onChange:te=>O({...k,description:te.target.value}),rows:3}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-2 block",children:"URL do udio (YouTube, Google Drive) ou Upload:"}),r.jsx(je,{placeholder:"Cole o link ou faa upload",value:k.audio_url,onChange:te=>O({...k,audio_url:te.target.value}),className:"mb-2"}),r.jsx("p",{className:"text-xs text-slate-600 mb-2",children:" Aceita YouTube, Google Drive ou arquivo de udio"}),r.jsx("input",{type:"file",accept:"audio/*",onChange:async te=>{const Te=te.target.files[0];if(Te){const{file_url:Be}=await H.integrations.Core.UploadFile({file:Te});O({...k,audio_url:Be})}},className:"w-full text-sm file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:bg-purple-50 file:text-purple-700"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Miniatura:"}),r.jsx("input",{type:"file",accept:"image/*",onChange:te=>he(te,"audio"),className:"w-full text-sm file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:bg-purple-50 file:text-purple-700"}),k.thumbnail_url&&r.jsx("img",{src:k.thumbnail_url,className:"mt-2 w-32 h-32 object-cover rounded"})]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsxs("select",{value:k.category,onChange:te=>O({...k,category:te.target.value}),className:"px-3 py-2 border border-slate-300 rounded-lg",children:[r.jsx("option",{value:"meditacao",children:"Meditao"}),r.jsx("option",{value:"ritual",children:"Ritual"}),r.jsx("option",{value:"mantra",children:"Mantra"}),r.jsx("option",{value:"guiada",children:"Guiada"}),r.jsx("option",{value:"aula",children:"Aula"}),r.jsx("option",{value:"podcast",children:"Podcast"})]}),r.jsx(je,{type:"number",placeholder:"Durao (segundos)",value:k.duration,onChange:te=>O({...k,duration:parseInt(te.target.value)})})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:k.is_premium,onChange:te=>O({...k,is_premium:te.target.checked})}),r.jsx("span",{className:"text-sm",children:"Contedo PRO"})]}),r.jsx(je,{type:"number",placeholder:"Ordem",value:k.order,onChange:te=>O({...k,order:parseInt(te.target.value)}),className:"w-24"})]}),r.jsxs(W,{onClick:()=>Pe.mutate(k),disabled:Pe.isPending,className:"bg-purple-600 hover:bg-purple-700 text-white",children:[r.jsx(oa,{className:"w-4 h-4 mr-2"}),"Salvar udio"]})]})]}),K?r.jsx("div",{className:"text-center py-12",children:r.jsx(On,{className:"w-12 h-12 text-purple-600 animate-pulse mx-auto mb-4"})}):Z.length===0?r.jsxs(X,{className:"bg-white border-slate-200 p-12 text-center",children:[r.jsx(pu,{className:"w-12 h-12 text-slate-400 mx-auto mb-4"}),r.jsx("p",{className:"text-slate-600",children:"Nenhum udio encontrado"})]}):r.jsx("div",{className:"space-y-3",children:Z.map(te=>r.jsx(X,{className:"bg-white border-slate-200 p-4",children:r.jsxs("div",{className:"flex items-start gap-4",children:[te.thumbnail_url&&r.jsx("img",{src:te.thumbnail_url,className:"w-24 h-24 object-cover rounded"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("h3",{className:"font-bold text-slate-900",children:te.title}),r.jsx(De,{variant:"outline",className:"capitalize",children:te.category}),te.is_premium&&r.jsx(De,{className:"bg-yellow-100 text-yellow-800",children:"PRO"})]}),r.jsx("p",{className:"text-sm text-slate-600 mb-2",children:te.description}),r.jsxs("p",{className:"text-xs text-slate-500",children:[te.plays_count||0," reprodues  ",te.duration,"s"]}),te.audio_url&&r.jsx(r.Fragment,{children:te.audio_url.includes("youtube.com")||te.audio_url.includes("youtu.be")||te.audio_url.includes("drive.google.com")?r.jsx("div",{className:"mt-2 p-2 bg-blue-50 rounded border border-blue-200",children:r.jsxs("p",{className:"text-xs text-blue-900",children:[" Link: ",te.audio_url.substring(0,50),"..."]})}):r.jsx("audio",{controls:!0,className:"mt-2 w-full max-w-md",children:r.jsx("source",{src:te.audio_url,type:"audio/mpeg"})})})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(W,{variant:"outline",size:"icon",onClick:()=>Xe(te),children:r.jsx(io,{className:"w-4 h-4"})}),r.jsx(W,{variant:"outline",size:"icon",onClick:()=>fe.mutate(te.id),className:"border-red-300 text-red-600",children:r.jsx(qr,{className:"w-4 h-4"})})]})]})},te.id))})]}),r.jsxs(et,{value:"courses",className:"space-y-4 mt-6",children:[r.jsxs(W,{onClick:()=>{g(!0),l(null),F({title:"",description:"",content:"",video_url:"",thumbnail_url:"",lesson_number:((V==null?void 0:V.length)||0)+1,is_premium:!1,order:0})},className:"bg-purple-600 hover:bg-purple-700 text-white",children:[r.jsx(_r,{className:"w-4 h-4 mr-2"}),"Adicionar Curso"]}),x&&r.jsxs(X,{className:"bg-gradient-to-br from-purple-50 to-blue-50 border-purple-300 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-bold text-slate-900",children:o?"Editar Curso":"Novo Curso"}),r.jsx(W,{variant:"ghost",size:"icon",onClick:()=>g(!1),children:r.jsx(nt,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(je,{placeholder:"Ttulo do curso",value:$.title,onChange:te=>F({...$,title:te.target.value})}),r.jsx(It,{placeholder:"Descrio",value:$.description,onChange:te=>F({...$,description:te.target.value}),rows:3}),r.jsx(It,{placeholder:"Contedo completo (pode usar markdown)",value:$.content,onChange:te=>F({...$,content:te.target.value}),rows:8}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-2 block",children:"URL do Vdeo (YouTube, Google Drive) ou Upload:"}),r.jsx(je,{placeholder:"Cole o link ou faa upload",value:$.video_url,onChange:te=>F({...$,video_url:te.target.value}),className:"mb-2"}),r.jsx("p",{className:"text-xs text-slate-600 mb-2",children:" Aceita YouTube, Google Drive ou upload direto"}),r.jsx("input",{type:"file",accept:"video/*",onChange:async te=>{const Te=te.target.files[0];if(Te){const{file_url:Be}=await H.integrations.Core.UploadFile({file:Te});F({...$,video_url:Be})}},className:"w-full text-sm file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:bg-purple-50 file:text-purple-700"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Miniatura:"}),r.jsx("input",{type:"file",accept:"image/*",onChange:te=>he(te,"course"),className:"w-full text-sm file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:bg-purple-50 file:text-purple-700"}),$.thumbnail_url&&r.jsx("img",{src:$.thumbnail_url,className:"mt-2 w-32 h-20 object-cover rounded"})]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsx(je,{type:"number",placeholder:"Nmero da lio",value:$.lesson_number,onChange:te=>F({...$,lesson_number:parseInt(te.target.value)})}),r.jsx(je,{placeholder:"Durao (ex: 45 min)",value:$.duration,onChange:te=>F({...$,duration:te.target.value})})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:$.is_premium,onChange:te=>F({...$,is_premium:te.target.checked})}),r.jsx("span",{className:"text-sm",children:"Contedo PRO"})]}),r.jsx(je,{type:"number",placeholder:"Ordem",value:$.order,onChange:te=>F({...$,order:parseInt(te.target.value)}),className:"w-24"})]}),r.jsxs(W,{onClick:()=>xe.mutate($),disabled:xe.isPending,className:"bg-purple-600 hover:bg-purple-700 text-white",children:[r.jsx(oa,{className:"w-4 h-4 mr-2"}),"Salvar Curso"]})]})]}),Y?r.jsx("div",{className:"text-center py-12",children:r.jsx(On,{className:"w-12 h-12 text-purple-600 animate-pulse mx-auto mb-4"})}):J.length===0?r.jsxs(X,{className:"bg-white border-slate-200 p-12 text-center",children:[r.jsx(Oa,{className:"w-12 h-12 text-slate-400 mx-auto mb-4"}),r.jsx("p",{className:"text-slate-600",children:"Nenhum curso encontrado"}),r.jsx("p",{className:"text-xs text-slate-500 mt-2",children:'Clique em "Adicionar Curso" para criar o primeiro'})]}):r.jsx("div",{className:"space-y-3",children:J.map(te=>r.jsx(X,{className:"bg-white border-slate-200 p-4",children:r.jsxs("div",{className:"flex items-start gap-4",children:[te.thumbnail_url&&r.jsx("img",{src:te.thumbnail_url,className:"w-24 h-16 object-cover rounded"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("h3",{className:"font-bold text-slate-900",children:te.title}),r.jsxs(De,{variant:"outline",children:["Lio ",te.lesson_number]}),te.is_premium&&r.jsx(De,{className:"bg-yellow-100 text-yellow-800",children:"PRO"})]}),r.jsx("p",{className:"text-sm text-slate-600 mb-2",children:te.description}),r.jsxs("p",{className:"text-xs text-slate-500",children:[te.views_count||0," visualizaes  ",te.duration]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(W,{variant:"outline",size:"icon",onClick:()=>Ve(te),children:r.jsx(io,{className:"w-4 h-4"})}),r.jsx(W,{variant:"outline",size:"icon",onClick:()=>Ne.mutate(te.id),className:"border-red-300 text-red-600",children:r.jsx(qr,{className:"w-4 h-4"})})]})]})},te.id))})]}),r.jsxs(et,{value:"pdfs",className:"space-y-4 mt-6",children:[r.jsxs(W,{onClick:()=>{b(!0),C(null),P({title:"",description:"",pdf_url:"",cover_image_url:"",category:"tarot",is_premium:!1,order:0})},className:"bg-purple-600 hover:bg-purple-700 text-white",children:[r.jsx(_r,{className:"w-4 h-4 mr-2"}),"Adicionar PDF"]}),y&&r.jsxs(X,{className:"bg-gradient-to-br from-purple-50 to-blue-50 border-purple-300 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-bold text-slate-900",children:S?"Editar PDF":"Novo PDF"}),r.jsx(W,{variant:"ghost",size:"icon",onClick:()=>b(!1),children:r.jsx(nt,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(je,{placeholder:"Ttulo do PDF",value:E.title,onChange:te=>P({...E,title:te.target.value})}),r.jsx(It,{placeholder:"Descrio",value:E.description,onChange:te=>P({...E,description:te.target.value}),rows:3}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Upload do PDF:"}),r.jsx("input",{type:"file",accept:"application/pdf",onChange:async te=>{const Te=te.target.files[0];if(Te){const{file_url:Be}=await H.integrations.Core.UploadFile({file:Te});P({...E,pdf_url:Be}),alert(" PDF enviado!")}},className:"w-full text-sm file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:bg-purple-50 file:text-purple-700"}),E.pdf_url&&r.jsx("p",{className:"text-xs text-green-600 mt-2",children:" PDF carregado"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Imagem de Capa (OBRIGATRIO):"}),r.jsx("input",{type:"file",accept:"image/*",onChange:async te=>{const Te=te.target.files[0];if(Te){const{file_url:Be}=await H.integrations.Core.UploadFile({file:Te});P({...E,cover_image_url:Be}),alert(" Capa enviada!")}},className:"w-full text-sm file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:bg-purple-50 file:text-purple-700"}),E.cover_image_url&&r.jsx("img",{src:E.cover_image_url,className:"mt-2 w-32 h-40 object-cover rounded shadow-lg"}),!E.cover_image_url&&r.jsx("p",{className:"text-xs text-orange-600 mt-2",children:" A capa do PDF  obrigatria para exibio correta"})]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsxs("select",{value:E.category,onChange:te=>P({...E,category:te.target.value}),className:"px-3 py-2 border border-slate-300 rounded-lg",children:[r.jsx("option",{value:"tarot",children:"Tarot"}),r.jsx("option",{value:"astrologia",children:"Astrologia"}),r.jsx("option",{value:"cristais",children:"Cristais"}),r.jsx("option",{value:"meditacao",children:"Meditao"}),r.jsx("option",{value:"outros",children:"Outros"})]}),r.jsx(je,{type:"number",placeholder:"Ordem",value:E.order,onChange:te=>P({...E,order:parseInt(te.target.value)})})]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:E.is_premium,onChange:te=>P({...E,is_premium:te.target.checked})}),r.jsx("span",{className:"text-sm",children:"Contedo PRO"})]}),r.jsxs(W,{onClick:()=>{if(!E.cover_image_url){alert(" Por favor, adicione uma imagem de capa para o PDF!");return}Le.mutate(E)},disabled:Le.isPending||!E.pdf_url||!E.cover_image_url,className:"bg-purple-600 hover:bg-purple-700 text-white disabled:opacity-50",children:[r.jsx(oa,{className:"w-4 h-4 mr-2"}),"Salvar PDF"]})]})]}),se?r.jsx("div",{className:"text-center py-12",children:r.jsx(On,{className:"w-12 h-12 text-purple-600 animate-pulse mx-auto mb-4"})}):ve.length===0?r.jsxs(X,{className:"bg-white border-slate-200 p-12 text-center",children:[r.jsx(li,{className:"w-12 h-12 text-slate-400 mx-auto mb-4"}),r.jsx("p",{className:"text-slate-600",children:"Nenhum PDF encontrado"})]}):r.jsx("div",{className:"space-y-3",children:ve.map(te=>r.jsx(X,{className:"bg-white border-slate-200 p-4",children:r.jsxs("div",{className:"flex items-start gap-4",children:[te.cover_image_url&&r.jsx("img",{src:te.cover_image_url,className:"w-20 h-28 object-cover rounded shadow"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("h3",{className:"font-bold text-slate-900",children:te.title}),r.jsx(De,{variant:"outline",className:"capitalize",children:te.category}),te.is_premium&&r.jsx(De,{className:"bg-yellow-100 text-yellow-800",children:"PRO"})]}),r.jsx("p",{className:"text-sm text-slate-600 mb-2",children:te.description}),r.jsxs("p",{className:"text-xs text-slate-500",children:[te.views_count||0," visualizaes"]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(W,{variant:"outline",size:"icon",onClick:()=>at(te),children:r.jsx(io,{className:"w-4 h-4"})}),r.jsx(W,{variant:"outline",size:"icon",onClick:()=>re.mutate(te.id),className:"border-red-300 text-red-600",children:r.jsx(qr,{className:"w-4 h-4"})})]})]})},te.id))})]}),r.jsxs(et,{value:"vocem",className:"space-y-4 mt-6",children:[r.jsxs(W,{onClick:()=>{j(!0),G({title:"",description:"",audio_url:"",category:"meditacao",is_premium:!1,order:(z==null?void 0:z.length)||0})},className:"bg-pink-600 hover:bg-pink-700 text-white",children:[r.jsx(_r,{className:"w-4 h-4 mr-2"}),"Adicionar udio VOCEM"]}),_&&r.jsxs(X,{className:"bg-gradient-to-br from-pink-50 to-purple-50 border-pink-300 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Novo udio VOCEM"}),r.jsx(W,{variant:"ghost",size:"icon",onClick:()=>j(!1),children:r.jsx(nt,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(je,{placeholder:"Ttulo do udio",value:B.title,onChange:te=>G({...B,title:te.target.value})}),r.jsx(It,{placeholder:"Descrio",value:B.description,onChange:te=>G({...B,description:te.target.value}),rows:3}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-2 block",children:"URL do udio (YouTube, Google Drive) ou Upload:"}),r.jsx(je,{placeholder:"https://www.youtube.com/... ou https://drive.google.com/...",value:B.audio_url,onChange:te=>G({...B,audio_url:te.target.value}),className:"mb-2"}),r.jsx("p",{className:"text-xs text-slate-600 mb-2",children:" Cole o link do YouTube ou Google Drive para udios"}),r.jsx("input",{type:"file",accept:"audio/*",onChange:async te=>{const Te=te.target.files[0];if(Te){const{file_url:Be}=await H.integrations.Core.UploadFile({file:Te});G({...B,audio_url:Be}),alert(" udio enviado!")}},className:"w-full text-sm file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:bg-pink-50 file:text-pink-700"})]}),r.jsxs("select",{value:B.category,onChange:te=>G({...B,category:te.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg",children:[r.jsx("option",{value:"meditacao",children:"Meditao"}),r.jsx("option",{value:"ritual",children:"Ritual"}),r.jsx("option",{value:"mantra",children:"Mantra"}),r.jsx("option",{value:"guiada",children:"Guiada"}),r.jsx("option",{value:"aula",children:"Aula"}),r.jsx("option",{value:"podcast",children:"Podcast"})]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:B.is_premium,onChange:te=>G({...B,is_premium:te.target.checked})}),r.jsx("span",{className:"text-sm",children:"Contedo PRO"})]}),r.jsxs(W,{onClick:()=>Pe.mutate(B),disabled:Pe.isPending||!B.audio_url,className:"bg-pink-600 hover:bg-pink-700 text-white",children:[r.jsx(oa,{className:"w-4 h-4 mr-2"}),"Salvar udio VOCEM"]})]})]}),r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:r.jsx("p",{className:"text-sm text-blue-900",children:" Aqui voc pode criar e gerenciar udios VOCEM disponveis para todos os usurios."})}),K?r.jsx("div",{className:"text-center py-12",children:r.jsx(On,{className:"w-12 h-12 text-purple-600 animate-pulse mx-auto mb-4"})}):Z.length===0?r.jsxs(X,{className:"bg-white border-slate-200 p-12 text-center",children:[r.jsx(pu,{className:"w-12 h-12 text-slate-400 mx-auto mb-4"}),r.jsx("p",{className:"text-slate-600",children:"Nenhum udio VOCEM encontrado"})]}):r.jsx("div",{className:"space-y-3",children:Z.map(te=>r.jsx(X,{className:"bg-white border-slate-200 p-4",children:r.jsxs("div",{className:"flex items-start gap-4",children:[te.thumbnail_url&&r.jsx("img",{src:te.thumbnail_url,className:"w-24 h-24 object-cover rounded"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("h3",{className:"font-bold text-slate-900",children:te.title}),r.jsx(De,{variant:"outline",className:"capitalize",children:te.category}),te.is_premium&&r.jsx(De,{className:"bg-yellow-100 text-yellow-800",children:"PRO"})]}),r.jsx("p",{className:"text-sm text-slate-600 mb-2",children:te.description}),r.jsxs("p",{className:"text-xs text-slate-500",children:[te.plays_count||0," reprodues"]}),te.audio_url&&r.jsx(r.Fragment,{children:te.audio_url.includes("youtube.com")||te.audio_url.includes("youtu.be")||te.audio_url.includes("drive.google.com")?r.jsx("div",{className:"mt-2 p-2 bg-blue-50 rounded border border-blue-200",children:r.jsxs("p",{className:"text-xs text-blue-900 truncate",children:[" Link: ",te.audio_url]})}):r.jsx("audio",{controls:!0,className:"mt-2 w-full max-w-md",children:r.jsx("source",{src:te.audio_url,type:"audio/mpeg"})})})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(W,{variant:"outline",size:"icon",onClick:()=>Xe(te),children:r.jsx(io,{className:"w-4 h-4"})}),r.jsx(W,{variant:"outline",size:"icon",onClick:()=>fe.mutate(te.id),className:"border-red-300 text-red-600",children:r.jsx(qr,{className:"w-4 h-4"})})]})]})},te.id))})]})]})]})}const lTe={notification:"Notificao Geral",message:"Nova Mensagem",level_up:"Subiu de Nvel",achievement:"Conquista Desbloqueada",ouros_received:"Recebeu Ouros",new_follower:"Novo Seguidor",reaction:"Reao em Post",comment:"Novo Comentrio",duel_start:"Duelo Iniciado",duel_win:"Vitria no Duelo",portal_open:"Portal Aberto",magic_cast:"Magia Lanada",item_collected:"Item Coletado",quest_complete:"Misso Completa",error:"Erro",success:"Sucesso"};function CF(){const[t,e]=w.useState(null),[n,a]=w.useState(null),s=wt(),{data:i,isLoading:o}=Oe({queryKey:["admin-system-sounds"],queryFn:()=>H.entities.SystemSound.list()}),l=Ue({mutationFn:async({soundName:f,audioUrl:v,volume:x})=>{const g=i==null?void 0:i.find(y=>y.sound_name===f);return g?await H.entities.SystemSound.update(g.id,{audio_url:v,volume:x||.5,is_active:!0}):await H.entities.SystemSound.create({sound_name:f,audio_url:v,volume:x||.5,is_active:!0})},onSuccess:()=>{s.invalidateQueries({queryKey:["admin-system-sounds"]}),e(null),alert(" Som atualizado com sucesso!")}}),c=Ue({mutationFn:async f=>await H.entities.SystemSound.delete(f),onSuccess:()=>{s.invalidateQueries({queryKey:["admin-system-sounds"]}),alert(" Som removido!")}}),d=async(f,v)=>{if(v)try{e(f);const{file_url:x}=await H.integrations.Core.UploadFile({file:v});await l.mutateAsync({soundName:f,audioUrl:x})}catch(x){alert("Erro ao fazer upload: "+x.message)}finally{e(null)}},u=f=>{n&&n.pause();const v=new Audio(f);v.play(),a(v),v.onended=()=>a(null)},h=async(f,v)=>{await l.mutateAsync({soundName:f.sound_name,audioUrl:f.audio_url,volume:v[0]})};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Sons do Sistema"}),r.jsx("p",{className:"text-slate-600",children:"Personalize todos os sons e efeitos sonoros"})]}),o?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(On,{className:"w-12 h-12 text-purple-600 animate-pulse mx-auto mb-4"}),r.jsx("p",{className:"text-slate-600",children:"Carregando sons..."})]}):r.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:Object.entries(lTe).map(([f,v])=>{const x=i==null?void 0:i.find(y=>y.sound_name===f),g=t===f;return r.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:r.jsxs(X,{className:"bg-white border-slate-200 p-4",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-slate-900",children:v}),r.jsx("p",{className:"text-xs text-slate-500",children:f})]}),x?r.jsx(De,{className:"bg-green-100 text-green-800",children:"Configurado"}):r.jsx(De,{variant:"outline",className:"text-slate-600",children:"Sem som"})]}),x&&r.jsxs("div",{className:"space-y-3 mb-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(W,{size:"sm",variant:"outline",onClick:()=>u(x.audio_url),className:"flex-1",children:[r.jsx(Qa,{className:"w-4 h-4 mr-2"}),"Testar Som"]}),r.jsx(W,{size:"sm",variant:"outline",onClick:()=>c.mutate(x.id),className:"border-red-300 text-red-600",children:r.jsx(qr,{className:"w-4 h-4"})})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ko,{className:"w-4 h-4 text-slate-500"}),r.jsx(jf,{value:[x.volume||.5],onValueChange:y=>h(x,y),max:1,step:.1,className:"flex-1"}),r.jsxs("span",{className:"text-xs text-slate-600 w-12",children:[Math.round((x.volume||.5)*100),"%"]})]})]}),r.jsx("label",{className:"block",children:r.jsx("input",{type:"file",accept:"audio/*",onChange:y=>d(f,y.target.files[0]),disabled:g,className:"w-full text-xs file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-xs file:font-semibold file:bg-purple-50 file:text-purple-700 hover:file:bg-purple-100 disabled:opacity-50"})}),g&&r.jsxs("p",{className:"text-xs text-purple-600 mt-2 flex items-center gap-2",children:[r.jsx(On,{className:"w-3 h-3 animate-spin"}),"Enviando..."]})]})},f)})})]})}const cTe=[{id:"zamira_city",label:"Cidade de Zamira",icon:Ts,color:"from-teal-500 to-teal-600",description:"Metaverso 2D com interao em tempo real"},{id:"arena",label:"Arena de Duelos",icon:ri,color:"from-red-500 to-red-600",description:"Sistema de batalhas msticas e competies"},{id:"voice",label:"Voice (VOCEM)",icon:On,color:"from-purple-500 to-purple-600",description:"Sistema de udios msticos"},{id:"portals",label:"Portais Msticos",icon:On,color:"from-blue-500 to-blue-600",description:"Tarot, Astrologia, etc"},{id:"shop",label:"Loja Mstica",icon:On,color:"from-amber-500 to-amber-600",description:"E-commerce de produtos"},{id:"chat",label:"Chat Global",icon:On,color:"from-pink-500 to-pink-600",description:"Sistema de mensagens"}];function EF(){const[t,e]=w.useState(null),[n,a]=w.useState({maintenance_message:"",maintenance_end_time:""}),s=wt(),{data:i,isLoading:o}=Oe({queryKey:["admin-system-status"],queryFn:()=>H.entities.SystemStatus.list()}),l=Ue({mutationFn:async({systemName:u,maintenanceMode:h,message:f,endTime:v})=>{const x=i==null?void 0:i.find(g=>g.system_name===u);return x?await H.entities.SystemStatus.update(x.id,{maintenance_mode:h,maintenance_message:f,maintenance_end_time:v}):await H.entities.SystemStatus.create({system_name:u,is_active:!0,maintenance_mode:h,maintenance_message:f,maintenance_end_time:v})},onSuccess:()=>{s.invalidateQueries({queryKey:["admin-system-status"]}),e(null),alert(" Status atualizado!")}}),c=u=>i==null?void 0:i.find(h=>h.system_name===u),d=(u,h)=>{h&&t!==u?e(u):h?(l.mutate({systemName:u,maintenanceMode:!0,message:n.maintenance_message,endTime:n.maintenance_end_time}),a({maintenance_message:"",maintenance_end_time:""})):l.mutate({systemName:u,maintenanceMode:!1,message:"",endTime:""})};return r.jsxs("div",{className:"space-y-6 pb-20",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Gerenciar Jogos e Sistemas"}),r.jsx("p",{className:"text-slate-600",children:"Controle de manuteno e status dos sistemas"})]}),r.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:cTe.map(u=>{const h=u.icon,f=c(u.id),v=f==null?void 0:f.maintenance_mode,x=t===u.id;return r.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:r.jsxs(X,{className:"bg-white border-slate-200 p-6",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-12 h-12 rounded-lg bg-gradient-to-br ${u.color} flex items-center justify-center`,children:r.jsx(h,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-slate-900",children:u.label}),r.jsx("p",{className:"text-xs text-slate-600",children:u.description})]})]}),v?r.jsxs(De,{className:"bg-red-100 text-red-800 border-red-300",children:[r.jsx(Vu,{className:"w-3 h-3 mr-1"}),"Manuteno"]}):r.jsxs(De,{className:"bg-green-100 text-green-800 border-green-300",children:[r.jsx(_n,{className:"w-3 h-3 mr-1"}),"Ativo"]})]}),v&&f&&r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 mb-4",children:[r.jsxs("p",{className:"text-sm text-red-900 mb-1",children:[r.jsx("strong",{children:"Mensagem:"})," ",f.maintenance_message]}),f.maintenance_end_time&&r.jsxs("p",{className:"text-xs text-red-700 flex items-center gap-1",children:[r.jsx(Mr,{className:"w-3 h-3"}),"Retorno previsto: ",new Date(f.maintenance_end_time).toLocaleString("pt-BR")]})]}),x&&r.jsxs("div",{className:"space-y-3 mb-4",children:[r.jsx(It,{placeholder:"Mensagem de manuteno para os usurios...",value:n.maintenance_message,onChange:g=>a({...n,maintenance_message:g.target.value}),rows:3,className:"text-sm"}),r.jsx(je,{type:"datetime-local",value:n.maintenance_end_time,onChange:g=>a({...n,maintenance_end_time:g.target.value}),className:"text-sm"})]}),r.jsxs("div",{className:"flex gap-2",children:[v?r.jsxs(W,{onClick:()=>d(u.id,!1),disabled:l.isPending,className:"flex-1 bg-green-600 hover:bg-green-700 text-white",children:[r.jsx(_n,{className:"w-4 h-4 mr-2"}),"Ativar Sistema"]}):r.jsxs(W,{onClick:()=>d(u.id,!0),disabled:l.isPending,variant:"outline",className:"flex-1 border-red-300 text-red-600 hover:bg-red-50",children:[r.jsx(Vu,{className:"w-4 h-4 mr-2"}),"Modo Manuteno"]}),x&&r.jsx(W,{onClick:()=>d(u.id,!0),disabled:l.isPending,className:"bg-red-600 hover:bg-red-700 text-white",children:"Confirmar"})]})]})},u.id)})}),r.jsxs(X,{className:"bg-gradient-to-br from-blue-50 to-purple-50 border-blue-300 p-6",children:[r.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:" Informaes"}),r.jsxs("ul",{className:"text-sm text-slate-700 space-y-1",children:[r.jsxs("li",{children:[" ",r.jsx("strong",{children:"Modo Manuteno:"})," Usurios vero mensagem ao tentar acessar"]}),r.jsxs("li",{children:[" ",r.jsx("strong",{children:"Sistema Ativo:"})," Funcionamento normal"]}),r.jsxs("li",{children:[" ",r.jsx("strong",{children:"Previso de Retorno:"})," Opcional, informa aos usurios quando volta"]})]})]})]})}function AF(){const[t,e]=w.useState(null),n=wt(),{data:a,isLoading:s}=Oe({queryKey:["app-settings"],queryFn:async()=>(await H.entities.AppSettings.list())[0]||null}),{data:i}=Oe({queryKey:["app-users-count"],queryFn:()=>H.entities.User.list()}),o=Ue({mutationFn:async u=>a?await H.entities.AppSettings.update(a.id,u):await H.entities.AppSettings.create(u),onSuccess:()=>{n.invalidateQueries({queryKey:["app-settings"]}),e(null),alert(" Configuraes do App salvas!")}}),l=async(u,h)=>{const f=u.target.files[0];if(f)try{const{file_url:v}=await H.integrations.Core.UploadFile({file:f});e({...t,[h]:v}),alert(" Imagem enviada!")}catch(v){alert("Erro: "+v.message)}},c=()=>{t&&o.mutate({...t,last_updated:new Date().toISOString(),total_users:(i==null?void 0:i.length)||0})};if(ae.useEffect(()=>{e(a||{app_name:"Zamira - Portal Mstico",app_short_name:"Zamira",app_description:"Sua jornada mstica comea aqui",theme_color:"#9333EA",background_color:"#02031C",version:"1.0.0",total_installs:0,is_maintenance_mode:!1})},[a]),s||!t)return r.jsxs("div",{className:"text-center py-12",children:[r.jsx(On,{className:"w-12 h-12 text-purple-600 animate-pulse mx-auto mb-4"}),r.jsx("p",{className:"text-slate-600",children:"Carregando configuraes..."})]});const d=[{label:"Instalaes",value:t.total_installs||0,icon:Wo,color:"from-blue-500 to-blue-600"},{label:"Usurios Ativos",value:(i==null?void 0:i.length)||0,icon:Kn,color:"from-purple-500 to-purple-600"},{label:"Verso Atual",value:t.version||"1.0.0",icon:dd,color:"from-green-500 to-green-600"}];return r.jsxs("div",{className:"space-y-6 pb-20",children:[r.jsxs("div",{children:[r.jsxs("h2",{className:"text-2xl font-bold text-slate-900 flex items-center gap-2",children:[r.jsx(aG,{className:"w-7 h-7"}),"Configuraes do Aplicativo"]}),r.jsx("p",{className:"text-slate-600",children:"Gerencie todas as configuraes do PWA"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:d.map((u,h)=>{const f=u.icon;return r.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:h*.1},children:r.jsx(X,{className:"bg-white border-slate-200 p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-12 h-12 rounded-xl bg-gradient-to-br ${u.color} flex items-center justify-center`,children:r.jsx(f,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-slate-900",children:u.value}),r.jsx("p",{className:"text-sm text-slate-600",children:u.label})]})]})})},u.label)})}),r.jsxs(X,{className:"bg-white border-slate-200 p-6",children:[r.jsxs("h3",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[r.jsx(xf,{className:"w-5 h-5 text-purple-600"}),"Identidade Visual"]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-slate-700 mb-2 block",children:"Nome do Aplicativo"}),r.jsx(je,{value:t.app_name||"",onChange:u=>e({...t,app_name:u.target.value}),className:"border-slate-300"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-slate-700 mb-2 block",children:"Nome Curto (para cone)"}),r.jsx(je,{value:t.app_short_name||"",onChange:u=>e({...t,app_short_name:u.target.value}),className:"border-slate-300"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"text-sm font-medium text-slate-700 mb-2 block",children:"Descrio"}),r.jsx(It,{value:t.app_description||"",onChange:u=>e({...t,app_description:u.target.value}),className:"border-slate-300",rows:3})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-slate-700 mb-2 block",children:"Verso"}),r.jsx(je,{value:t.version||"",onChange:u=>e({...t,version:u.target.value}),className:"border-slate-300",placeholder:"1.0.0"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-slate-700 mb-2 block",children:"Total de Instalaes"}),r.jsx(je,{type:"number",value:t.total_installs||0,onChange:u=>e({...t,total_installs:parseInt(u.target.value)}),className:"border-slate-300"})]})]})]}),r.jsxs(X,{className:"bg-white border-slate-200 p-6",children:[r.jsxs("h3",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[r.jsx(xf,{className:"w-5 h-5 text-purple-600"}),"Cores do Tema"]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-slate-700 mb-2 block",children:"Cor do Tema"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(je,{type:"color",value:t.theme_color||"#9333EA",onChange:u=>e({...t,theme_color:u.target.value}),className:"w-20 h-10 border-slate-300"}),r.jsx(je,{value:t.theme_color||"",onChange:u=>e({...t,theme_color:u.target.value}),className:"flex-1 border-slate-300",placeholder:"#9333EA"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-slate-700 mb-2 block",children:"Cor de Fundo"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(je,{type:"color",value:t.background_color||"#02031C",onChange:u=>e({...t,background_color:u.target.value}),className:"w-20 h-10 border-slate-300"}),r.jsx(je,{value:t.background_color||"",onChange:u=>e({...t,background_color:u.target.value}),className:"flex-1 border-slate-300",placeholder:"#02031C"})]})]})]})]}),r.jsxs(X,{className:"bg-white border-slate-200 p-6",children:[r.jsxs("h3",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[r.jsx(Sg,{className:"w-5 h-5 text-purple-600"}),"cones e Imagens"]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-slate-700 mb-2 block",children:"Logo Principal"}),r.jsx("input",{type:"file",accept:"image/*",onChange:u=>l(u,"app_logo_url"),className:"w-full text-sm file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:bg-purple-50 file:text-purple-700 mb-2"}),t.app_logo_url&&r.jsx("img",{src:t.app_logo_url,className:"w-32 h-32 object-contain border rounded"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-slate-700 mb-2 block",children:"cone 512x512 (PWA)"}),r.jsx("input",{type:"file",accept:"image/*",onChange:u=>l(u,"app_icon_512_url"),className:"w-full text-sm file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:bg-purple-50 file:text-purple-700 mb-2"}),t.app_icon_512_url&&r.jsx("img",{src:t.app_icon_512_url,className:"w-32 h-32 object-contain border rounded"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-slate-700 mb-2 block",children:"cone 192x192 (PWA)"}),r.jsx("input",{type:"file",accept:"image/*",onChange:u=>l(u,"app_icon_192_url"),className:"w-full text-sm file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:bg-purple-50 file:text-purple-700 mb-2"}),t.app_icon_192_url&&r.jsx("img",{src:t.app_icon_192_url,className:"w-32 h-32 object-contain border rounded"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-slate-700 mb-2 block",children:"Tela de Splash (Carregamento)"}),r.jsx("input",{type:"file",accept:"image/*",onChange:u=>l(u,"app_splash_url"),className:"w-full text-sm file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:bg-purple-50 file:text-purple-700 mb-2"}),t.app_splash_url&&r.jsx("img",{src:t.app_splash_url,className:"w-full max-w-sm h-auto object-contain border rounded"})]})]})]}),r.jsxs(X,{className:"bg-gradient-to-br from-amber-50 to-orange-50 border-amber-300 p-6",children:[r.jsx("h3",{className:"text-lg font-bold text-amber-900 mb-4",children:" Modo Manuteno Geral do App"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:t.is_maintenance_mode||!1,onChange:u=>e({...t,is_maintenance_mode:u.target.checked})}),r.jsx("span",{className:"text-sm font-medium",children:"Ativar Modo Manuteno"})]}),t.is_maintenance_mode&&r.jsx(It,{value:t.maintenance_message||"",onChange:u=>e({...t,maintenance_message:u.target.value}),placeholder:"Mensagem que ser exibida aos usurios...",className:"border-amber-300",rows:3})]})]}),r.jsx("div",{className:"flex justify-end",children:r.jsxs(W,{onClick:c,disabled:o.isPending,className:"bg-purple-600 hover:bg-purple-700 text-white",size:"lg",children:[r.jsx(oa,{className:"w-5 h-5 mr-2"}),"Salvar Configuraes do App"]})})]})}function MF(){const[t,e]=w.useState(""),[n,a]=w.useState(null),[s,i]=w.useState(""),o=wt(),{data:l,isLoading:c}=Oe({queryKey:["admin-all-ads"],queryFn:()=>H.entities.Ad.list("-created_date",500)}),d=Ue({mutationFn:async({adId:b,data:_})=>await H.entities.Ad.update(b,_),onSuccess:()=>{o.invalidateQueries({queryKey:["admin-all-ads"]}),alert(" Anncio atualizado!")}}),u=Ue({mutationFn:async b=>await H.entities.Ad.delete(b),onSuccess:()=>{o.invalidateQueries({queryKey:["admin-all-ads"]})}}),h=b=>{d.mutate({adId:b.id,data:{is_approved:!0,status:"active",admin_notes:s}}),a(null),i("")},f=b=>{d.mutate({adId:b.id,data:{status:"rejected",admin_notes:s}}),a(null),i("")},v=b=>{const _=b.status==="active"?"paused":"active";d.mutate({adId:b.id,data:{status:_}})},x=(l==null?void 0:l.filter(b=>{var j,S;const _=t.toLowerCase();return((j=b.title)==null?void 0:j.toLowerCase().includes(_))||((S=b.advertiser_name)==null?void 0:S.toLowerCase().includes(_))}))||[],g={total:(l==null?void 0:l.length)||0,pending:(l==null?void 0:l.filter(b=>b.status==="pending").length)||0,active:(l==null?void 0:l.filter(b=>b.status==="active").length)||0,totalImpressions:(l==null?void 0:l.reduce((b,_)=>b+(_.total_impressions||0),0))||0,totalClicks:(l==null?void 0:l.reduce((b,_)=>b+(_.total_clicks||0),0))||0,totalRevenue:(l==null?void 0:l.reduce((b,_)=>b+(_.budget_ouros||0),0))||0},y={pending:{bg:"bg-yellow-100",text:"text-yellow-800",label:"Aguardando"},active:{bg:"bg-green-100",text:"text-green-800",label:"Ativo"},paused:{bg:"bg-gray-100",text:"text-gray-800",label:"Pausado"},completed:{bg:"bg-blue-100",text:"text-blue-800",label:"Concludo"},rejected:{bg:"bg-red-100",text:"text-red-800",label:"Rejeitado"}};return r.jsxs("div",{className:"space-y-6 pb-20",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Gerenciar Anncios"}),r.jsx("p",{className:"text-slate-600",children:"Aprovar, pausar e monitorar anncios"})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[r.jsxs(X,{className:"bg-white border-slate-200 p-4",children:[r.jsx("p",{className:"text-xs text-slate-600 mb-1",children:"Total"}),r.jsx("p",{className:"text-2xl font-bold text-slate-900",children:g.total})]}),r.jsxs(X,{className:"bg-yellow-50 border-yellow-200 p-4",children:[r.jsx("p",{className:"text-xs text-yellow-700 mb-1",children:"Pendentes"}),r.jsx("p",{className:"text-2xl font-bold text-yellow-800",children:g.pending})]}),r.jsxs(X,{className:"bg-green-50 border-green-200 p-4",children:[r.jsx("p",{className:"text-xs text-green-700 mb-1",children:"Ativos"}),r.jsx("p",{className:"text-2xl font-bold text-green-800",children:g.active})]}),r.jsxs(X,{className:"bg-blue-50 border-blue-200 p-4",children:[r.jsx("p",{className:"text-xs text-blue-700 mb-1",children:"Views Total"}),r.jsx("p",{className:"text-2xl font-bold text-blue-800",children:g.totalImpressions})]}),r.jsxs(X,{className:"bg-purple-50 border-purple-200 p-4",children:[r.jsx("p",{className:"text-xs text-purple-700 mb-1",children:"Cliques Total"}),r.jsx("p",{className:"text-2xl font-bold text-purple-800",children:g.totalClicks})]}),r.jsxs(X,{className:"bg-gradient-to-br from-purple-50 to-pink-50 border-purple-200 p-4",children:[r.jsx("p",{className:"text-xs text-purple-700 mb-1",children:"Receita"}),r.jsx("p",{className:"text-2xl font-bold text-purple-800",children:g.totalRevenue})]})]}),r.jsx(X,{className:"bg-white border-slate-200 p-4",children:r.jsxs("div",{className:"relative",children:[r.jsx($s,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),r.jsx(je,{value:t,onChange:b=>e(b.target.value),placeholder:"Buscar anncios...",className:"pl-10 border-slate-300"})]})}),r.jsx("div",{className:"space-y-4",children:c?r.jsx("div",{className:"text-center py-12",children:r.jsx(On,{className:"w-12 h-12 text-purple-600 animate-pulse mx-auto mb-4"})}):x.length===0?r.jsxs(X,{className:"bg-white border-slate-200 p-12 text-center",children:[r.jsx(fu,{className:"w-12 h-12 text-slate-400 mx-auto mb-4"}),r.jsx("p",{className:"text-slate-600",children:"Nenhum anncio encontrado"})]}):x.map((b,_)=>{const j=y[b.status],S=b.total_impressions>0?(b.total_clicks/b.total_impressions*100).toFixed(1):0;return r.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:_*.02},children:r.jsxs(X,{className:"bg-white border-slate-200 p-6",children:[r.jsxs("div",{className:"flex items-start gap-4",children:[b.image_url&&r.jsx("img",{src:b.image_url,className:"w-32 h-32 object-cover rounded-lg"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("h3",{className:"font-bold text-slate-900",children:b.title}),r.jsx(De,{className:`${j.bg} ${j.text}`,children:j.label}),!b.is_approved&&b.status==="pending"&&r.jsx(De,{className:"bg-orange-100 text-orange-800",children:"Precisa Aprovar"})]}),r.jsx("p",{className:"text-sm text-slate-600 mb-3",children:b.description}),r.jsxs("div",{className:"flex items-center gap-4 text-xs text-slate-500 mb-3",children:[r.jsxs("span",{children:["Por: ",b.advertiser_name]}),r.jsxs("span",{children:['Boto: "',b.button_text,'"']}),r.jsxs("span",{className:"capitalize",children:[" ",b.placement]})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-2",children:[r.jsxs("div",{className:"bg-slate-50 p-2 rounded",children:[r.jsx("p",{className:"text-xs text-slate-600",children:"Views"}),r.jsx("p",{className:"font-bold text-slate-900",children:b.total_impressions||0})]}),r.jsxs("div",{className:"bg-slate-50 p-2 rounded",children:[r.jsx("p",{className:"text-xs text-slate-600",children:"Cliques"}),r.jsx("p",{className:"font-bold text-slate-900",children:b.total_clicks||0})]}),r.jsxs("div",{className:"bg-slate-50 p-2 rounded",children:[r.jsx("p",{className:"text-xs text-slate-600",children:"CTR"}),r.jsxs("p",{className:"font-bold text-slate-900",children:[S,"%"]})]}),r.jsxs("div",{className:"bg-purple-50 p-2 rounded",children:[r.jsx("p",{className:"text-xs text-purple-700",children:"Oramento"}),r.jsx("p",{className:"font-bold text-purple-800",children:b.budget_ouros})]}),r.jsxs("div",{className:"bg-pink-50 p-2 rounded",children:[r.jsx("p",{className:"text-xs text-pink-700",children:"Gasto"}),r.jsx("p",{className:"font-bold text-pink-800",children:b.total_spent||0})]})]})]}),r.jsxs("div",{className:"flex flex-col gap-2",children:[b.status==="pending"&&r.jsxs(r.Fragment,{children:[r.jsxs(W,{variant:"outline",size:"sm",onClick:()=>a(b),className:"border-green-300 text-green-600",children:[r.jsx(_n,{className:"w-4 h-4 mr-2"}),"Aprovar"]}),r.jsxs(W,{variant:"outline",size:"sm",onClick:()=>{a(b),setTimeout(()=>f(b),100)},className:"border-red-300 text-red-600",children:[r.jsx(RM,{className:"w-4 h-4 mr-2"}),"Rejeitar"]})]}),b.status==="active"&&r.jsxs(W,{variant:"outline",size:"sm",onClick:()=>v(b),children:[r.jsx(cd,{className:"w-4 h-4 mr-2"}),"Pausar"]}),b.status==="paused"&&r.jsxs(W,{variant:"outline",size:"sm",onClick:()=>v(b),className:"border-green-300 text-green-600",children:[r.jsx(Qa,{className:"w-4 h-4 mr-2"}),"Ativar"]}),r.jsx(W,{variant:"outline",size:"sm",onClick:()=>{confirm("Deletar anncio?")&&u.mutate(b.id)},className:"border-red-300 text-red-600",children:r.jsx(qr,{className:"w-4 h-4"})})]})]}),b.admin_notes&&r.jsxs("div",{className:"mt-3 p-3 bg-slate-50 rounded-lg",children:[r.jsx("p",{className:"text-xs text-slate-600 mb-1",children:"Notas do Admin:"}),r.jsx("p",{className:"text-sm text-slate-800",children:b.admin_notes})]})]})},b.id)})}),n&&n.status==="pending"&&r.jsx("div",{className:"fixed inset-0 z-[100] bg-black/60 flex items-center justify-center p-4",children:r.jsxs(X,{className:"bg-white max-w-md w-full p-6",children:[r.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-4",children:"Revisar Anncio"}),r.jsxs("div",{className:"mb-4",children:[r.jsx("p",{className:"font-semibold text-slate-900",children:n.title}),r.jsx("p",{className:"text-sm text-slate-600",children:n.description})]}),r.jsx(It,{value:s,onChange:b=>i(b.target.value),placeholder:"Notas do admin (opcional)...",className:"mb-4",rows:3}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(W,{onClick:()=>h(n),className:"flex-1 bg-green-600 hover:bg-green-700 text-white",children:[r.jsx(_n,{className:"w-4 h-4 mr-2"}),"Aprovar"]}),r.jsxs(W,{onClick:()=>f(n),variant:"outline",className:"flex-1 border-red-300 text-red-600",children:[r.jsx(RM,{className:"w-4 h-4 mr-2"}),"Rejeitar"]}),r.jsx(W,{variant:"outline",onClick:()=>a(null),children:"Cancelar"})]})]})})]})}function PF(){const{data:t}=Oe({queryKey:["admin-quiz-attempts"],queryFn:async()=>(await H.entities.User.list("-xp",100)).filter(s=>s.xp>0),refetchInterval:1e4}),e=(t==null?void 0:t.slice(0,10))||[],n=(t==null?void 0:t.reduce((a,s)=>a+(s.xp||0),0))/((t==null?void 0:t.length)||1);return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Quizzes Msticos"}),r.jsx("p",{className:"text-slate-600",children:"Acompanhe o desempenho dos usurios"})]}),r.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[r.jsx(X,{className:"bg-white border-slate-200 p-6",children:r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg bg-purple-100 flex items-center justify-center",children:r.jsx(ho,{className:"w-5 h-5 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-slate-600",children:"Usurios Ativos"}),r.jsx("p",{className:"text-2xl font-bold text-slate-900",children:(t==null?void 0:t.length)||0})]})]})}),r.jsx(X,{className:"bg-white border-slate-200 p-6",children:r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg bg-green-100 flex items-center justify-center",children:r.jsx(Jn,{className:"w-5 h-5 text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-slate-600",children:"XP Mdio"}),r.jsx("p",{className:"text-2xl font-bold text-slate-900",children:Math.floor(n||0)})]})]})}),r.jsx(X,{className:"bg-white border-slate-200 p-6",children:r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg bg-yellow-100 flex items-center justify-center",children:r.jsx(xr,{className:"w-5 h-5 text-yellow-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-slate-600",children:"Top Performers"}),r.jsx("p",{className:"text-2xl font-bold text-slate-900",children:e.length})]})]})})]}),r.jsxs(X,{className:"bg-white border-slate-200 p-6",children:[r.jsxs("h3",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[r.jsx(xr,{className:"w-5 h-5 text-yellow-600"}),"Top 10 Usurios por XP"]}),r.jsx("div",{className:"space-y-3",children:e.map((a,s)=>{var i;return r.jsxs(q.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:s*.05},className:"flex items-center gap-4 p-3 bg-slate-50 rounded-lg hover:bg-slate-100 transition",children:[r.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold text-sm ${s===0?"bg-yellow-500 text-white":s===1?"bg-gray-400 text-white":s===2?"bg-amber-700 text-white":"bg-slate-300 text-slate-700"}`,children:s+1}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-semibold text-slate-900 truncate",children:a.display_name||a.full_name}),r.jsx("p",{className:"text-xs text-slate-500",children:a.email})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"text-sm font-bold text-purple-600",children:[(i=a.xp)==null?void 0:i.toLocaleString()," XP"]}),r.jsxs(De,{variant:"outline",className:"text-xs",children:["Nv ",a.level||1]})]})]},a.id)})})]}),r.jsxs(X,{className:"bg-gradient-to-br from-purple-50 to-pink-50 border-purple-200 p-6",children:[r.jsxs("h4",{className:"font-bold text-purple-900 mb-2 flex items-center gap-2",children:[r.jsx(ho,{className:"w-5 h-5"}),"Sobre os Quizzes"]}),r.jsxs("ul",{className:"text-sm text-purple-800 space-y-1.5",children:[r.jsx("li",{children:" Usurios ganham 0.5% de XP ao acertar 80%+ das questes"}),r.jsx("li",{children:" Quizzes gerados por IA sobre temas holsticos"}),r.jsx("li",{children:" Sistema de progresso com 10 perguntas por quiz"}),r.jsx("li",{children:" Timer de 60 segundos por quiz completo"})]})]})]})}const dTe=[{name:"Hub",path:"pages/Hub.js"},{name:"Explorar",path:"pages/Explorar.js"},{name:"Chat",path:"pages/Chat.js"},{name:"MinhaConta",path:"pages/MinhaConta.js"},{name:"Arquetipo",path:"pages/Arquetipo.js"},{name:"Portais",path:"pages/Portais.js"},{name:"ArenaHub",path:"pages/ArenaHub.js"},{name:"Loja",path:"pages/Loja.js"},{name:"Produto",path:"pages/Produto.js"},{name:"Carteira",path:"pages/Carteira.js"},{name:"ZamiraCity",path:"pages/ZamiraCity.js"},{name:"AreaDoAluno",path:"pages/AreaDoAluno.js"},{name:"BibliotecaMistica",path:"pages/BibliotecaMistica.js"},{name:"PlannerLunar",path:"pages/PlannerLunar.js"},{name:"Notificacoes",path:"pages/Notificacoes.js"},{name:"PlanoDeAcao",path:"pages/PlanoDeAcao.js"},{name:"Certificado",path:"pages/Certificado.js"},{name:"OraculoCombinacoes",path:"pages/OraculoCombinacoes.js"}];function TF(){const[t,e]=w.useState(null),[n,a]=w.useState(""),[s,i]=w.useState(!1),[o,l]=w.useState(!1),c=async u=>{i(!0),e(u);try{const f=await(await fetch(`/${u.path}`)).text();a(f)}catch(h){console.error("Erro ao carregar pgina:",h),a("// Erro ao carregar contedo da pgina")}finally{i(!1)}},d=async()=>{if(!(!t||!n)){l(!0);try{(await fetch("/api/edit-file",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({file_path:t.path,content:n})})).ok?alert(" Pgina salva com sucesso!"):alert(" Erro ao salvar pgina")}catch(u){console.error("Erro ao salvar:",u),alert(" Erro ao salvar: "+u.message)}finally{l(!1)}}};return r.jsxs("div",{className:"space-y-6 pb-20",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-1",children:"Editor de Pginas"}),r.jsx("p",{className:"text-slate-600",children:"Clique em uma pgina para editar seu cdigo"})]}),r.jsxs($r,{defaultValue:"existing",className:"w-full",children:[r.jsx(Tr,{className:"grid w-full grid-cols-1 bg-slate-100",children:r.jsxs(xt,{value:"existing",children:[r.jsx(li,{className:"w-4 h-4 mr-2"}),"Pginas Existentes"]})}),r.jsxs(et,{value:"existing",className:"space-y-4 mt-6",children:[r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:r.jsxs("p",{className:"text-sm text-blue-900",children:[" ",r.jsx("strong",{children:"Dica:"})," Clique em qualquer pgina para editar seu cdigo diretamente aqui. As alteraes sero salvas instantaneamente."]})}),t?r.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-4",children:r.jsxs(X,{className:"bg-white border-slate-200 p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg bg-purple-600 flex items-center justify-center",children:r.jsx(zue,{className:"w-5 h-5 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-bold text-slate-900",children:t.name}),r.jsx("p",{className:"text-xs text-slate-600",children:t.path})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(W,{onClick:d,disabled:o,className:"bg-green-600 hover:bg-green-700 text-white",children:o?r.jsxs(r.Fragment,{children:[r.jsx(_e,{className:"w-4 h-4 mr-2 animate-spin"})," Salvando..."]}):r.jsxs(r.Fragment,{children:[r.jsx(oa,{className:"w-4 h-4 mr-2"})," Salvar"]})}),r.jsxs(W,{variant:"outline",onClick:()=>{e(null),a("")},children:[r.jsx(nt,{className:"w-4 h-4 mr-2"}),"Fechar"]})]})]}),s?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(_e,{className:"w-12 h-12 text-purple-600 animate-pulse mx-auto mb-4"}),r.jsx("p",{className:"text-slate-600",children:"Carregando cdigo..."})]}):r.jsxs("div",{className:"relative",children:[r.jsx("textarea",{value:n,onChange:u=>a(u.target.value),className:"w-full h-[600px] p-4 font-mono text-sm bg-slate-900 text-green-400 rounded-lg border-2 border-slate-700 focus:border-purple-500 focus:outline-none",spellCheck:"false"}),r.jsx(De,{className:"absolute top-2 right-2 bg-slate-800 text-slate-300",children:"JavaScript/JSX"})]})]})}):r.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-3",children:dTe.map(u=>r.jsx(q.button,{onClick:()=>c(u),whileHover:{scale:1.02},whileTap:{scale:.98},className:"text-left",children:r.jsx(X,{className:"bg-white border-slate-200 p-4 hover:border-purple-400 transition",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-purple-600 to-pink-600 flex items-center justify-center",children:r.jsx(li,{className:"w-5 h-5 text-white"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"font-bold text-slate-900 truncate",children:u.name}),r.jsx("p",{className:"text-xs text-slate-600 truncate",children:u.path})]}),r.jsx(Khe,{className:"w-4 h-4 text-purple-600 flex-shrink-0"})]})})},u.name))})]})]})]})}function kF(){const[t,e]=w.useState(null),[n,a]=w.useState(!1),[s,i]=w.useState({code_name:"",code_type:"head",code_content:"",is_active:!0,priority:0,description:""}),o=wt(),{data:l,isLoading:c}=Oe({queryKey:["tracking-codes"],queryFn:()=>H.entities.TrackingCode.list("-priority",100)}),d=Ue({mutationFn:async g=>t?await H.entities.TrackingCode.update(t.id,g):await H.entities.TrackingCode.create(g),onSuccess:()=>{o.invalidateQueries({queryKey:["tracking-codes"]}),e(null),a(!1),i({code_name:"",code_type:"head",code_content:"",is_active:!0,priority:0,description:""}),alert(" Cdigo de tracking salvo! Atualize a pgina para aplicar as mudanas.")}}),u=Ue({mutationFn:async g=>await H.entities.TrackingCode.delete(g),onSuccess:()=>{o.invalidateQueries({queryKey:["tracking-codes"]}),alert(" Cdigo removido!")}}),h=g=>{e(g),i(g),a(!0)},f=()=>{if(!s.code_name||!s.code_content){alert(" Preencha o nome e o cdigo");return}d.mutate(s)},v={head:"HEAD (antes de </head>)",body_start:"BODY START (aps <body>)",body_end:"BODY END (antes de </body>)",footer:"FOOTER (final da pgina)"},x={head:"bg-blue-100 text-blue-800",body_start:"bg-green-100 text-green-800",body_end:"bg-purple-100 text-purple-800",footer:"bg-orange-100 text-orange-800"};return r.jsxs("div",{className:"space-y-6 pb-20",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Tracking & Analytics"}),r.jsx("p",{className:"text-slate-600",children:"Gerencie pixels, tags e cdigos de rastreamento"})]}),r.jsxs(W,{onClick:()=>{a(!0),e(null),i({code_name:"",code_type:"head",code_content:"",is_active:!0,priority:0,description:""})},className:"bg-blue-600 hover:bg-blue-700 text-white",children:[r.jsx(_r,{className:"w-4 h-4 mr-2"}),"Novo Cdigo"]})]}),n&&r.jsxs(X,{className:"bg-gradient-to-br from-blue-50 to-purple-50 border-blue-300 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-xl font-bold text-slate-900",children:t?"Editar Cdigo de Tracking":"Novo Cdigo de Tracking"}),r.jsx(W,{variant:"ghost",size:"icon",onClick:()=>a(!1),children:r.jsx(nt,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Nome do Cdigo *"}),r.jsx(je,{placeholder:"ex: Google Analytics, Facebook Pixel",value:s.code_name,onChange:g=>i({...s,code_name:g.target.value})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Posio do Cdigo *"}),r.jsxs("select",{value:s.code_type,onChange:g=>i({...s,code_type:g.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg",children:[r.jsx("option",{value:"head",children:"HEAD (Meta tags, scripts iniciais)"}),r.jsx("option",{value:"body_start",children:"BODY START (Aps abertura do body)"}),r.jsx("option",{value:"body_end",children:"BODY END (Antes do fechamento do body)"}),r.jsx("option",{value:"footer",children:"FOOTER (Final da pgina)"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Descrio (opcional)"}),r.jsx(je,{placeholder:"ex: Pixel de converso para Facebook Ads",value:s.description,onChange:g=>i({...s,description:g.target.value})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Cdigo HTML/JavaScript *"}),r.jsx(It,{placeholder:`<script>
  // Google Analytics
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;...})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-XXXXX-Y', 'auto');
  ga('send', 'pageview');
<\/script>`,value:s.code_content,onChange:g=>i({...s,code_content:g.target.value}),rows:10,className:"font-mono text-xs"}),r.jsx("p",{className:"text-xs text-slate-600 mt-2",children:" Cole o cdigo fornecido pela plataforma de analytics (Google Analytics, Facebook Pixel, etc)"})]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Prioridade (ordem de execuo)"}),r.jsx(je,{type:"number",placeholder:"0 (maior nmero = executa primeiro)",value:s.priority,onChange:g=>i({...s,priority:parseInt(g.target.value)||0})})]}),r.jsx("div",{className:"flex items-center",children:r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:s.is_active,onChange:g=>i({...s,is_active:g.target.checked})}),r.jsx("span",{className:"text-sm",children:"Cdigo Ativo"})]})})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs(W,{onClick:f,disabled:d.isPending,className:"bg-blue-600 hover:bg-blue-700 text-white",children:[r.jsx(oa,{className:"w-4 h-4 mr-2"}),"Salvar Cdigo"]}),r.jsx(W,{variant:"outline",onClick:()=>a(!1),children:"Cancelar"})]})]})]}),r.jsx("div",{className:"space-y-3",children:c?r.jsx("div",{className:"text-center py-12",children:r.jsx(On,{className:"w-12 h-12 text-blue-600 animate-pulse mx-auto mb-4"})}):l&&l.length>0?l.map(g=>r.jsx(X,{className:"bg-white border-slate-200 p-4",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-lg bg-blue-100 flex items-center justify-center flex-shrink-0",children:r.jsx(KD,{className:"w-6 h-6 text-blue-600"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[r.jsx("h3",{className:"font-bold text-slate-900",children:g.code_name}),r.jsx(De,{className:x[g.code_type],children:v[g.code_type]}),g.is_active?r.jsx(De,{className:"bg-green-100 text-green-800",children:"Ativo"}):r.jsx(De,{variant:"outline",children:"Inativo"}),r.jsxs(De,{variant:"outline",children:["Prioridade: ",g.priority]})]}),g.description&&r.jsx("p",{className:"text-sm text-slate-600 mb-2",children:g.description}),r.jsxs("details",{className:"text-xs text-slate-500",children:[r.jsx("summary",{className:"cursor-pointer hover:text-slate-700",children:"Ver cdigo"}),r.jsx("pre",{className:"mt-2 p-3 bg-slate-100 rounded overflow-x-auto",children:r.jsx("code",{children:g.code_content})})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(W,{variant:"outline",size:"icon",onClick:()=>h(g),children:r.jsx(io,{className:"w-4 h-4"})}),r.jsx(W,{variant:"outline",size:"icon",onClick:()=>{confirm("Tem certeza que deseja excluir este cdigo?")&&u.mutate(g.id)},className:"border-red-300 text-red-600",children:r.jsx(qr,{className:"w-4 h-4"})})]})]})},g.id)):r.jsxs(X,{className:"bg-white border-slate-200 p-12 text-center",children:[r.jsx(KD,{className:"w-16 h-16 text-slate-400 mx-auto mb-4"}),r.jsx("p",{className:"text-slate-600 mb-4",children:"Nenhum cdigo de tracking configurado"}),r.jsxs(W,{onClick:()=>a(!0),className:"bg-blue-600 hover:bg-blue-700 text-white",children:[r.jsx(_r,{className:"w-4 h-4 mr-2"}),"Adicionar Primeiro Cdigo"]})]})}),r.jsxs(X,{className:"bg-gradient-to-br from-slate-50 to-purple-50 border-purple-200 p-6",children:[r.jsx("h4",{className:"font-bold text-slate-900 mb-4",children:" Exemplos Comuns de Cdigos de Tracking:"}),r.jsxs("div",{className:"space-y-3 text-sm",children:[r.jsxs("div",{className:"p-3 bg-white rounded-lg border border-slate-200",children:[r.jsx("strong",{className:"text-blue-600",children:"Google Analytics (GA4):"}),r.jsx("p",{className:"text-xs text-slate-600 mt-1",children:"Posio: HEAD  Rastreia pageviews e eventos"})]}),r.jsxs("div",{className:"p-3 bg-white rounded-lg border border-slate-200",children:[r.jsx("strong",{className:"text-blue-600",children:"Facebook Pixel:"}),r.jsx("p",{className:"text-xs text-slate-600 mt-1",children:"Posio: HEAD  Rastreia converses do Facebook Ads"})]}),r.jsxs("div",{className:"p-3 bg-white rounded-lg border border-slate-200",children:[r.jsx("strong",{className:"text-blue-600",children:"Google Tag Manager:"}),r.jsx("p",{className:"text-xs text-slate-600 mt-1",children:"Posio: BODY START + BODY END  Container de tags"})]}),r.jsxs("div",{className:"p-3 bg-white rounded-lg border border-slate-200",children:[r.jsx("strong",{className:"text-blue-600",children:"Hotjar / Clarity:"}),r.jsx("p",{className:"text-xs text-slate-600 mt-1",children:"Posio: HEAD  Gravao de sesses e heatmaps"})]})]})]}),r.jsx(X,{className:"bg-orange-50 border-orange-200 p-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Vu,{className:"w-5 h-5 text-orange-600 flex-shrink-0 mt-0.5"}),r.jsx("div",{children:r.jsxs("p",{className:"text-sm text-orange-900",children:[r.jsx("strong",{children:" Importante:"})," Os cdigos de tracking so inseridos automaticamente em todas as pginas do site. Certifique-se de que o cdigo est correto antes de ativar. Cdigos malformados podem quebrar o site."]})})]})})]})}var D2,RF;function Bs(){if(RF)return D2;RF=1;var t=Array.isArray;return D2=t,D2}var I2,OF;function QJ(){if(OF)return I2;OF=1;var t=typeof Qv=="object"&&Qv&&Qv.Object===Object&&Qv;return I2=t,I2}var L2,DF;function rl(){if(DF)return L2;DF=1;var t=QJ(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return L2=n,L2}var F2,IF;function Ug(){if(IF)return F2;IF=1;var t=rl(),e=t.Symbol;return F2=e,F2}var $2,LF;function uTe(){if(LF)return $2;LF=1;var t=Ug(),e=Object.prototype,n=e.hasOwnProperty,a=e.toString,s=t?t.toStringTag:void 0;function i(o){var l=n.call(o,s),c=o[s];try{o[s]=void 0;var d=!0}catch{}var u=a.call(o);return d&&(l?o[s]=c:delete o[s]),u}return $2=i,$2}var U2,FF;function hTe(){if(FF)return U2;FF=1;var t=Object.prototype,e=t.toString;function n(a){return e.call(a)}return U2=n,U2}var B2,$F;function nc(){if($F)return B2;$F=1;var t=Ug(),e=uTe(),n=hTe(),a="[object Null]",s="[object Undefined]",i=t?t.toStringTag:void 0;function o(l){return l==null?l===void 0?s:a:i&&i in Object(l)?e(l):n(l)}return B2=o,B2}var z2,UF;function rc(){if(UF)return z2;UF=1;function t(e){return e!=null&&typeof e=="object"}return z2=t,z2}var q2,BF;function jp(){if(BF)return q2;BF=1;var t=nc(),e=rc(),n="[object Symbol]";function a(s){return typeof s=="symbol"||e(s)&&t(s)==n}return q2=a,q2}var V2,zF;function jk(){if(zF)return V2;zF=1;var t=Bs(),e=jp(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;function s(i,o){if(t(i))return!1;var l=typeof i;return l=="number"||l=="symbol"||l=="boolean"||i==null||e(i)?!0:a.test(i)||!n.test(i)||o!=null&&i in Object(o)}return V2=s,V2}var H2,qF;function jd(){if(qF)return H2;qF=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return H2=t,H2}var G2,VF;function Nk(){if(VF)return G2;VF=1;var t=nc(),e=jd(),n="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",i="[object Proxy]";function o(l){if(!e(l))return!1;var c=t(l);return c==a||c==s||c==n||c==i}return G2=o,G2}var W2,HF;function mTe(){if(HF)return W2;HF=1;var t=rl(),e=t["__core-js_shared__"];return W2=e,W2}var K2,GF;function fTe(){if(GF)return K2;GF=1;var t=mTe(),e=(function(){var a=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""})();function n(a){return!!e&&e in a}return K2=n,K2}var X2,WF;function ZJ(){if(WF)return X2;WF=1;var t=Function.prototype,e=t.toString;function n(a){if(a!=null){try{return e.call(a)}catch{}try{return a+""}catch{}}return""}return X2=n,X2}var Y2,KF;function pTe(){if(KF)return Y2;KF=1;var t=Nk(),e=fTe(),n=jd(),a=ZJ(),s=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,c=o.toString,d=l.hasOwnProperty,u=RegExp("^"+c.call(d).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(f){if(!n(f)||e(f))return!1;var v=t(f)?u:i;return v.test(a(f))}return Y2=h,Y2}var Q2,XF;function xTe(){if(XF)return Q2;XF=1;function t(e,n){return e==null?void 0:e[n]}return Q2=t,Q2}var Z2,YF;function mh(){if(YF)return Z2;YF=1;var t=pTe(),e=xTe();function n(a,s){var i=e(a,s);return t(i)?i:void 0}return Z2=n,Z2}var J2,QF;function h_(){if(QF)return J2;QF=1;var t=mh(),e=t(Object,"create");return J2=e,J2}var eS,ZF;function gTe(){if(ZF)return eS;ZF=1;var t=h_();function e(){this.__data__=t?t(null):{},this.size=0}return eS=e,eS}var tS,JF;function vTe(){if(JF)return tS;JF=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return tS=t,tS}var nS,e8;function yTe(){if(e8)return nS;e8=1;var t=h_(),e="__lodash_hash_undefined__",n=Object.prototype,a=n.hasOwnProperty;function s(i){var o=this.__data__;if(t){var l=o[i];return l===e?void 0:l}return a.call(o,i)?o[i]:void 0}return nS=s,nS}var rS,t8;function bTe(){if(t8)return rS;t8=1;var t=h_(),e=Object.prototype,n=e.hasOwnProperty;function a(s){var i=this.__data__;return t?i[s]!==void 0:n.call(i,s)}return rS=a,rS}var aS,n8;function wTe(){if(n8)return aS;n8=1;var t=h_(),e="__lodash_hash_undefined__";function n(a,s){var i=this.__data__;return this.size+=this.has(a)?0:1,i[a]=t&&s===void 0?e:s,this}return aS=n,aS}var sS,r8;function _Te(){if(r8)return sS;r8=1;var t=gTe(),e=vTe(),n=yTe(),a=bTe(),s=wTe();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var d=o[l];this.set(d[0],d[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=n,i.prototype.has=a,i.prototype.set=s,sS=i,sS}var iS,a8;function jTe(){if(a8)return iS;a8=1;function t(){this.__data__=[],this.size=0}return iS=t,iS}var oS,s8;function Sk(){if(s8)return oS;s8=1;function t(e,n){return e===n||e!==e&&n!==n}return oS=t,oS}var lS,i8;function m_(){if(i8)return lS;i8=1;var t=Sk();function e(n,a){for(var s=n.length;s--;)if(t(n[s][0],a))return s;return-1}return lS=e,lS}var cS,o8;function NTe(){if(o8)return cS;o8=1;var t=m_(),e=Array.prototype,n=e.splice;function a(s){var i=this.__data__,o=t(i,s);if(o<0)return!1;var l=i.length-1;return o==l?i.pop():n.call(i,o,1),--this.size,!0}return cS=a,cS}var dS,l8;function STe(){if(l8)return dS;l8=1;var t=m_();function e(n){var a=this.__data__,s=t(a,n);return s<0?void 0:a[s][1]}return dS=e,dS}var uS,c8;function CTe(){if(c8)return uS;c8=1;var t=m_();function e(n){return t(this.__data__,n)>-1}return uS=e,uS}var hS,d8;function ETe(){if(d8)return hS;d8=1;var t=m_();function e(n,a){var s=this.__data__,i=t(s,n);return i<0?(++this.size,s.push([n,a])):s[i][1]=a,this}return hS=e,hS}var mS,u8;function f_(){if(u8)return mS;u8=1;var t=jTe(),e=NTe(),n=STe(),a=CTe(),s=ETe();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var d=o[l];this.set(d[0],d[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=n,i.prototype.has=a,i.prototype.set=s,mS=i,mS}var fS,h8;function Ck(){if(h8)return fS;h8=1;var t=mh(),e=rl(),n=t(e,"Map");return fS=n,fS}var pS,m8;function ATe(){if(m8)return pS;m8=1;var t=_Te(),e=f_(),n=Ck();function a(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return pS=a,pS}var xS,f8;function MTe(){if(f8)return xS;f8=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return xS=t,xS}var gS,p8;function p_(){if(p8)return gS;p8=1;var t=MTe();function e(n,a){var s=n.__data__;return t(a)?s[typeof a=="string"?"string":"hash"]:s.map}return gS=e,gS}var vS,x8;function PTe(){if(x8)return vS;x8=1;var t=p_();function e(n){var a=t(this,n).delete(n);return this.size-=a?1:0,a}return vS=e,vS}var yS,g8;function TTe(){if(g8)return yS;g8=1;var t=p_();function e(n){return t(this,n).get(n)}return yS=e,yS}var bS,v8;function kTe(){if(v8)return bS;v8=1;var t=p_();function e(n){return t(this,n).has(n)}return bS=e,bS}var wS,y8;function RTe(){if(y8)return wS;y8=1;var t=p_();function e(n,a){var s=t(this,n),i=s.size;return s.set(n,a),this.size+=s.size==i?0:1,this}return wS=e,wS}var _S,b8;function Ek(){if(b8)return _S;b8=1;var t=ATe(),e=PTe(),n=TTe(),a=kTe(),s=RTe();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var d=o[l];this.set(d[0],d[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=n,i.prototype.has=a,i.prototype.set=s,_S=i,_S}var jS,w8;function JJ(){if(w8)return jS;w8=1;var t=Ek(),e="Expected a function";function n(a,s){if(typeof a!="function"||s!=null&&typeof s!="function")throw new TypeError(e);var i=function(){var o=arguments,l=s?s.apply(this,o):o[0],c=i.cache;if(c.has(l))return c.get(l);var d=a.apply(this,o);return i.cache=c.set(l,d)||c,d};return i.cache=new(n.Cache||t),i}return n.Cache=t,jS=n,jS}var NS,_8;function OTe(){if(_8)return NS;_8=1;var t=JJ(),e=500;function n(a){var s=t(a,function(o){return i.size===e&&i.clear(),o}),i=s.cache;return s}return NS=n,NS}var SS,j8;function DTe(){if(j8)return SS;j8=1;var t=OTe(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,a=t(function(s){var i=[];return s.charCodeAt(0)===46&&i.push(""),s.replace(e,function(o,l,c,d){i.push(c?d.replace(n,"$1"):l||o)}),i});return SS=a,SS}var CS,N8;function Ak(){if(N8)return CS;N8=1;function t(e,n){for(var a=-1,s=e==null?0:e.length,i=Array(s);++a<s;)i[a]=n(e[a],a,e);return i}return CS=t,CS}var ES,S8;function ITe(){if(S8)return ES;S8=1;var t=Ug(),e=Ak(),n=Bs(),a=jp(),s=t?t.prototype:void 0,i=s?s.toString:void 0;function o(l){if(typeof l=="string")return l;if(n(l))return e(l,o)+"";if(a(l))return i?i.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return ES=o,ES}var AS,C8;function eee(){if(C8)return AS;C8=1;var t=ITe();function e(n){return n==null?"":t(n)}return AS=e,AS}var MS,E8;function tee(){if(E8)return MS;E8=1;var t=Bs(),e=jk(),n=DTe(),a=eee();function s(i,o){return t(i)?i:e(i,o)?[i]:n(a(i))}return MS=s,MS}var PS,A8;function x_(){if(A8)return PS;A8=1;var t=jp();function e(n){if(typeof n=="string"||t(n))return n;var a=n+"";return a=="0"&&1/n==-1/0?"-0":a}return PS=e,PS}var TS,M8;function Mk(){if(M8)return TS;M8=1;var t=tee(),e=x_();function n(a,s){s=t(s,a);for(var i=0,o=s.length;a!=null&&i<o;)a=a[e(s[i++])];return i&&i==o?a:void 0}return TS=n,TS}var kS,P8;function nee(){if(P8)return kS;P8=1;var t=Mk();function e(n,a,s){var i=n==null?void 0:t(n,a);return i===void 0?s:i}return kS=e,kS}var LTe=nee();const oi=In(LTe);var RS,T8;function FTe(){if(T8)return RS;T8=1;function t(e){return e==null}return RS=t,RS}var $Te=FTe();const hn=In($Te);var OS,k8;function UTe(){if(k8)return OS;k8=1;var t=nc(),e=Bs(),n=rc(),a="[object String]";function s(i){return typeof i=="string"||!e(i)&&n(i)&&t(i)==a}return OS=s,OS}var BTe=UTe();const eh=In(BTe);var zTe=Nk();const en=In(zTe);var qTe=jd();const Np=In(qTe);var DS={exports:{}},qn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R8;function VTe(){if(R8)return qn;R8=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen"),x;x=Symbol.for("react.module.reference");function g(y){if(typeof y=="object"&&y!==null){var b=y.$$typeof;switch(b){case t:switch(y=y.type,y){case n:case s:case a:case d:case u:return y;default:switch(y=y&&y.$$typeof,y){case l:case o:case c:case f:case h:case i:return y;default:return b}}case e:return b}}}return qn.ContextConsumer=o,qn.ContextProvider=i,qn.Element=t,qn.ForwardRef=c,qn.Fragment=n,qn.Lazy=f,qn.Memo=h,qn.Portal=e,qn.Profiler=s,qn.StrictMode=a,qn.Suspense=d,qn.SuspenseList=u,qn.isAsyncMode=function(){return!1},qn.isConcurrentMode=function(){return!1},qn.isContextConsumer=function(y){return g(y)===o},qn.isContextProvider=function(y){return g(y)===i},qn.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===t},qn.isForwardRef=function(y){return g(y)===c},qn.isFragment=function(y){return g(y)===n},qn.isLazy=function(y){return g(y)===f},qn.isMemo=function(y){return g(y)===h},qn.isPortal=function(y){return g(y)===e},qn.isProfiler=function(y){return g(y)===s},qn.isStrictMode=function(y){return g(y)===a},qn.isSuspense=function(y){return g(y)===d},qn.isSuspenseList=function(y){return g(y)===u},qn.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===n||y===s||y===a||y===d||y===u||y===v||typeof y=="object"&&y!==null&&(y.$$typeof===f||y.$$typeof===h||y.$$typeof===i||y.$$typeof===o||y.$$typeof===c||y.$$typeof===x||y.getModuleId!==void 0)},qn.typeOf=g,qn}var O8;function HTe(){return O8||(O8=1,DS.exports=VTe()),DS.exports}var GTe=HTe(),IS,D8;function ree(){if(D8)return IS;D8=1;var t=nc(),e=rc(),n="[object Number]";function a(s){return typeof s=="number"||e(s)&&t(s)==n}return IS=a,IS}var LS,I8;function WTe(){if(I8)return LS;I8=1;var t=ree();function e(n){return t(n)&&n!=+n}return LS=e,LS}var KTe=WTe();const Sp=In(KTe);var XTe=ree();const YTe=In(XTe);var cs=function(e){return e===0?0:e>0?1:-1},bu=function(e){return eh(e)&&e.indexOf("%")===e.length-1},Ye=function(e){return YTe(e)&&!Sp(e)},QTe=function(e){return hn(e)},ca=function(e){return Ye(e)||eh(e)},ZTe=0,Cp=function(e){var n=++ZTe;return"".concat(e||"").concat(n)},ds=function(e,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ye(e)&&!eh(e))return a;var i;if(bu(e)){var o=e.indexOf("%");i=n*parseFloat(e.slice(0,o))/100}else i=+e;return Sp(i)&&(i=a),s&&i>n&&(i=n),i},Bc=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},JTe=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,a={},s=0;s<n;s++)if(!a[e[s]])a[e[s]]=!0;else return!0;return!1},Ss=function(e,n){return Ye(e)&&Ye(n)?function(a){return e+a*(n-e)}:function(){return n}};function hw(t,e,n){return!t||!t.length?null:t.find(function(a){return a&&(typeof e=="function"?e(a):oi(a,e))===n})}var e3e=function(e,n){return Ye(e)&&Ye(n)?e-n:eh(e)&&eh(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Gm(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var a in e)if({}.hasOwnProperty.call(e,a)&&!{}.hasOwnProperty.call(t,a))return!1;return!0}function WP(t){"@babel/helpers - typeof";return WP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},WP(t)}var t3e=["viewBox","children"],n3e=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],L8=["points","pathLength"],FS={svg:t3e,polygon:L8,polyline:L8},Pk=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],mw=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(w.isValidElement(e)&&(a=e.props),!Np(a))return null;var s={};return Object.keys(a).forEach(function(i){Pk.includes(i)&&(s[i]=n||function(o){return a[i](a,o)})}),s},r3e=function(e,n,a){return function(s){return e(n,a,s),null}},th=function(e,n,a){if(!Np(e)||WP(e)!=="object")return null;var s=null;return Object.keys(e).forEach(function(i){var o=e[i];Pk.includes(i)&&typeof o=="function"&&(s||(s={}),s[i]=r3e(o,n,a))}),s},a3e=["children"],s3e=["children"];function F8(t,e){if(t==null)return{};var n=i3e(t,e),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)a=i[s],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function i3e(t,e){if(t==null)return{};var n={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(e.indexOf(a)>=0)continue;n[a]=t[a]}return n}function KP(t){"@babel/helpers - typeof";return KP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},KP(t)}var $8={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ul=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},U8=null,$S=null,Tk=function t(e){if(e===U8&&Array.isArray($S))return $S;var n=[];return w.Children.forEach(e,function(a){hn(a)||(GTe.isFragment(a)?n=n.concat(t(a.props.children)):n.push(a))}),$S=n,U8=e,n};function Di(t,e){var n=[],a=[];return Array.isArray(e)?a=e.map(function(s){return Ul(s)}):a=[Ul(e)],Tk(t).forEach(function(s){var i=oi(s,"type.displayName")||oi(s,"type.name");a.indexOf(i)!==-1&&n.push(s)}),n}function Zs(t,e){var n=Di(t,e);return n&&n[0]}var B8=function(e){if(!e||!e.props)return!1;var n=e.props,a=n.width,s=n.height;return!(!Ye(a)||a<=0||!Ye(s)||s<=0)},o3e=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],l3e=function(e){return e&&e.type&&eh(e.type)&&o3e.indexOf(e.type)>=0},c3e=function(e){return e&&KP(e)==="object"&&"clipDot"in e},d3e=function(e,n,a,s){var i,o=(i=FS==null?void 0:FS[s])!==null&&i!==void 0?i:[];return n.startsWith("data-")||!en(e)&&(s&&o.includes(n)||n3e.includes(n))||a&&Pk.includes(n)},Bt=function(e,n,a){if(!e||typeof e=="function"||typeof e=="boolean")return null;var s=e;if(w.isValidElement(e)&&(s=e.props),!Np(s))return null;var i={};return Object.keys(s).forEach(function(o){var l;d3e((l=s)===null||l===void 0?void 0:l[o],o,n,a)&&(i[o]=s[o])}),i},XP=function t(e,n){if(e===n)return!0;var a=w.Children.count(e);if(a!==w.Children.count(n))return!1;if(a===0)return!0;if(a===1)return z8(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var s=0;s<a;s++){var i=e[s],o=n[s];if(Array.isArray(i)||Array.isArray(o)){if(!t(i,o))return!1}else if(!z8(i,o))return!1}return!0},z8=function(e,n){if(hn(e)&&hn(n))return!0;if(!hn(e)&&!hn(n)){var a=e.props||{},s=a.children,i=F8(a,a3e),o=n.props||{},l=o.children,c=F8(o,s3e);return s&&l?Gm(i,c)&&XP(s,l):!s&&!l?Gm(i,c):!1}return!1},q8=function(e,n){var a=[],s={};return Tk(e).forEach(function(i,o){if(l3e(i))a.push(i);else if(i){var l=Ul(i.type),c=n[l]||{},d=c.handler,u=c.once;if(d&&(!u||!s[l])){var h=d(i,l,o);a.push(h),s[l]=!0}}}),a},u3e=function(e){var n=e&&e.type;return n&&$8[n]?$8[n]:null},h3e=function(e,n){return Tk(n).indexOf(e)},m3e=["children","width","height","viewBox","className","style","title","desc"];function YP(){return YP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},YP.apply(this,arguments)}function f3e(t,e){if(t==null)return{};var n=p3e(t,e),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)a=i[s],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function p3e(t,e){if(t==null)return{};var n={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(e.indexOf(a)>=0)continue;n[a]=t[a]}return n}function QP(t){var e=t.children,n=t.width,a=t.height,s=t.viewBox,i=t.className,o=t.style,l=t.title,c=t.desc,d=f3e(t,m3e),u=s||{width:n,height:a,x:0,y:0},h=un("recharts-surface",i);return ae.createElement("svg",YP({},Bt(d,!0,"svg"),{className:h,width:n,height:a,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),ae.createElement("title",null,l),ae.createElement("desc",null,c),e)}var x3e=["children","className"];function ZP(){return ZP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},ZP.apply(this,arguments)}function g3e(t,e){if(t==null)return{};var n=v3e(t,e),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)a=i[s],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function v3e(t,e){if(t==null)return{};var n={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(e.indexOf(a)>=0)continue;n[a]=t[a]}return n}var An=ae.forwardRef(function(t,e){var n=t.children,a=t.className,s=g3e(t,x3e),i=un("recharts-layer",a);return ae.createElement("g",ZP({className:i},Bt(s,!0),{ref:e}),n)}),fo=function(e,n){for(var a=arguments.length,s=new Array(a>2?a-2:0),i=2;i<a;i++)s[i-2]=arguments[i]},US,V8;function y3e(){if(V8)return US;V8=1;function t(e,n,a){var s=-1,i=e.length;n<0&&(n=-n>i?0:i+n),a=a>i?i:a,a<0&&(a+=i),i=n>a?0:a-n>>>0,n>>>=0;for(var o=Array(i);++s<i;)o[s]=e[s+n];return o}return US=t,US}var BS,H8;function b3e(){if(H8)return BS;H8=1;var t=y3e();function e(n,a,s){var i=n.length;return s=s===void 0?i:s,!a&&s>=i?n:t(n,a,s)}return BS=e,BS}var zS,G8;function aee(){if(G8)return zS;G8=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",s=e+n+a,i="\\ufe0e\\ufe0f",o="\\u200d",l=RegExp("["+o+t+s+i+"]");function c(d){return l.test(d)}return zS=c,zS}var qS,W8;function w3e(){if(W8)return qS;W8=1;function t(e){return e.split("")}return qS=t,qS}var VS,K8;function _3e(){if(K8)return VS;K8=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",s=e+n+a,i="\\ufe0e\\ufe0f",o="["+t+"]",l="["+s+"]",c="\\ud83c[\\udffb-\\udfff]",d="(?:"+l+"|"+c+")",u="[^"+t+"]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",f="[\\ud800-\\udbff][\\udc00-\\udfff]",v="\\u200d",x=d+"?",g="["+i+"]?",y="(?:"+v+"(?:"+[u,h,f].join("|")+")"+g+x+")*",b=g+x+y,_="(?:"+[u+l+"?",l,h,f,o].join("|")+")",j=RegExp(c+"(?="+c+")|"+_+b,"g");function S(C){return C.match(j)||[]}return VS=S,VS}var HS,X8;function j3e(){if(X8)return HS;X8=1;var t=w3e(),e=aee(),n=_3e();function a(s){return e(s)?n(s):t(s)}return HS=a,HS}var GS,Y8;function N3e(){if(Y8)return GS;Y8=1;var t=b3e(),e=aee(),n=j3e(),a=eee();function s(i){return function(o){o=a(o);var l=e(o)?n(o):void 0,c=l?l[0]:o.charAt(0),d=l?t(l,1).join(""):o.slice(1);return c[i]()+d}}return GS=s,GS}var WS,Q8;function S3e(){if(Q8)return WS;Q8=1;var t=N3e(),e=t("toUpperCase");return WS=e,WS}var C3e=S3e();const g_=In(C3e);function cr(t){return function(){return t}}const see=Math.cos,fw=Math.sin,_o=Math.sqrt,pw=Math.PI,v_=2*pw,JP=Math.PI,eT=2*JP,ru=1e-6,E3e=eT-ru;function iee(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function A3e(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return iee;const n=10**e;return function(a){this._+=a[0];for(let s=1,i=a.length;s<i;++s)this._+=Math.round(arguments[s]*n)/n+a[s]}}class M3e{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?iee:A3e(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,a,s){this._append`Q${+e},${+n},${this._x1=+a},${this._y1=+s}`}bezierCurveTo(e,n,a,s,i,o){this._append`C${+e},${+n},${+a},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(e,n,a,s,i){if(e=+e,n=+n,a=+a,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=a-e,d=s-n,u=o-e,h=l-n,f=u*u+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(f>ru)if(!(Math.abs(h*c-d*u)>ru)||!i)this._append`L${this._x1=e},${this._y1=n}`;else{let v=a-o,x=s-l,g=c*c+d*d,y=v*v+x*x,b=Math.sqrt(g),_=Math.sqrt(f),j=i*Math.tan((JP-Math.acos((g+f-y)/(2*b*_)))/2),S=j/_,C=j/b;Math.abs(S-1)>ru&&this._append`L${e+S*u},${n+S*h}`,this._append`A${i},${i},0,0,${+(h*v>u*x)},${this._x1=e+C*c},${this._y1=n+C*d}`}}arc(e,n,a,s,i,o){if(e=+e,n=+n,a=+a,o=!!o,a<0)throw new Error(`negative radius: ${a}`);let l=a*Math.cos(s),c=a*Math.sin(s),d=e+l,u=n+c,h=1^o,f=o?s-i:i-s;this._x1===null?this._append`M${d},${u}`:(Math.abs(this._x1-d)>ru||Math.abs(this._y1-u)>ru)&&this._append`L${d},${u}`,a&&(f<0&&(f=f%eT+eT),f>E3e?this._append`A${a},${a},0,1,${h},${e-l},${n-c}A${a},${a},0,1,${h},${this._x1=d},${this._y1=u}`:f>ru&&this._append`A${a},${a},0,${+(f>=JP)},${h},${this._x1=e+a*Math.cos(i)},${this._y1=n+a*Math.sin(i)}`)}rect(e,n,a,s){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${a=+a}v${+s}h${-a}Z`}toString(){return this._}}function kk(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const a=Math.floor(n);if(!(a>=0))throw new RangeError(`invalid digits: ${n}`);e=a}return t},()=>new M3e(e)}function Rk(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function oee(t){this._context=t}oee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function y_(t){return new oee(t)}function lee(t){return t[0]}function cee(t){return t[1]}function dee(t,e){var n=cr(!0),a=null,s=y_,i=null,o=kk(l);t=typeof t=="function"?t:t===void 0?lee:cr(t),e=typeof e=="function"?e:e===void 0?cee:cr(e);function l(c){var d,u=(c=Rk(c)).length,h,f=!1,v;for(a==null&&(i=s(v=o())),d=0;d<=u;++d)!(d<u&&n(h=c[d],d,c))===f&&((f=!f)?i.lineStart():i.lineEnd()),f&&i.point(+t(h,d,c),+e(h,d,c));if(v)return i=null,v+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:cr(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:cr(+c),l):e},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:cr(!!c),l):n},l.curve=function(c){return arguments.length?(s=c,a!=null&&(i=s(a)),l):s},l.context=function(c){return arguments.length?(c==null?a=i=null:i=s(a=c),l):a},l}function Ay(t,e,n){var a=null,s=cr(!0),i=null,o=y_,l=null,c=kk(d);t=typeof t=="function"?t:t===void 0?lee:cr(+t),e=typeof e=="function"?e:cr(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?cee:cr(+n);function d(h){var f,v,x,g=(h=Rk(h)).length,y,b=!1,_,j=new Array(g),S=new Array(g);for(i==null&&(l=o(_=c())),f=0;f<=g;++f){if(!(f<g&&s(y=h[f],f,h))===b)if(b=!b)v=f,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),x=f-1;x>=v;--x)l.point(j[x],S[x]);l.lineEnd(),l.areaEnd()}b&&(j[f]=+t(y,f,h),S[f]=+e(y,f,h),l.point(a?+a(y,f,h):j[f],n?+n(y,f,h):S[f]))}if(_)return l=null,_+""||null}function u(){return dee().defined(s).curve(o).context(i)}return d.x=function(h){return arguments.length?(t=typeof h=="function"?h:cr(+h),a=null,d):t},d.x0=function(h){return arguments.length?(t=typeof h=="function"?h:cr(+h),d):t},d.x1=function(h){return arguments.length?(a=h==null?null:typeof h=="function"?h:cr(+h),d):a},d.y=function(h){return arguments.length?(e=typeof h=="function"?h:cr(+h),n=null,d):e},d.y0=function(h){return arguments.length?(e=typeof h=="function"?h:cr(+h),d):e},d.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:cr(+h),d):n},d.lineX0=d.lineY0=function(){return u().x(t).y(e)},d.lineY1=function(){return u().x(t).y(n)},d.lineX1=function(){return u().x(a).y(e)},d.defined=function(h){return arguments.length?(s=typeof h=="function"?h:cr(!!h),d):s},d.curve=function(h){return arguments.length?(o=h,i!=null&&(l=o(i)),d):o},d.context=function(h){return arguments.length?(h==null?i=l=null:l=o(i=h),d):i},d}class uee{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function P3e(t){return new uee(t,!0)}function T3e(t){return new uee(t,!1)}const Ok={draw(t,e){const n=_o(e/pw);t.moveTo(n,0),t.arc(0,0,n,0,v_)}},k3e={draw(t,e){const n=_o(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},hee=_o(1/3),R3e=hee*2,O3e={draw(t,e){const n=_o(e/R3e),a=n*hee;t.moveTo(0,-n),t.lineTo(a,0),t.lineTo(0,n),t.lineTo(-a,0),t.closePath()}},D3e={draw(t,e){const n=_o(e),a=-n/2;t.rect(a,a,n,n)}},I3e=.8908130915292852,mee=fw(pw/10)/fw(7*pw/10),L3e=fw(v_/10)*mee,F3e=-see(v_/10)*mee,$3e={draw(t,e){const n=_o(e*I3e),a=L3e*n,s=F3e*n;t.moveTo(0,-n),t.lineTo(a,s);for(let i=1;i<5;++i){const o=v_*i/5,l=see(o),c=fw(o);t.lineTo(c*n,-l*n),t.lineTo(l*a-c*s,c*a+l*s)}t.closePath()}},KS=_o(3),U3e={draw(t,e){const n=-_o(e/(KS*3));t.moveTo(0,n*2),t.lineTo(-KS*n,-n),t.lineTo(KS*n,-n),t.closePath()}},vi=-.5,yi=_o(3)/2,tT=1/_o(12),B3e=(tT/2+1)*3,z3e={draw(t,e){const n=_o(e/B3e),a=n/2,s=n*tT,i=a,o=n*tT+n,l=-i,c=o;t.moveTo(a,s),t.lineTo(i,o),t.lineTo(l,c),t.lineTo(vi*a-yi*s,yi*a+vi*s),t.lineTo(vi*i-yi*o,yi*i+vi*o),t.lineTo(vi*l-yi*c,yi*l+vi*c),t.lineTo(vi*a+yi*s,vi*s-yi*a),t.lineTo(vi*i+yi*o,vi*o-yi*i),t.lineTo(vi*l+yi*c,vi*c-yi*l),t.closePath()}};function q3e(t,e){let n=null,a=kk(s);t=typeof t=="function"?t:cr(t||Ok),e=typeof e=="function"?e:cr(e===void 0?64:+e);function s(){let i;if(n||(n=i=a()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),i)return n=null,i+""||null}return s.type=function(i){return arguments.length?(t=typeof i=="function"?i:cr(i),s):t},s.size=function(i){return arguments.length?(e=typeof i=="function"?i:cr(+i),s):e},s.context=function(i){return arguments.length?(n=i??null,s):n},s}function xw(){}function gw(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function fee(t){this._context=t}fee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:gw(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:gw(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function V3e(t){return new fee(t)}function pee(t){this._context=t}pee.prototype={areaStart:xw,areaEnd:xw,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:gw(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function H3e(t){return new pee(t)}function xee(t){this._context=t}xee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,a=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,a):this._context.moveTo(n,a);break;case 3:this._point=4;default:gw(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function G3e(t){return new xee(t)}function gee(t){this._context=t}gee.prototype={areaStart:xw,areaEnd:xw,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function W3e(t){return new gee(t)}function Z8(t){return t<0?-1:1}function J8(t,e,n){var a=t._x1-t._x0,s=e-t._x1,i=(t._y1-t._y0)/(a||s<0&&-0),o=(n-t._y1)/(s||a<0&&-0),l=(i*s+o*a)/(a+s);return(Z8(i)+Z8(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function e9(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function XS(t,e,n){var a=t._x0,s=t._y0,i=t._x1,o=t._y1,l=(i-a)/3;t._context.bezierCurveTo(a+l,s+l*e,i-l,o-l*n,i,o)}function vw(t){this._context=t}vw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:XS(this,this._t0,e9(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,XS(this,e9(this,n=J8(this,t,e)),n);break;default:XS(this,this._t0,n=J8(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function vee(t){this._context=new yee(t)}(vee.prototype=Object.create(vw.prototype)).point=function(t,e){vw.prototype.point.call(this,e,t)};function yee(t){this._context=t}yee.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,a,s,i){this._context.bezierCurveTo(e,t,a,n,i,s)}};function K3e(t){return new vw(t)}function X3e(t){return new vee(t)}function bee(t){this._context=t}bee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var a=t9(t),s=t9(e),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(a[0][i],s[0][i],a[1][i],s[1][i],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function t9(t){var e,n=t.length-1,a,s=new Array(n),i=new Array(n),o=new Array(n);for(s[0]=0,i[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)s[e]=1,i[e]=4,o[e]=4*t[e]+2*t[e+1];for(s[n-1]=2,i[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)a=s[e]/i[e-1],i[e]-=a,o[e]-=a*o[e-1];for(s[n-1]=o[n-1]/i[n-1],e=n-2;e>=0;--e)s[e]=(o[e]-s[e+1])/i[e];for(i[n-1]=(t[n]+s[n-1])/2,e=0;e<n-1;++e)i[e]=2*t[e+1]-s[e+1];return[s,i]}function Y3e(t){return new bee(t)}function b_(t,e){this._context=t,this._t=e}b_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Q3e(t){return new b_(t,.5)}function Z3e(t){return new b_(t,0)}function J3e(t){return new b_(t,1)}function Ef(t,e){if((o=t.length)>1)for(var n=1,a,s,i=t[e[0]],o,l=i.length;n<o;++n)for(s=i,i=t[e[n]],a=0;a<l;++a)i[a][1]+=i[a][0]=isNaN(s[a][1])?s[a][0]:s[a][1]}function nT(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function e4e(t,e){return t[e]}function t4e(t){const e=[];return e.key=t,e}function n4e(){var t=cr([]),e=nT,n=Ef,a=e4e;function s(i){var o=Array.from(t.apply(this,arguments),t4e),l,c=o.length,d=-1,u;for(const h of i)for(l=0,++d;l<c;++l)(o[l][d]=[0,+a(h,o[l].key,d,i)]).data=h;for(l=0,u=Rk(e(o));l<c;++l)o[u[l]].index=l;return n(o,u),o}return s.keys=function(i){return arguments.length?(t=typeof i=="function"?i:cr(Array.from(i)),s):t},s.value=function(i){return arguments.length?(a=typeof i=="function"?i:cr(+i),s):a},s.order=function(i){return arguments.length?(e=i==null?nT:typeof i=="function"?i:cr(Array.from(i)),s):e},s.offset=function(i){return arguments.length?(n=i??Ef,s):n},s}function r4e(t,e){if((a=t.length)>0){for(var n,a,s=0,i=t[0].length,o;s<i;++s){for(o=n=0;n<a;++n)o+=t[n][s][1]||0;if(o)for(n=0;n<a;++n)t[n][s][1]/=o}Ef(t,e)}}function a4e(t,e){if((s=t.length)>0){for(var n=0,a=t[e[0]],s,i=a.length;n<i;++n){for(var o=0,l=0;o<s;++o)l+=t[o][n][1]||0;a[n][1]+=a[n][0]=-l/2}Ef(t,e)}}function s4e(t,e){if(!(!((o=t.length)>0)||!((i=(s=t[e[0]]).length)>0))){for(var n=0,a=1,s,i,o;a<i;++a){for(var l=0,c=0,d=0;l<o;++l){for(var u=t[e[l]],h=u[a][1]||0,f=u[a-1][1]||0,v=(h-f)/2,x=0;x<l;++x){var g=t[e[x]],y=g[a][1]||0,b=g[a-1][1]||0;v+=y-b}c+=h,d+=v*h}s[a-1][1]+=s[a-1][0]=n,c&&(n-=d/c)}s[a-1][1]+=s[a-1][0]=n,Ef(t,e)}}function Tx(t){"@babel/helpers - typeof";return Tx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tx(t)}var i4e=["type","size","sizeType"];function rT(){return rT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},rT.apply(this,arguments)}function n9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function r9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n9(Object(n),!0).forEach(function(a){o4e(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n9(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function o4e(t,e,n){return e=l4e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l4e(t){var e=c4e(t,"string");return Tx(e)=="symbol"?e:e+""}function c4e(t,e){if(Tx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,e);if(Tx(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function d4e(t,e){if(t==null)return{};var n=u4e(t,e),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)a=i[s],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function u4e(t,e){if(t==null)return{};var n={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(e.indexOf(a)>=0)continue;n[a]=t[a]}return n}var wee={symbolCircle:Ok,symbolCross:k3e,symbolDiamond:O3e,symbolSquare:D3e,symbolStar:$3e,symbolTriangle:U3e,symbolWye:z3e},h4e=Math.PI/180,m4e=function(e){var n="symbol".concat(g_(e));return wee[n]||Ok},f4e=function(e,n,a){if(n==="area")return e;switch(a){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var s=18*h4e;return 1.25*e*e*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},p4e=function(e,n){wee["symbol".concat(g_(e))]=n},Dk=function(e){var n=e.type,a=n===void 0?"circle":n,s=e.size,i=s===void 0?64:s,o=e.sizeType,l=o===void 0?"area":o,c=d4e(e,i4e),d=r9(r9({},c),{},{type:a,size:i,sizeType:l}),u=function(){var y=m4e(a),b=q3e().type(y).size(f4e(i,l,a));return b()},h=d.className,f=d.cx,v=d.cy,x=Bt(d,!0);return f===+f&&v===+v&&i===+i?ae.createElement("path",rT({},x,{className:un("recharts-symbols",h),transform:"translate(".concat(f,", ").concat(v,")"),d:u()})):null};Dk.registerSymbol=p4e;function Af(t){"@babel/helpers - typeof";return Af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Af(t)}function aT(){return aT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},aT.apply(this,arguments)}function a9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function x4e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a9(Object(n),!0).forEach(function(a){kx(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a9(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function g4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v4e(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,jee(a.key),a)}}function y4e(t,e,n){return e&&v4e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function b4e(t,e,n){return e=yw(e),w4e(t,_ee()?Reflect.construct(e,n||[],yw(t).constructor):e.apply(t,n))}function w4e(t,e){if(e&&(Af(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _4e(t)}function _4e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _ee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_ee=function(){return!!t})()}function yw(t){return yw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yw(t)}function j4e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sT(t,e)}function sT(t,e){return sT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},sT(t,e)}function kx(t,e,n){return e=jee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jee(t){var e=N4e(t,"string");return Af(e)=="symbol"?e:e+""}function N4e(t,e){if(Af(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,e);if(Af(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bi=32,Ik=(function(t){function e(){return g4e(this,e),b4e(this,e,arguments)}return j4e(e,t),y4e(e,[{key:"renderIcon",value:function(a){var s=this.props.inactiveColor,i=bi/2,o=bi/6,l=bi/3,c=a.inactive?s:a.color;if(a.type==="plainline")return ae.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:a.payload.strokeDasharray,x1:0,y1:i,x2:bi,y2:i,className:"recharts-legend-icon"});if(a.type==="line")return ae.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(bi,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(a.type==="rect")return ae.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(bi/8,"h").concat(bi,"v").concat(bi*3/4,"h").concat(-bi,"z"),className:"recharts-legend-icon"});if(ae.isValidElement(a.legendIcon)){var d=x4e({},a);return delete d.legendIcon,ae.cloneElement(a.legendIcon,d)}return ae.createElement(Dk,{fill:c,cx:i,cy:i,size:bi,sizeType:"diameter",type:a.type})}},{key:"renderItems",value:function(){var a=this,s=this.props,i=s.payload,o=s.iconSize,l=s.layout,c=s.formatter,d=s.inactiveColor,u={x:0,y:0,width:bi,height:bi},h={display:l==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(v,x){var g=v.formatter||c,y=un(kx(kx({"recharts-legend-item":!0},"legend-item-".concat(x),!0),"inactive",v.inactive));if(v.type==="none")return null;var b=en(v.value)?null:v.value;fo(!en(v.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var _=v.inactive?d:v.color;return ae.createElement("li",aT({className:y,style:h,key:"legend-item-".concat(x)},th(a.props,v,x)),ae.createElement(QP,{width:o,height:o,viewBox:u,style:f},a.renderIcon(v)),ae.createElement("span",{className:"recharts-legend-item-text",style:{color:_}},g?g(b,v,x):b))})}},{key:"render",value:function(){var a=this.props,s=a.payload,i=a.layout,o=a.align;if(!s||!s.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return ae.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])})(w.PureComponent);kx(Ik,"displayName","Legend");kx(Ik,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var YS,s9;function S4e(){if(s9)return YS;s9=1;var t=f_();function e(){this.__data__=new t,this.size=0}return YS=e,YS}var QS,i9;function C4e(){if(i9)return QS;i9=1;function t(e){var n=this.__data__,a=n.delete(e);return this.size=n.size,a}return QS=t,QS}var ZS,o9;function E4e(){if(o9)return ZS;o9=1;function t(e){return this.__data__.get(e)}return ZS=t,ZS}var JS,l9;function A4e(){if(l9)return JS;l9=1;function t(e){return this.__data__.has(e)}return JS=t,JS}var eC,c9;function M4e(){if(c9)return eC;c9=1;var t=f_(),e=Ck(),n=Ek(),a=200;function s(i,o){var l=this.__data__;if(l instanceof t){var c=l.__data__;if(!e||c.length<a-1)return c.push([i,o]),this.size=++l.size,this;l=this.__data__=new n(c)}return l.set(i,o),this.size=l.size,this}return eC=s,eC}var tC,d9;function Nee(){if(d9)return tC;d9=1;var t=f_(),e=S4e(),n=C4e(),a=E4e(),s=A4e(),i=M4e();function o(l){var c=this.__data__=new t(l);this.size=c.size}return o.prototype.clear=e,o.prototype.delete=n,o.prototype.get=a,o.prototype.has=s,o.prototype.set=i,tC=o,tC}var nC,u9;function P4e(){if(u9)return nC;u9=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return nC=e,nC}var rC,h9;function T4e(){if(h9)return rC;h9=1;function t(e){return this.__data__.has(e)}return rC=t,rC}var aC,m9;function See(){if(m9)return aC;m9=1;var t=Ek(),e=P4e(),n=T4e();function a(s){var i=-1,o=s==null?0:s.length;for(this.__data__=new t;++i<o;)this.add(s[i])}return a.prototype.add=a.prototype.push=e,a.prototype.has=n,aC=a,aC}var sC,f9;function Cee(){if(f9)return sC;f9=1;function t(e,n){for(var a=-1,s=e==null?0:e.length;++a<s;)if(n(e[a],a,e))return!0;return!1}return sC=t,sC}var iC,p9;function Eee(){if(p9)return iC;p9=1;function t(e,n){return e.has(n)}return iC=t,iC}var oC,x9;function Aee(){if(x9)return oC;x9=1;var t=See(),e=Cee(),n=Eee(),a=1,s=2;function i(o,l,c,d,u,h){var f=c&a,v=o.length,x=l.length;if(v!=x&&!(f&&x>v))return!1;var g=h.get(o),y=h.get(l);if(g&&y)return g==l&&y==o;var b=-1,_=!0,j=c&s?new t:void 0;for(h.set(o,l),h.set(l,o);++b<v;){var S=o[b],C=l[b];if(d)var E=f?d(C,S,b,l,o,h):d(S,C,b,o,l,h);if(E!==void 0){if(E)continue;_=!1;break}if(j){if(!e(l,function(P,T){if(!n(j,T)&&(S===P||u(S,P,c,d,h)))return j.push(T)})){_=!1;break}}else if(!(S===C||u(S,C,c,d,h))){_=!1;break}}return h.delete(o),h.delete(l),_}return oC=i,oC}var lC,g9;function k4e(){if(g9)return lC;g9=1;var t=rl(),e=t.Uint8Array;return lC=e,lC}var cC,v9;function R4e(){if(v9)return cC;v9=1;function t(e){var n=-1,a=Array(e.size);return e.forEach(function(s,i){a[++n]=[i,s]}),a}return cC=t,cC}var dC,y9;function Lk(){if(y9)return dC;y9=1;function t(e){var n=-1,a=Array(e.size);return e.forEach(function(s){a[++n]=s}),a}return dC=t,dC}var uC,b9;function O4e(){if(b9)return uC;b9=1;var t=Ug(),e=k4e(),n=Sk(),a=Aee(),s=R4e(),i=Lk(),o=1,l=2,c="[object Boolean]",d="[object Date]",u="[object Error]",h="[object Map]",f="[object Number]",v="[object RegExp]",x="[object Set]",g="[object String]",y="[object Symbol]",b="[object ArrayBuffer]",_="[object DataView]",j=t?t.prototype:void 0,S=j?j.valueOf:void 0;function C(E,P,T,M,k,O,$){switch(T){case _:if(E.byteLength!=P.byteLength||E.byteOffset!=P.byteOffset)return!1;E=E.buffer,P=P.buffer;case b:return!(E.byteLength!=P.byteLength||!O(new e(E),new e(P)));case c:case d:case f:return n(+E,+P);case u:return E.name==P.name&&E.message==P.message;case v:case g:return E==P+"";case h:var F=s;case x:var B=M&o;if(F||(F=i),E.size!=P.size&&!B)return!1;var G=$.get(E);if(G)return G==P;M|=l,$.set(E,P);var I=a(F(E),F(P),M,k,O,$);return $.delete(E),I;case y:if(S)return S.call(E)==S.call(P)}return!1}return uC=C,uC}var hC,w9;function Mee(){if(w9)return hC;w9=1;function t(e,n){for(var a=-1,s=n.length,i=e.length;++a<s;)e[i+a]=n[a];return e}return hC=t,hC}var mC,_9;function D4e(){if(_9)return mC;_9=1;var t=Mee(),e=Bs();function n(a,s,i){var o=s(a);return e(a)?o:t(o,i(a))}return mC=n,mC}var fC,j9;function I4e(){if(j9)return fC;j9=1;function t(e,n){for(var a=-1,s=e==null?0:e.length,i=0,o=[];++a<s;){var l=e[a];n(l,a,e)&&(o[i++]=l)}return o}return fC=t,fC}var pC,N9;function L4e(){if(N9)return pC;N9=1;function t(){return[]}return pC=t,pC}var xC,S9;function F4e(){if(S9)return xC;S9=1;var t=I4e(),e=L4e(),n=Object.prototype,a=n.propertyIsEnumerable,s=Object.getOwnPropertySymbols,i=s?function(o){return o==null?[]:(o=Object(o),t(s(o),function(l){return a.call(o,l)}))}:e;return xC=i,xC}var gC,C9;function $4e(){if(C9)return gC;C9=1;function t(e,n){for(var a=-1,s=Array(e);++a<e;)s[a]=n(a);return s}return gC=t,gC}var vC,E9;function U4e(){if(E9)return vC;E9=1;var t=nc(),e=rc(),n="[object Arguments]";function a(s){return e(s)&&t(s)==n}return vC=a,vC}var yC,A9;function Fk(){if(A9)return yC;A9=1;var t=U4e(),e=rc(),n=Object.prototype,a=n.hasOwnProperty,s=n.propertyIsEnumerable,i=t((function(){return arguments})())?t:function(o){return e(o)&&a.call(o,"callee")&&!s.call(o,"callee")};return yC=i,yC}var U0={exports:{}},bC,M9;function B4e(){if(M9)return bC;M9=1;function t(){return!1}return bC=t,bC}U0.exports;var P9;function Pee(){return P9||(P9=1,(function(t,e){var n=rl(),a=B4e(),s=e&&!e.nodeType&&e,i=s&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===s,l=o?n.Buffer:void 0,c=l?l.isBuffer:void 0,d=c||a;t.exports=d})(U0,U0.exports)),U0.exports}var wC,T9;function $k(){if(T9)return wC;T9=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(a,s){var i=typeof a;return s=s??t,!!s&&(i=="number"||i!="symbol"&&e.test(a))&&a>-1&&a%1==0&&a<s}return wC=n,wC}var _C,k9;function Uk(){if(k9)return _C;k9=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return _C=e,_C}var jC,R9;function z4e(){if(R9)return jC;R9=1;var t=nc(),e=Uk(),n=rc(),a="[object Arguments]",s="[object Array]",i="[object Boolean]",o="[object Date]",l="[object Error]",c="[object Function]",d="[object Map]",u="[object Number]",h="[object Object]",f="[object RegExp]",v="[object Set]",x="[object String]",g="[object WeakMap]",y="[object ArrayBuffer]",b="[object DataView]",_="[object Float32Array]",j="[object Float64Array]",S="[object Int8Array]",C="[object Int16Array]",E="[object Int32Array]",P="[object Uint8Array]",T="[object Uint8ClampedArray]",M="[object Uint16Array]",k="[object Uint32Array]",O={};O[_]=O[j]=O[S]=O[C]=O[E]=O[P]=O[T]=O[M]=O[k]=!0,O[a]=O[s]=O[y]=O[i]=O[b]=O[o]=O[l]=O[c]=O[d]=O[u]=O[h]=O[f]=O[v]=O[x]=O[g]=!1;function $(F){return n(F)&&e(F.length)&&!!O[t(F)]}return jC=$,jC}var NC,O9;function Tee(){if(O9)return NC;O9=1;function t(e){return function(n){return e(n)}}return NC=t,NC}var B0={exports:{}};B0.exports;var D9;function q4e(){return D9||(D9=1,(function(t,e){var n=QJ(),a=e&&!e.nodeType&&e,s=a&&!0&&t&&!t.nodeType&&t,i=s&&s.exports===a,o=i&&n.process,l=(function(){try{var c=s&&s.require&&s.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}})();t.exports=l})(B0,B0.exports)),B0.exports}var SC,I9;function kee(){if(I9)return SC;I9=1;var t=z4e(),e=Tee(),n=q4e(),a=n&&n.isTypedArray,s=a?e(a):t;return SC=s,SC}var CC,L9;function V4e(){if(L9)return CC;L9=1;var t=$4e(),e=Fk(),n=Bs(),a=Pee(),s=$k(),i=kee(),o=Object.prototype,l=o.hasOwnProperty;function c(d,u){var h=n(d),f=!h&&e(d),v=!h&&!f&&a(d),x=!h&&!f&&!v&&i(d),g=h||f||v||x,y=g?t(d.length,String):[],b=y.length;for(var _ in d)(u||l.call(d,_))&&!(g&&(_=="length"||v&&(_=="offset"||_=="parent")||x&&(_=="buffer"||_=="byteLength"||_=="byteOffset")||s(_,b)))&&y.push(_);return y}return CC=c,CC}var EC,F9;function H4e(){if(F9)return EC;F9=1;var t=Object.prototype;function e(n){var a=n&&n.constructor,s=typeof a=="function"&&a.prototype||t;return n===s}return EC=e,EC}var AC,$9;function Ree(){if($9)return AC;$9=1;function t(e,n){return function(a){return e(n(a))}}return AC=t,AC}var MC,U9;function G4e(){if(U9)return MC;U9=1;var t=Ree(),e=t(Object.keys,Object);return MC=e,MC}var PC,B9;function W4e(){if(B9)return PC;B9=1;var t=H4e(),e=G4e(),n=Object.prototype,a=n.hasOwnProperty;function s(i){if(!t(i))return e(i);var o=[];for(var l in Object(i))a.call(i,l)&&l!="constructor"&&o.push(l);return o}return PC=s,PC}var TC,z9;function Bg(){if(z9)return TC;z9=1;var t=Nk(),e=Uk();function n(a){return a!=null&&e(a.length)&&!t(a)}return TC=n,TC}var kC,q9;function w_(){if(q9)return kC;q9=1;var t=V4e(),e=W4e(),n=Bg();function a(s){return n(s)?t(s):e(s)}return kC=a,kC}var RC,V9;function K4e(){if(V9)return RC;V9=1;var t=D4e(),e=F4e(),n=w_();function a(s){return t(s,n,e)}return RC=a,RC}var OC,H9;function X4e(){if(H9)return OC;H9=1;var t=K4e(),e=1,n=Object.prototype,a=n.hasOwnProperty;function s(i,o,l,c,d,u){var h=l&e,f=t(i),v=f.length,x=t(o),g=x.length;if(v!=g&&!h)return!1;for(var y=v;y--;){var b=f[y];if(!(h?b in o:a.call(o,b)))return!1}var _=u.get(i),j=u.get(o);if(_&&j)return _==o&&j==i;var S=!0;u.set(i,o),u.set(o,i);for(var C=h;++y<v;){b=f[y];var E=i[b],P=o[b];if(c)var T=h?c(P,E,b,o,i,u):c(E,P,b,i,o,u);if(!(T===void 0?E===P||d(E,P,l,c,u):T)){S=!1;break}C||(C=b=="constructor")}if(S&&!C){var M=i.constructor,k=o.constructor;M!=k&&"constructor"in i&&"constructor"in o&&!(typeof M=="function"&&M instanceof M&&typeof k=="function"&&k instanceof k)&&(S=!1)}return u.delete(i),u.delete(o),S}return OC=s,OC}var DC,G9;function Y4e(){if(G9)return DC;G9=1;var t=mh(),e=rl(),n=t(e,"DataView");return DC=n,DC}var IC,W9;function Q4e(){if(W9)return IC;W9=1;var t=mh(),e=rl(),n=t(e,"Promise");return IC=n,IC}var LC,K9;function Oee(){if(K9)return LC;K9=1;var t=mh(),e=rl(),n=t(e,"Set");return LC=n,LC}var FC,X9;function Z4e(){if(X9)return FC;X9=1;var t=mh(),e=rl(),n=t(e,"WeakMap");return FC=n,FC}var $C,Y9;function J4e(){if(Y9)return $C;Y9=1;var t=Y4e(),e=Ck(),n=Q4e(),a=Oee(),s=Z4e(),i=nc(),o=ZJ(),l="[object Map]",c="[object Object]",d="[object Promise]",u="[object Set]",h="[object WeakMap]",f="[object DataView]",v=o(t),x=o(e),g=o(n),y=o(a),b=o(s),_=i;return(t&&_(new t(new ArrayBuffer(1)))!=f||e&&_(new e)!=l||n&&_(n.resolve())!=d||a&&_(new a)!=u||s&&_(new s)!=h)&&(_=function(j){var S=i(j),C=S==c?j.constructor:void 0,E=C?o(C):"";if(E)switch(E){case v:return f;case x:return l;case g:return d;case y:return u;case b:return h}return S}),$C=_,$C}var UC,Q9;function eke(){if(Q9)return UC;Q9=1;var t=Nee(),e=Aee(),n=O4e(),a=X4e(),s=J4e(),i=Bs(),o=Pee(),l=kee(),c=1,d="[object Arguments]",u="[object Array]",h="[object Object]",f=Object.prototype,v=f.hasOwnProperty;function x(g,y,b,_,j,S){var C=i(g),E=i(y),P=C?u:s(g),T=E?u:s(y);P=P==d?h:P,T=T==d?h:T;var M=P==h,k=T==h,O=P==T;if(O&&o(g)){if(!o(y))return!1;C=!0,M=!1}if(O&&!M)return S||(S=new t),C||l(g)?e(g,y,b,_,j,S):n(g,y,P,b,_,j,S);if(!(b&c)){var $=M&&v.call(g,"__wrapped__"),F=k&&v.call(y,"__wrapped__");if($||F){var B=$?g.value():g,G=F?y.value():y;return S||(S=new t),j(B,G,b,_,S)}}return O?(S||(S=new t),a(g,y,b,_,j,S)):!1}return UC=x,UC}var BC,Z9;function Bk(){if(Z9)return BC;Z9=1;var t=eke(),e=rc();function n(a,s,i,o,l){return a===s?!0:a==null||s==null||!e(a)&&!e(s)?a!==a&&s!==s:t(a,s,i,o,n,l)}return BC=n,BC}var zC,J9;function tke(){if(J9)return zC;J9=1;var t=Nee(),e=Bk(),n=1,a=2;function s(i,o,l,c){var d=l.length,u=d,h=!c;if(i==null)return!u;for(i=Object(i);d--;){var f=l[d];if(h&&f[2]?f[1]!==i[f[0]]:!(f[0]in i))return!1}for(;++d<u;){f=l[d];var v=f[0],x=i[v],g=f[1];if(h&&f[2]){if(x===void 0&&!(v in i))return!1}else{var y=new t;if(c)var b=c(x,g,v,i,o,y);if(!(b===void 0?e(g,x,n|a,c,y):b))return!1}}return!0}return zC=s,zC}var qC,e$;function Dee(){if(e$)return qC;e$=1;var t=jd();function e(n){return n===n&&!t(n)}return qC=e,qC}var VC,t$;function nke(){if(t$)return VC;t$=1;var t=Dee(),e=w_();function n(a){for(var s=e(a),i=s.length;i--;){var o=s[i],l=a[o];s[i]=[o,l,t(l)]}return s}return VC=n,VC}var HC,n$;function Iee(){if(n$)return HC;n$=1;function t(e,n){return function(a){return a==null?!1:a[e]===n&&(n!==void 0||e in Object(a))}}return HC=t,HC}var GC,r$;function rke(){if(r$)return GC;r$=1;var t=tke(),e=nke(),n=Iee();function a(s){var i=e(s);return i.length==1&&i[0][2]?n(i[0][0],i[0][1]):function(o){return o===s||t(o,s,i)}}return GC=a,GC}var WC,a$;function ake(){if(a$)return WC;a$=1;function t(e,n){return e!=null&&n in Object(e)}return WC=t,WC}var KC,s$;function ske(){if(s$)return KC;s$=1;var t=tee(),e=Fk(),n=Bs(),a=$k(),s=Uk(),i=x_();function o(l,c,d){c=t(c,l);for(var u=-1,h=c.length,f=!1;++u<h;){var v=i(c[u]);if(!(f=l!=null&&d(l,v)))break;l=l[v]}return f||++u!=h?f:(h=l==null?0:l.length,!!h&&s(h)&&a(v,h)&&(n(l)||e(l)))}return KC=o,KC}var XC,i$;function ike(){if(i$)return XC;i$=1;var t=ake(),e=ske();function n(a,s){return a!=null&&e(a,s,t)}return XC=n,XC}var YC,o$;function oke(){if(o$)return YC;o$=1;var t=Bk(),e=nee(),n=ike(),a=jk(),s=Dee(),i=Iee(),o=x_(),l=1,c=2;function d(u,h){return a(u)&&s(h)?i(o(u),h):function(f){var v=e(f,u);return v===void 0&&v===h?n(f,u):t(h,v,l|c)}}return YC=d,YC}var QC,l$;function Ep(){if(l$)return QC;l$=1;function t(e){return e}return QC=t,QC}var ZC,c$;function lke(){if(c$)return ZC;c$=1;function t(e){return function(n){return n==null?void 0:n[e]}}return ZC=t,ZC}var JC,d$;function cke(){if(d$)return JC;d$=1;var t=Mk();function e(n){return function(a){return t(a,n)}}return JC=e,JC}var eE,u$;function dke(){if(u$)return eE;u$=1;var t=lke(),e=cke(),n=jk(),a=x_();function s(i){return n(i)?t(a(i)):e(i)}return eE=s,eE}var tE,h$;function al(){if(h$)return tE;h$=1;var t=rke(),e=oke(),n=Ep(),a=Bs(),s=dke();function i(o){return typeof o=="function"?o:o==null?n:typeof o=="object"?a(o)?e(o[0],o[1]):t(o):s(o)}return tE=i,tE}var nE,m$;function Lee(){if(m$)return nE;m$=1;function t(e,n,a,s){for(var i=e.length,o=a+(s?1:-1);s?o--:++o<i;)if(n(e[o],o,e))return o;return-1}return nE=t,nE}var rE,f$;function uke(){if(f$)return rE;f$=1;function t(e){return e!==e}return rE=t,rE}var aE,p$;function hke(){if(p$)return aE;p$=1;function t(e,n,a){for(var s=a-1,i=e.length;++s<i;)if(e[s]===n)return s;return-1}return aE=t,aE}var sE,x$;function mke(){if(x$)return sE;x$=1;var t=Lee(),e=uke(),n=hke();function a(s,i,o){return i===i?n(s,i,o):t(s,e,o)}return sE=a,sE}var iE,g$;function fke(){if(g$)return iE;g$=1;var t=mke();function e(n,a){var s=n==null?0:n.length;return!!s&&t(n,a,0)>-1}return iE=e,iE}var oE,v$;function pke(){if(v$)return oE;v$=1;function t(e,n,a){for(var s=-1,i=e==null?0:e.length;++s<i;)if(a(n,e[s]))return!0;return!1}return oE=t,oE}var lE,y$;function xke(){if(y$)return lE;y$=1;function t(){}return lE=t,lE}var cE,b$;function gke(){if(b$)return cE;b$=1;var t=Oee(),e=xke(),n=Lk(),a=1/0,s=t&&1/n(new t([,-0]))[1]==a?function(i){return new t(i)}:e;return cE=s,cE}var dE,w$;function vke(){if(w$)return dE;w$=1;var t=See(),e=fke(),n=pke(),a=Eee(),s=gke(),i=Lk(),o=200;function l(c,d,u){var h=-1,f=e,v=c.length,x=!0,g=[],y=g;if(u)x=!1,f=n;else if(v>=o){var b=d?null:s(c);if(b)return i(b);x=!1,f=a,y=new t}else y=d?[]:g;e:for(;++h<v;){var _=c[h],j=d?d(_):_;if(_=u||_!==0?_:0,x&&j===j){for(var S=y.length;S--;)if(y[S]===j)continue e;d&&y.push(j),g.push(_)}else f(y,j,u)||(y!==g&&y.push(j),g.push(_))}return g}return dE=l,dE}var uE,_$;function yke(){if(_$)return uE;_$=1;var t=al(),e=vke();function n(a,s){return a&&a.length?e(a,t(s,2)):[]}return uE=n,uE}var bke=yke();const j$=In(bke);function Fee(t,e,n){return e===!0?j$(t,n):en(e)?j$(t,e):t}function Mf(t){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mf(t)}var wke=["ref"];function N$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function xl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N$(Object(n),!0).forEach(function(a){__(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N$(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function _ke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S$(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,Uee(a.key),a)}}function jke(t,e,n){return e&&S$(t.prototype,e),n&&S$(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nke(t,e,n){return e=bw(e),Ske(t,$ee()?Reflect.construct(e,n||[],bw(t).constructor):e.apply(t,n))}function Ske(t,e){if(e&&(Mf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cke(t)}function Cke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $ee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($ee=function(){return!!t})()}function bw(t){return bw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bw(t)}function Eke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iT(t,e)}function iT(t,e){return iT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},iT(t,e)}function __(t,e,n){return e=Uee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uee(t){var e=Ake(t,"string");return Mf(e)=="symbol"?e:e+""}function Ake(t,e){if(Mf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,e);if(Mf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Mke(t,e){if(t==null)return{};var n=Pke(t,e),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)a=i[s],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function Pke(t,e){if(t==null)return{};var n={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(e.indexOf(a)>=0)continue;n[a]=t[a]}return n}function Tke(t){return t.value}function kke(t,e){if(ae.isValidElement(t))return ae.cloneElement(t,e);if(typeof t=="function")return ae.createElement(t,e);e.ref;var n=Mke(e,wke);return ae.createElement(Ik,n)}var C$=1,Wm=(function(t){function e(){var n;_ke(this,e);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=Nke(this,e,[].concat(s)),__(n,"lastBoundingBox",{width:-1,height:-1}),n}return Eke(e,t),jke(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();return a.height=this.wrapperNode.offsetHeight,a.width=this.wrapperNode.offsetWidth,a}return null}},{key:"updateBBox",value:function(){var a=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>C$||Math.abs(s.height-this.lastBoundingBox.height)>C$)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,a&&a(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,a&&a(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?xl({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(a){var s=this.props,i=s.layout,o=s.align,l=s.verticalAlign,c=s.margin,d=s.chartWidth,u=s.chartHeight,h,f;if(!a||(a.left===void 0||a.left===null)&&(a.right===void 0||a.right===null))if(o==="center"&&i==="vertical"){var v=this.getBBoxSnapshot();h={left:((d||0)-v.width)/2}}else h=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!a||(a.top===void 0||a.top===null)&&(a.bottom===void 0||a.bottom===null))if(l==="middle"){var x=this.getBBoxSnapshot();f={top:((u||0)-x.height)/2}}else f=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return xl(xl({},h),f)}},{key:"render",value:function(){var a=this,s=this.props,i=s.content,o=s.width,l=s.height,c=s.wrapperStyle,d=s.payloadUniqBy,u=s.payload,h=xl(xl({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return ae.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(v){a.wrapperNode=v}},kke(i,xl(xl({},this.props),{},{payload:Fee(u,d,Tke)})))}}],[{key:"getWithHeight",value:function(a,s){var i=xl(xl({},this.defaultProps),a.props),o=i.layout;return o==="vertical"&&Ye(a.props.height)?{height:a.props.height}:o==="horizontal"?{width:a.props.width||s}:null}}])})(w.PureComponent);__(Wm,"displayName","Legend");__(Wm,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var hE,E$;function Rke(){if(E$)return hE;E$=1;var t=Ug(),e=Fk(),n=Bs(),a=t?t.isConcatSpreadable:void 0;function s(i){return n(i)||e(i)||!!(a&&i&&i[a])}return hE=s,hE}var mE,A$;function Bee(){if(A$)return mE;A$=1;var t=Mee(),e=Rke();function n(a,s,i,o,l){var c=-1,d=a.length;for(i||(i=e),l||(l=[]);++c<d;){var u=a[c];s>0&&i(u)?s>1?n(u,s-1,i,o,l):t(l,u):o||(l[l.length]=u)}return l}return mE=n,mE}var fE,M$;function Oke(){if(M$)return fE;M$=1;function t(e){return function(n,a,s){for(var i=-1,o=Object(n),l=s(n),c=l.length;c--;){var d=l[e?c:++i];if(a(o[d],d,o)===!1)break}return n}}return fE=t,fE}var pE,P$;function Dke(){if(P$)return pE;P$=1;var t=Oke(),e=t();return pE=e,pE}var xE,T$;function zee(){if(T$)return xE;T$=1;var t=Dke(),e=w_();function n(a,s){return a&&t(a,s,e)}return xE=n,xE}var gE,k$;function Ike(){if(k$)return gE;k$=1;var t=Bg();function e(n,a){return function(s,i){if(s==null)return s;if(!t(s))return n(s,i);for(var o=s.length,l=a?o:-1,c=Object(s);(a?l--:++l<o)&&i(c[l],l,c)!==!1;);return s}}return gE=e,gE}var vE,R$;function zk(){if(R$)return vE;R$=1;var t=zee(),e=Ike(),n=e(t);return vE=n,vE}var yE,O$;function qee(){if(O$)return yE;O$=1;var t=zk(),e=Bg();function n(a,s){var i=-1,o=e(a)?Array(a.length):[];return t(a,function(l,c,d){o[++i]=s(l,c,d)}),o}return yE=n,yE}var bE,D$;function Lke(){if(D$)return bE;D$=1;function t(e,n){var a=e.length;for(e.sort(n);a--;)e[a]=e[a].value;return e}return bE=t,bE}var wE,I$;function Fke(){if(I$)return wE;I$=1;var t=jp();function e(n,a){if(n!==a){var s=n!==void 0,i=n===null,o=n===n,l=t(n),c=a!==void 0,d=a===null,u=a===a,h=t(a);if(!d&&!h&&!l&&n>a||l&&c&&u&&!d&&!h||i&&c&&u||!s&&u||!o)return 1;if(!i&&!l&&!h&&n<a||h&&s&&o&&!i&&!l||d&&s&&o||!c&&o||!u)return-1}return 0}return wE=e,wE}var _E,L$;function $ke(){if(L$)return _E;L$=1;var t=Fke();function e(n,a,s){for(var i=-1,o=n.criteria,l=a.criteria,c=o.length,d=s.length;++i<c;){var u=t(o[i],l[i]);if(u){if(i>=d)return u;var h=s[i];return u*(h=="desc"?-1:1)}}return n.index-a.index}return _E=e,_E}var jE,F$;function Uke(){if(F$)return jE;F$=1;var t=Ak(),e=Mk(),n=al(),a=qee(),s=Lke(),i=Tee(),o=$ke(),l=Ep(),c=Bs();function d(u,h,f){h.length?h=t(h,function(g){return c(g)?function(y){return e(y,g.length===1?g[0]:g)}:g}):h=[l];var v=-1;h=t(h,i(n));var x=a(u,function(g,y,b){var _=t(h,function(j){return j(g)});return{criteria:_,index:++v,value:g}});return s(x,function(g,y){return o(g,y,f)})}return jE=d,jE}var NE,$$;function Bke(){if($$)return NE;$$=1;function t(e,n,a){switch(a.length){case 0:return e.call(n);case 1:return e.call(n,a[0]);case 2:return e.call(n,a[0],a[1]);case 3:return e.call(n,a[0],a[1],a[2])}return e.apply(n,a)}return NE=t,NE}var SE,U$;function zke(){if(U$)return SE;U$=1;var t=Bke(),e=Math.max;function n(a,s,i){return s=e(s===void 0?a.length-1:s,0),function(){for(var o=arguments,l=-1,c=e(o.length-s,0),d=Array(c);++l<c;)d[l]=o[s+l];l=-1;for(var u=Array(s+1);++l<s;)u[l]=o[l];return u[s]=i(d),t(a,this,u)}}return SE=n,SE}var CE,B$;function qke(){if(B$)return CE;B$=1;function t(e){return function(){return e}}return CE=t,CE}var EE,z$;function Vee(){if(z$)return EE;z$=1;var t=mh(),e=(function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}})();return EE=e,EE}var AE,q$;function Vke(){if(q$)return AE;q$=1;var t=qke(),e=Vee(),n=Ep(),a=e?function(s,i){return e(s,"toString",{configurable:!0,enumerable:!1,value:t(i),writable:!0})}:n;return AE=a,AE}var ME,V$;function Hke(){if(V$)return ME;V$=1;var t=800,e=16,n=Date.now;function a(s){var i=0,o=0;return function(){var l=n(),c=e-(l-o);if(o=l,c>0){if(++i>=t)return arguments[0]}else i=0;return s.apply(void 0,arguments)}}return ME=a,ME}var PE,H$;function Gke(){if(H$)return PE;H$=1;var t=Vke(),e=Hke(),n=e(t);return PE=n,PE}var TE,G$;function Wke(){if(G$)return TE;G$=1;var t=Ep(),e=zke(),n=Gke();function a(s,i){return n(e(s,i,t),s+"")}return TE=a,TE}var kE,W$;function j_(){if(W$)return kE;W$=1;var t=Sk(),e=Bg(),n=$k(),a=jd();function s(i,o,l){if(!a(l))return!1;var c=typeof o;return(c=="number"?e(l)&&n(o,l.length):c=="string"&&o in l)?t(l[o],i):!1}return kE=s,kE}var RE,K$;function Kke(){if(K$)return RE;K$=1;var t=Bee(),e=Uke(),n=Wke(),a=j_(),s=n(function(i,o){if(i==null)return[];var l=o.length;return l>1&&a(i,o[0],o[1])?o=[]:l>2&&a(o[0],o[1],o[2])&&(o=[o[0]]),e(i,t(o,1),[])});return RE=s,RE}var Xke=Kke();const qk=In(Xke);function Rx(t){"@babel/helpers - typeof";return Rx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rx(t)}function oT(){return oT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},oT.apply(this,arguments)}function Yke(t,e){return eRe(t)||Jke(t,e)||Zke(t,e)||Qke()}function Qke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zke(t,e){if(t){if(typeof t=="string")return X$(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X$(t,e)}}function X$(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function Jke(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var a,s,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(a=i.call(n)).done)&&(l.push(a.value),l.length!==e);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function eRe(t){if(Array.isArray(t))return t}function Y$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function OE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y$(Object(n),!0).forEach(function(a){tRe(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y$(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function tRe(t,e,n){return e=nRe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nRe(t){var e=rRe(t,"string");return Rx(e)=="symbol"?e:e+""}function rRe(t,e){if(Rx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,e);if(Rx(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aRe(t){return Array.isArray(t)&&ca(t[0])&&ca(t[1])?t.join(" ~ "):t}var sRe=function(e){var n=e.separator,a=n===void 0?" : ":n,s=e.contentStyle,i=s===void 0?{}:s,o=e.itemStyle,l=o===void 0?{}:o,c=e.labelStyle,d=c===void 0?{}:c,u=e.payload,h=e.formatter,f=e.itemSorter,v=e.wrapperClassName,x=e.labelClassName,g=e.label,y=e.labelFormatter,b=e.accessibilityLayer,_=b===void 0?!1:b,j=function(){if(u&&u.length){var $={padding:0,margin:0},F=(f?qk(u,f):u).map(function(B,G){if(B.type==="none")return null;var I=OE({display:"block",paddingTop:4,paddingBottom:4,color:B.color||"#000"},l),L=B.formatter||h||aRe,U=B.value,z=B.name,K=U,V=z;if(L&&K!=null&&V!=null){var Y=L(U,z,B,G,u);if(Array.isArray(Y)){var ee=Yke(Y,2);K=ee[0],V=ee[1]}else K=Y}return ae.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(G),style:I},ca(V)?ae.createElement("span",{className:"recharts-tooltip-item-name"},V):null,ca(V)?ae.createElement("span",{className:"recharts-tooltip-item-separator"},a):null,ae.createElement("span",{className:"recharts-tooltip-item-value"},K),ae.createElement("span",{className:"recharts-tooltip-item-unit"},B.unit||""))});return ae.createElement("ul",{className:"recharts-tooltip-item-list",style:$},F)}return null},S=OE({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),C=OE({margin:0},d),E=!hn(g),P=E?g:"",T=un("recharts-default-tooltip",v),M=un("recharts-tooltip-label",x);E&&y&&u!==void 0&&u!==null&&(P=y(g,u));var k=_?{role:"status","aria-live":"assertive"}:{};return ae.createElement("div",oT({className:T,style:S},k),ae.createElement("p",{className:M,style:C},ae.isValidElement(P)?P:"".concat(P)),j())};function Ox(t){"@babel/helpers - typeof";return Ox=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ox(t)}function My(t,e,n){return e=iRe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iRe(t){var e=oRe(t,"string");return Ox(e)=="symbol"?e:e+""}function oRe(t,e){if(Ox(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,e);if(Ox(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var w0="recharts-tooltip-wrapper",lRe={visibility:"hidden"};function cRe(t){var e=t.coordinate,n=t.translateX,a=t.translateY;return un(w0,My(My(My(My({},"".concat(w0,"-right"),Ye(n)&&e&&Ye(e.x)&&n>=e.x),"".concat(w0,"-left"),Ye(n)&&e&&Ye(e.x)&&n<e.x),"".concat(w0,"-bottom"),Ye(a)&&e&&Ye(e.y)&&a>=e.y),"".concat(w0,"-top"),Ye(a)&&e&&Ye(e.y)&&a<e.y))}function Q$(t){var e=t.allowEscapeViewBox,n=t.coordinate,a=t.key,s=t.offsetTopLeft,i=t.position,o=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,d=t.viewBoxDimension;if(i&&Ye(i[a]))return i[a];var u=n[a]-l-s,h=n[a]+s;if(e[a])return o[a]?u:h;if(o[a]){var f=u,v=c[a];return f<v?Math.max(h,c[a]):Math.max(u,c[a])}var x=h+l,g=c[a]+d;return x>g?Math.max(u,c[a]):Math.max(h,c[a])}function dRe(t){var e=t.translateX,n=t.translateY,a=t.useTranslate3d;return{transform:a?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function uRe(t){var e=t.allowEscapeViewBox,n=t.coordinate,a=t.offsetTopLeft,s=t.position,i=t.reverseDirection,o=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,d,u,h;return o.height>0&&o.width>0&&n?(u=Q$({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:a,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),h=Q$({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:a,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),d=dRe({translateX:u,translateY:h,useTranslate3d:l})):d=lRe,{cssProperties:d,cssClasses:cRe({translateX:u,translateY:h,coordinate:n})}}function Pf(t){"@babel/helpers - typeof";return Pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pf(t)}function Z$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function J$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z$(Object(n),!0).forEach(function(a){cT(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z$(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function hRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mRe(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,Gee(a.key),a)}}function fRe(t,e,n){return e&&mRe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function pRe(t,e,n){return e=ww(e),xRe(t,Hee()?Reflect.construct(e,n||[],ww(t).constructor):e.apply(t,n))}function xRe(t,e){if(e&&(Pf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gRe(t)}function gRe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Hee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Hee=function(){return!!t})()}function ww(t){return ww=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ww(t)}function vRe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lT(t,e)}function lT(t,e){return lT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},lT(t,e)}function cT(t,e,n){return e=Gee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gee(t){var e=yRe(t,"string");return Pf(e)=="symbol"?e:e+""}function yRe(t,e){if(Pf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,e);if(Pf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var eU=1,bRe=(function(t){function e(){var n;hRe(this,e);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=pRe(this,e,[].concat(s)),cT(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),cT(n,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,d,u;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(d=(u=n.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&d!==void 0?d:0}})}}),n}return vRe(e,t),fRe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();(Math.abs(a.width-this.state.lastBoundingBox.width)>eU||Math.abs(a.height-this.state.lastBoundingBox.height)>eU)&&this.setState({lastBoundingBox:{width:a.width,height:a.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var a,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((a=this.props.coordinate)===null||a===void 0?void 0:a.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var a=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,d=s.children,u=s.coordinate,h=s.hasPayload,f=s.isAnimationActive,v=s.offset,x=s.position,g=s.reverseDirection,y=s.useTranslate3d,b=s.viewBox,_=s.wrapperStyle,j=uRe({allowEscapeViewBox:o,coordinate:u,offsetTopLeft:v,position:x,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:b}),S=j.cssClasses,C=j.cssProperties,E=J$(J$({transition:f&&i?"transform ".concat(l,"ms ").concat(c):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&h?"visible":"hidden",position:"absolute",top:0,left:0},_);return ae.createElement("div",{tabIndex:-1,className:S,style:E,ref:function(T){a.wrapperNode=T}},d)}}])})(w.PureComponent),wRe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},fh={isSsr:wRe()};function Tf(t){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tf(t)}function tU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function nU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tU(Object(n),!0).forEach(function(a){Vk(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tU(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function _Re(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jRe(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,Kee(a.key),a)}}function NRe(t,e,n){return e&&jRe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function SRe(t,e,n){return e=_w(e),CRe(t,Wee()?Reflect.construct(e,n||[],_w(t).constructor):e.apply(t,n))}function CRe(t,e){if(e&&(Tf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ERe(t)}function ERe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Wee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Wee=function(){return!!t})()}function _w(t){return _w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_w(t)}function ARe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dT(t,e)}function dT(t,e){return dT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},dT(t,e)}function Vk(t,e,n){return e=Kee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kee(t){var e=MRe(t,"string");return Tf(e)=="symbol"?e:e+""}function MRe(t,e){if(Tf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,e);if(Tf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function PRe(t){return t.dataKey}function TRe(t,e){return ae.isValidElement(t)?ae.cloneElement(t,e):typeof t=="function"?ae.createElement(t,e):ae.createElement(sRe,e)}var Js=(function(t){function e(){return _Re(this,e),SRe(this,e,arguments)}return ARe(e,t),NRe(e,[{key:"render",value:function(){var a=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,d=s.content,u=s.coordinate,h=s.filterNull,f=s.isAnimationActive,v=s.offset,x=s.payload,g=s.payloadUniqBy,y=s.position,b=s.reverseDirection,_=s.useTranslate3d,j=s.viewBox,S=s.wrapperStyle,C=x??[];h&&C.length&&(C=Fee(x.filter(function(P){return P.value!=null&&(P.hide!==!0||a.props.includeHidden)}),g,PRe));var E=C.length>0;return ae.createElement(bRe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:f,active:i,coordinate:u,hasPayload:E,offset:v,position:y,reverseDirection:b,useTranslate3d:_,viewBox:j,wrapperStyle:S},TRe(d,nU(nU({},this.props),{},{payload:C})))}}])})(w.PureComponent);Vk(Js,"displayName","Tooltip");Vk(Js,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!fh.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var DE,rU;function kRe(){if(rU)return DE;rU=1;var t=rl(),e=function(){return t.Date.now()};return DE=e,DE}var IE,aU;function RRe(){if(aU)return IE;aU=1;var t=/\s/;function e(n){for(var a=n.length;a--&&t.test(n.charAt(a)););return a}return IE=e,IE}var LE,sU;function ORe(){if(sU)return LE;sU=1;var t=RRe(),e=/^\s+/;function n(a){return a&&a.slice(0,t(a)+1).replace(e,"")}return LE=n,LE}var FE,iU;function Xee(){if(iU)return FE;iU=1;var t=ORe(),e=jd(),n=jp(),a=NaN,s=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function c(d){if(typeof d=="number")return d;if(n(d))return a;if(e(d)){var u=typeof d.valueOf=="function"?d.valueOf():d;d=e(u)?u+"":u}if(typeof d!="string")return d===0?d:+d;d=t(d);var h=i.test(d);return h||o.test(d)?l(d.slice(2),h?2:8):s.test(d)?a:+d}return FE=c,FE}var $E,oU;function DRe(){if(oU)return $E;oU=1;var t=jd(),e=kRe(),n=Xee(),a="Expected a function",s=Math.max,i=Math.min;function o(l,c,d){var u,h,f,v,x,g,y=0,b=!1,_=!1,j=!0;if(typeof l!="function")throw new TypeError(a);c=n(c)||0,t(d)&&(b=!!d.leading,_="maxWait"in d,f=_?s(n(d.maxWait)||0,c):f,j="trailing"in d?!!d.trailing:j);function S(F){var B=u,G=h;return u=h=void 0,y=F,v=l.apply(G,B),v}function C(F){return y=F,x=setTimeout(T,c),b?S(F):v}function E(F){var B=F-g,G=F-y,I=c-B;return _?i(I,f-G):I}function P(F){var B=F-g,G=F-y;return g===void 0||B>=c||B<0||_&&G>=f}function T(){var F=e();if(P(F))return M(F);x=setTimeout(T,E(F))}function M(F){return x=void 0,j&&u?S(F):(u=h=void 0,v)}function k(){x!==void 0&&clearTimeout(x),y=0,u=g=h=x=void 0}function O(){return x===void 0?v:M(e())}function $(){var F=e(),B=P(F);if(u=arguments,h=this,g=F,B){if(x===void 0)return C(g);if(_)return clearTimeout(x),x=setTimeout(T,c),S(g)}return x===void 0&&(x=setTimeout(T,c)),v}return $.cancel=k,$.flush=O,$}return $E=o,$E}var UE,lU;function IRe(){if(lU)return UE;lU=1;var t=DRe(),e=jd(),n="Expected a function";function a(s,i,o){var l=!0,c=!0;if(typeof s!="function")throw new TypeError(n);return e(o)&&(l="leading"in o?!!o.leading:l,c="trailing"in o?!!o.trailing:c),t(s,i,{leading:l,maxWait:i,trailing:c})}return UE=a,UE}var LRe=IRe();const Yee=In(LRe);function Dx(t){"@babel/helpers - typeof";return Dx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dx(t)}function cU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function Py(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cU(Object(n),!0).forEach(function(a){FRe(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cU(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function FRe(t,e,n){return e=$Re(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $Re(t){var e=URe(t,"string");return Dx(e)=="symbol"?e:e+""}function URe(t,e){if(Dx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,e);if(Dx(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function BRe(t,e){return HRe(t)||VRe(t,e)||qRe(t,e)||zRe()}function zRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qRe(t,e){if(t){if(typeof t=="string")return dU(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dU(t,e)}}function dU(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function VRe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var a,s,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(a=i.call(n)).done)&&(l.push(a.value),l.length!==e);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function HRe(t){if(Array.isArray(t))return t}var Ab=w.forwardRef(function(t,e){var n=t.aspect,a=t.initialDimension,s=a===void 0?{width:-1,height:-1}:a,i=t.width,o=i===void 0?"100%":i,l=t.height,c=l===void 0?"100%":l,d=t.minWidth,u=d===void 0?0:d,h=t.minHeight,f=t.maxHeight,v=t.children,x=t.debounce,g=x===void 0?0:x,y=t.id,b=t.className,_=t.onResize,j=t.style,S=j===void 0?{}:j,C=w.useRef(null),E=w.useRef();E.current=_,w.useImperativeHandle(e,function(){return Object.defineProperty(C.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),C.current},configurable:!0})});var P=w.useState({containerWidth:s.width,containerHeight:s.height}),T=BRe(P,2),M=T[0],k=T[1],O=w.useCallback(function(F,B){k(function(G){var I=Math.round(F),L=Math.round(B);return G.containerWidth===I&&G.containerHeight===L?G:{containerWidth:I,containerHeight:L}})},[]);w.useEffect(function(){var F=function(z){var K,V=z[0].contentRect,Y=V.width,ee=V.height;O(Y,ee),(K=E.current)===null||K===void 0||K.call(E,Y,ee)};g>0&&(F=Yee(F,g,{trailing:!0,leading:!1}));var B=new ResizeObserver(F),G=C.current.getBoundingClientRect(),I=G.width,L=G.height;return O(I,L),B.observe(C.current),function(){B.disconnect()}},[O,g]);var $=w.useMemo(function(){var F=M.containerWidth,B=M.containerHeight;if(F<0||B<0)return null;fo(bu(o)||bu(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),fo(!n||n>0,"The aspect(%s) must be greater than zero.",n);var G=bu(o)?F:o,I=bu(c)?B:c;n&&n>0&&(G?I=G/n:I&&(G=I*n),f&&I>f&&(I=f)),fo(G>0||I>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,G,I,o,c,u,h,n);var L=!Array.isArray(v)&&Ul(v.type).endsWith("Chart");return ae.Children.map(v,function(U){return ae.isValidElement(U)?w.cloneElement(U,Py({width:G,height:I},L?{style:Py({height:"100%",width:"100%",maxHeight:I,maxWidth:G},U.props.style)}:{})):U})},[n,v,c,f,h,u,M,o]);return ae.createElement("div",{id:y?"".concat(y):void 0,className:un("recharts-responsive-container",b),style:Py(Py({},S),{},{width:o,height:c,minWidth:u,minHeight:h,maxHeight:f}),ref:C},$)}),N_=function(e){return null};N_.displayName="Cell";function Ix(t){"@babel/helpers - typeof";return Ix=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ix(t)}function uU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function uT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uU(Object(n),!0).forEach(function(a){GRe(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uU(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function GRe(t,e,n){return e=WRe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WRe(t){var e=KRe(t,"string");return Ix(e)=="symbol"?e:e+""}function KRe(t,e){if(Ix(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,e);if(Ix(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tm={widthCache:{},cacheCount:0},XRe=2e3,YRe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},hU="recharts_measurement_span";function QRe(t){var e=uT({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var J0=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||fh.isSsr)return{width:0,height:0};var a=QRe(n),s=JSON.stringify({text:e,copyStyle:a});if(tm.widthCache[s])return tm.widthCache[s];try{var i=document.getElementById(hU);i||(i=document.createElement("span"),i.setAttribute("id",hU),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=uT(uT({},YRe),a);Object.assign(i.style,o),i.textContent="".concat(e);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return tm.widthCache[s]=c,++tm.cacheCount>XRe&&(tm.cacheCount=0,tm.widthCache={}),c}catch{return{width:0,height:0}}},ZRe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Lx(t){"@babel/helpers - typeof";return Lx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lx(t)}function jw(t,e){return n5e(t)||t5e(t,e)||e5e(t,e)||JRe()}function JRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e5e(t,e){if(t){if(typeof t=="string")return mU(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mU(t,e)}}function mU(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function t5e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var a,s,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(a=i.call(n)).done)&&(l.push(a.value),l.length!==e);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function n5e(t){if(Array.isArray(t))return t}function r5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fU(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,s5e(a.key),a)}}function a5e(t,e,n){return e&&fU(t.prototype,e),n&&fU(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function s5e(t){var e=i5e(t,"string");return Lx(e)=="symbol"?e:e+""}function i5e(t,e){if(Lx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,e);if(Lx(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var pU=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,xU=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,o5e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,l5e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Qee={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},c5e=Object.keys(Qee),Mm="NaN";function d5e(t,e){return t*Qee[e]}var Ty=(function(){function t(e,n){r5e(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!o5e.test(n)&&(this.num=NaN,this.unit=""),c5e.includes(n)&&(this.num=d5e(e,n),this.unit="px")}return a5e(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var a,s=(a=l5e.exec(n))!==null&&a!==void 0?a:[],i=jw(s,3),o=i[1],l=i[2];return new t(parseFloat(o),l??"")}}])})();function Zee(t){if(t.includes(Mm))return Mm;for(var e=t;e.includes("*")||e.includes("/");){var n,a=(n=pU.exec(e))!==null&&n!==void 0?n:[],s=jw(a,4),i=s[1],o=s[2],l=s[3],c=Ty.parse(i??""),d=Ty.parse(l??""),u=o==="*"?c.multiply(d):c.divide(d);if(u.isNaN())return Mm;e=e.replace(pU,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,f=(h=xU.exec(e))!==null&&h!==void 0?h:[],v=jw(f,4),x=v[1],g=v[2],y=v[3],b=Ty.parse(x??""),_=Ty.parse(y??""),j=g==="+"?b.add(_):b.subtract(_);if(j.isNaN())return Mm;e=e.replace(xU,j.toString())}return e}var gU=/\(([^()]*)\)/;function u5e(t){for(var e=t;e.includes("(");){var n=gU.exec(e),a=jw(n,2),s=a[1];e=e.replace(gU,Zee(s))}return e}function h5e(t){var e=t.replace(/\s+/g,"");return e=u5e(e),e=Zee(e),e}function m5e(t){try{return h5e(t)}catch{return Mm}}function BE(t){var e=m5e(t.slice(5,-1));return e===Mm?"":e}var f5e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],p5e=["dx","dy","angle","className","breakAll"];function hT(){return hT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},hT.apply(this,arguments)}function vU(t,e){if(t==null)return{};var n=x5e(t,e),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)a=i[s],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function x5e(t,e){if(t==null)return{};var n={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(e.indexOf(a)>=0)continue;n[a]=t[a]}return n}function yU(t,e){return b5e(t)||y5e(t,e)||v5e(t,e)||g5e()}function g5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v5e(t,e){if(t){if(typeof t=="string")return bU(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bU(t,e)}}function bU(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function y5e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var a,s,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(a=i.call(n)).done)&&(l.push(a.value),l.length!==e);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function b5e(t){if(Array.isArray(t))return t}var Jee=/[ \f\n\r\t\v\u2028\u2029]+/,ete=function(e){var n=e.children,a=e.breakAll,s=e.style;try{var i=[];hn(n)||(a?i=n.toString().split(""):i=n.toString().split(Jee));var o=i.map(function(c){return{word:c,width:J0(c,s).width}}),l=a?0:J0("",s).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},w5e=function(e,n,a,s,i){var o=e.maxLines,l=e.children,c=e.style,d=e.breakAll,u=Ye(o),h=l,f=function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return G.reduce(function(I,L){var U=L.word,z=L.width,K=I[I.length-1];if(K&&(s==null||i||K.width+z+a<Number(s)))K.words.push(U),K.width+=z+a;else{var V={words:[U],width:z};I.push(V)}return I},[])},v=f(n),x=function(G){return G.reduce(function(I,L){return I.width>L.width?I:L})};if(!u)return v;for(var g="",y=function(G){var I=h.slice(0,G),L=ete({breakAll:d,style:c,children:I+g}).wordsWithComputedWidth,U=f(L),z=U.length>o||x(U).width>Number(s);return[z,U]},b=0,_=h.length-1,j=0,S;b<=_&&j<=h.length-1;){var C=Math.floor((b+_)/2),E=C-1,P=y(E),T=yU(P,2),M=T[0],k=T[1],O=y(C),$=yU(O,1),F=$[0];if(!M&&!F&&(b=C+1),M&&F&&(_=C-1),!M&&F){S=k;break}j++}return S||v},wU=function(e){var n=hn(e)?[]:e.toString().split(Jee);return[{words:n}]},_5e=function(e){var n=e.width,a=e.scaleToFit,s=e.children,i=e.style,o=e.breakAll,l=e.maxLines;if((n||a)&&!fh.isSsr){var c,d,u=ete({breakAll:o,children:s,style:i});if(u){var h=u.wordsWithComputedWidth,f=u.spaceWidth;c=h,d=f}else return wU(s);return w5e({breakAll:o,children:s,maxLines:l,style:i},c,d,n,a)}return wU(s)},_U="#808080",nh=function(e){var n=e.x,a=n===void 0?0:n,s=e.y,i=s===void 0?0:s,o=e.lineHeight,l=o===void 0?"1em":o,c=e.capHeight,d=c===void 0?"0.71em":c,u=e.scaleToFit,h=u===void 0?!1:u,f=e.textAnchor,v=f===void 0?"start":f,x=e.verticalAnchor,g=x===void 0?"end":x,y=e.fill,b=y===void 0?_U:y,_=vU(e,f5e),j=w.useMemo(function(){return _5e({breakAll:_.breakAll,children:_.children,maxLines:_.maxLines,scaleToFit:h,style:_.style,width:_.width})},[_.breakAll,_.children,_.maxLines,h,_.style,_.width]),S=_.dx,C=_.dy,E=_.angle,P=_.className,T=_.breakAll,M=vU(_,p5e);if(!ca(a)||!ca(i))return null;var k=a+(Ye(S)?S:0),O=i+(Ye(C)?C:0),$;switch(g){case"start":$=BE("calc(".concat(d,")"));break;case"middle":$=BE("calc(".concat((j.length-1)/2," * -").concat(l," + (").concat(d," / 2))"));break;default:$=BE("calc(".concat(j.length-1," * -").concat(l,")"));break}var F=[];if(h){var B=j[0].width,G=_.width;F.push("scale(".concat((Ye(G)?G/B:1)/B,")"))}return E&&F.push("rotate(".concat(E,", ").concat(k,", ").concat(O,")")),F.length&&(M.transform=F.join(" ")),ae.createElement("text",hT({},Bt(M,!0),{x:k,y:O,className:un("recharts-text",P),textAnchor:v,fill:b.includes("url")?_U:b}),j.map(function(I,L){var U=I.words.join(T?"":" ");return ae.createElement("tspan",{x:k,dy:L===0?$:l,key:"".concat(U,"-").concat(L)},U)}))};function rd(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function j5e(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Hk(t){let e,n,a;t.length!==2?(e=rd,n=(l,c)=>rd(t(l),c),a=(l,c)=>t(l)-c):(e=t===rd||t===j5e?t:N5e,n=t,a=t);function s(l,c,d=0,u=l.length){if(d<u){if(e(c,c)!==0)return u;do{const h=d+u>>>1;n(l[h],c)<0?d=h+1:u=h}while(d<u)}return d}function i(l,c,d=0,u=l.length){if(d<u){if(e(c,c)!==0)return u;do{const h=d+u>>>1;n(l[h],c)<=0?d=h+1:u=h}while(d<u)}return d}function o(l,c,d=0,u=l.length){const h=s(l,c,d,u-1);return h>d&&a(l[h-1],c)>-a(l[h],c)?h-1:h}return{left:s,center:o,right:i}}function N5e(){return 0}function tte(t){return t===null?NaN:+t}function*S5e(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const C5e=Hk(rd),zg=C5e.right;Hk(tte).center;class jU extends Map{constructor(e,n=M5e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[a,s]of e)this.set(a,s)}get(e){return super.get(NU(this,e))}has(e){return super.has(NU(this,e))}set(e,n){return super.set(E5e(this,e),n)}delete(e){return super.delete(A5e(this,e))}}function NU({_intern:t,_key:e},n){const a=e(n);return t.has(a)?t.get(a):n}function E5e({_intern:t,_key:e},n){const a=e(n);return t.has(a)?t.get(a):(t.set(a,n),n)}function A5e({_intern:t,_key:e},n){const a=e(n);return t.has(a)&&(n=t.get(a),t.delete(a)),n}function M5e(t){return t!==null&&typeof t=="object"?t.valueOf():t}function P5e(t=rd){if(t===rd)return nte;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const a=t(e,n);return a||a===0?a:(t(n,n)===0)-(t(e,e)===0)}}function nte(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const T5e=Math.sqrt(50),k5e=Math.sqrt(10),R5e=Math.sqrt(2);function Nw(t,e,n){const a=(e-t)/Math.max(0,n),s=Math.floor(Math.log10(a)),i=a/Math.pow(10,s),o=i>=T5e?10:i>=k5e?5:i>=R5e?2:1;let l,c,d;return s<0?(d=Math.pow(10,-s)/o,l=Math.round(t*d),c=Math.round(e*d),l/d<t&&++l,c/d>e&&--c,d=-d):(d=Math.pow(10,s)*o,l=Math.round(t/d),c=Math.round(e/d),l*d<t&&++l,c*d>e&&--c),c<l&&.5<=n&&n<2?Nw(t,e,n*2):[l,c,d]}function mT(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const a=e<t,[s,i,o]=a?Nw(e,t,n):Nw(t,e,n);if(!(i>=s))return[];const l=i-s+1,c=new Array(l);if(a)if(o<0)for(let d=0;d<l;++d)c[d]=(i-d)/-o;else for(let d=0;d<l;++d)c[d]=(i-d)*o;else if(o<0)for(let d=0;d<l;++d)c[d]=(s+d)/-o;else for(let d=0;d<l;++d)c[d]=(s+d)*o;return c}function fT(t,e,n){return e=+e,t=+t,n=+n,Nw(t,e,n)[2]}function pT(t,e,n){e=+e,t=+t,n=+n;const a=e<t,s=a?fT(e,t,n):fT(t,e,n);return(a?-1:1)*(s<0?1/-s:s)}function SU(t,e){let n;for(const a of t)a!=null&&(n<a||n===void 0&&a>=a)&&(n=a);return n}function CU(t,e){let n;for(const a of t)a!=null&&(n>a||n===void 0&&a>=a)&&(n=a);return n}function rte(t,e,n=0,a=1/0,s){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),a=Math.floor(Math.min(t.length-1,a)),!(n<=e&&e<=a))return t;for(s=s===void 0?nte:P5e(s);a>n;){if(a-n>600){const c=a-n+1,d=e-n+1,u=Math.log(c),h=.5*Math.exp(2*u/3),f=.5*Math.sqrt(u*h*(c-h)/c)*(d-c/2<0?-1:1),v=Math.max(n,Math.floor(e-d*h/c+f)),x=Math.min(a,Math.floor(e+(c-d)*h/c+f));rte(t,e,v,x,s)}const i=t[e];let o=n,l=a;for(_0(t,n,e),s(t[a],i)>0&&_0(t,n,a);o<l;){for(_0(t,o,l),++o,--l;s(t[o],i)<0;)++o;for(;s(t[l],i)>0;)--l}s(t[n],i)===0?_0(t,n,l):(++l,_0(t,l,a)),l<=e&&(n=l+1),e<=l&&(a=l-1)}return t}function _0(t,e,n){const a=t[e];t[e]=t[n],t[n]=a}function O5e(t,e,n){if(t=Float64Array.from(S5e(t)),!(!(a=t.length)||isNaN(e=+e))){if(e<=0||a<2)return CU(t);if(e>=1)return SU(t);var a,s=(a-1)*e,i=Math.floor(s),o=SU(rte(t,i).subarray(0,i+1)),l=CU(t.subarray(i+1));return o+(l-o)*(s-i)}}function D5e(t,e,n=tte){if(!(!(a=t.length)||isNaN(e=+e))){if(e<=0||a<2)return+n(t[0],0,t);if(e>=1)return+n(t[a-1],a-1,t);var a,s=(a-1)*e,i=Math.floor(s),o=+n(t[i],i,t),l=+n(t[i+1],i+1,t);return o+(l-o)*(s-i)}}function I5e(t,e,n){t=+t,e=+e,n=(s=arguments.length)<2?(e=t,t=0,1):s<3?1:+n;for(var a=-1,s=Math.max(0,Math.ceil((e-t)/n))|0,i=new Array(s);++a<s;)i[a]=t+a*n;return i}function Ui(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ac(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const xT=Symbol("implicit");function Gk(){var t=new jU,e=[],n=[],a=xT;function s(i){let o=t.get(i);if(o===void 0){if(a!==xT)return a;t.set(i,o=e.push(i)-1)}return n[o%n.length]}return s.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new jU;for(const o of i)t.has(o)||t.set(o,e.push(o)-1);return s},s.range=function(i){return arguments.length?(n=Array.from(i),s):n.slice()},s.unknown=function(i){return arguments.length?(a=i,s):a},s.copy=function(){return Gk(e,n).unknown(a)},Ui.apply(s,arguments),s}function Fx(){var t=Gk().unknown(void 0),e=t.domain,n=t.range,a=0,s=1,i,o,l=!1,c=0,d=0,u=.5;delete t.unknown;function h(){var f=e().length,v=s<a,x=v?s:a,g=v?a:s;i=(g-x)/Math.max(1,f-c+d*2),l&&(i=Math.floor(i)),x+=(g-x-i*(f-c))*u,o=i*(1-c),l&&(x=Math.round(x),o=Math.round(o));var y=I5e(f).map(function(b){return x+i*b});return n(v?y.reverse():y)}return t.domain=function(f){return arguments.length?(e(f),h()):e()},t.range=function(f){return arguments.length?([a,s]=f,a=+a,s=+s,h()):[a,s]},t.rangeRound=function(f){return[a,s]=f,a=+a,s=+s,l=!0,h()},t.bandwidth=function(){return o},t.step=function(){return i},t.round=function(f){return arguments.length?(l=!!f,h()):l},t.padding=function(f){return arguments.length?(c=Math.min(1,d=+f),h()):c},t.paddingInner=function(f){return arguments.length?(c=Math.min(1,f),h()):c},t.paddingOuter=function(f){return arguments.length?(d=+f,h()):d},t.align=function(f){return arguments.length?(u=Math.max(0,Math.min(1,f)),h()):u},t.copy=function(){return Fx(e(),[a,s]).round(l).paddingInner(c).paddingOuter(d).align(u)},Ui.apply(h(),arguments)}function ate(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return ate(e())},t}function ex(){return ate(Fx.apply(null,arguments).paddingInner(1))}function Wk(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function ste(t,e){var n=Object.create(t.prototype);for(var a in e)n[a]=e[a];return n}function qg(){}var $x=.7,Sw=1/$x,Km="\\s*([+-]?\\d+)\\s*",Ux="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",qo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",L5e=/^#([0-9a-f]{3,8})$/,F5e=new RegExp(`^rgb\\(${Km},${Km},${Km}\\)$`),$5e=new RegExp(`^rgb\\(${qo},${qo},${qo}\\)$`),U5e=new RegExp(`^rgba\\(${Km},${Km},${Km},${Ux}\\)$`),B5e=new RegExp(`^rgba\\(${qo},${qo},${qo},${Ux}\\)$`),z5e=new RegExp(`^hsl\\(${Ux},${qo},${qo}\\)$`),q5e=new RegExp(`^hsla\\(${Ux},${qo},${qo},${Ux}\\)$`),EU={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Wk(qg,Bx,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:AU,formatHex:AU,formatHex8:V5e,formatHsl:H5e,formatRgb:MU,toString:MU});function AU(){return this.rgb().formatHex()}function V5e(){return this.rgb().formatHex8()}function H5e(){return ite(this).formatHsl()}function MU(){return this.rgb().formatRgb()}function Bx(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=L5e.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?PU(e):n===3?new Ms(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?ky(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?ky(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=F5e.exec(t))?new Ms(e[1],e[2],e[3],1):(e=$5e.exec(t))?new Ms(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=U5e.exec(t))?ky(e[1],e[2],e[3],e[4]):(e=B5e.exec(t))?ky(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=z5e.exec(t))?RU(e[1],e[2]/100,e[3]/100,1):(e=q5e.exec(t))?RU(e[1],e[2]/100,e[3]/100,e[4]):EU.hasOwnProperty(t)?PU(EU[t]):t==="transparent"?new Ms(NaN,NaN,NaN,0):null}function PU(t){return new Ms(t>>16&255,t>>8&255,t&255,1)}function ky(t,e,n,a){return a<=0&&(t=e=n=NaN),new Ms(t,e,n,a)}function G5e(t){return t instanceof qg||(t=Bx(t)),t?(t=t.rgb(),new Ms(t.r,t.g,t.b,t.opacity)):new Ms}function gT(t,e,n,a){return arguments.length===1?G5e(t):new Ms(t,e,n,a??1)}function Ms(t,e,n,a){this.r=+t,this.g=+e,this.b=+n,this.opacity=+a}Wk(Ms,gT,ste(qg,{brighter(t){return t=t==null?Sw:Math.pow(Sw,t),new Ms(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?$x:Math.pow($x,t),new Ms(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ms(Fu(this.r),Fu(this.g),Fu(this.b),Cw(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:TU,formatHex:TU,formatHex8:W5e,formatRgb:kU,toString:kU}));function TU(){return`#${wu(this.r)}${wu(this.g)}${wu(this.b)}`}function W5e(){return`#${wu(this.r)}${wu(this.g)}${wu(this.b)}${wu((isNaN(this.opacity)?1:this.opacity)*255)}`}function kU(){const t=Cw(this.opacity);return`${t===1?"rgb(":"rgba("}${Fu(this.r)}, ${Fu(this.g)}, ${Fu(this.b)}${t===1?")":`, ${t})`}`}function Cw(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Fu(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function wu(t){return t=Fu(t),(t<16?"0":"")+t.toString(16)}function RU(t,e,n,a){return a<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new oo(t,e,n,a)}function ite(t){if(t instanceof oo)return new oo(t.h,t.s,t.l,t.opacity);if(t instanceof qg||(t=Bx(t)),!t)return new oo;if(t instanceof oo)return t;t=t.rgb();var e=t.r/255,n=t.g/255,a=t.b/255,s=Math.min(e,n,a),i=Math.max(e,n,a),o=NaN,l=i-s,c=(i+s)/2;return l?(e===i?o=(n-a)/l+(n<a)*6:n===i?o=(a-e)/l+2:o=(e-n)/l+4,l/=c<.5?i+s:2-i-s,o*=60):l=c>0&&c<1?0:o,new oo(o,l,c,t.opacity)}function K5e(t,e,n,a){return arguments.length===1?ite(t):new oo(t,e,n,a??1)}function oo(t,e,n,a){this.h=+t,this.s=+e,this.l=+n,this.opacity=+a}Wk(oo,K5e,ste(qg,{brighter(t){return t=t==null?Sw:Math.pow(Sw,t),new oo(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?$x:Math.pow($x,t),new oo(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,a=n+(n<.5?n:1-n)*e,s=2*n-a;return new Ms(zE(t>=240?t-240:t+120,s,a),zE(t,s,a),zE(t<120?t+240:t-120,s,a),this.opacity)},clamp(){return new oo(OU(this.h),Ry(this.s),Ry(this.l),Cw(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Cw(this.opacity);return`${t===1?"hsl(":"hsla("}${OU(this.h)}, ${Ry(this.s)*100}%, ${Ry(this.l)*100}%${t===1?")":`, ${t})`}`}}));function OU(t){return t=(t||0)%360,t<0?t+360:t}function Ry(t){return Math.max(0,Math.min(1,t||0))}function zE(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Kk=t=>()=>t;function X5e(t,e){return function(n){return t+n*e}}function Y5e(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(a){return Math.pow(t+a*e,n)}}function Q5e(t){return(t=+t)==1?ote:function(e,n){return n-e?Y5e(e,n,t):Kk(isNaN(e)?n:e)}}function ote(t,e){var n=e-t;return n?X5e(t,n):Kk(isNaN(t)?e:t)}const DU=(function t(e){var n=Q5e(e);function a(s,i){var o=n((s=gT(s)).r,(i=gT(i)).r),l=n(s.g,i.g),c=n(s.b,i.b),d=ote(s.opacity,i.opacity);return function(u){return s.r=o(u),s.g=l(u),s.b=c(u),s.opacity=d(u),s+""}}return a.gamma=t,a})(1);function Z5e(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,a=e.slice(),s;return function(i){for(s=0;s<n;++s)a[s]=t[s]*(1-i)+e[s]*i;return a}}function J5e(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function eOe(t,e){var n=e?e.length:0,a=t?Math.min(n,t.length):0,s=new Array(a),i=new Array(n),o;for(o=0;o<a;++o)s[o]=Ap(t[o],e[o]);for(;o<n;++o)i[o]=e[o];return function(l){for(o=0;o<a;++o)i[o]=s[o](l);return i}}function tOe(t,e){var n=new Date;return t=+t,e=+e,function(a){return n.setTime(t*(1-a)+e*a),n}}function Ew(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function nOe(t,e){var n={},a={},s;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(s in e)s in t?n[s]=Ap(t[s],e[s]):a[s]=e[s];return function(i){for(s in n)a[s]=n[s](i);return a}}var vT=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,qE=new RegExp(vT.source,"g");function rOe(t){return function(){return t}}function aOe(t){return function(e){return t(e)+""}}function sOe(t,e){var n=vT.lastIndex=qE.lastIndex=0,a,s,i,o=-1,l=[],c=[];for(t=t+"",e=e+"";(a=vT.exec(t))&&(s=qE.exec(e));)(i=s.index)>n&&(i=e.slice(n,i),l[o]?l[o]+=i:l[++o]=i),(a=a[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,c.push({i:o,x:Ew(a,s)})),n=qE.lastIndex;return n<e.length&&(i=e.slice(n),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?aOe(c[0].x):rOe(e):(e=c.length,function(d){for(var u=0,h;u<e;++u)l[(h=c[u]).i]=h.x(d);return l.join("")})}function Ap(t,e){var n=typeof e,a;return e==null||n==="boolean"?Kk(e):(n==="number"?Ew:n==="string"?(a=Bx(e))?(e=a,DU):sOe:e instanceof Bx?DU:e instanceof Date?tOe:J5e(e)?Z5e:Array.isArray(e)?eOe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?nOe:Ew)(t,e)}function Xk(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function iOe(t,e){e===void 0&&(e=t,t=Ap);for(var n=0,a=e.length-1,s=e[0],i=new Array(a<0?0:a);n<a;)i[n]=t(s,s=e[++n]);return function(o){var l=Math.max(0,Math.min(a-1,Math.floor(o*=a)));return i[l](o-l)}}function oOe(t){return function(){return t}}function Aw(t){return+t}var IU=[0,1];function us(t){return t}function yT(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:oOe(isNaN(e)?NaN:.5)}function lOe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(a){return Math.max(t,Math.min(e,a))}}function cOe(t,e,n){var a=t[0],s=t[1],i=e[0],o=e[1];return s<a?(a=yT(s,a),i=n(o,i)):(a=yT(a,s),i=n(i,o)),function(l){return i(a(l))}}function dOe(t,e,n){var a=Math.min(t.length,e.length)-1,s=new Array(a),i=new Array(a),o=-1;for(t[a]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<a;)s[o]=yT(t[o],t[o+1]),i[o]=n(e[o],e[o+1]);return function(l){var c=zg(t,l,1,a)-1;return i[c](s[c](l))}}function Vg(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function S_(){var t=IU,e=IU,n=Ap,a,s,i,o=us,l,c,d;function u(){var f=Math.min(t.length,e.length);return o!==us&&(o=lOe(t[0],t[f-1])),l=f>2?dOe:cOe,c=d=null,h}function h(f){return f==null||isNaN(f=+f)?i:(c||(c=l(t.map(a),e,n)))(a(o(f)))}return h.invert=function(f){return o(s((d||(d=l(e,t.map(a),Ew)))(f)))},h.domain=function(f){return arguments.length?(t=Array.from(f,Aw),u()):t.slice()},h.range=function(f){return arguments.length?(e=Array.from(f),u()):e.slice()},h.rangeRound=function(f){return e=Array.from(f),n=Xk,u()},h.clamp=function(f){return arguments.length?(o=f?!0:us,u()):o!==us},h.interpolate=function(f){return arguments.length?(n=f,u()):n},h.unknown=function(f){return arguments.length?(i=f,h):i},function(f,v){return a=f,s=v,u()}}function Yk(){return S_()(us,us)}function uOe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Mw(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,a=t.slice(0,n);return[a.length>1?a[0]+a.slice(2):a,+t.slice(n+1)]}function kf(t){return t=Mw(Math.abs(t)),t?t[1]:NaN}function hOe(t,e){return function(n,a){for(var s=n.length,i=[],o=0,l=t[0],c=0;s>0&&l>0&&(c+l+1>a&&(l=Math.max(1,a-c)),i.push(n.substring(s-=l,s+l)),!((c+=l+1)>a));)l=t[o=(o+1)%t.length];return i.reverse().join(e)}}function mOe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var fOe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function zx(t){if(!(e=fOe.exec(t)))throw new Error("invalid format: "+t);var e;return new Qk({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}zx.prototype=Qk.prototype;function Qk(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Qk.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function pOe(t){e:for(var e=t.length,n=1,a=-1,s;n<e;++n)switch(t[n]){case".":a=s=n;break;case"0":a===0&&(a=n),s=n;break;default:if(!+t[n])break e;a>0&&(a=0);break}return a>0?t.slice(0,a)+t.slice(s+1):t}var lte;function xOe(t,e){var n=Mw(t,e);if(!n)return t+"";var a=n[0],s=n[1],i=s-(lte=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=a.length;return i===o?a:i>o?a+new Array(i-o+1).join("0"):i>0?a.slice(0,i)+"."+a.slice(i):"0."+new Array(1-i).join("0")+Mw(t,Math.max(0,e+i-1))[0]}function LU(t,e){var n=Mw(t,e);if(!n)return t+"";var a=n[0],s=n[1];return s<0?"0."+new Array(-s).join("0")+a:a.length>s+1?a.slice(0,s+1)+"."+a.slice(s+1):a+new Array(s-a.length+2).join("0")}const FU={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:uOe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>LU(t*100,e),r:LU,s:xOe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function $U(t){return t}var UU=Array.prototype.map,BU=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function gOe(t){var e=t.grouping===void 0||t.thousands===void 0?$U:hOe(UU.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",a=t.currency===void 0?"":t.currency[1]+"",s=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?$U:mOe(UU.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function d(h){h=zx(h);var f=h.fill,v=h.align,x=h.sign,g=h.symbol,y=h.zero,b=h.width,_=h.comma,j=h.precision,S=h.trim,C=h.type;C==="n"?(_=!0,C="g"):FU[C]||(j===void 0&&(j=12),S=!0,C="g"),(y||f==="0"&&v==="=")&&(y=!0,f="0",v="=");var E=g==="$"?n:g==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",P=g==="$"?a:/[%p]/.test(C)?o:"",T=FU[C],M=/[defgprs%]/.test(C);j=j===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function k(O){var $=E,F=P,B,G,I;if(C==="c")F=T(O)+F,O="";else{O=+O;var L=O<0||1/O<0;if(O=isNaN(O)?c:T(Math.abs(O),j),S&&(O=pOe(O)),L&&+O==0&&x!=="+"&&(L=!1),$=(L?x==="("?x:l:x==="-"||x==="("?"":x)+$,F=(C==="s"?BU[8+lte/3]:"")+F+(L&&x==="("?")":""),M){for(B=-1,G=O.length;++B<G;)if(I=O.charCodeAt(B),48>I||I>57){F=(I===46?s+O.slice(B+1):O.slice(B))+F,O=O.slice(0,B);break}}}_&&!y&&(O=e(O,1/0));var U=$.length+O.length+F.length,z=U<b?new Array(b-U+1).join(f):"";switch(_&&y&&(O=e(z+O,z.length?b-F.length:1/0),z=""),v){case"<":O=$+O+F+z;break;case"=":O=$+z+O+F;break;case"^":O=z.slice(0,U=z.length>>1)+$+O+F+z.slice(U);break;default:O=z+$+O+F;break}return i(O)}return k.toString=function(){return h+""},k}function u(h,f){var v=d((h=zx(h),h.type="f",h)),x=Math.max(-8,Math.min(8,Math.floor(kf(f)/3)))*3,g=Math.pow(10,-x),y=BU[8+x/3];return function(b){return v(g*b)+y}}return{format:d,formatPrefix:u}}var Oy,Zk,cte;vOe({thousands:",",grouping:[3],currency:["$",""]});function vOe(t){return Oy=gOe(t),Zk=Oy.format,cte=Oy.formatPrefix,Oy}function yOe(t){return Math.max(0,-kf(Math.abs(t)))}function bOe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(kf(e)/3)))*3-kf(Math.abs(t)))}function wOe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,kf(e)-kf(t))+1}function dte(t,e,n,a){var s=pT(t,e,n),i;switch(a=zx(a??",f"),a.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return a.precision==null&&!isNaN(i=bOe(s,o))&&(a.precision=i),cte(a,o)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(i=wOe(s,Math.max(Math.abs(t),Math.abs(e))))&&(a.precision=i-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(i=yOe(s))&&(a.precision=i-(a.type==="%")*2);break}}return Zk(a)}function Nd(t){var e=t.domain;return t.ticks=function(n){var a=e();return mT(a[0],a[a.length-1],n??10)},t.tickFormat=function(n,a){var s=e();return dte(s[0],s[s.length-1],n??10,a)},t.nice=function(n){n==null&&(n=10);var a=e(),s=0,i=a.length-1,o=a[s],l=a[i],c,d,u=10;for(l<o&&(d=o,o=l,l=d,d=s,s=i,i=d);u-- >0;){if(d=fT(o,l,n),d===c)return a[s]=o,a[i]=l,e(a);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;c=d}return t},t}function Pw(){var t=Yk();return t.copy=function(){return Vg(t,Pw())},Ui.apply(t,arguments),Nd(t)}function ute(t){var e;function n(a){return a==null||isNaN(a=+a)?e:a}return n.invert=n,n.domain=n.range=function(a){return arguments.length?(t=Array.from(a,Aw),n):t.slice()},n.unknown=function(a){return arguments.length?(e=a,n):e},n.copy=function(){return ute(t).unknown(e)},t=arguments.length?Array.from(t,Aw):[0,1],Nd(n)}function hte(t,e){t=t.slice();var n=0,a=t.length-1,s=t[n],i=t[a],o;return i<s&&(o=n,n=a,a=o,o=s,s=i,i=o),t[n]=e.floor(s),t[a]=e.ceil(i),t}function zU(t){return Math.log(t)}function qU(t){return Math.exp(t)}function _Oe(t){return-Math.log(-t)}function jOe(t){return-Math.exp(-t)}function NOe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function SOe(t){return t===10?NOe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function COe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function VU(t){return(e,n)=>-t(-e,n)}function Jk(t){const e=t(zU,qU),n=e.domain;let a=10,s,i;function o(){return s=COe(a),i=SOe(a),n()[0]<0?(s=VU(s),i=VU(i),t(_Oe,jOe)):t(zU,qU),e}return e.base=function(l){return arguments.length?(a=+l,o()):a},e.domain=function(l){return arguments.length?(n(l),o()):n()},e.ticks=l=>{const c=n();let d=c[0],u=c[c.length-1];const h=u<d;h&&([d,u]=[u,d]);let f=s(d),v=s(u),x,g;const y=l==null?10:+l;let b=[];if(!(a%1)&&v-f<y){if(f=Math.floor(f),v=Math.ceil(v),d>0){for(;f<=v;++f)for(x=1;x<a;++x)if(g=f<0?x/i(-f):x*i(f),!(g<d)){if(g>u)break;b.push(g)}}else for(;f<=v;++f)for(x=a-1;x>=1;--x)if(g=f>0?x/i(-f):x*i(f),!(g<d)){if(g>u)break;b.push(g)}b.length*2<y&&(b=mT(d,u,y))}else b=mT(f,v,Math.min(v-f,y)).map(i);return h?b.reverse():b},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=a===10?"s":","),typeof c!="function"&&(!(a%1)&&(c=zx(c)).precision==null&&(c.trim=!0),c=Zk(c)),l===1/0)return c;const d=Math.max(1,a*l/e.ticks().length);return u=>{let h=u/i(Math.round(s(u)));return h*a<a-.5&&(h*=a),h<=d?c(u):""}},e.nice=()=>n(hte(n(),{floor:l=>i(Math.floor(s(l))),ceil:l=>i(Math.ceil(s(l)))})),e}function mte(){const t=Jk(S_()).domain([1,10]);return t.copy=()=>Vg(t,mte()).base(t.base()),Ui.apply(t,arguments),t}function HU(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function GU(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function eR(t){var e=1,n=t(HU(e),GU(e));return n.constant=function(a){return arguments.length?t(HU(e=+a),GU(e)):e},Nd(n)}function fte(){var t=eR(S_());return t.copy=function(){return Vg(t,fte()).constant(t.constant())},Ui.apply(t,arguments)}function WU(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function EOe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function AOe(t){return t<0?-t*t:t*t}function tR(t){var e=t(us,us),n=1;function a(){return n===1?t(us,us):n===.5?t(EOe,AOe):t(WU(n),WU(1/n))}return e.exponent=function(s){return arguments.length?(n=+s,a()):n},Nd(e)}function nR(){var t=tR(S_());return t.copy=function(){return Vg(t,nR()).exponent(t.exponent())},Ui.apply(t,arguments),t}function MOe(){return nR.apply(null,arguments).exponent(.5)}function KU(t){return Math.sign(t)*t*t}function POe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function pte(){var t=Yk(),e=[0,1],n=!1,a;function s(i){var o=POe(t(i));return isNaN(o)?a:n?Math.round(o):o}return s.invert=function(i){return t.invert(KU(i))},s.domain=function(i){return arguments.length?(t.domain(i),s):t.domain()},s.range=function(i){return arguments.length?(t.range((e=Array.from(i,Aw)).map(KU)),s):e.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(n=!!i,s):n},s.clamp=function(i){return arguments.length?(t.clamp(i),s):t.clamp()},s.unknown=function(i){return arguments.length?(a=i,s):a},s.copy=function(){return pte(t.domain(),e).round(n).clamp(t.clamp()).unknown(a)},Ui.apply(s,arguments),Nd(s)}function xte(){var t=[],e=[],n=[],a;function s(){var o=0,l=Math.max(1,e.length);for(n=new Array(l-1);++o<l;)n[o-1]=D5e(t,o/l);return i}function i(o){return o==null||isNaN(o=+o)?a:e[zg(n,o)]}return i.invertExtent=function(o){var l=e.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},i.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(rd),s()},i.range=function(o){return arguments.length?(e=Array.from(o),s()):e.slice()},i.unknown=function(o){return arguments.length?(a=o,i):a},i.quantiles=function(){return n.slice()},i.copy=function(){return xte().domain(t).range(e).unknown(a)},Ui.apply(i,arguments)}function gte(){var t=0,e=1,n=1,a=[.5],s=[0,1],i;function o(c){return c!=null&&c<=c?s[zg(a,c,0,n)]:i}function l(){var c=-1;for(a=new Array(n);++c<n;)a[c]=((c+1)*e-(c-n)*t)/(n+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},o.range=function(c){return arguments.length?(n=(s=Array.from(c)).length-1,l()):s.slice()},o.invertExtent=function(c){var d=s.indexOf(c);return d<0?[NaN,NaN]:d<1?[t,a[0]]:d>=n?[a[n-1],e]:[a[d-1],a[d]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return a.slice()},o.copy=function(){return gte().domain([t,e]).range(s).unknown(i)},Ui.apply(Nd(o),arguments)}function vte(){var t=[.5],e=[0,1],n,a=1;function s(i){return i!=null&&i<=i?e[zg(t,i,0,a)]:n}return s.domain=function(i){return arguments.length?(t=Array.from(i),a=Math.min(t.length,e.length-1),s):t.slice()},s.range=function(i){return arguments.length?(e=Array.from(i),a=Math.min(t.length,e.length-1),s):e.slice()},s.invertExtent=function(i){var o=e.indexOf(i);return[t[o-1],t[o]]},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return vte().domain(t).range(e).unknown(n)},Ui.apply(s,arguments)}const VE=new Date,HE=new Date;function ma(t,e,n,a){function s(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(t(i=new Date(+i)),i),s.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),s.round=i=>{const o=s(i),l=s.ceil(i);return i-o<l-i?o:l},s.offset=(i,o)=>(e(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,l)=>{const c=[];if(i=s.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let d;do c.push(d=new Date(+i)),e(i,l),t(i);while(d<i&&i<o);return c},s.filter=i=>ma(o=>{if(o>=o)for(;t(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!i(o););else for(;--l>=0;)for(;e(o,1),!i(o););}),n&&(s.count=(i,o)=>(VE.setTime(+i),HE.setTime(+o),t(VE),t(HE),Math.floor(n(VE,HE))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(a?o=>a(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const Tw=ma(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Tw.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?ma(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Tw);Tw.range;const kl=1e3,Ri=kl*60,Rl=Ri*60,Yl=Rl*24,rR=Yl*7,XU=Yl*30,GE=Yl*365,_u=ma(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*kl)},(t,e)=>(e-t)/kl,t=>t.getUTCSeconds());_u.range;const aR=ma(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*kl)},(t,e)=>{t.setTime(+t+e*Ri)},(t,e)=>(e-t)/Ri,t=>t.getMinutes());aR.range;const sR=ma(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ri)},(t,e)=>(e-t)/Ri,t=>t.getUTCMinutes());sR.range;const iR=ma(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*kl-t.getMinutes()*Ri)},(t,e)=>{t.setTime(+t+e*Rl)},(t,e)=>(e-t)/Rl,t=>t.getHours());iR.range;const oR=ma(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Rl)},(t,e)=>(e-t)/Rl,t=>t.getUTCHours());oR.range;const Hg=ma(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ri)/Yl,t=>t.getDate()-1);Hg.range;const C_=ma(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Yl,t=>t.getUTCDate()-1);C_.range;const yte=ma(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Yl,t=>Math.floor(t/Yl));yte.range;function ph(t){return ma(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Ri)/rR)}const E_=ph(0),kw=ph(1),TOe=ph(2),kOe=ph(3),Rf=ph(4),ROe=ph(5),OOe=ph(6);E_.range;kw.range;TOe.range;kOe.range;Rf.range;ROe.range;OOe.range;function xh(t){return ma(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/rR)}const A_=xh(0),Rw=xh(1),DOe=xh(2),IOe=xh(3),Of=xh(4),LOe=xh(5),FOe=xh(6);A_.range;Rw.range;DOe.range;IOe.range;Of.range;LOe.range;FOe.range;const lR=ma(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());lR.range;const cR=ma(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());cR.range;const Ql=ma(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ql.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ma(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ql.range;const Zl=ma(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Zl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ma(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Zl.range;function bte(t,e,n,a,s,i){const o=[[_u,1,kl],[_u,5,5*kl],[_u,15,15*kl],[_u,30,30*kl],[i,1,Ri],[i,5,5*Ri],[i,15,15*Ri],[i,30,30*Ri],[s,1,Rl],[s,3,3*Rl],[s,6,6*Rl],[s,12,12*Rl],[a,1,Yl],[a,2,2*Yl],[n,1,rR],[e,1,XU],[e,3,3*XU],[t,1,GE]];function l(d,u,h){const f=u<d;f&&([d,u]=[u,d]);const v=h&&typeof h.range=="function"?h:c(d,u,h),x=v?v.range(d,+u+1):[];return f?x.reverse():x}function c(d,u,h){const f=Math.abs(u-d)/h,v=Hk(([,,y])=>y).right(o,f);if(v===o.length)return t.every(pT(d/GE,u/GE,h));if(v===0)return Tw.every(Math.max(pT(d,u,h),1));const[x,g]=o[f/o[v-1][2]<o[v][2]/f?v-1:v];return x.every(g)}return[l,c]}const[$Oe,UOe]=bte(Zl,cR,A_,yte,oR,sR),[BOe,zOe]=bte(Ql,lR,E_,Hg,iR,aR);function WE(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function KE(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function j0(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function qOe(t){var e=t.dateTime,n=t.date,a=t.time,s=t.periods,i=t.days,o=t.shortDays,l=t.months,c=t.shortMonths,d=N0(s),u=S0(s),h=N0(i),f=S0(i),v=N0(o),x=S0(o),g=N0(l),y=S0(l),b=N0(c),_=S0(c),j={a:L,A:U,b:z,B:K,c:null,d:tB,e:tB,f:hDe,g:_De,G:NDe,H:cDe,I:dDe,j:uDe,L:wte,m:mDe,M:fDe,p:V,q:Y,Q:aB,s:sB,S:pDe,u:xDe,U:gDe,V:vDe,w:yDe,W:bDe,x:null,X:null,y:wDe,Y:jDe,Z:SDe,"%":rB},S={a:ee,A:se,b:pe,B:Pe,c:null,d:nB,e:nB,f:MDe,g:$De,G:BDe,H:CDe,I:EDe,j:ADe,L:jte,m:PDe,M:TDe,p:xe,q:Ie,Q:aB,s:sB,S:kDe,u:RDe,U:ODe,V:DDe,w:IDe,W:LDe,x:null,X:null,y:FDe,Y:UDe,Z:zDe,"%":rB},C={a:k,A:O,b:$,B:F,c:B,d:JU,e:JU,f:sDe,g:ZU,G:QU,H:eB,I:eB,j:tDe,L:aDe,m:eDe,M:nDe,p:M,q:JOe,Q:oDe,s:lDe,S:rDe,u:KOe,U:XOe,V:YOe,w:WOe,W:QOe,x:G,X:I,y:ZU,Y:QU,Z:ZOe,"%":iDe};j.x=E(n,j),j.X=E(a,j),j.c=E(e,j),S.x=E(n,S),S.X=E(a,S),S.c=E(e,S);function E(fe,Ne){return function(Le){var re=[],he=-1,Ee=0,Xe=fe.length,Ve,at,de;for(Le instanceof Date||(Le=new Date(+Le));++he<Xe;)fe.charCodeAt(he)===37&&(re.push(fe.slice(Ee,he)),(at=YU[Ve=fe.charAt(++he)])!=null?Ve=fe.charAt(++he):at=Ve==="e"?" ":"0",(de=Ne[Ve])&&(Ve=de(Le,at)),re.push(Ve),Ee=he+1);return re.push(fe.slice(Ee,he)),re.join("")}}function P(fe,Ne){return function(Le){var re=j0(1900,void 0,1),he=T(re,fe,Le+="",0),Ee,Xe;if(he!=Le.length)return null;if("Q"in re)return new Date(re.Q);if("s"in re)return new Date(re.s*1e3+("L"in re?re.L:0));if(Ne&&!("Z"in re)&&(re.Z=0),"p"in re&&(re.H=re.H%12+re.p*12),re.m===void 0&&(re.m="q"in re?re.q:0),"V"in re){if(re.V<1||re.V>53)return null;"w"in re||(re.w=1),"Z"in re?(Ee=KE(j0(re.y,0,1)),Xe=Ee.getUTCDay(),Ee=Xe>4||Xe===0?Rw.ceil(Ee):Rw(Ee),Ee=C_.offset(Ee,(re.V-1)*7),re.y=Ee.getUTCFullYear(),re.m=Ee.getUTCMonth(),re.d=Ee.getUTCDate()+(re.w+6)%7):(Ee=WE(j0(re.y,0,1)),Xe=Ee.getDay(),Ee=Xe>4||Xe===0?kw.ceil(Ee):kw(Ee),Ee=Hg.offset(Ee,(re.V-1)*7),re.y=Ee.getFullYear(),re.m=Ee.getMonth(),re.d=Ee.getDate()+(re.w+6)%7)}else("W"in re||"U"in re)&&("w"in re||(re.w="u"in re?re.u%7:"W"in re?1:0),Xe="Z"in re?KE(j0(re.y,0,1)).getUTCDay():WE(j0(re.y,0,1)).getDay(),re.m=0,re.d="W"in re?(re.w+6)%7+re.W*7-(Xe+5)%7:re.w+re.U*7-(Xe+6)%7);return"Z"in re?(re.H+=re.Z/100|0,re.M+=re.Z%100,KE(re)):WE(re)}}function T(fe,Ne,Le,re){for(var he=0,Ee=Ne.length,Xe=Le.length,Ve,at;he<Ee;){if(re>=Xe)return-1;if(Ve=Ne.charCodeAt(he++),Ve===37){if(Ve=Ne.charAt(he++),at=C[Ve in YU?Ne.charAt(he++):Ve],!at||(re=at(fe,Le,re))<0)return-1}else if(Ve!=Le.charCodeAt(re++))return-1}return re}function M(fe,Ne,Le){var re=d.exec(Ne.slice(Le));return re?(fe.p=u.get(re[0].toLowerCase()),Le+re[0].length):-1}function k(fe,Ne,Le){var re=v.exec(Ne.slice(Le));return re?(fe.w=x.get(re[0].toLowerCase()),Le+re[0].length):-1}function O(fe,Ne,Le){var re=h.exec(Ne.slice(Le));return re?(fe.w=f.get(re[0].toLowerCase()),Le+re[0].length):-1}function $(fe,Ne,Le){var re=b.exec(Ne.slice(Le));return re?(fe.m=_.get(re[0].toLowerCase()),Le+re[0].length):-1}function F(fe,Ne,Le){var re=g.exec(Ne.slice(Le));return re?(fe.m=y.get(re[0].toLowerCase()),Le+re[0].length):-1}function B(fe,Ne,Le){return T(fe,e,Ne,Le)}function G(fe,Ne,Le){return T(fe,n,Ne,Le)}function I(fe,Ne,Le){return T(fe,a,Ne,Le)}function L(fe){return o[fe.getDay()]}function U(fe){return i[fe.getDay()]}function z(fe){return c[fe.getMonth()]}function K(fe){return l[fe.getMonth()]}function V(fe){return s[+(fe.getHours()>=12)]}function Y(fe){return 1+~~(fe.getMonth()/3)}function ee(fe){return o[fe.getUTCDay()]}function se(fe){return i[fe.getUTCDay()]}function pe(fe){return c[fe.getUTCMonth()]}function Pe(fe){return l[fe.getUTCMonth()]}function xe(fe){return s[+(fe.getUTCHours()>=12)]}function Ie(fe){return 1+~~(fe.getUTCMonth()/3)}return{format:function(fe){var Ne=E(fe+="",j);return Ne.toString=function(){return fe},Ne},parse:function(fe){var Ne=P(fe+="",!1);return Ne.toString=function(){return fe},Ne},utcFormat:function(fe){var Ne=E(fe+="",S);return Ne.toString=function(){return fe},Ne},utcParse:function(fe){var Ne=P(fe+="",!0);return Ne.toString=function(){return fe},Ne}}}var YU={"-":"",_:" ",0:"0"},Ea=/^\s*\d+/,VOe=/^%/,HOe=/[\\^$*+?|[\]().{}]/g;function Dn(t,e,n){var a=t<0?"-":"",s=(a?-t:t)+"",i=s.length;return a+(i<n?new Array(n-i+1).join(e)+s:s)}function GOe(t){return t.replace(HOe,"\\$&")}function N0(t){return new RegExp("^(?:"+t.map(GOe).join("|")+")","i")}function S0(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function WOe(t,e,n){var a=Ea.exec(e.slice(n,n+1));return a?(t.w=+a[0],n+a[0].length):-1}function KOe(t,e,n){var a=Ea.exec(e.slice(n,n+1));return a?(t.u=+a[0],n+a[0].length):-1}function XOe(t,e,n){var a=Ea.exec(e.slice(n,n+2));return a?(t.U=+a[0],n+a[0].length):-1}function YOe(t,e,n){var a=Ea.exec(e.slice(n,n+2));return a?(t.V=+a[0],n+a[0].length):-1}function QOe(t,e,n){var a=Ea.exec(e.slice(n,n+2));return a?(t.W=+a[0],n+a[0].length):-1}function QU(t,e,n){var a=Ea.exec(e.slice(n,n+4));return a?(t.y=+a[0],n+a[0].length):-1}function ZU(t,e,n){var a=Ea.exec(e.slice(n,n+2));return a?(t.y=+a[0]+(+a[0]>68?1900:2e3),n+a[0].length):-1}function ZOe(t,e,n){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return a?(t.Z=a[1]?0:-(a[2]+(a[3]||"00")),n+a[0].length):-1}function JOe(t,e,n){var a=Ea.exec(e.slice(n,n+1));return a?(t.q=a[0]*3-3,n+a[0].length):-1}function eDe(t,e,n){var a=Ea.exec(e.slice(n,n+2));return a?(t.m=a[0]-1,n+a[0].length):-1}function JU(t,e,n){var a=Ea.exec(e.slice(n,n+2));return a?(t.d=+a[0],n+a[0].length):-1}function tDe(t,e,n){var a=Ea.exec(e.slice(n,n+3));return a?(t.m=0,t.d=+a[0],n+a[0].length):-1}function eB(t,e,n){var a=Ea.exec(e.slice(n,n+2));return a?(t.H=+a[0],n+a[0].length):-1}function nDe(t,e,n){var a=Ea.exec(e.slice(n,n+2));return a?(t.M=+a[0],n+a[0].length):-1}function rDe(t,e,n){var a=Ea.exec(e.slice(n,n+2));return a?(t.S=+a[0],n+a[0].length):-1}function aDe(t,e,n){var a=Ea.exec(e.slice(n,n+3));return a?(t.L=+a[0],n+a[0].length):-1}function sDe(t,e,n){var a=Ea.exec(e.slice(n,n+6));return a?(t.L=Math.floor(a[0]/1e3),n+a[0].length):-1}function iDe(t,e,n){var a=VOe.exec(e.slice(n,n+1));return a?n+a[0].length:-1}function oDe(t,e,n){var a=Ea.exec(e.slice(n));return a?(t.Q=+a[0],n+a[0].length):-1}function lDe(t,e,n){var a=Ea.exec(e.slice(n));return a?(t.s=+a[0],n+a[0].length):-1}function tB(t,e){return Dn(t.getDate(),e,2)}function cDe(t,e){return Dn(t.getHours(),e,2)}function dDe(t,e){return Dn(t.getHours()%12||12,e,2)}function uDe(t,e){return Dn(1+Hg.count(Ql(t),t),e,3)}function wte(t,e){return Dn(t.getMilliseconds(),e,3)}function hDe(t,e){return wte(t,e)+"000"}function mDe(t,e){return Dn(t.getMonth()+1,e,2)}function fDe(t,e){return Dn(t.getMinutes(),e,2)}function pDe(t,e){return Dn(t.getSeconds(),e,2)}function xDe(t){var e=t.getDay();return e===0?7:e}function gDe(t,e){return Dn(E_.count(Ql(t)-1,t),e,2)}function _te(t){var e=t.getDay();return e>=4||e===0?Rf(t):Rf.ceil(t)}function vDe(t,e){return t=_te(t),Dn(Rf.count(Ql(t),t)+(Ql(t).getDay()===4),e,2)}function yDe(t){return t.getDay()}function bDe(t,e){return Dn(kw.count(Ql(t)-1,t),e,2)}function wDe(t,e){return Dn(t.getFullYear()%100,e,2)}function _De(t,e){return t=_te(t),Dn(t.getFullYear()%100,e,2)}function jDe(t,e){return Dn(t.getFullYear()%1e4,e,4)}function NDe(t,e){var n=t.getDay();return t=n>=4||n===0?Rf(t):Rf.ceil(t),Dn(t.getFullYear()%1e4,e,4)}function SDe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Dn(e/60|0,"0",2)+Dn(e%60,"0",2)}function nB(t,e){return Dn(t.getUTCDate(),e,2)}function CDe(t,e){return Dn(t.getUTCHours(),e,2)}function EDe(t,e){return Dn(t.getUTCHours()%12||12,e,2)}function ADe(t,e){return Dn(1+C_.count(Zl(t),t),e,3)}function jte(t,e){return Dn(t.getUTCMilliseconds(),e,3)}function MDe(t,e){return jte(t,e)+"000"}function PDe(t,e){return Dn(t.getUTCMonth()+1,e,2)}function TDe(t,e){return Dn(t.getUTCMinutes(),e,2)}function kDe(t,e){return Dn(t.getUTCSeconds(),e,2)}function RDe(t){var e=t.getUTCDay();return e===0?7:e}function ODe(t,e){return Dn(A_.count(Zl(t)-1,t),e,2)}function Nte(t){var e=t.getUTCDay();return e>=4||e===0?Of(t):Of.ceil(t)}function DDe(t,e){return t=Nte(t),Dn(Of.count(Zl(t),t)+(Zl(t).getUTCDay()===4),e,2)}function IDe(t){return t.getUTCDay()}function LDe(t,e){return Dn(Rw.count(Zl(t)-1,t),e,2)}function FDe(t,e){return Dn(t.getUTCFullYear()%100,e,2)}function $De(t,e){return t=Nte(t),Dn(t.getUTCFullYear()%100,e,2)}function UDe(t,e){return Dn(t.getUTCFullYear()%1e4,e,4)}function BDe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Of(t):Of.ceil(t),Dn(t.getUTCFullYear()%1e4,e,4)}function zDe(){return"+0000"}function rB(){return"%"}function aB(t){return+t}function sB(t){return Math.floor(+t/1e3)}var nm,Ste,Cte;qDe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function qDe(t){return nm=qOe(t),Ste=nm.format,nm.parse,Cte=nm.utcFormat,nm.utcParse,nm}function VDe(t){return new Date(t)}function HDe(t){return t instanceof Date?+t:+new Date(+t)}function dR(t,e,n,a,s,i,o,l,c,d){var u=Yk(),h=u.invert,f=u.domain,v=d(".%L"),x=d(":%S"),g=d("%I:%M"),y=d("%I %p"),b=d("%a %d"),_=d("%b %d"),j=d("%B"),S=d("%Y");function C(E){return(c(E)<E?v:l(E)<E?x:o(E)<E?g:i(E)<E?y:a(E)<E?s(E)<E?b:_:n(E)<E?j:S)(E)}return u.invert=function(E){return new Date(h(E))},u.domain=function(E){return arguments.length?f(Array.from(E,HDe)):f().map(VDe)},u.ticks=function(E){var P=f();return t(P[0],P[P.length-1],E??10)},u.tickFormat=function(E,P){return P==null?C:d(P)},u.nice=function(E){var P=f();return(!E||typeof E.range!="function")&&(E=e(P[0],P[P.length-1],E??10)),E?f(hte(P,E)):u},u.copy=function(){return Vg(u,dR(t,e,n,a,s,i,o,l,c,d))},u}function GDe(){return Ui.apply(dR(BOe,zOe,Ql,lR,E_,Hg,iR,aR,_u,Ste).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function WDe(){return Ui.apply(dR($Oe,UOe,Zl,cR,A_,C_,oR,sR,_u,Cte).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function M_(){var t=0,e=1,n,a,s,i,o=us,l=!1,c;function d(h){return h==null||isNaN(h=+h)?c:o(s===0?.5:(h=(i(h)-n)*s,l?Math.max(0,Math.min(1,h)):h))}d.domain=function(h){return arguments.length?([t,e]=h,n=i(t=+t),a=i(e=+e),s=n===a?0:1/(a-n),d):[t,e]},d.clamp=function(h){return arguments.length?(l=!!h,d):l},d.interpolator=function(h){return arguments.length?(o=h,d):o};function u(h){return function(f){var v,x;return arguments.length?([v,x]=f,o=h(v,x),d):[o(0),o(1)]}}return d.range=u(Ap),d.rangeRound=u(Xk),d.unknown=function(h){return arguments.length?(c=h,d):c},function(h){return i=h,n=h(t),a=h(e),s=n===a?0:1/(a-n),d}}function Sd(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Ete(){var t=Nd(M_()(us));return t.copy=function(){return Sd(t,Ete())},ac.apply(t,arguments)}function Ate(){var t=Jk(M_()).domain([1,10]);return t.copy=function(){return Sd(t,Ate()).base(t.base())},ac.apply(t,arguments)}function Mte(){var t=eR(M_());return t.copy=function(){return Sd(t,Mte()).constant(t.constant())},ac.apply(t,arguments)}function uR(){var t=tR(M_());return t.copy=function(){return Sd(t,uR()).exponent(t.exponent())},ac.apply(t,arguments)}function KDe(){return uR.apply(null,arguments).exponent(.5)}function Pte(){var t=[],e=us;function n(a){if(a!=null&&!isNaN(a=+a))return e((zg(t,a,1)-1)/(t.length-1))}return n.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let s of a)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(rd),n},n.interpolator=function(a){return arguments.length?(e=a,n):e},n.range=function(){return t.map((a,s)=>e(s/(t.length-1)))},n.quantiles=function(a){return Array.from({length:a+1},(s,i)=>O5e(t,i/a))},n.copy=function(){return Pte(e).domain(t)},ac.apply(n,arguments)}function P_(){var t=0,e=.5,n=1,a=1,s,i,o,l,c,d=us,u,h=!1,f;function v(g){return isNaN(g=+g)?f:(g=.5+((g=+u(g))-i)*(a*g<a*i?l:c),d(h?Math.max(0,Math.min(1,g)):g))}v.domain=function(g){return arguments.length?([t,e,n]=g,s=u(t=+t),i=u(e=+e),o=u(n=+n),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),a=i<s?-1:1,v):[t,e,n]},v.clamp=function(g){return arguments.length?(h=!!g,v):h},v.interpolator=function(g){return arguments.length?(d=g,v):d};function x(g){return function(y){var b,_,j;return arguments.length?([b,_,j]=y,d=iOe(g,[b,_,j]),v):[d(0),d(.5),d(1)]}}return v.range=x(Ap),v.rangeRound=x(Xk),v.unknown=function(g){return arguments.length?(f=g,v):f},function(g){return u=g,s=g(t),i=g(e),o=g(n),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),a=i<s?-1:1,v}}function Tte(){var t=Nd(P_()(us));return t.copy=function(){return Sd(t,Tte())},ac.apply(t,arguments)}function kte(){var t=Jk(P_()).domain([.1,1,10]);return t.copy=function(){return Sd(t,kte()).base(t.base())},ac.apply(t,arguments)}function Rte(){var t=eR(P_());return t.copy=function(){return Sd(t,Rte()).constant(t.constant())},ac.apply(t,arguments)}function hR(){var t=tR(P_());return t.copy=function(){return Sd(t,hR()).exponent(t.exponent())},ac.apply(t,arguments)}function XDe(){return hR.apply(null,arguments).exponent(.5)}const iB=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Fx,scaleDiverging:Tte,scaleDivergingLog:kte,scaleDivergingPow:hR,scaleDivergingSqrt:XDe,scaleDivergingSymlog:Rte,scaleIdentity:ute,scaleImplicit:xT,scaleLinear:Pw,scaleLog:mte,scaleOrdinal:Gk,scalePoint:ex,scalePow:nR,scaleQuantile:xte,scaleQuantize:gte,scaleRadial:pte,scaleSequential:Ete,scaleSequentialLog:Ate,scaleSequentialPow:uR,scaleSequentialQuantile:Pte,scaleSequentialSqrt:KDe,scaleSequentialSymlog:Mte,scaleSqrt:MOe,scaleSymlog:fte,scaleThreshold:vte,scaleTime:GDe,scaleUtc:WDe,tickFormat:dte},Symbol.toStringTag,{value:"Module"}));var XE,oB;function T_(){if(oB)return XE;oB=1;var t=jp();function e(n,a,s){for(var i=-1,o=n.length;++i<o;){var l=n[i],c=a(l);if(c!=null&&(d===void 0?c===c&&!t(c):s(c,d)))var d=c,u=l}return u}return XE=e,XE}var YE,lB;function Ote(){if(lB)return YE;lB=1;function t(e,n){return e>n}return YE=t,YE}var QE,cB;function YDe(){if(cB)return QE;cB=1;var t=T_(),e=Ote(),n=Ep();function a(s){return s&&s.length?t(s,n,e):void 0}return QE=a,QE}var QDe=YDe();const Qc=In(QDe);var ZE,dB;function Dte(){if(dB)return ZE;dB=1;function t(e,n){return e<n}return ZE=t,ZE}var JE,uB;function ZDe(){if(uB)return JE;uB=1;var t=T_(),e=Dte(),n=Ep();function a(s){return s&&s.length?t(s,n,e):void 0}return JE=a,JE}var JDe=ZDe();const k_=In(JDe);var eA,hB;function eIe(){if(hB)return eA;hB=1;var t=Ak(),e=al(),n=qee(),a=Bs();function s(i,o){var l=a(i)?t:n;return l(i,e(o,3))}return eA=s,eA}var tA,mB;function tIe(){if(mB)return tA;mB=1;var t=Bee(),e=eIe();function n(a,s){return t(e(a,s),1)}return tA=n,tA}var nIe=tIe();const rIe=In(nIe);var nA,fB;function aIe(){if(fB)return nA;fB=1;var t=Bk();function e(n,a){return t(n,a)}return nA=e,nA}var sIe=aIe();const Df=In(sIe);var Mp=1e9,iIe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},fR,jr=!0,Ii="[DecimalError] ",$u=Ii+"Invalid argument: ",mR=Ii+"Exponent out of range: ",Pp=Math.floor,au=Math.pow,oIe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ai,_a=1e7,pr=7,Ite=9007199254740991,Ow=Pp(Ite/pr),bt={};bt.absoluteValue=bt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};bt.comparedTo=bt.cmp=function(t){var e,n,a,s,i=this;if(t=new i.constructor(t),i.s!==t.s)return i.s||-t.s;if(i.e!==t.e)return i.e>t.e^i.s<0?1:-1;for(a=i.d.length,s=t.d.length,e=0,n=a<s?a:s;e<n;++e)if(i.d[e]!==t.d[e])return i.d[e]>t.d[e]^i.s<0?1:-1;return a===s?0:a>s^i.s<0?1:-1};bt.decimalPlaces=bt.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*pr;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};bt.dividedBy=bt.div=function(t){return Bl(this,new this.constructor(t))};bt.dividedToIntegerBy=bt.idiv=function(t){var e=this,n=e.constructor;return sr(Bl(e,new n(t),0,1),n.precision)};bt.equals=bt.eq=function(t){return!this.cmp(t)};bt.exponent=function(){return Zr(this)};bt.greaterThan=bt.gt=function(t){return this.cmp(t)>0};bt.greaterThanOrEqualTo=bt.gte=function(t){return this.cmp(t)>=0};bt.isInteger=bt.isint=function(){return this.e>this.d.length-2};bt.isNegative=bt.isneg=function(){return this.s<0};bt.isPositive=bt.ispos=function(){return this.s>0};bt.isZero=function(){return this.s===0};bt.lessThan=bt.lt=function(t){return this.cmp(t)<0};bt.lessThanOrEqualTo=bt.lte=function(t){return this.cmp(t)<1};bt.logarithm=bt.log=function(t){var e,n=this,a=n.constructor,s=a.precision,i=s+5;if(t===void 0)t=new a(10);else if(t=new a(t),t.s<1||t.eq(ai))throw Error(Ii+"NaN");if(n.s<1)throw Error(Ii+(n.s?"NaN":"-Infinity"));return n.eq(ai)?new a(0):(jr=!1,e=Bl(qx(n,i),qx(t,i),i),jr=!0,sr(e,s))};bt.minus=bt.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?$te(e,t):Lte(e,(t.s=-t.s,t))};bt.modulo=bt.mod=function(t){var e,n=this,a=n.constructor,s=a.precision;if(t=new a(t),!t.s)throw Error(Ii+"NaN");return n.s?(jr=!1,e=Bl(n,t,0,1).times(t),jr=!0,n.minus(e)):sr(new a(n),s)};bt.naturalExponential=bt.exp=function(){return Fte(this)};bt.naturalLogarithm=bt.ln=function(){return qx(this)};bt.negated=bt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};bt.plus=bt.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Lte(e,t):$te(e,(t.s=-t.s,t))};bt.precision=bt.sd=function(t){var e,n,a,s=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error($u+t);if(e=Zr(s)+1,a=s.d.length-1,n=a*pr+1,a=s.d[a],a){for(;a%10==0;a/=10)n--;for(a=s.d[0];a>=10;a/=10)n++}return t&&e>n?e:n};bt.squareRoot=bt.sqrt=function(){var t,e,n,a,s,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Ii+"NaN")}for(t=Zr(l),jr=!1,s=Math.sqrt(+l),s==0||s==1/0?(e=Lo(l.d),(e.length+t)%2==0&&(e+="0"),s=Math.sqrt(e),t=Pp((t+1)/2)-(t<0||t%2),s==1/0?e="5e"+t:(e=s.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),a=new c(e)):a=new c(s.toString()),n=c.precision,s=o=n+3;;)if(i=a,a=i.plus(Bl(l,i,o+2)).times(.5),Lo(i.d).slice(0,o)===(e=Lo(a.d)).slice(0,o)){if(e=e.slice(o-3,o+1),s==o&&e=="4999"){if(sr(i,n+1,0),i.times(i).eq(l)){a=i;break}}else if(e!="9999")break;o+=4}return jr=!0,sr(a,n)};bt.times=bt.mul=function(t){var e,n,a,s,i,o,l,c,d,u=this,h=u.constructor,f=u.d,v=(t=new h(t)).d;if(!u.s||!t.s)return new h(0);for(t.s*=u.s,n=u.e+t.e,c=f.length,d=v.length,c<d&&(i=f,f=v,v=i,o=c,c=d,d=o),i=[],o=c+d,a=o;a--;)i.push(0);for(a=d;--a>=0;){for(e=0,s=c+a;s>a;)l=i[s]+v[a]*f[s-a-1]+e,i[s--]=l%_a|0,e=l/_a|0;i[s]=(i[s]+e)%_a|0}for(;!i[--o];)i.pop();return e?++n:i.shift(),t.d=i,t.e=n,jr?sr(t,h.precision):t};bt.toDecimalPlaces=bt.todp=function(t,e){var n=this,a=n.constructor;return n=new a(n),t===void 0?n:(Zo(t,0,Mp),e===void 0?e=a.rounding:Zo(e,0,8),sr(n,t+Zr(n)+1,e))};bt.toExponential=function(t,e){var n,a=this,s=a.constructor;return t===void 0?n=rh(a,!0):(Zo(t,0,Mp),e===void 0?e=s.rounding:Zo(e,0,8),a=sr(new s(a),t+1,e),n=rh(a,!0,t+1)),n};bt.toFixed=function(t,e){var n,a,s=this,i=s.constructor;return t===void 0?rh(s):(Zo(t,0,Mp),e===void 0?e=i.rounding:Zo(e,0,8),a=sr(new i(s),t+Zr(s)+1,e),n=rh(a.abs(),!1,t+Zr(a)+1),s.isneg()&&!s.isZero()?"-"+n:n)};bt.toInteger=bt.toint=function(){var t=this,e=t.constructor;return sr(new e(t),Zr(t)+1,e.rounding)};bt.toNumber=function(){return+this};bt.toPower=bt.pow=function(t){var e,n,a,s,i,o,l=this,c=l.constructor,d=12,u=+(t=new c(t));if(!t.s)return new c(ai);if(l=new c(l),!l.s){if(t.s<1)throw Error(Ii+"Infinity");return l}if(l.eq(ai))return l;if(a=c.precision,t.eq(ai))return sr(l,a);if(e=t.e,n=t.d.length-1,o=e>=n,i=l.s,o){if((n=u<0?-u:u)<=Ite){for(s=new c(ai),e=Math.ceil(a/pr+4),jr=!1;n%2&&(s=s.times(l),xB(s.d,e)),n=Pp(n/2),n!==0;)l=l.times(l),xB(l.d,e);return jr=!0,t.s<0?new c(ai).div(s):sr(s,a)}}else if(i<0)throw Error(Ii+"NaN");return i=i<0&&t.d[Math.max(e,n)]&1?-1:1,l.s=1,jr=!1,s=t.times(qx(l,a+d)),jr=!0,s=Fte(s),s.s=i,s};bt.toPrecision=function(t,e){var n,a,s=this,i=s.constructor;return t===void 0?(n=Zr(s),a=rh(s,n<=i.toExpNeg||n>=i.toExpPos)):(Zo(t,1,Mp),e===void 0?e=i.rounding:Zo(e,0,8),s=sr(new i(s),t,e),n=Zr(s),a=rh(s,t<=n||n<=i.toExpNeg,t)),a};bt.toSignificantDigits=bt.tosd=function(t,e){var n=this,a=n.constructor;return t===void 0?(t=a.precision,e=a.rounding):(Zo(t,1,Mp),e===void 0?e=a.rounding:Zo(e,0,8)),sr(new a(n),t,e)};bt.toString=bt.valueOf=bt.val=bt.toJSON=bt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Zr(t),n=t.constructor;return rh(t,e<=n.toExpNeg||e>=n.toExpPos)};function Lte(t,e){var n,a,s,i,o,l,c,d,u=t.constructor,h=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),jr?sr(e,h):e;if(c=t.d,d=e.d,o=t.e,s=e.e,c=c.slice(),i=o-s,i){for(i<0?(a=c,i=-i,l=d.length):(a=d,s=o,l=c.length),o=Math.ceil(h/pr),l=o>l?o+1:l+1,i>l&&(i=l,a.length=1),a.reverse();i--;)a.push(0);a.reverse()}for(l=c.length,i=d.length,l-i<0&&(i=l,a=d,d=c,c=a),n=0;i;)n=(c[--i]=c[i]+d[i]+n)/_a|0,c[i]%=_a;for(n&&(c.unshift(n),++s),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=s,jr?sr(e,h):e}function Zo(t,e,n){if(t!==~~t||t<e||t>n)throw Error($u+t)}function Lo(t){var e,n,a,s=t.length-1,i="",o=t[0];if(s>0){for(i+=o,e=1;e<s;e++)a=t[e]+"",n=pr-a.length,n&&(i+=Fc(n)),i+=a;o=t[e],a=o+"",n=pr-a.length,n&&(i+=Fc(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Bl=(function(){function t(a,s){var i,o=0,l=a.length;for(a=a.slice();l--;)i=a[l]*s+o,a[l]=i%_a|0,o=i/_a|0;return o&&a.unshift(o),a}function e(a,s,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(a[l]!=s[l]){c=a[l]>s[l]?1:-1;break}return c}function n(a,s,i){for(var o=0;i--;)a[i]-=o,o=a[i]<s[i]?1:0,a[i]=o*_a+a[i]-s[i];for(;!a[0]&&a.length>1;)a.shift()}return function(a,s,i,o){var l,c,d,u,h,f,v,x,g,y,b,_,j,S,C,E,P,T,M=a.constructor,k=a.s==s.s?1:-1,O=a.d,$=s.d;if(!a.s)return new M(a);if(!s.s)throw Error(Ii+"Division by zero");for(c=a.e-s.e,P=$.length,C=O.length,v=new M(k),x=v.d=[],d=0;$[d]==(O[d]||0);)++d;if($[d]>(O[d]||0)&&--c,i==null?_=i=M.precision:o?_=i+(Zr(a)-Zr(s))+1:_=i,_<0)return new M(0);if(_=_/pr+2|0,d=0,P==1)for(u=0,$=$[0],_++;(d<C||u)&&_--;d++)j=u*_a+(O[d]||0),x[d]=j/$|0,u=j%$|0;else{for(u=_a/($[0]+1)|0,u>1&&($=t($,u),O=t(O,u),P=$.length,C=O.length),S=P,g=O.slice(0,P),y=g.length;y<P;)g[y++]=0;T=$.slice(),T.unshift(0),E=$[0],$[1]>=_a/2&&++E;do u=0,l=e($,g,P,y),l<0?(b=g[0],P!=y&&(b=b*_a+(g[1]||0)),u=b/E|0,u>1?(u>=_a&&(u=_a-1),h=t($,u),f=h.length,y=g.length,l=e(h,g,f,y),l==1&&(u--,n(h,P<f?T:$,f))):(u==0&&(l=u=1),h=$.slice()),f=h.length,f<y&&h.unshift(0),n(g,h,y),l==-1&&(y=g.length,l=e($,g,P,y),l<1&&(u++,n(g,P<y?T:$,y))),y=g.length):l===0&&(u++,g=[0]),x[d++]=u,l&&g[0]?g[y++]=O[S]||0:(g=[O[S]],y=1);while((S++<C||g[0]!==void 0)&&_--)}return x[0]||x.shift(),v.e=c,sr(v,o?i+Zr(v)+1:i)}})();function Fte(t,e){var n,a,s,i,o,l,c=0,d=0,u=t.constructor,h=u.precision;if(Zr(t)>16)throw Error(mR+Zr(t));if(!t.s)return new u(ai);for(jr=!1,l=h,o=new u(.03125);t.abs().gte(.1);)t=t.times(o),d+=5;for(a=Math.log(au(2,d))/Math.LN10*2+5|0,l+=a,n=s=i=new u(ai),u.precision=l;;){if(s=sr(s.times(t),l),n=n.times(++c),o=i.plus(Bl(s,n,l)),Lo(o.d).slice(0,l)===Lo(i.d).slice(0,l)){for(;d--;)i=sr(i.times(i),l);return u.precision=h,e==null?(jr=!0,sr(i,h)):i}i=o}}function Zr(t){for(var e=t.e*pr,n=t.d[0];n>=10;n/=10)e++;return e}function rA(t,e,n){if(e>t.LN10.sd())throw jr=!0,n&&(t.precision=n),Error(Ii+"LN10 precision limit exceeded");return sr(new t(t.LN10),e)}function Fc(t){for(var e="";t--;)e+="0";return e}function qx(t,e){var n,a,s,i,o,l,c,d,u,h=1,f=10,v=t,x=v.d,g=v.constructor,y=g.precision;if(v.s<1)throw Error(Ii+(v.s?"NaN":"-Infinity"));if(v.eq(ai))return new g(0);if(e==null?(jr=!1,d=y):d=e,v.eq(10))return e==null&&(jr=!0),rA(g,d);if(d+=f,g.precision=d,n=Lo(x),a=n.charAt(0),i=Zr(v),Math.abs(i)<15e14){for(;a<7&&a!=1||a==1&&n.charAt(1)>3;)v=v.times(t),n=Lo(v.d),a=n.charAt(0),h++;i=Zr(v),a>1?(v=new g("0."+n),i++):v=new g(a+"."+n.slice(1))}else return c=rA(g,d+2,y).times(i+""),v=qx(new g(a+"."+n.slice(1)),d-f).plus(c),g.precision=y,e==null?(jr=!0,sr(v,y)):v;for(l=o=v=Bl(v.minus(ai),v.plus(ai),d),u=sr(v.times(v),d),s=3;;){if(o=sr(o.times(u),d),c=l.plus(Bl(o,new g(s),d)),Lo(c.d).slice(0,d)===Lo(l.d).slice(0,d))return l=l.times(2),i!==0&&(l=l.plus(rA(g,d+2,y).times(i+""))),l=Bl(l,new g(h),d),g.precision=y,e==null?(jr=!0,sr(l,y)):l;l=c,s+=2}}function pB(t,e){var n,a,s;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(a=e.search(/e/i))>0?(n<0&&(n=a),n+=+e.slice(a+1),e=e.substring(0,a)):n<0&&(n=e.length),a=0;e.charCodeAt(a)===48;)++a;for(s=e.length;e.charCodeAt(s-1)===48;)--s;if(e=e.slice(a,s),e){if(s-=a,n=n-a-1,t.e=Pp(n/pr),t.d=[],a=(n+1)%pr,n<0&&(a+=pr),a<s){for(a&&t.d.push(+e.slice(0,a)),s-=pr;a<s;)t.d.push(+e.slice(a,a+=pr));e=e.slice(a),a=pr-e.length}else a-=s;for(;a--;)e+="0";if(t.d.push(+e),jr&&(t.e>Ow||t.e<-Ow))throw Error(mR+n)}else t.s=0,t.e=0,t.d=[0];return t}function sr(t,e,n){var a,s,i,o,l,c,d,u,h=t.d;for(o=1,i=h[0];i>=10;i/=10)o++;if(a=e-o,a<0)a+=pr,s=e,d=h[u=0];else{if(u=Math.ceil((a+1)/pr),i=h.length,u>=i)return t;for(d=i=h[u],o=1;i>=10;i/=10)o++;a%=pr,s=a-pr+o}if(n!==void 0&&(i=au(10,o-s-1),l=d/i%10|0,c=e<0||h[u+1]!==void 0||d%i,c=n<4?(l||c)&&(n==0||n==(t.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(a>0?s>0?d/au(10,o-s):0:h[u-1])%10&1||n==(t.s<0?8:7))),e<1||!h[0])return c?(i=Zr(t),h.length=1,e=e-i-1,h[0]=au(10,(pr-e%pr)%pr),t.e=Pp(-e/pr)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(a==0?(h.length=u,i=1,u--):(h.length=u+1,i=au(10,pr-a),h[u]=s>0?(d/au(10,o-s)%au(10,s)|0)*i:0),c)for(;;)if(u==0){(h[0]+=i)==_a&&(h[0]=1,++t.e);break}else{if(h[u]+=i,h[u]!=_a)break;h[u--]=0,i=1}for(a=h.length;h[--a]===0;)h.pop();if(jr&&(t.e>Ow||t.e<-Ow))throw Error(mR+Zr(t));return t}function $te(t,e){var n,a,s,i,o,l,c,d,u,h,f=t.constructor,v=f.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new f(t),jr?sr(e,v):e;if(c=t.d,h=e.d,a=e.e,d=t.e,c=c.slice(),o=d-a,o){for(u=o<0,u?(n=c,o=-o,l=h.length):(n=h,a=d,l=c.length),s=Math.max(Math.ceil(v/pr),l)+2,o>s&&(o=s,n.length=1),n.reverse(),s=o;s--;)n.push(0);n.reverse()}else{for(s=c.length,l=h.length,u=s<l,u&&(l=s),s=0;s<l;s++)if(c[s]!=h[s]){u=c[s]<h[s];break}o=0}for(u&&(n=c,c=h,h=n,e.s=-e.s),l=c.length,s=h.length-l;s>0;--s)c[l++]=0;for(s=h.length;s>o;){if(c[--s]<h[s]){for(i=s;i&&c[--i]===0;)c[i]=_a-1;--c[i],c[s]+=_a}c[s]-=h[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--a;return c[0]?(e.d=c,e.e=a,jr?sr(e,v):e):new f(0)}function rh(t,e,n){var a,s=Zr(t),i=Lo(t.d),o=i.length;return e?(n&&(a=n-o)>0?i=i.charAt(0)+"."+i.slice(1)+Fc(a):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+Fc(-s-1)+i,n&&(a=n-o)>0&&(i+=Fc(a))):s>=o?(i+=Fc(s+1-o),n&&(a=n-s-1)>0&&(i=i+"."+Fc(a))):((a=s+1)<o&&(i=i.slice(0,a)+"."+i.slice(a)),n&&(a=n-o)>0&&(s+1===o&&(i+="."),i+=Fc(a))),t.s<0?"-"+i:i}function xB(t,e){if(t.length>e)return t.length=e,!0}function Ute(t){var e,n,a;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error($u+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return pB(o,i.toString())}else if(typeof i!="string")throw Error($u+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,oIe.test(i))pB(o,i);else throw Error($u+i)}if(s.prototype=bt,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=Ute,s.config=s.set=lIe,t===void 0&&(t={}),t)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<a.length;)t.hasOwnProperty(n=a[e++])||(t[n]=this[n]);return s.config(t),s}function lIe(t){if(!t||typeof t!="object")throw Error(Ii+"Object expected");var e,n,a,s=["precision",1,Mp,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<s.length;e+=3)if((a=t[n=s[e]])!==void 0)if(Pp(a)===a&&a>=s[e+1]&&a<=s[e+2])this[n]=a;else throw Error($u+n+": "+a);if((a=t[n="LN10"])!==void 0)if(a==Math.LN10)this[n]=new this(a);else throw Error($u+n+": "+a);return this}var fR=Ute(iIe);ai=new fR(1);const ar=fR;function cIe(t){return mIe(t)||hIe(t)||uIe(t)||dIe()}function dIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uIe(t,e){if(t){if(typeof t=="string")return bT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bT(t,e)}}function hIe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function mIe(t){if(Array.isArray(t))return bT(t)}function bT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}var fIe=function(e){return e},Bte={},zte=function(e){return e===Bte},gB=function(e){return function n(){return arguments.length===0||arguments.length===1&&zte(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},pIe=function t(e,n){return e===1?n:gB(function(){for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];var o=s.filter(function(l){return l!==Bte}).length;return o>=e?n.apply(void 0,s):t(e-o,gB(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var u=s.map(function(h){return zte(h)?c.shift():h});return n.apply(void 0,cIe(u).concat(c))}))})},R_=function(e){return pIe(e.length,e)},wT=function(e,n){for(var a=[],s=e;s<n;++s)a[s-e]=s;return a},xIe=R_(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),gIe=function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];if(!n.length)return fIe;var s=n.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},_T=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},qte=function(e){var n=null,a=null;return function(){for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return n&&i.every(function(l,c){return l===n[c]})||(n=i,a=e.apply(void 0,i)),a}};function vIe(t){var e;return t===0?e=1:e=Math.floor(new ar(t).abs().log(10).toNumber())+1,e}function yIe(t,e,n){for(var a=new ar(t),s=0,i=[];a.lt(e)&&s<1e5;)i.push(a.toNumber()),a=a.add(n),s++;return i}var bIe=R_(function(t,e,n){var a=+t,s=+e;return a+n*(s-a)}),wIe=R_(function(t,e,n){var a=e-+t;return a=a||1/0,(n-t)/a}),_Ie=R_(function(t,e,n){var a=e-+t;return a=a||1/0,Math.max(0,Math.min(1,(n-t)/a))});const O_={rangeStep:yIe,getDigitCount:vIe,interpolateNumber:bIe,uninterpolateNumber:wIe,uninterpolateTruncation:_Ie};function jT(t){return SIe(t)||NIe(t)||Vte(t)||jIe()}function jIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NIe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function SIe(t){if(Array.isArray(t))return NT(t)}function Vx(t,e){return AIe(t)||EIe(t,e)||Vte(t,e)||CIe()}function CIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vte(t,e){if(t){if(typeof t=="string")return NT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NT(t,e)}}function NT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function EIe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],a=!0,s=!1,i=void 0;try{for(var o=t[Symbol.iterator](),l;!(a=(l=o.next()).done)&&(n.push(l.value),!(e&&n.length===e));a=!0);}catch(c){s=!0,i=c}finally{try{!a&&o.return!=null&&o.return()}finally{if(s)throw i}}return n}}function AIe(t){if(Array.isArray(t))return t}function Hte(t){var e=Vx(t,2),n=e[0],a=e[1],s=n,i=a;return n>a&&(s=a,i=n),[s,i]}function Gte(t,e,n){if(t.lte(0))return new ar(0);var a=O_.getDigitCount(t.toNumber()),s=new ar(10).pow(a),i=t.div(s),o=a!==1?.05:.1,l=new ar(Math.ceil(i.div(o).toNumber())).add(n).mul(o),c=l.mul(s);return e?c:new ar(Math.ceil(c))}function MIe(t,e,n){var a=1,s=new ar(t);if(!s.isint()&&n){var i=Math.abs(t);i<1?(a=new ar(10).pow(O_.getDigitCount(t)-1),s=new ar(Math.floor(s.div(a).toNumber())).mul(a)):i>1&&(s=new ar(Math.floor(t)))}else t===0?s=new ar(Math.floor((e-1)/2)):n||(s=new ar(Math.floor(t)));var o=Math.floor((e-1)/2),l=gIe(xIe(function(c){return s.add(new ar(c-o).mul(a)).toNumber()}),wT);return l(0,e)}function Wte(t,e,n,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new ar(0),tickMin:new ar(0),tickMax:new ar(0)};var i=Gte(new ar(e).sub(t).div(n-1),a,s),o;t<=0&&e>=0?o=new ar(0):(o=new ar(t).add(e).div(2),o=o.sub(new ar(o).mod(i)));var l=Math.ceil(o.sub(t).div(i).toNumber()),c=Math.ceil(new ar(e).sub(o).div(i).toNumber()),d=l+c+1;return d>n?Wte(t,e,n,a,s+1):(d<n&&(c=e>0?c+(n-d):c,l=e>0?l:l+(n-d)),{step:i,tickMin:o.sub(new ar(l).mul(i)),tickMax:o.add(new ar(c).mul(i))})}function PIe(t){var e=Vx(t,2),n=e[0],a=e[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),l=Hte([n,a]),c=Vx(l,2),d=c[0],u=c[1];if(d===-1/0||u===1/0){var h=u===1/0?[d].concat(jT(wT(0,s-1).map(function(){return 1/0}))):[].concat(jT(wT(0,s-1).map(function(){return-1/0})),[u]);return n>a?_T(h):h}if(d===u)return MIe(d,s,i);var f=Wte(d,u,o,i),v=f.step,x=f.tickMin,g=f.tickMax,y=O_.rangeStep(x,g.add(new ar(.1).mul(v)),v);return n>a?_T(y):y}function TIe(t,e){var n=Vx(t,2),a=n[0],s=n[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Hte([a,s]),l=Vx(o,2),c=l[0],d=l[1];if(c===-1/0||d===1/0)return[a,s];if(c===d)return[c];var u=Math.max(e,2),h=Gte(new ar(d).sub(c).div(u-1),i,0),f=[].concat(jT(O_.rangeStep(new ar(c),new ar(d).sub(new ar(.99).mul(h)),h)),[d]);return a>s?_T(f):f}var kIe=qte(PIe),RIe=qte(TIe),OIe="Invariant failed";function ah(t,e){throw new Error(OIe)}var DIe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function If(t){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},If(t)}function Dw(){return Dw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Dw.apply(this,arguments)}function IIe(t,e){return UIe(t)||$Ie(t,e)||FIe(t,e)||LIe()}function LIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FIe(t,e){if(t){if(typeof t=="string")return vB(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vB(t,e)}}function vB(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function $Ie(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var a,s,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(a=i.call(n)).done)&&(l.push(a.value),l.length!==e);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function UIe(t){if(Array.isArray(t))return t}function BIe(t,e){if(t==null)return{};var n=zIe(t,e),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)a=i[s],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function zIe(t,e){if(t==null)return{};var n={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(e.indexOf(a)>=0)continue;n[a]=t[a]}return n}function qIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VIe(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,Yte(a.key),a)}}function HIe(t,e,n){return e&&VIe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function GIe(t,e,n){return e=Iw(e),WIe(t,Kte()?Reflect.construct(e,n||[],Iw(t).constructor):e.apply(t,n))}function WIe(t,e){if(e&&(If(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KIe(t)}function KIe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Kte(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Kte=function(){return!!t})()}function Iw(t){return Iw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Iw(t)}function XIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ST(t,e)}function ST(t,e){return ST=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},ST(t,e)}function Xte(t,e,n){return e=Yte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yte(t){var e=YIe(t,"string");return If(e)=="symbol"?e:e+""}function YIe(t,e){if(If(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,e);if(If(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var D_=(function(t){function e(){return qIe(this,e),GIe(this,e,arguments)}return XIe(e,t),HIe(e,[{key:"render",value:function(){var a=this.props,s=a.offset,i=a.layout,o=a.width,l=a.dataKey,c=a.data,d=a.dataPointFormatter,u=a.xAxis,h=a.yAxis,f=BIe(a,DIe),v=Bt(f,!1);this.props.direction==="x"&&u.type!=="number"&&ah();var x=c.map(function(g){var y=d(g,l),b=y.x,_=y.y,j=y.value,S=y.errorVal;if(!S)return null;var C=[],E,P;if(Array.isArray(S)){var T=IIe(S,2);E=T[0],P=T[1]}else E=P=S;if(i==="vertical"){var M=u.scale,k=_+s,O=k+o,$=k-o,F=M(j-E),B=M(j+P);C.push({x1:B,y1:O,x2:B,y2:$}),C.push({x1:F,y1:k,x2:B,y2:k}),C.push({x1:F,y1:O,x2:F,y2:$})}else if(i==="horizontal"){var G=h.scale,I=b+s,L=I-o,U=I+o,z=G(j-E),K=G(j+P);C.push({x1:L,y1:K,x2:U,y2:K}),C.push({x1:I,y1:z,x2:I,y2:K}),C.push({x1:L,y1:z,x2:U,y2:z})}return ae.createElement(An,Dw({className:"recharts-errorBar",key:"bar-".concat(C.map(function(V){return"".concat(V.x1,"-").concat(V.x2,"-").concat(V.y1,"-").concat(V.y2)}))},v),C.map(function(V){return ae.createElement("line",Dw({},V,{key:"line-".concat(V.x1,"-").concat(V.x2,"-").concat(V.y1,"-").concat(V.y2)}))}))});return ae.createElement(An,{className:"recharts-errorBars"},x)}}])})(ae.Component);Xte(D_,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Xte(D_,"displayName","ErrorBar");function Hx(t){"@babel/helpers - typeof";return Hx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hx(t)}function yB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function Wd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yB(Object(n),!0).forEach(function(a){QIe(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yB(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function QIe(t,e,n){return e=ZIe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZIe(t){var e=JIe(t,"string");return Hx(e)=="symbol"?e:e+""}function JIe(t,e){if(Hx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,e);if(Hx(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qte=function(e){var n=e.children,a=e.formattedGraphicalItems,s=e.legendWidth,i=e.legendContent,o=Zs(n,Wm);if(!o)return null;var l=Wm.defaultProps,c=l!==void 0?Wd(Wd({},l),o.props):{},d;return o.props&&o.props.payload?d=o.props&&o.props.payload:i==="children"?d=(a||[]).reduce(function(u,h){var f=h.item,v=h.props,x=v.sectors||v.data||[];return u.concat(x.map(function(g){return{type:o.props.iconType||f.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):d=(a||[]).map(function(u){var h=u.item,f=h.type.defaultProps,v=f!==void 0?Wd(Wd({},f),h.props):{},x=v.dataKey,g=v.name,y=v.legendType,b=v.hide;return{inactive:b,dataKey:x,type:c.iconType||y||"square",color:pR(h),value:g||x,payload:v}}),Wd(Wd(Wd({},c),Wm.getWithHeight(o,s)),{},{payload:d,item:o})};function Gx(t){"@babel/helpers - typeof";return Gx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gx(t)}function bB(t){return r6e(t)||n6e(t)||t6e(t)||e6e()}function e6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function t6e(t,e){if(t){if(typeof t=="string")return CT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CT(t,e)}}function n6e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function r6e(t){if(Array.isArray(t))return CT(t)}function CT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function wB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function Ir(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wB(Object(n),!0).forEach(function(a){Xm(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wB(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function Xm(t,e,n){return e=a6e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a6e(t){var e=s6e(t,"string");return Gx(e)=="symbol"?e:e+""}function s6e(t,e){if(Gx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,e);if(Gx(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function la(t,e,n){return hn(t)||hn(e)?n:ca(e)?oi(t,e,n):en(e)?e(t):n}function tx(t,e,n,a){var s=rIe(t,function(l){return la(l,e)});if(n==="number"){var i=s.filter(function(l){return Ye(l)||parseFloat(l)});return i.length?[k_(i),Qc(i)]:[1/0,-1/0]}var o=a?s.filter(function(l){return!hn(l)}):s;return o.map(function(l){return ca(l)||l instanceof Date?l:""})}var i6e=function(e){var n,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(n=a==null?void 0:a.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,d=0;d<l;d++){var u=d>0?s[d-1].coordinate:s[l-1].coordinate,h=s[d].coordinate,f=d>=l-1?s[0].coordinate:s[d+1].coordinate,v=void 0;if(cs(h-u)!==cs(f-h)){var x=[];if(cs(f-h)===cs(c[1]-c[0])){v=f;var g=h+c[1]-c[0];x[0]=Math.min(g,(g+u)/2),x[1]=Math.max(g,(g+u)/2)}else{v=u;var y=f+c[1]-c[0];x[0]=Math.min(h,(y+h)/2),x[1]=Math.max(h,(y+h)/2)}var b=[Math.min(h,(v+h)/2),Math.max(h,(v+h)/2)];if(e>b[0]&&e<=b[1]||e>=x[0]&&e<=x[1]){o=s[d].index;break}}else{var _=Math.min(u,f),j=Math.max(u,f);if(e>(_+h)/2&&e<=(j+h)/2){o=s[d].index;break}}}else for(var S=0;S<l;S++)if(S===0&&e<=(a[S].coordinate+a[S+1].coordinate)/2||S>0&&S<l-1&&e>(a[S].coordinate+a[S-1].coordinate)/2&&e<=(a[S].coordinate+a[S+1].coordinate)/2||S===l-1&&e>(a[S].coordinate+a[S-1].coordinate)/2){o=a[S].index;break}return o},pR=function(e){var n,a=e,s=a.type.displayName,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Ir(Ir({},e.type.defaultProps),e.props):e.props,o=i.stroke,l=i.fill,c;switch(s){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},o6e=function(e){var n=e.barSize,a=e.totalSize,s=e.stackGroups,i=s===void 0?{}:s;if(!i)return{};for(var o={},l=Object.keys(i),c=0,d=l.length;c<d;c++)for(var u=i[l[c]].stackGroups,h=Object.keys(u),f=0,v=h.length;f<v;f++){var x=u[h[f]],g=x.items,y=x.cateAxisId,b=g.filter(function(P){return Ul(P.type).indexOf("Bar")>=0});if(b&&b.length){var _=b[0].type.defaultProps,j=_!==void 0?Ir(Ir({},_),b[0].props):b[0].props,S=j.barSize,C=j[y];o[C]||(o[C]=[]);var E=hn(S)?n:S;o[C].push({item:b[0],stackList:b.slice(1),barSize:hn(E)?void 0:ds(E,a,0)})}}return o},l6e=function(e){var n=e.barGap,a=e.barCategoryGap,s=e.bandSize,i=e.sizeList,o=i===void 0?[]:i,l=e.maxBarSize,c=o.length;if(c<1)return null;var d=ds(n,s,0,!0),u,h=[];if(o[0].barSize===+o[0].barSize){var f=!1,v=s/c,x=o.reduce(function(S,C){return S+C.barSize||0},0);x+=(c-1)*d,x>=s&&(x-=(c-1)*d,d=0),x>=s&&v>0&&(f=!0,v*=.9,x=c*v);var g=(s-x)/2>>0,y={offset:g-d,size:0};u=o.reduce(function(S,C){var E={item:C.item,position:{offset:y.offset+y.size+d,size:f?v:C.barSize}},P=[].concat(bB(S),[E]);return y=P[P.length-1].position,C.stackList&&C.stackList.length&&C.stackList.forEach(function(T){P.push({item:T,position:y})}),P},h)}else{var b=ds(a,s,0,!0);s-2*b-(c-1)*d<=0&&(d=0);var _=(s-2*b-(c-1)*d)/c;_>1&&(_>>=0);var j=l===+l?Math.min(_,l):_;u=o.reduce(function(S,C,E){var P=[].concat(bB(S),[{item:C.item,position:{offset:b+(_+d)*E+(_-j)/2,size:j}}]);return C.stackList&&C.stackList.length&&C.stackList.forEach(function(T){P.push({item:T,position:P[P.length-1].position})}),P},h)}return u},c6e=function(e,n,a,s){var i=a.children,o=a.width,l=a.margin,c=o-(l.left||0)-(l.right||0),d=Qte({children:i,legendWidth:c});if(d){var u=s||{},h=u.width,f=u.height,v=d.align,x=d.verticalAlign,g=d.layout;if((g==="vertical"||g==="horizontal"&&x==="middle")&&v!=="center"&&Ye(e[v]))return Ir(Ir({},e),{},Xm({},v,e[v]+(h||0)));if((g==="horizontal"||g==="vertical"&&v==="center")&&x!=="middle"&&Ye(e[x]))return Ir(Ir({},e),{},Xm({},x,e[x]+(f||0)))}return e},d6e=function(e,n,a){return hn(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||a==="x"?n==="xAxis":a==="y"?n==="yAxis":!0},Zte=function(e,n,a,s,i){var o=n.props.children,l=Di(o,D_).filter(function(d){return d6e(s,i,d.props.direction)});if(l&&l.length){var c=l.map(function(d){return d.props.dataKey});return e.reduce(function(d,u){var h=la(u,a);if(hn(h))return d;var f=Array.isArray(h)?[k_(h),Qc(h)]:[h,h],v=c.reduce(function(x,g){var y=la(u,g,0),b=f[0]-Math.abs(Array.isArray(y)?y[0]:y),_=f[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(b,x[0]),Math.max(_,x[1])]},[1/0,-1/0]);return[Math.min(v[0],d[0]),Math.max(v[1],d[1])]},[1/0,-1/0])}return null},u6e=function(e,n,a,s,i){var o=n.map(function(l){return Zte(e,l,a,i,s)}).filter(function(l){return!hn(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},Jte=function(e,n,a,s,i){var o=n.map(function(c){var d=c.props.dataKey;return a==="number"&&d&&Zte(e,c,d,s)||tx(e,d,a,i)});if(a==="number")return o.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,d){for(var u=0,h=d.length;u<h;u++)l[d[u]]||(l[d[u]]=!0,c.push(d[u]));return c},[])},ene=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},tne=function(e,n,a,s){if(s)return e.map(function(c){return c.coordinate});var i,o,l=e.map(function(c){return c.coordinate===n&&(i=!0),c.coordinate===a&&(o=!0),c.coordinate});return i||l.push(n),o||l.push(a),l},Ol=function(e,n,a){if(!e)return null;var s=e.scale,i=e.duplicateDomain,o=e.type,l=e.range,c=e.realScaleType==="scaleBand"?s.bandwidth()/2:2,d=(n||a)&&o==="category"&&s.bandwidth?s.bandwidth()/c:0;if(d=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?cs(l[0]-l[1])*2*d:d,n&&(e.ticks||e.niceTicks)){var u=(e.ticks||e.niceTicks).map(function(h){var f=i?i.indexOf(h):h;return{coordinate:s(f)+d,value:h,offset:d}});return u.filter(function(h){return!Sp(h.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(h,f){return{coordinate:s(h)+d,value:h,index:f,offset:d}}):s.ticks&&!a?s.ticks(e.tickCount).map(function(h){return{coordinate:s(h)+d,value:h,offset:d}}):s.domain().map(function(h,f){return{coordinate:s(h)+d,value:i?i[h]:h,index:f,offset:d}})},aA=new WeakMap,Dy=function(e,n){if(typeof n!="function")return e;aA.has(e)||aA.set(e,new WeakMap);var a=aA.get(e);if(a.has(n))return a.get(n);var s=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return a.set(n,s),s},nne=function(e,n,a){var s=e.scale,i=e.type,o=e.layout,l=e.axisType;if(s==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Fx(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:Pw(),realScaleType:"linear"}:i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!a)?{scale:ex(),realScaleType:"point"}:i==="category"?{scale:Fx(),realScaleType:"band"}:{scale:Pw(),realScaleType:"linear"};if(eh(s)){var c="scale".concat(g_(s));return{scale:(iB[c]||ex)(),realScaleType:iB[c]?c:"point"}}return en(s)?{scale:s}:{scale:ex(),realScaleType:"point"}},_B=1e-4,rne=function(e){var n=e.domain();if(!(!n||n.length<=2)){var a=n.length,s=e.range(),i=Math.min(s[0],s[1])-_B,o=Math.max(s[0],s[1])+_B,l=e(n[0]),c=e(n[a-1]);(l<i||l>o||c<i||c>o)&&e.domain([n[0],n[a-1]])}},h6e=function(e,n){if(!e)return null;for(var a=0,s=e.length;a<s;a++)if(e[a].item===n)return e[a].position;return null},m6e=function(e,n){if(!n||n.length!==2||!Ye(n[0])||!Ye(n[1]))return e;var a=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]),i=[e[0],e[1]];return(!Ye(e[0])||e[0]<a)&&(i[0]=a),(!Ye(e[1])||e[1]>s)&&(i[1]=s),i[0]>s&&(i[0]=s),i[1]<a&&(i[1]=a),i},f6e=function(e){var n=e.length;if(!(n<=0))for(var a=0,s=e[0].length;a<s;++a)for(var i=0,o=0,l=0;l<n;++l){var c=Sp(e[l][a][1])?e[l][a][0]:e[l][a][1];c>=0?(e[l][a][0]=i,e[l][a][1]=i+c,i=e[l][a][1]):(e[l][a][0]=o,e[l][a][1]=o+c,o=e[l][a][1])}},p6e=function(e){var n=e.length;if(!(n<=0))for(var a=0,s=e[0].length;a<s;++a)for(var i=0,o=0;o<n;++o){var l=Sp(e[o][a][1])?e[o][a][0]:e[o][a][1];l>=0?(e[o][a][0]=i,e[o][a][1]=i+l,i=e[o][a][1]):(e[o][a][0]=0,e[o][a][1]=0)}},x6e={sign:f6e,expand:r4e,none:Ef,silhouette:a4e,wiggle:s4e,positive:p6e},g6e=function(e,n,a){var s=n.map(function(l){return l.props.dataKey}),i=x6e[a],o=n4e().keys(s).value(function(l,c){return+la(l,c,0)}).order(nT).offset(i);return o(e)},v6e=function(e,n,a,s,i,o){if(!e)return null;var l=o?n.reverse():n,c={},d=l.reduce(function(h,f){var v,x=(v=f.type)!==null&&v!==void 0&&v.defaultProps?Ir(Ir({},f.type.defaultProps),f.props):f.props,g=x.stackId,y=x.hide;if(y)return h;var b=x[a],_=h[b]||{hasStack:!1,stackGroups:{}};if(ca(g)){var j=_.stackGroups[g]||{numericAxisId:a,cateAxisId:s,items:[]};j.items.push(f),_.hasStack=!0,_.stackGroups[g]=j}else _.stackGroups[Cp("_stackId_")]={numericAxisId:a,cateAxisId:s,items:[f]};return Ir(Ir({},h),{},Xm({},b,_))},c),u={};return Object.keys(d).reduce(function(h,f){var v=d[f];if(v.hasStack){var x={};v.stackGroups=Object.keys(v.stackGroups).reduce(function(g,y){var b=v.stackGroups[y];return Ir(Ir({},g),{},Xm({},y,{numericAxisId:a,cateAxisId:s,items:b.items,stackedData:g6e(e,b.items,i)}))},x)}return Ir(Ir({},h),{},Xm({},f,v))},u)},ane=function(e,n){var a=n.realScaleType,s=n.type,i=n.tickCount,o=n.originalDomain,l=n.allowDecimals,c=a||n.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&s==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var d=e.domain();if(!d.length)return null;var u=kIe(d,i,l);return e.domain([k_(u),Qc(u)]),{niceTicks:u}}if(i&&s==="number"){var h=e.domain(),f=RIe(h,i,l);return{niceTicks:f}}return null};function jB(t){var e=t.axis,n=t.ticks,a=t.bandSize,s=t.entry,i=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!hn(s[e.dataKey])){var l=hw(n,"value",s[e.dataKey]);if(l)return l.coordinate+a/2}return n[i]?n[i].coordinate+a/2:null}var c=la(s,hn(o)?e.dataKey:o);return hn(c)?null:e.scale(c)}var NB=function(e){var n=e.axis,a=e.ticks,s=e.offset,i=e.bandSize,o=e.entry,l=e.index;if(n.type==="category")return a[l]?a[l].coordinate+s:null;var c=la(o,n.dataKey,n.domain[l]);return hn(c)?null:n.scale(c)-i/2+s},y6e=function(e){var n=e.numericAxis,a=n.scale.domain();if(n.type==="number"){var s=Math.min(a[0],a[1]),i=Math.max(a[0],a[1]);return s<=0&&i>=0?0:i<0?i:s}return a[0]},b6e=function(e,n){var a,s=(a=e.type)!==null&&a!==void 0&&a.defaultProps?Ir(Ir({},e.type.defaultProps),e.props):e.props,i=s.stackId;if(ca(i)){var o=n[i];if(o){var l=o.items.indexOf(e);return l>=0?o.stackedData[l]:null}}return null},w6e=function(e){return e.reduce(function(n,a){return[k_(a.concat([n[0]]).filter(Ye)),Qc(a.concat([n[1]]).filter(Ye))]},[1/0,-1/0])},sne=function(e,n,a){return Object.keys(e).reduce(function(s,i){var o=e[i],l=o.stackedData,c=l.reduce(function(d,u){var h=w6e(u.slice(n,a+1));return[Math.min(d[0],h[0]),Math.max(d[1],h[1])]},[1/0,-1/0]);return[Math.min(c[0],s[0]),Math.max(c[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},SB=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,CB=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ET=function(e,n,a){if(en(e))return e(n,a);if(!Array.isArray(e))return n;var s=[];if(Ye(e[0]))s[0]=a?e[0]:Math.min(e[0],n[0]);else if(SB.test(e[0])){var i=+SB.exec(e[0])[1];s[0]=n[0]-i}else en(e[0])?s[0]=e[0](n[0]):s[0]=n[0];if(Ye(e[1]))s[1]=a?e[1]:Math.max(e[1],n[1]);else if(CB.test(e[1])){var o=+CB.exec(e[1])[1];s[1]=n[1]+o}else en(e[1])?s[1]=e[1](n[1]):s[1]=n[1];return s},Lw=function(e,n,a){if(e&&e.scale&&e.scale.bandwidth){var s=e.scale.bandwidth();if(!a||s>0)return s}if(e&&n&&n.length>=2){for(var i=qk(n,function(h){return h.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var d=i[l],u=i[l-1];o=Math.min((d.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return a?void 0:0},EB=function(e,n,a){return!e||!e.length||Df(e,oi(a,"type.defaultProps.domain"))?n:e},ine=function(e,n){var a=e.type.defaultProps?Ir(Ir({},e.type.defaultProps),e.props):e.props,s=a.dataKey,i=a.name,o=a.unit,l=a.formatter,c=a.tooltipType,d=a.chartType,u=a.hide;return Ir(Ir({},Bt(e,!1)),{},{dataKey:s,unit:o,formatter:l,name:i||s,color:pR(e),value:la(n,s),type:c,payload:n,chartType:d,hide:u})};function Wx(t){"@babel/helpers - typeof";return Wx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wx(t)}function AB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function Sl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AB(Object(n),!0).forEach(function(a){one(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AB(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function one(t,e,n){return e=_6e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _6e(t){var e=j6e(t,"string");return Wx(e)=="symbol"?e:e+""}function j6e(t,e){if(Wx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,e);if(Wx(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function N6e(t,e){return A6e(t)||E6e(t,e)||C6e(t,e)||S6e()}function S6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C6e(t,e){if(t){if(typeof t=="string")return MB(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MB(t,e)}}function MB(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function E6e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var a,s,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(a=i.call(n)).done)&&(l.push(a.value),l.length!==e);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function A6e(t){if(Array.isArray(t))return t}var Fw=Math.PI/180,M6e=function(e){return e*180/Math.PI},dr=function(e,n,a,s){return{x:e+Math.cos(-Fw*s)*a,y:n+Math.sin(-Fw*s)*a}},lne=function(e,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(a.left||0)-(a.right||0)),Math.abs(n-(a.top||0)-(a.bottom||0)))/2},P6e=function(e,n,a,s,i){var o=e.width,l=e.height,c=e.startAngle,d=e.endAngle,u=ds(e.cx,o,o/2),h=ds(e.cy,l,l/2),f=lne(o,l,a),v=ds(e.innerRadius,f,0),x=ds(e.outerRadius,f,f*.8),g=Object.keys(n);return g.reduce(function(y,b){var _=n[b],j=_.domain,S=_.reversed,C;if(hn(_.range))s==="angleAxis"?C=[c,d]:s==="radiusAxis"&&(C=[v,x]),S&&(C=[C[1],C[0]]);else{C=_.range;var E=C,P=N6e(E,2);c=P[0],d=P[1]}var T=nne(_,i),M=T.realScaleType,k=T.scale;k.domain(j).range(C),rne(k);var O=ane(k,Sl(Sl({},_),{},{realScaleType:M})),$=Sl(Sl(Sl({},_),O),{},{range:C,radius:x,realScaleType:M,scale:k,cx:u,cy:h,innerRadius:v,outerRadius:x,startAngle:c,endAngle:d});return Sl(Sl({},y),{},one({},b,$))},{})},T6e=function(e,n){var a=e.x,s=e.y,i=n.x,o=n.y;return Math.sqrt(Math.pow(a-i,2)+Math.pow(s-o,2))},k6e=function(e,n){var a=e.x,s=e.y,i=n.cx,o=n.cy,l=T6e({x:a,y:s},{x:i,y:o});if(l<=0)return{radius:l};var c=(a-i)/l,d=Math.acos(c);return s>o&&(d=2*Math.PI-d),{radius:l,angle:M6e(d),angleInRadian:d}},R6e=function(e){var n=e.startAngle,a=e.endAngle,s=Math.floor(n/360),i=Math.floor(a/360),o=Math.min(s,i);return{startAngle:n-o*360,endAngle:a-o*360}},O6e=function(e,n){var a=n.startAngle,s=n.endAngle,i=Math.floor(a/360),o=Math.floor(s/360),l=Math.min(i,o);return e+l*360},PB=function(e,n){var a=e.x,s=e.y,i=k6e({x:a,y:s},n),o=i.radius,l=i.angle,c=n.innerRadius,d=n.outerRadius;if(o<c||o>d)return!1;if(o===0)return!0;var u=R6e(n),h=u.startAngle,f=u.endAngle,v=l,x;if(h<=f){for(;v>f;)v-=360;for(;v<h;)v+=360;x=v>=h&&v<=f}else{for(;v>h;)v-=360;for(;v<f;)v+=360;x=v>=f&&v<=h}return x?Sl(Sl({},n),{},{radius:o,angle:O6e(v,n)}):null},cne=function(e){return!w.isValidElement(e)&&!en(e)&&typeof e!="boolean"?e.className:""};function Kx(t){"@babel/helpers - typeof";return Kx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kx(t)}var D6e=["offset"];function I6e(t){return U6e(t)||$6e(t)||F6e(t)||L6e()}function L6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F6e(t,e){if(t){if(typeof t=="string")return AT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AT(t,e)}}function $6e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function U6e(t){if(Array.isArray(t))return AT(t)}function AT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function B6e(t,e){if(t==null)return{};var n=z6e(t,e),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)a=i[s],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function z6e(t,e){if(t==null)return{};var n={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(e.indexOf(a)>=0)continue;n[a]=t[a]}return n}function TB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function aa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TB(Object(n),!0).forEach(function(a){q6e(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TB(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function q6e(t,e,n){return e=V6e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function V6e(t){var e=H6e(t,"string");return Kx(e)=="symbol"?e:e+""}function H6e(t,e){if(Kx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,e);if(Kx(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xx(){return Xx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Xx.apply(this,arguments)}var G6e=function(e){var n=e.value,a=e.formatter,s=hn(e.children)?n:e.children;return en(a)?a(s):s},W6e=function(e,n){var a=cs(n-e),s=Math.min(Math.abs(n-e),360);return a*s},K6e=function(e,n,a){var s=e.position,i=e.viewBox,o=e.offset,l=e.className,c=i,d=c.cx,u=c.cy,h=c.innerRadius,f=c.outerRadius,v=c.startAngle,x=c.endAngle,g=c.clockWise,y=(h+f)/2,b=W6e(v,x),_=b>=0?1:-1,j,S;s==="insideStart"?(j=v+_*o,S=g):s==="insideEnd"?(j=x-_*o,S=!g):s==="end"&&(j=x+_*o,S=g),S=b<=0?S:!S;var C=dr(d,u,y,j),E=dr(d,u,y,j+(S?1:-1)*359),P="M".concat(C.x,",").concat(C.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(S?0:1,`,
    `).concat(E.x,",").concat(E.y),T=hn(e.id)?Cp("recharts-radial-line-"):e.id;return ae.createElement("text",Xx({},a,{dominantBaseline:"central",className:un("recharts-radial-bar-label",l)}),ae.createElement("defs",null,ae.createElement("path",{id:T,d:P})),ae.createElement("textPath",{xlinkHref:"#".concat(T)},n))},X6e=function(e){var n=e.viewBox,a=e.offset,s=e.position,i=n,o=i.cx,l=i.cy,c=i.innerRadius,d=i.outerRadius,u=i.startAngle,h=i.endAngle,f=(u+h)/2;if(s==="outside"){var v=dr(o,l,d+a,f),x=v.x,g=v.y;return{x,y:g,textAnchor:x>=o?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var y=(c+d)/2,b=dr(o,l,y,f),_=b.x,j=b.y;return{x:_,y:j,textAnchor:"middle",verticalAnchor:"middle"}},Y6e=function(e){var n=e.viewBox,a=e.parentViewBox,s=e.offset,i=e.position,o=n,l=o.x,c=o.y,d=o.width,u=o.height,h=u>=0?1:-1,f=h*s,v=h>0?"end":"start",x=h>0?"start":"end",g=d>=0?1:-1,y=g*s,b=g>0?"end":"start",_=g>0?"start":"end";if(i==="top"){var j={x:l+d/2,y:c-h*s,textAnchor:"middle",verticalAnchor:v};return aa(aa({},j),a?{height:Math.max(c-a.y,0),width:d}:{})}if(i==="bottom"){var S={x:l+d/2,y:c+u+f,textAnchor:"middle",verticalAnchor:x};return aa(aa({},S),a?{height:Math.max(a.y+a.height-(c+u),0),width:d}:{})}if(i==="left"){var C={x:l-y,y:c+u/2,textAnchor:b,verticalAnchor:"middle"};return aa(aa({},C),a?{width:Math.max(C.x-a.x,0),height:u}:{})}if(i==="right"){var E={x:l+d+y,y:c+u/2,textAnchor:_,verticalAnchor:"middle"};return aa(aa({},E),a?{width:Math.max(a.x+a.width-E.x,0),height:u}:{})}var P=a?{width:d,height:u}:{};return i==="insideLeft"?aa({x:l+y,y:c+u/2,textAnchor:_,verticalAnchor:"middle"},P):i==="insideRight"?aa({x:l+d-y,y:c+u/2,textAnchor:b,verticalAnchor:"middle"},P):i==="insideTop"?aa({x:l+d/2,y:c+f,textAnchor:"middle",verticalAnchor:x},P):i==="insideBottom"?aa({x:l+d/2,y:c+u-f,textAnchor:"middle",verticalAnchor:v},P):i==="insideTopLeft"?aa({x:l+y,y:c+f,textAnchor:_,verticalAnchor:x},P):i==="insideTopRight"?aa({x:l+d-y,y:c+f,textAnchor:b,verticalAnchor:x},P):i==="insideBottomLeft"?aa({x:l+y,y:c+u-f,textAnchor:_,verticalAnchor:v},P):i==="insideBottomRight"?aa({x:l+d-y,y:c+u-f,textAnchor:b,verticalAnchor:v},P):Np(i)&&(Ye(i.x)||bu(i.x))&&(Ye(i.y)||bu(i.y))?aa({x:l+ds(i.x,d),y:c+ds(i.y,u),textAnchor:"end",verticalAnchor:"end"},P):aa({x:l+d/2,y:c+u/2,textAnchor:"middle",verticalAnchor:"middle"},P)},Q6e=function(e){return"cx"in e&&Ye(e.cx)};function Na(t){var e=t.offset,n=e===void 0?5:e,a=B6e(t,D6e),s=aa({offset:n},a),i=s.viewBox,o=s.position,l=s.value,c=s.children,d=s.content,u=s.className,h=u===void 0?"":u,f=s.textBreakAll;if(!i||hn(l)&&hn(c)&&!w.isValidElement(d)&&!en(d))return null;if(w.isValidElement(d))return w.cloneElement(d,s);var v;if(en(d)){if(v=w.createElement(d,s),w.isValidElement(v))return v}else v=G6e(s);var x=Q6e(i),g=Bt(s,!0);if(x&&(o==="insideStart"||o==="insideEnd"||o==="end"))return K6e(s,v,g);var y=x?X6e(s):Y6e(s);return ae.createElement(nh,Xx({className:un("recharts-label",h)},g,y,{breakAll:f}),v)}Na.displayName="Label";var dne=function(e){var n=e.cx,a=e.cy,s=e.angle,i=e.startAngle,o=e.endAngle,l=e.r,c=e.radius,d=e.innerRadius,u=e.outerRadius,h=e.x,f=e.y,v=e.top,x=e.left,g=e.width,y=e.height,b=e.clockWise,_=e.labelViewBox;if(_)return _;if(Ye(g)&&Ye(y)){if(Ye(h)&&Ye(f))return{x:h,y:f,width:g,height:y};if(Ye(v)&&Ye(x))return{x:v,y:x,width:g,height:y}}return Ye(h)&&Ye(f)?{x:h,y:f,width:0,height:0}:Ye(n)&&Ye(a)?{cx:n,cy:a,startAngle:i||s||0,endAngle:o||s||0,innerRadius:d||0,outerRadius:u||c||l||0,clockWise:b}:e.viewBox?e.viewBox:{}},Z6e=function(e,n){return e?e===!0?ae.createElement(Na,{key:"label-implicit",viewBox:n}):ca(e)?ae.createElement(Na,{key:"label-implicit",viewBox:n,value:e}):w.isValidElement(e)?e.type===Na?w.cloneElement(e,{key:"label-implicit",viewBox:n}):ae.createElement(Na,{key:"label-implicit",content:e,viewBox:n}):en(e)?ae.createElement(Na,{key:"label-implicit",content:e,viewBox:n}):Np(e)?ae.createElement(Na,Xx({viewBox:n},e,{key:"label-implicit"})):null:null},J6e=function(e,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&a&&!e.label)return null;var s=e.children,i=dne(e),o=Di(s,Na).map(function(c,d){return w.cloneElement(c,{viewBox:n||i,key:"label-".concat(d)})});if(!a)return o;var l=Z6e(e.label,n||i);return[l].concat(I6e(o))};Na.parseViewBox=dne;Na.renderCallByParent=J6e;var sA,kB;function eLe(){if(kB)return sA;kB=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return sA=t,sA}var tLe=eLe();const nLe=In(tLe);function Yx(t){"@babel/helpers - typeof";return Yx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yx(t)}var rLe=["valueAccessor"],aLe=["data","dataKey","clockWise","id","textBreakAll"];function sLe(t){return cLe(t)||lLe(t)||oLe(t)||iLe()}function iLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oLe(t,e){if(t){if(typeof t=="string")return MT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MT(t,e)}}function lLe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function cLe(t){if(Array.isArray(t))return MT(t)}function MT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function $w(){return $w=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},$w.apply(this,arguments)}function RB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function OB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RB(Object(n),!0).forEach(function(a){dLe(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RB(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function dLe(t,e,n){return e=uLe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uLe(t){var e=hLe(t,"string");return Yx(e)=="symbol"?e:e+""}function hLe(t,e){if(Yx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,e);if(Yx(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DB(t,e){if(t==null)return{};var n=mLe(t,e),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)a=i[s],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function mLe(t,e){if(t==null)return{};var n={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(e.indexOf(a)>=0)continue;n[a]=t[a]}return n}var fLe=function(e){return Array.isArray(e.value)?nLe(e.value):e.value};function zl(t){var e=t.valueAccessor,n=e===void 0?fLe:e,a=DB(t,rLe),s=a.data,i=a.dataKey,o=a.clockWise,l=a.id,c=a.textBreakAll,d=DB(a,aLe);return!s||!s.length?null:ae.createElement(An,{className:"recharts-label-list"},s.map(function(u,h){var f=hn(i)?n(u,h):la(u&&u.payload,i),v=hn(l)?{}:{id:"".concat(l,"-").concat(h)};return ae.createElement(Na,$w({},Bt(u,!0),d,v,{parentViewBox:u.parentViewBox,value:f,textBreakAll:c,viewBox:Na.parseViewBox(hn(o)?u:OB(OB({},u),{},{clockWise:o})),key:"label-".concat(h),index:h}))}))}zl.displayName="LabelList";function pLe(t,e){return t?t===!0?ae.createElement(zl,{key:"labelList-implicit",data:e}):ae.isValidElement(t)||en(t)?ae.createElement(zl,{key:"labelList-implicit",data:e,content:t}):Np(t)?ae.createElement(zl,$w({data:e},t,{key:"labelList-implicit"})):null:null}function xLe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,s=Di(a,zl).map(function(o,l){return w.cloneElement(o,{data:e,key:"labelList-".concat(l)})});if(!n)return s;var i=pLe(t.label,e);return[i].concat(sLe(s))}zl.renderCallByParent=xLe;function Qx(t){"@babel/helpers - typeof";return Qx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qx(t)}function PT(){return PT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},PT.apply(this,arguments)}function IB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function LB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IB(Object(n),!0).forEach(function(a){gLe(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IB(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function gLe(t,e,n){return e=vLe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vLe(t){var e=yLe(t,"string");return Qx(e)=="symbol"?e:e+""}function yLe(t,e){if(Qx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,e);if(Qx(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bLe=function(e,n){var a=cs(n-e),s=Math.min(Math.abs(n-e),359.999);return a*s},Iy=function(e){var n=e.cx,a=e.cy,s=e.radius,i=e.angle,o=e.sign,l=e.isExternal,c=e.cornerRadius,d=e.cornerIsExternal,u=c*(l?1:-1)+s,h=Math.asin(c/u)/Fw,f=d?i:i+o*h,v=dr(n,a,u,f),x=dr(n,a,s,f),g=d?i-o*h:i,y=dr(n,a,u*Math.cos(h*Fw),g);return{center:v,circleTangency:x,lineTangency:y,theta:h}},une=function(e){var n=e.cx,a=e.cy,s=e.innerRadius,i=e.outerRadius,o=e.startAngle,l=e.endAngle,c=bLe(o,l),d=o+c,u=dr(n,a,i,o),h=dr(n,a,i,d),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>d),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(s>0){var v=dr(n,a,s,o),x=dr(n,a,s,d);f+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=d),`,
            `).concat(v.x,",").concat(v.y," Z")}else f+="L ".concat(n,",").concat(a," Z");return f},wLe=function(e){var n=e.cx,a=e.cy,s=e.innerRadius,i=e.outerRadius,o=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,d=e.startAngle,u=e.endAngle,h=cs(u-d),f=Iy({cx:n,cy:a,radius:i,angle:d,sign:h,cornerRadius:o,cornerIsExternal:c}),v=f.circleTangency,x=f.lineTangency,g=f.theta,y=Iy({cx:n,cy:a,radius:i,angle:u,sign:-h,cornerRadius:o,cornerIsExternal:c}),b=y.circleTangency,_=y.lineTangency,j=y.theta,S=c?Math.abs(d-u):Math.abs(d-u)-g-j;if(S<0)return l?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):une({cx:n,cy:a,innerRadius:s,outerRadius:i,startAngle:d,endAngle:u});var C="M ".concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(S>180),",").concat(+(h<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(_.x,",").concat(_.y,`
  `);if(s>0){var E=Iy({cx:n,cy:a,radius:s,angle:d,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),P=E.circleTangency,T=E.lineTangency,M=E.theta,k=Iy({cx:n,cy:a,radius:s,angle:u,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),O=k.circleTangency,$=k.lineTangency,F=k.theta,B=c?Math.abs(d-u):Math.abs(d-u)-M-F;if(B<0&&o===0)return"".concat(C,"L").concat(n,",").concat(a,"Z");C+="L".concat($.x,",").concat($.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(B>180),",").concat(+(h>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(T.x,",").concat(T.y,"Z")}else C+="L".concat(n,",").concat(a,"Z");return C},_Le={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},hne=function(e){var n=LB(LB({},_Le),e),a=n.cx,s=n.cy,i=n.innerRadius,o=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,d=n.cornerIsExternal,u=n.startAngle,h=n.endAngle,f=n.className;if(o<i||u===h)return null;var v=un("recharts-sector",f),x=o-i,g=ds(l,x,0,!0),y;return g>0&&Math.abs(u-h)<360?y=wLe({cx:a,cy:s,innerRadius:i,outerRadius:o,cornerRadius:Math.min(g,x/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:u,endAngle:h}):y=une({cx:a,cy:s,innerRadius:i,outerRadius:o,startAngle:u,endAngle:h}),ae.createElement("path",PT({},Bt(n,!0),{className:v,d:y,role:"img"}))};function Zx(t){"@babel/helpers - typeof";return Zx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zx(t)}function TT(){return TT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},TT.apply(this,arguments)}function FB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function $B(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FB(Object(n),!0).forEach(function(a){jLe(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FB(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function jLe(t,e,n){return e=NLe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NLe(t){var e=SLe(t,"string");return Zx(e)=="symbol"?e:e+""}function SLe(t,e){if(Zx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,e);if(Zx(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var UB={curveBasisClosed:H3e,curveBasisOpen:G3e,curveBasis:V3e,curveBumpX:P3e,curveBumpY:T3e,curveLinearClosed:W3e,curveLinear:y_,curveMonotoneX:K3e,curveMonotoneY:X3e,curveNatural:Y3e,curveStep:Q3e,curveStepAfter:J3e,curveStepBefore:Z3e},Ly=function(e){return e.x===+e.x&&e.y===+e.y},C0=function(e){return e.x},E0=function(e){return e.y},CLe=function(e,n){if(en(e))return e;var a="curve".concat(g_(e));return(a==="curveMonotone"||a==="curveBump")&&n?UB["".concat(a).concat(n==="vertical"?"Y":"X")]:UB[a]||y_},ELe=function(e){var n=e.type,a=n===void 0?"linear":n,s=e.points,i=s===void 0?[]:s,o=e.baseLine,l=e.layout,c=e.connectNulls,d=c===void 0?!1:c,u=CLe(a,l),h=d?i.filter(function(g){return Ly(g)}):i,f;if(Array.isArray(o)){var v=d?o.filter(function(g){return Ly(g)}):o,x=h.map(function(g,y){return $B($B({},g),{},{base:v[y]})});return l==="vertical"?f=Ay().y(E0).x1(C0).x0(function(g){return g.base.x}):f=Ay().x(C0).y1(E0).y0(function(g){return g.base.y}),f.defined(Ly).curve(u),f(x)}return l==="vertical"&&Ye(o)?f=Ay().y(E0).x1(C0).x0(o):Ye(o)?f=Ay().x(C0).y1(E0).y0(o):f=dee().x(C0).y(E0),f.defined(Ly).curve(u),f(h)},Ym=function(e){var n=e.className,a=e.points,s=e.path,i=e.pathRef;if((!a||!a.length)&&!s)return null;var o=a&&a.length?ELe(e):s;return w.createElement("path",TT({},Bt(e,!1),mw(e),{className:un("recharts-curve",n),d:o,ref:i}))},iA={exports:{}},oA,BB;function ALe(){if(BB)return oA;BB=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return oA=t,oA}var lA,zB;function MLe(){if(zB)return lA;zB=1;var t=ALe();function e(){}function n(){}return n.resetWarningCache=e,lA=function(){function a(o,l,c,d,u,h){if(h!==t){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}a.isRequired=a;function s(){return a}var i={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:s,element:a,elementType:a,instanceOf:s,node:a,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:e};return i.PropTypes=i,i},lA}var qB;function PLe(){return qB||(qB=1,iA.exports=MLe()()),iA.exports}var TLe=PLe();const Vn=In(TLe);var kLe=Object.getOwnPropertyNames,RLe=Object.getOwnPropertySymbols,OLe=Object.prototype.hasOwnProperty;function VB(t,e){return function(a,s,i){return t(a,s,i)&&e(a,s,i)}}function Fy(t){return function(n,a,s){if(!n||!a||typeof n!="object"||typeof a!="object")return t(n,a,s);var i=s.cache,o=i.get(n),l=i.get(a);if(o&&l)return o===a&&l===n;i.set(n,a),i.set(a,n);var c=t(n,a,s);return i.delete(n),i.delete(a),c}}function DLe(t){return t!=null?t[Symbol.toStringTag]:void 0}function HB(t){return kLe(t).concat(RLe(t))}var ILe=Object.hasOwn||(function(t,e){return OLe.call(t,e)});function gh(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var LLe="__v",FLe="__o",$Le="_owner",GB=Object.getOwnPropertyDescriptor,WB=Object.keys;function ULe(t,e,n){var a=t.length;if(e.length!==a)return!1;for(;a-- >0;)if(!n.equals(t[a],e[a],a,a,t,e,n))return!1;return!0}function BLe(t,e){return gh(t.getTime(),e.getTime())}function zLe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function qLe(t,e){return t===e}function KB(t,e,n){var a=t.size;if(a!==e.size)return!1;if(!a)return!0;for(var s=new Array(a),i=t.entries(),o,l,c=0;(o=i.next())&&!o.done;){for(var d=e.entries(),u=!1,h=0;(l=d.next())&&!l.done;){if(s[h]){h++;continue}var f=o.value,v=l.value;if(n.equals(f[0],v[0],c,h,t,e,n)&&n.equals(f[1],v[1],f[0],v[0],t,e,n)){u=s[h]=!0;break}h++}if(!u)return!1;c++}return!0}var VLe=gh;function HLe(t,e,n){var a=WB(t),s=a.length;if(WB(e).length!==s)return!1;for(;s-- >0;)if(!mne(t,e,n,a[s]))return!1;return!0}function A0(t,e,n){var a=HB(t),s=a.length;if(HB(e).length!==s)return!1;for(var i,o,l;s-- >0;)if(i=a[s],!mne(t,e,n,i)||(o=GB(t,i),l=GB(e,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function GLe(t,e){return gh(t.valueOf(),e.valueOf())}function WLe(t,e){return t.source===e.source&&t.flags===e.flags}function XB(t,e,n){var a=t.size;if(a!==e.size)return!1;if(!a)return!0;for(var s=new Array(a),i=t.values(),o,l;(o=i.next())&&!o.done;){for(var c=e.values(),d=!1,u=0;(l=c.next())&&!l.done;){if(!s[u]&&n.equals(o.value,l.value,o.value,l.value,t,e,n)){d=s[u]=!0;break}u++}if(!d)return!1}return!0}function KLe(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function XLe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function mne(t,e,n,a){return(a===$Le||a===FLe||a===LLe)&&(t.$$typeof||e.$$typeof)?!0:ILe(e,a)&&n.equals(t[a],e[a],a,a,t,e,n)}var YLe="[object Arguments]",QLe="[object Boolean]",ZLe="[object Date]",JLe="[object Error]",eFe="[object Map]",tFe="[object Number]",nFe="[object Object]",rFe="[object RegExp]",aFe="[object Set]",sFe="[object String]",iFe="[object URL]",oFe=Array.isArray,YB=typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView:null,QB=Object.assign,lFe=Object.prototype.toString.call.bind(Object.prototype.toString);function cFe(t){var e=t.areArraysEqual,n=t.areDatesEqual,a=t.areErrorsEqual,s=t.areFunctionsEqual,i=t.areMapsEqual,o=t.areNumbersEqual,l=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,d=t.areRegExpsEqual,u=t.areSetsEqual,h=t.areTypedArraysEqual,f=t.areUrlsEqual,v=t.unknownTagComparators;return function(g,y,b){if(g===y)return!0;if(g==null||y==null)return!1;var _=typeof g;if(_!==typeof y)return!1;if(_!=="object")return _==="number"?o(g,y,b):_==="function"?s(g,y,b):!1;var j=g.constructor;if(j!==y.constructor)return!1;if(j===Object)return l(g,y,b);if(oFe(g))return e(g,y,b);if(YB!=null&&YB(g))return h(g,y,b);if(j===Date)return n(g,y,b);if(j===RegExp)return d(g,y,b);if(j===Map)return i(g,y,b);if(j===Set)return u(g,y,b);var S=lFe(g);if(S===ZLe)return n(g,y,b);if(S===rFe)return d(g,y,b);if(S===eFe)return i(g,y,b);if(S===aFe)return u(g,y,b);if(S===nFe)return typeof g.then!="function"&&typeof y.then!="function"&&l(g,y,b);if(S===iFe)return f(g,y,b);if(S===JLe)return a(g,y,b);if(S===YLe)return l(g,y,b);if(S===QLe||S===tFe||S===sFe)return c(g,y,b);if(v){var C=v[S];if(!C){var E=DLe(g);E&&(C=v[E])}if(C)return C(g,y,b)}return!1}}function dFe(t){var e=t.circular,n=t.createCustomConfig,a=t.strict,s={areArraysEqual:a?A0:ULe,areDatesEqual:BLe,areErrorsEqual:zLe,areFunctionsEqual:qLe,areMapsEqual:a?VB(KB,A0):KB,areNumbersEqual:VLe,areObjectsEqual:a?A0:HLe,arePrimitiveWrappersEqual:GLe,areRegExpsEqual:WLe,areSetsEqual:a?VB(XB,A0):XB,areTypedArraysEqual:a?A0:KLe,areUrlsEqual:XLe,unknownTagComparators:void 0};if(n&&(s=QB({},s,n(s))),e){var i=Fy(s.areArraysEqual),o=Fy(s.areMapsEqual),l=Fy(s.areObjectsEqual),c=Fy(s.areSetsEqual);s=QB({},s,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return s}function uFe(t){return function(e,n,a,s,i,o,l){return t(e,n,l)}}function hFe(t){var e=t.circular,n=t.comparator,a=t.createState,s=t.equals,i=t.strict;if(a)return function(c,d){var u=a(),h=u.cache,f=h===void 0?e?new WeakMap:void 0:h,v=u.meta;return n(c,d,{cache:f,equals:s,meta:v,strict:i})};if(e)return function(c,d){return n(c,d,{cache:new WeakMap,equals:s,meta:void 0,strict:i})};var o={cache:void 0,equals:s,meta:void 0,strict:i};return function(c,d){return n(c,d,o)}}var mFe=Cd();Cd({strict:!0});Cd({circular:!0});Cd({circular:!0,strict:!0});Cd({createInternalComparator:function(){return gh}});Cd({strict:!0,createInternalComparator:function(){return gh}});Cd({circular:!0,createInternalComparator:function(){return gh}});Cd({circular:!0,createInternalComparator:function(){return gh},strict:!0});function Cd(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,a=t.createInternalComparator,s=t.createState,i=t.strict,o=i===void 0?!1:i,l=dFe(t),c=cFe(l),d=a?a(c):uFe(c);return hFe({circular:n,comparator:c,createState:s,equals:d,strict:o})}function fFe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function ZB(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,a=function s(i){n<0&&(n=i),i-n>e?(t(i),n=-1):fFe(s)};requestAnimationFrame(a)}function kT(t){"@babel/helpers - typeof";return kT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kT(t)}function pFe(t){return yFe(t)||vFe(t)||gFe(t)||xFe()}function xFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gFe(t,e){if(t){if(typeof t=="string")return JB(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JB(t,e)}}function JB(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function vFe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yFe(t){if(Array.isArray(t))return t}function bFe(){var t={},e=function(){return null},n=!1,a=function s(i){if(!n){if(Array.isArray(i)){if(!i.length)return;var o=i,l=pFe(o),c=l[0],d=l.slice(1);if(typeof c=="number"){ZB(s.bind(null,d),c);return}s(c),ZB(s.bind(null,d));return}kT(i)==="object"&&(t=i,e(t)),typeof i=="function"&&i()}};return{stop:function(){n=!0},start:function(i){n=!1,a(i)},subscribe:function(i){return e=i,function(){e=function(){return null}}}}}function Jx(t){"@babel/helpers - typeof";return Jx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jx(t)}function ez(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function tz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ez(Object(n),!0).forEach(function(a){fne(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ez(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function fne(t,e,n){return e=wFe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wFe(t){var e=_Fe(t,"string");return Jx(e)==="symbol"?e:String(e)}function _Fe(t,e){if(Jx(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,e);if(Jx(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jFe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(a,s){return a.filter(function(i){return s.includes(i)})})},NFe=function(e){return e},SFe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},nx=function(e,n){return Object.keys(n).reduce(function(a,s){return tz(tz({},a),{},fne({},s,e(s,n[s])))},{})},nz=function(e,n,a){return e.map(function(s){return"".concat(SFe(s)," ").concat(n,"ms ").concat(a)}).join(",")};function CFe(t,e){return MFe(t)||AFe(t,e)||pne(t,e)||EFe()}function EFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AFe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var a,s,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(a=i.call(n)).done)&&(l.push(a.value),l.length!==e);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function MFe(t){if(Array.isArray(t))return t}function PFe(t){return RFe(t)||kFe(t)||pne(t)||TFe()}function TFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pne(t,e){if(t){if(typeof t=="string")return RT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RT(t,e)}}function kFe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function RFe(t){if(Array.isArray(t))return RT(t)}function RT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}var Uw=1e-4,xne=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},gne=function(e,n){return e.map(function(a,s){return a*Math.pow(n,s)}).reduce(function(a,s){return a+s})},rz=function(e,n){return function(a){var s=xne(e,n);return gne(s,a)}},OFe=function(e,n){return function(a){var s=xne(e,n),i=[].concat(PFe(s.map(function(o,l){return o*l}).slice(1)),[0]);return gne(i,a)}},az=function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];var s=n[0],i=n[1],o=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":s=0,i=0,o=1,l=1;break;case"ease":s=.25,i=.1,o=.25,l=1;break;case"ease-in":s=.42,i=0,o=1,l=1;break;case"ease-out":s=.42,i=0,o=.58,l=1;break;case"ease-in-out":s=0,i=0,o=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var d=c[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),u=CFe(d,4);s=u[0],i=u[1],o=u[2],l=u[3]}}}var h=rz(s,o),f=rz(i,l),v=OFe(s,o),x=function(b){return b>1?1:b<0?0:b},g=function(b){for(var _=b>1?1:b,j=_,S=0;S<8;++S){var C=h(j)-_,E=v(j);if(Math.abs(C-_)<Uw||E<Uw)return f(j);j=x(j-C/E)}return f(j)};return g.isStepper=!1,g},DFe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,a=n===void 0?100:n,s=e.damping,i=s===void 0?8:s,o=e.dt,l=o===void 0?17:o,c=function(u,h,f){var v=-(u-h)*a,x=f*i,g=f+(v-x)*l/1e3,y=f*l/1e3+u;return Math.abs(y-h)<Uw&&Math.abs(g)<Uw?[h,0]:[y,g]};return c.isStepper=!0,c.dt=l,c},IFe=function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];var s=n[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return az(s);case"spring":return DFe();default:if(s.split("(")[0]==="cubic-bezier")return az(s)}return typeof s=="function"?s:null};function eg(t){"@babel/helpers - typeof";return eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eg(t)}function sz(t){return $Fe(t)||FFe(t)||vne(t)||LFe()}function LFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FFe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $Fe(t){if(Array.isArray(t))return DT(t)}function iz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function ka(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iz(Object(n),!0).forEach(function(a){OT(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iz(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function OT(t,e,n){return e=UFe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UFe(t){var e=BFe(t,"string");return eg(e)==="symbol"?e:String(e)}function BFe(t,e){if(eg(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,e);if(eg(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zFe(t,e){return HFe(t)||VFe(t,e)||vne(t,e)||qFe()}function qFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vne(t,e){if(t){if(typeof t=="string")return DT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DT(t,e)}}function DT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function VFe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var a,s,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(a=i.call(n)).done)&&(l.push(a.value),l.length!==e);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function HFe(t){if(Array.isArray(t))return t}var Bw=function(e,n,a){return e+(n-e)*a},IT=function(e){var n=e.from,a=e.to;return n!==a},GFe=function t(e,n,a){var s=nx(function(i,o){if(IT(o)){var l=e(o.from,o.to,o.velocity),c=zFe(l,2),d=c[0],u=c[1];return ka(ka({},o),{},{from:d,velocity:u})}return o},n);return a<1?nx(function(i,o){return IT(o)?ka(ka({},o),{},{velocity:Bw(o.velocity,s[i].velocity,a),from:Bw(o.from,s[i].from,a)}):o},n):t(e,s,a-1)};const WFe=(function(t,e,n,a,s){var i=jFe(t,e),o=i.reduce(function(y,b){return ka(ka({},y),{},OT({},b,[t[b],e[b]]))},{}),l=i.reduce(function(y,b){return ka(ka({},y),{},OT({},b,{from:t[b],velocity:0,to:e[b]}))},{}),c=-1,d,u,h=function(){return null},f=function(){return nx(function(b,_){return _.from},l)},v=function(){return!Object.values(l).filter(IT).length},x=function(b){d||(d=b);var _=b-d,j=_/n.dt;l=GFe(n,l,j),s(ka(ka(ka({},t),e),f())),d=b,v()||(c=requestAnimationFrame(h))},g=function(b){u||(u=b);var _=(b-u)/a,j=nx(function(C,E){return Bw.apply(void 0,sz(E).concat([n(_)]))},o);if(s(ka(ka(ka({},t),e),j)),_<1)c=requestAnimationFrame(h);else{var S=nx(function(C,E){return Bw.apply(void 0,sz(E).concat([n(1)]))},o);s(ka(ka(ka({},t),e),S))}};return h=n.isStepper?x:g,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(c)}}});function Lf(t){"@babel/helpers - typeof";return Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lf(t)}var KFe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function XFe(t,e){if(t==null)return{};var n=YFe(t,e),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)a=i[s],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function YFe(t,e){if(t==null)return{};var n={},a=Object.keys(t),s,i;for(i=0;i<a.length;i++)s=a[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function cA(t){return e8e(t)||JFe(t)||ZFe(t)||QFe()}function QFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZFe(t,e){if(t){if(typeof t=="string")return LT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LT(t,e)}}function JFe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function e8e(t){if(Array.isArray(t))return LT(t)}function LT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function oz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function Wi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oz(Object(n),!0).forEach(function(a){z0(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oz(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function z0(t,e,n){return e=yne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function t8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n8e(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,yne(a.key),a)}}function r8e(t,e,n){return e&&n8e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yne(t){var e=a8e(t,"string");return Lf(e)==="symbol"?e:String(e)}function a8e(t,e){if(Lf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,e);if(Lf(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function s8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&FT(t,e)}function FT(t,e){return FT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},FT(t,e)}function i8e(t){var e=o8e();return function(){var a=zw(t),s;if(e){var i=zw(this).constructor;s=Reflect.construct(a,arguments,i)}else s=a.apply(this,arguments);return $T(this,s)}}function $T(t,e){if(e&&(Lf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UT(t)}function UT(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function o8e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function zw(t){return zw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zw(t)}var Jo=(function(t){s8e(n,t);var e=i8e(n);function n(a,s){var i;t8e(this,n),i=e.call(this,a,s);var o=i.props,l=o.isActive,c=o.attributeName,d=o.from,u=o.to,h=o.steps,f=o.children,v=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(UT(i)),i.changeStyle=i.changeStyle.bind(UT(i)),!l||v<=0)return i.state={style:{}},typeof f=="function"&&(i.state={style:u}),$T(i);if(h&&h.length)i.state={style:h[0].style};else if(d){if(typeof f=="function")return i.state={style:d},$T(i);i.state={style:c?z0({},c,d):d}}else i.state={style:{}};return i}return r8e(n,[{key:"componentDidMount",value:function(){var s=this.props,i=s.isActive,o=s.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,d=i.shouldReAnimate,u=i.to,h=i.from,f=this.state.style;if(l){if(!o){var v={style:c?z0({},c,u):u};this.state&&f&&(c&&f[c]!==u||!c&&f!==u)&&this.setState(v);return}if(!(mFe(s.to,u)&&s.canBegin&&s.isActive)){var x=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=x||d?h:s.to;if(this.state&&f){var y={style:c?z0({},c,g):g};(c&&f[c]!==g||!c&&f!==g)&&this.setState(y)}this.runAnimation(Wi(Wi({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var i=this,o=s.from,l=s.to,c=s.duration,d=s.easing,u=s.begin,h=s.onAnimationEnd,f=s.onAnimationStart,v=WFe(o,l,IFe(d),c,this.changeStyle),x=function(){i.stopJSAnimation=v()};this.manager.start([f,u,x,c,h])}},{key:"runStepAnimation",value:function(s){var i=this,o=s.steps,l=s.begin,c=s.onAnimationStart,d=o[0],u=d.style,h=d.duration,f=h===void 0?0:h,v=function(g,y,b){if(b===0)return g;var _=y.duration,j=y.easing,S=j===void 0?"ease":j,C=y.style,E=y.properties,P=y.onAnimationEnd,T=b>0?o[b-1]:y,M=E||Object.keys(C);if(typeof S=="function"||S==="spring")return[].concat(cA(g),[i.runJSAnimation.bind(i,{from:T.style,to:C,duration:_,easing:S}),_]);var k=nz(M,_,S),O=Wi(Wi(Wi({},T.style),C),{},{transition:k});return[].concat(cA(g),[O,_,P]).filter(NFe)};return this.manager.start([c].concat(cA(o.reduce(v,[u,Math.max(f,l)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=bFe());var i=s.begin,o=s.duration,l=s.attributeName,c=s.to,d=s.easing,u=s.onAnimationStart,h=s.onAnimationEnd,f=s.steps,v=s.children,x=this.manager;if(this.unSubscribe=x.subscribe(this.handleStyleChange),typeof d=="function"||typeof v=="function"||d==="spring"){this.runJSAnimation(s);return}if(f.length>1){this.runStepAnimation(s);return}var g=l?z0({},l,c):c,y=nz(Object.keys(g),o,d);x.start([u,i,Wi(Wi({},g),{},{transition:y}),o,h])}},{key:"render",value:function(){var s=this.props,i=s.children;s.begin;var o=s.duration;s.attributeName,s.easing;var l=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var c=XFe(s,KFe),d=w.Children.count(i),u=this.state.style;if(typeof i=="function")return i(u);if(!l||d===0||o<=0)return i;var h=function(v){var x=v.props,g=x.style,y=g===void 0?{}:g,b=x.className,_=w.cloneElement(v,Wi(Wi({},c),{},{style:Wi(Wi({},y),u),className:b}));return _};return d===1?h(w.Children.only(i)):ae.createElement("div",null,w.Children.map(i,function(f){return h(f)}))}}]),n})(w.PureComponent);Jo.displayName="Animate";Jo.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Jo.propTypes={from:Vn.oneOfType([Vn.object,Vn.string]),to:Vn.oneOfType([Vn.object,Vn.string]),attributeName:Vn.string,duration:Vn.number,begin:Vn.number,easing:Vn.oneOfType([Vn.string,Vn.func]),steps:Vn.arrayOf(Vn.shape({duration:Vn.number.isRequired,style:Vn.object.isRequired,easing:Vn.oneOfType([Vn.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Vn.func]),properties:Vn.arrayOf("string"),onAnimationEnd:Vn.func})),children:Vn.oneOfType([Vn.node,Vn.func]),isActive:Vn.bool,canBegin:Vn.bool,onAnimationEnd:Vn.func,shouldReAnimate:Vn.bool,onAnimationStart:Vn.func,onAnimationReStart:Vn.func};function tg(t){"@babel/helpers - typeof";return tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tg(t)}function qw(){return qw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},qw.apply(this,arguments)}function l8e(t,e){return h8e(t)||u8e(t,e)||d8e(t,e)||c8e()}function c8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d8e(t,e){if(t){if(typeof t=="string")return lz(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lz(t,e)}}function lz(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function u8e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var a,s,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(a=i.call(n)).done)&&(l.push(a.value),l.length!==e);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function h8e(t){if(Array.isArray(t))return t}function cz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function dz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cz(Object(n),!0).forEach(function(a){m8e(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cz(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function m8e(t,e,n){return e=f8e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f8e(t){var e=p8e(t,"string");return tg(e)=="symbol"?e:e+""}function p8e(t,e){if(tg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,e);if(tg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uz=function(e,n,a,s,i){var o=Math.min(Math.abs(a)/2,Math.abs(s)/2),l=s>=0?1:-1,c=a>=0?1:-1,d=s>=0&&a>=0||s<0&&a<0?1:0,u;if(o>0&&i instanceof Array){for(var h=[0,0,0,0],f=0,v=4;f<v;f++)h[f]=i[f]>o?o:i[f];u="M".concat(e,",").concat(n+l*h[0]),h[0]>0&&(u+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(d,",").concat(e+c*h[0],",").concat(n)),u+="L ".concat(e+a-c*h[1],",").concat(n),h[1]>0&&(u+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(d,`,
        `).concat(e+a,",").concat(n+l*h[1])),u+="L ".concat(e+a,",").concat(n+s-l*h[2]),h[2]>0&&(u+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(d,`,
        `).concat(e+a-c*h[2],",").concat(n+s)),u+="L ".concat(e+c*h[3],",").concat(n+s),h[3]>0&&(u+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(n+s-l*h[3])),u+="Z"}else if(o>0&&i===+i&&i>0){var x=Math.min(o,i);u="M ".concat(e,",").concat(n+l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(e+c*x,",").concat(n,`
            L `).concat(e+a-c*x,",").concat(n,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(e+a,",").concat(n+l*x,`
            L `).concat(e+a,",").concat(n+s-l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(e+a-c*x,",").concat(n+s,`
            L `).concat(e+c*x,",").concat(n+s,`
            A `).concat(x,",").concat(x,",0,0,").concat(d,",").concat(e,",").concat(n+s-l*x," Z")}else u="M ".concat(e,",").concat(n," h ").concat(a," v ").concat(s," h ").concat(-a," Z");return u},x8e=function(e,n){if(!e||!n)return!1;var a=e.x,s=e.y,i=n.x,o=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var d=Math.min(i,i+l),u=Math.max(i,i+l),h=Math.min(o,o+c),f=Math.max(o,o+c);return a>=d&&a<=u&&s>=h&&s<=f}return!1},g8e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},xR=function(e){var n=dz(dz({},g8e),e),a=w.useRef(),s=w.useState(-1),i=l8e(s,2),o=i[0],l=i[1];w.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var S=a.current.getTotalLength();S&&l(S)}catch{}},[]);var c=n.x,d=n.y,u=n.width,h=n.height,f=n.radius,v=n.className,x=n.animationEasing,g=n.animationDuration,y=n.animationBegin,b=n.isAnimationActive,_=n.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||h!==+h||u===0||h===0)return null;var j=un("recharts-rectangle",v);return _?ae.createElement(Jo,{canBegin:o>0,from:{width:u,height:h,x:c,y:d},to:{width:u,height:h,x:c,y:d},duration:g,animationEasing:x,isActive:_},function(S){var C=S.width,E=S.height,P=S.x,T=S.y;return ae.createElement(Jo,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:g,isActive:b,easing:x},ae.createElement("path",qw({},Bt(n,!0),{className:j,d:uz(P,T,C,E,f),ref:a})))}):ae.createElement("path",qw({},Bt(n,!0),{className:j,d:uz(c,d,u,h,f)}))},v8e=["points","className","baseLinePoints","connectNulls"];function Pm(){return Pm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Pm.apply(this,arguments)}function y8e(t,e){if(t==null)return{};var n=b8e(t,e),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)a=i[s],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function b8e(t,e){if(t==null)return{};var n={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(e.indexOf(a)>=0)continue;n[a]=t[a]}return n}function hz(t){return N8e(t)||j8e(t)||_8e(t)||w8e()}function w8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _8e(t,e){if(t){if(typeof t=="string")return BT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BT(t,e)}}function j8e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function N8e(t){if(Array.isArray(t))return BT(t)}function BT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}var mz=function(e){return e&&e.x===+e.x&&e.y===+e.y},S8e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(a){mz(a)?n[n.length-1].push(a):n[n.length-1].length>0&&n.push([])}),mz(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},rx=function(e,n){var a=S8e(e);n&&(a=[a.reduce(function(i,o){return[].concat(hz(i),hz(o))},[])]);var s=a.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return a.length===1?"".concat(s,"Z"):s},C8e=function(e,n,a){var s=rx(e,a);return"".concat(s.slice(-1)==="Z"?s.slice(0,-1):s,"L").concat(rx(n.reverse(),a).slice(1))},E8e=function(e){var n=e.points,a=e.className,s=e.baseLinePoints,i=e.connectNulls,o=y8e(e,v8e);if(!n||!n.length)return null;var l=un("recharts-polygon",a);if(s&&s.length){var c=o.stroke&&o.stroke!=="none",d=C8e(n,s,i);return ae.createElement("g",{className:l},ae.createElement("path",Pm({},Bt(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",stroke:"none",d})),c?ae.createElement("path",Pm({},Bt(o,!0),{fill:"none",d:rx(n,i)})):null,c?ae.createElement("path",Pm({},Bt(o,!0),{fill:"none",d:rx(s,i)})):null)}var u=rx(n,i);return ae.createElement("path",Pm({},Bt(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",className:l,d:u}))};function zT(){return zT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},zT.apply(this,arguments)}var I_=function(e){var n=e.cx,a=e.cy,s=e.r,i=e.className,o=un("recharts-dot",i);return n===+n&&a===+a&&s===+s?w.createElement("circle",zT({},Bt(e,!1),mw(e),{className:o,cx:n,cy:a,r:s})):null};function ng(t){"@babel/helpers - typeof";return ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ng(t)}var A8e=["x","y","top","left","width","height","className"];function qT(){return qT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},qT.apply(this,arguments)}function fz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function M8e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fz(Object(n),!0).forEach(function(a){P8e(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fz(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function P8e(t,e,n){return e=T8e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T8e(t){var e=k8e(t,"string");return ng(e)=="symbol"?e:e+""}function k8e(t,e){if(ng(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,e);if(ng(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function R8e(t,e){if(t==null)return{};var n=O8e(t,e),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)a=i[s],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function O8e(t,e){if(t==null)return{};var n={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(e.indexOf(a)>=0)continue;n[a]=t[a]}return n}var D8e=function(e,n,a,s,i,o){return"M".concat(e,",").concat(i,"v").concat(s,"M").concat(o,",").concat(n,"h").concat(a)},I8e=function(e){var n=e.x,a=n===void 0?0:n,s=e.y,i=s===void 0?0:s,o=e.top,l=o===void 0?0:o,c=e.left,d=c===void 0?0:c,u=e.width,h=u===void 0?0:u,f=e.height,v=f===void 0?0:f,x=e.className,g=R8e(e,A8e),y=M8e({x:a,y:i,top:l,left:d,width:h,height:v},g);return!Ye(a)||!Ye(i)||!Ye(h)||!Ye(v)||!Ye(l)||!Ye(d)?null:ae.createElement("path",qT({},Bt(y,!0),{className:un("recharts-cross",x),d:D8e(a,i,h,v,l,d)}))},dA,pz;function L8e(){if(pz)return dA;pz=1;var t=T_(),e=Ote(),n=al();function a(s,i){return s&&s.length?t(s,n(i,2),e):void 0}return dA=a,dA}var F8e=L8e();const $8e=In(F8e);var uA,xz;function U8e(){if(xz)return uA;xz=1;var t=T_(),e=al(),n=Dte();function a(s,i){return s&&s.length?t(s,e(i,2),n):void 0}return uA=a,uA}var B8e=U8e();const z8e=In(B8e);var q8e=["cx","cy","angle","ticks","axisLine"],V8e=["ticks","tick","angle","tickFormatter","stroke"];function Ff(t){"@babel/helpers - typeof";return Ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ff(t)}function ax(){return ax=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},ax.apply(this,arguments)}function gz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function Kd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gz(Object(n),!0).forEach(function(a){L_(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gz(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function vz(t,e){if(t==null)return{};var n=H8e(t,e),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)a=i[s],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function H8e(t,e){if(t==null)return{};var n={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(e.indexOf(a)>=0)continue;n[a]=t[a]}return n}function G8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yz(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,wne(a.key),a)}}function W8e(t,e,n){return e&&yz(t.prototype,e),n&&yz(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function K8e(t,e,n){return e=Vw(e),X8e(t,bne()?Reflect.construct(e,n||[],Vw(t).constructor):e.apply(t,n))}function X8e(t,e){if(e&&(Ff(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Y8e(t)}function Y8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bne=function(){return!!t})()}function Vw(t){return Vw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vw(t)}function Q8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&VT(t,e)}function VT(t,e){return VT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},VT(t,e)}function L_(t,e,n){return e=wne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wne(t){var e=Z8e(t,"string");return Ff(e)=="symbol"?e:e+""}function Z8e(t,e){if(Ff(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,e);if(Ff(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var F_=(function(t){function e(){return G8e(this,e),K8e(this,e,arguments)}return Q8e(e,t),W8e(e,[{key:"getTickValueCoord",value:function(a){var s=a.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return dr(l,c,s,o)}},{key:"getTickTextAnchor",value:function(){var a=this.props.orientation,s;switch(a){case"left":s="end";break;case"right":s="start";break;default:s="middle";break}return s}},{key:"getViewBox",value:function(){var a=this.props,s=a.cx,i=a.cy,o=a.angle,l=a.ticks,c=$8e(l,function(u){return u.coordinate||0}),d=z8e(l,function(u){return u.coordinate||0});return{cx:s,cy:i,startAngle:o,endAngle:o,innerRadius:d.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var a=this.props,s=a.cx,i=a.cy,o=a.angle,l=a.ticks,c=a.axisLine,d=vz(a,q8e),u=l.reduce(function(x,g){return[Math.min(x[0],g.coordinate),Math.max(x[1],g.coordinate)]},[1/0,-1/0]),h=dr(s,i,u[0],o),f=dr(s,i,u[1],o),v=Kd(Kd(Kd({},Bt(d,!1)),{},{fill:"none"},Bt(c,!1)),{},{x1:h.x,y1:h.y,x2:f.x,y2:f.y});return ae.createElement("line",ax({className:"recharts-polar-radius-axis-line"},v))}},{key:"renderTicks",value:function(){var a=this,s=this.props,i=s.ticks,o=s.tick,l=s.angle,c=s.tickFormatter,d=s.stroke,u=vz(s,V8e),h=this.getTickTextAnchor(),f=Bt(u,!1),v=Bt(o,!1),x=i.map(function(g,y){var b=a.getTickValueCoord(g),_=Kd(Kd(Kd(Kd({textAnchor:h,transform:"rotate(".concat(90-l,", ").concat(b.x,", ").concat(b.y,")")},f),{},{stroke:"none",fill:d},v),{},{index:y},b),{},{payload:g});return ae.createElement(An,ax({className:un("recharts-polar-radius-axis-tick",cne(o)),key:"tick-".concat(g.coordinate)},th(a.props,g,y)),e.renderTickItem(o,_,c?c(g.value,y):g.value))});return ae.createElement(An,{className:"recharts-polar-radius-axis-ticks"},x)}},{key:"render",value:function(){var a=this.props,s=a.ticks,i=a.axisLine,o=a.tick;return!s||!s.length?null:ae.createElement(An,{className:un("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),Na.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(a,s,i){var o;return ae.isValidElement(a)?o=ae.cloneElement(a,s):en(a)?o=a(s):o=ae.createElement(nh,ax({},s,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])})(w.PureComponent);L_(F_,"displayName","PolarRadiusAxis");L_(F_,"axisType","radiusAxis");L_(F_,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function $f(t){"@babel/helpers - typeof";return $f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$f(t)}function du(){return du=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},du.apply(this,arguments)}function bz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function Xd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bz(Object(n),!0).forEach(function(a){$_(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bz(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function J8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wz(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,jne(a.key),a)}}function e9e(t,e,n){return e&&wz(t.prototype,e),n&&wz(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function t9e(t,e,n){return e=Hw(e),n9e(t,_ne()?Reflect.construct(e,n||[],Hw(t).constructor):e.apply(t,n))}function n9e(t,e){if(e&&($f(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r9e(t)}function r9e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _ne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_ne=function(){return!!t})()}function Hw(t){return Hw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hw(t)}function a9e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&HT(t,e)}function HT(t,e){return HT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},HT(t,e)}function $_(t,e,n){return e=jne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jne(t){var e=s9e(t,"string");return $f(e)=="symbol"?e:e+""}function s9e(t,e){if($f(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,e);if($f(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var i9e=Math.PI/180,_z=1e-5,U_=(function(t){function e(){return J8e(this,e),t9e(this,e,arguments)}return a9e(e,t),e9e(e,[{key:"getTickLineCoord",value:function(a){var s=this.props,i=s.cx,o=s.cy,l=s.radius,c=s.orientation,d=s.tickSize,u=d||8,h=dr(i,o,l,a.coordinate),f=dr(i,o,l+(c==="inner"?-1:1)*u,a.coordinate);return{x1:h.x,y1:h.y,x2:f.x,y2:f.y}}},{key:"getTickTextAnchor",value:function(a){var s=this.props.orientation,i=Math.cos(-a.coordinate*i9e),o;return i>_z?o=s==="outer"?"start":"end":i<-_z?o=s==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var a=this.props,s=a.cx,i=a.cy,o=a.radius,l=a.axisLine,c=a.axisLineType,d=Xd(Xd({},Bt(this.props,!1)),{},{fill:"none"},Bt(l,!1));if(c==="circle")return ae.createElement(I_,du({className:"recharts-polar-angle-axis-line"},d,{cx:s,cy:i,r:o}));var u=this.props.ticks,h=u.map(function(f){return dr(s,i,o,f.coordinate)});return ae.createElement(E8e,du({className:"recharts-polar-angle-axis-line"},d,{points:h}))}},{key:"renderTicks",value:function(){var a=this,s=this.props,i=s.ticks,o=s.tick,l=s.tickLine,c=s.tickFormatter,d=s.stroke,u=Bt(this.props,!1),h=Bt(o,!1),f=Xd(Xd({},u),{},{fill:"none"},Bt(l,!1)),v=i.map(function(x,g){var y=a.getTickLineCoord(x),b=a.getTickTextAnchor(x),_=Xd(Xd(Xd({textAnchor:b},u),{},{stroke:"none",fill:d},h),{},{index:g,payload:x,x:y.x2,y:y.y2});return ae.createElement(An,du({className:un("recharts-polar-angle-axis-tick",cne(o)),key:"tick-".concat(x.coordinate)},th(a.props,x,g)),l&&ae.createElement("line",du({className:"recharts-polar-angle-axis-tick-line"},f,y)),o&&e.renderTickItem(o,_,c?c(x.value,g):x.value))});return ae.createElement(An,{className:"recharts-polar-angle-axis-ticks"},v)}},{key:"render",value:function(){var a=this.props,s=a.ticks,i=a.radius,o=a.axisLine;return i<=0||!s||!s.length?null:ae.createElement(An,{className:un("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(a,s,i){var o;return ae.isValidElement(a)?o=ae.cloneElement(a,s):en(a)?o=a(s):o=ae.createElement(nh,du({},s,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])})(w.PureComponent);$_(U_,"displayName","PolarAngleAxis");$_(U_,"axisType","angleAxis");$_(U_,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var hA,jz;function o9e(){if(jz)return hA;jz=1;var t=Ree(),e=t(Object.getPrototypeOf,Object);return hA=e,hA}var mA,Nz;function l9e(){if(Nz)return mA;Nz=1;var t=nc(),e=o9e(),n=rc(),a="[object Object]",s=Function.prototype,i=Object.prototype,o=s.toString,l=i.hasOwnProperty,c=o.call(Object);function d(u){if(!n(u)||t(u)!=a)return!1;var h=e(u);if(h===null)return!0;var f=l.call(h,"constructor")&&h.constructor;return typeof f=="function"&&f instanceof f&&o.call(f)==c}return mA=d,mA}var c9e=l9e();const d9e=In(c9e);var fA,Sz;function u9e(){if(Sz)return fA;Sz=1;var t=nc(),e=rc(),n="[object Boolean]";function a(s){return s===!0||s===!1||e(s)&&t(s)==n}return fA=a,fA}var h9e=u9e();const m9e=In(h9e);function rg(t){"@babel/helpers - typeof";return rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rg(t)}function Gw(){return Gw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Gw.apply(this,arguments)}function f9e(t,e){return v9e(t)||g9e(t,e)||x9e(t,e)||p9e()}function p9e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x9e(t,e){if(t){if(typeof t=="string")return Cz(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cz(t,e)}}function Cz(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function g9e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var a,s,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(a=i.call(n)).done)&&(l.push(a.value),l.length!==e);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function v9e(t){if(Array.isArray(t))return t}function Ez(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function Az(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ez(Object(n),!0).forEach(function(a){y9e(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ez(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function y9e(t,e,n){return e=b9e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b9e(t){var e=w9e(t,"string");return rg(e)=="symbol"?e:e+""}function w9e(t,e){if(rg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,e);if(rg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Mz=function(e,n,a,s,i){var o=a-s,l;return l="M ".concat(e,",").concat(n),l+="L ".concat(e+a,",").concat(n),l+="L ".concat(e+a-o/2,",").concat(n+i),l+="L ".concat(e+a-o/2-s,",").concat(n+i),l+="L ".concat(e,",").concat(n," Z"),l},_9e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},j9e=function(e){var n=Az(Az({},_9e),e),a=w.useRef(),s=w.useState(-1),i=f9e(s,2),o=i[0],l=i[1];w.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var j=a.current.getTotalLength();j&&l(j)}catch{}},[]);var c=n.x,d=n.y,u=n.upperWidth,h=n.lowerWidth,f=n.height,v=n.className,x=n.animationEasing,g=n.animationDuration,y=n.animationBegin,b=n.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||h!==+h||f!==+f||u===0&&h===0||f===0)return null;var _=un("recharts-trapezoid",v);return b?ae.createElement(Jo,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:f,x:c,y:d},to:{upperWidth:u,lowerWidth:h,height:f,x:c,y:d},duration:g,animationEasing:x,isActive:b},function(j){var S=j.upperWidth,C=j.lowerWidth,E=j.height,P=j.x,T=j.y;return ae.createElement(Jo,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:g,easing:x},ae.createElement("path",Gw({},Bt(n,!0),{className:_,d:Mz(P,T,S,C,E),ref:a})))}):ae.createElement("g",null,ae.createElement("path",Gw({},Bt(n,!0),{className:_,d:Mz(c,d,u,h,f)})))},N9e=["option","shapeType","propTransformer","activeClassName","isActive"];function ag(t){"@babel/helpers - typeof";return ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ag(t)}function S9e(t,e){if(t==null)return{};var n=C9e(t,e),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)a=i[s],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function C9e(t,e){if(t==null)return{};var n={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(e.indexOf(a)>=0)continue;n[a]=t[a]}return n}function Pz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function Ww(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Pz(Object(n),!0).forEach(function(a){E9e(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pz(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function E9e(t,e,n){return e=A9e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A9e(t){var e=M9e(t,"string");return ag(e)=="symbol"?e:e+""}function M9e(t,e){if(ag(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,e);if(ag(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function P9e(t,e){return Ww(Ww({},e),t)}function T9e(t,e){return t==="symbols"}function Tz(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return ae.createElement(xR,n);case"trapezoid":return ae.createElement(j9e,n);case"sector":return ae.createElement(hne,n);case"symbols":if(T9e(e))return ae.createElement(Dk,n);break;default:return null}}function k9e(t){return w.isValidElement(t)?t.props:t}function Nne(t){var e=t.option,n=t.shapeType,a=t.propTransformer,s=a===void 0?P9e:a,i=t.activeClassName,o=i===void 0?"recharts-active-shape":i,l=t.isActive,c=S9e(t,N9e),d;if(w.isValidElement(e))d=w.cloneElement(e,Ww(Ww({},c),k9e(e)));else if(en(e))d=e(c);else if(d9e(e)&&!m9e(e)){var u=s(e,c);d=ae.createElement(Tz,{shapeType:n,elementProps:u})}else{var h=c;d=ae.createElement(Tz,{shapeType:n,elementProps:h})}return l?ae.createElement(An,{className:o},d):d}function B_(t,e){return e!=null&&"trapezoids"in t.props}function z_(t,e){return e!=null&&"sectors"in t.props}function sg(t,e){return e!=null&&"points"in t.props}function R9e(t,e){var n,a,s=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,i=t.y===(e==null||(a=e.labelViewBox)===null||a===void 0?void 0:a.y)||t.y===e.y;return s&&i}function O9e(t,e){var n=t.endAngle===e.endAngle,a=t.startAngle===e.startAngle;return n&&a}function D9e(t,e){var n=t.x===e.x,a=t.y===e.y,s=t.z===e.z;return n&&a&&s}function I9e(t,e){var n;return B_(t,e)?n=R9e:z_(t,e)?n=O9e:sg(t,e)&&(n=D9e),n}function L9e(t,e){var n;return B_(t,e)?n="trapezoids":z_(t,e)?n="sectors":sg(t,e)&&(n="points"),n}function F9e(t,e){if(B_(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(z_(t,e)){var a;return(a=e.tooltipPayload)===null||a===void 0||(a=a[0])===null||a===void 0||(a=a.payload)===null||a===void 0?void 0:a.payload}return sg(t,e)?e.payload:{}}function $9e(t){var e=t.activeTooltipItem,n=t.graphicalItem,a=t.itemData,s=L9e(n,e),i=F9e(n,e),o=a.filter(function(c,d){var u=Df(i,c),h=n.props[s].filter(function(x){var g=I9e(n,e);return g(x,e)}),f=n.props[s].indexOf(h[h.length-1]),v=d===f;return u&&v}),l=a.indexOf(o[o.length-1]);return l}var Mb;function Uf(t){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uf(t)}function Tm(){return Tm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Tm.apply(this,arguments)}function kz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function lr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kz(Object(n),!0).forEach(function(a){Pi(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kz(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function U9e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rz(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,Cne(a.key),a)}}function B9e(t,e,n){return e&&Rz(t.prototype,e),n&&Rz(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function z9e(t,e,n){return e=Kw(e),q9e(t,Sne()?Reflect.construct(e,n||[],Kw(t).constructor):e.apply(t,n))}function q9e(t,e){if(e&&(Uf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return V9e(t)}function V9e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Sne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Sne=function(){return!!t})()}function Kw(t){return Kw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Kw(t)}function H9e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&GT(t,e)}function GT(t,e){return GT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},GT(t,e)}function Pi(t,e,n){return e=Cne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cne(t){var e=G9e(t,"string");return Uf(e)=="symbol"?e:e+""}function G9e(t,e){if(Uf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,e);if(Uf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var sc=(function(t){function e(n){var a;return U9e(this,e),a=z9e(this,e,[n]),Pi(a,"pieRef",null),Pi(a,"sectorRefs",[]),Pi(a,"id",Cp("recharts-pie-")),Pi(a,"handleAnimationEnd",function(){var s=a.props.onAnimationEnd;a.setState({isAnimationFinished:!0}),en(s)&&s()}),Pi(a,"handleAnimationStart",function(){var s=a.props.onAnimationStart;a.setState({isAnimationFinished:!1}),en(s)&&s()}),a.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},a}return H9e(e,t),B9e(e,[{key:"isActiveIndex",value:function(a){var s=this.props.activeIndex;return Array.isArray(s)?s.indexOf(a)!==-1:a===s}},{key:"hasActiveIndex",value:function(){var a=this.props.activeIndex;return Array.isArray(a)?a.length!==0:a||a===0}},{key:"renderLabels",value:function(a){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,d=i.valueKey,u=Bt(this.props,!1),h=Bt(o,!1),f=Bt(l,!1),v=o&&o.offsetRadius||20,x=a.map(function(g,y){var b=(g.startAngle+g.endAngle)/2,_=dr(g.cx,g.cy,g.outerRadius+v,b),j=lr(lr(lr(lr({},u),g),{},{stroke:"none"},h),{},{index:y,textAnchor:e.getTextAnchor(_.x,g.cx)},_),S=lr(lr(lr(lr({},u),g),{},{fill:"none",stroke:g.fill},f),{},{index:y,points:[dr(g.cx,g.cy,g.outerRadius,b),_]}),C=c;return hn(c)&&hn(d)?C="value":hn(c)&&(C=d),ae.createElement(An,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(y)},l&&e.renderLabelLineItem(l,S,"line"),e.renderLabelItem(o,j,la(g,C)))});return ae.createElement(An,{className:"recharts-pie-labels"},x)}},{key:"renderSectorsStatically",value:function(a){var s=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return a.map(function(d,u){if((d==null?void 0:d.startAngle)===0&&(d==null?void 0:d.endAngle)===0&&a.length!==1)return null;var h=s.isActiveIndex(u),f=c&&s.hasActiveIndex()?c:null,v=h?o:f,x=lr(lr({},d),{},{stroke:l?d.fill:d.stroke,tabIndex:-1});return ae.createElement(An,Tm({ref:function(y){y&&!s.sectorRefs.includes(y)&&s.sectorRefs.push(y)},tabIndex:-1,className:"recharts-pie-sector"},th(s.props,d,u),{key:"sector-".concat(d==null?void 0:d.startAngle,"-").concat(d==null?void 0:d.endAngle,"-").concat(d.midAngle,"-").concat(u)}),ae.createElement(Nne,Tm({option:v,isActive:h,shapeType:"sector"},x)))})}},{key:"renderSectorsWithAnimation",value:function(){var a=this,s=this.props,i=s.sectors,o=s.isAnimationActive,l=s.animationBegin,c=s.animationDuration,d=s.animationEasing,u=s.animationId,h=this.state,f=h.prevSectors,v=h.prevIsAnimationActive;return ae.createElement(Jo,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(v),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(x){var g=x.t,y=[],b=i&&i[0],_=b.startAngle;return i.forEach(function(j,S){var C=f&&f[S],E=S>0?oi(j,"paddingAngle",0):0;if(C){var P=Ss(C.endAngle-C.startAngle,j.endAngle-j.startAngle),T=lr(lr({},j),{},{startAngle:_+E,endAngle:_+P(g)+E});y.push(T),_=T.endAngle}else{var M=j.endAngle,k=j.startAngle,O=Ss(0,M-k),$=O(g),F=lr(lr({},j),{},{startAngle:_+E,endAngle:_+$+E});y.push(F),_=F.endAngle}}),ae.createElement(An,null,a.renderSectorsStatically(y))})}},{key:"attachKeyboardHandlers",value:function(a){var s=this;a.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[o].focus(),s.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--s.state.sectorToFocus<0?s.sectorRefs.length-1:s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[l].focus(),s.setState({sectorToFocus:l});break}case"Escape":{s.sectorRefs[s.state.sectorToFocus].blur(),s.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var a=this.props,s=a.sectors,i=a.isAnimationActive,o=this.state.prevSectors;return i&&s&&s.length&&(!o||!Df(o,s))?this.renderSectorsWithAnimation():this.renderSectorsStatically(s)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var a=this,s=this.props,i=s.hide,o=s.sectors,l=s.className,c=s.label,d=s.cx,u=s.cy,h=s.innerRadius,f=s.outerRadius,v=s.isAnimationActive,x=this.state.isAnimationFinished;if(i||!o||!o.length||!Ye(d)||!Ye(u)||!Ye(h)||!Ye(f))return null;var g=un("recharts-pie",l);return ae.createElement(An,{tabIndex:this.props.rootTabIndex,className:g,ref:function(b){a.pieRef=b}},this.renderSectors(),c&&this.renderLabels(o),Na.renderCallByParent(this.props,null,!1),(!v||x)&&zl.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(a,s){return s.prevIsAnimationActive!==a.isAnimationActive?{prevIsAnimationActive:a.isAnimationActive,prevAnimationId:a.animationId,curSectors:a.sectors,prevSectors:[],isAnimationFinished:!0}:a.isAnimationActive&&a.animationId!==s.prevAnimationId?{prevAnimationId:a.animationId,curSectors:a.sectors,prevSectors:s.curSectors,isAnimationFinished:!0}:a.sectors!==s.curSectors?{curSectors:a.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(a,s){return a>s?"start":a<s?"end":"middle"}},{key:"renderLabelLineItem",value:function(a,s,i){if(ae.isValidElement(a))return ae.cloneElement(a,s);if(en(a))return a(s);var o=un("recharts-pie-label-line",typeof a!="boolean"?a.className:"");return ae.createElement(Ym,Tm({},s,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(a,s,i){if(ae.isValidElement(a))return ae.cloneElement(a,s);var o=i;if(en(a)&&(o=a(s),ae.isValidElement(o)))return o;var l=un("recharts-pie-label-text",typeof a!="boolean"&&!en(a)?a.className:"");return ae.createElement(nh,Tm({},s,{alignmentBaseline:"middle",className:l}),o)}}])})(w.PureComponent);Mb=sc;Pi(sc,"displayName","Pie");Pi(sc,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!fh.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Pi(sc,"parseDeltaAngle",function(t,e){var n=cs(e-t),a=Math.min(Math.abs(e-t),360);return n*a});Pi(sc,"getRealPieData",function(t){var e=t.data,n=t.children,a=Bt(t,!1),s=Di(n,N_);return e&&e.length?e.map(function(i,o){return lr(lr(lr({payload:i},a),i),s&&s[o]&&s[o].props)}):s&&s.length?s.map(function(i){return lr(lr({},a),i.props)}):[]});Pi(sc,"parseCoordinateOfPie",function(t,e){var n=e.top,a=e.left,s=e.width,i=e.height,o=lne(s,i),l=a+ds(t.cx,s,s/2),c=n+ds(t.cy,i,i/2),d=ds(t.innerRadius,o,0),u=ds(t.outerRadius,o,o*.8),h=t.maxRadius||Math.sqrt(s*s+i*i)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:u,maxRadius:h}});Pi(sc,"getComposedData",function(t){var e=t.item,n=t.offset,a=e.type.defaultProps!==void 0?lr(lr({},e.type.defaultProps),e.props):e.props,s=Mb.getRealPieData(a);if(!s||!s.length)return null;var i=a.cornerRadius,o=a.startAngle,l=a.endAngle,c=a.paddingAngle,d=a.dataKey,u=a.nameKey,h=a.valueKey,f=a.tooltipType,v=Math.abs(a.minAngle),x=Mb.parseCoordinateOfPie(a,n),g=Mb.parseDeltaAngle(o,l),y=Math.abs(g),b=d;hn(d)&&hn(h)?(fo(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):hn(d)&&(fo(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=h);var _=s.filter(function(T){return la(T,b,0)!==0}).length,j=(y>=360?_:_-1)*c,S=y-_*v-j,C=s.reduce(function(T,M){var k=la(M,b,0);return T+(Ye(k)?k:0)},0),E;if(C>0){var P;E=s.map(function(T,M){var k=la(T,b,0),O=la(T,u,M),$=(Ye(k)?k:0)/C,F;M?F=P.endAngle+cs(g)*c*(k!==0?1:0):F=o;var B=F+cs(g)*((k!==0?v:0)+$*S),G=(F+B)/2,I=(x.innerRadius+x.outerRadius)/2,L=[{name:O,value:k,payload:T,dataKey:b,type:f}],U=dr(x.cx,x.cy,I,G);return P=lr(lr(lr({percent:$,cornerRadius:i,name:O,tooltipPayload:L,midAngle:G,middleRadius:I,tooltipPosition:U},T),x),{},{value:la(T,b),startAngle:F,endAngle:B,payload:T,paddingAngle:cs(g)*c}),P})}return lr(lr({},x),{},{sectors:E,data:s})});var pA,Oz;function W9e(){if(Oz)return pA;Oz=1;var t=Math.ceil,e=Math.max;function n(a,s,i,o){for(var l=-1,c=e(t((s-a)/(i||1)),0),d=Array(c);c--;)d[o?c:++l]=a,a+=i;return d}return pA=n,pA}var xA,Dz;function Ene(){if(Dz)return xA;Dz=1;var t=Xee(),e=1/0,n=17976931348623157e292;function a(s){if(!s)return s===0?s:0;if(s=t(s),s===e||s===-e){var i=s<0?-1:1;return i*n}return s===s?s:0}return xA=a,xA}var gA,Iz;function K9e(){if(Iz)return gA;Iz=1;var t=W9e(),e=j_(),n=Ene();function a(s){return function(i,o,l){return l&&typeof l!="number"&&e(i,o,l)&&(o=l=void 0),i=n(i),o===void 0?(o=i,i=0):o=n(o),l=l===void 0?i<o?1:-1:n(l),t(i,o,l,s)}}return gA=a,gA}var vA,Lz;function X9e(){if(Lz)return vA;Lz=1;var t=K9e(),e=t();return vA=e,vA}var Y9e=X9e();const Xw=In(Y9e);function ig(t){"@babel/helpers - typeof";return ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ig(t)}function Fz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function $z(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Fz(Object(n),!0).forEach(function(a){Ane(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fz(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function Ane(t,e,n){return e=Q9e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Q9e(t){var e=Z9e(t,"string");return ig(e)=="symbol"?e:e+""}function Z9e(t,e){if(ig(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,e);if(ig(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var J9e=["Webkit","Moz","O","ms"],e$e=function(e,n){var a=e.replace(/(\w)/,function(i){return i.toUpperCase()}),s=J9e.reduce(function(i,o){return $z($z({},i),{},Ane({},o+a,n))},{});return s[e]=n,s};function Bf(t){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bf(t)}function Yw(){return Yw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Yw.apply(this,arguments)}function Uz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function yA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Uz(Object(n),!0).forEach(function(a){Qs(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Uz(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function t$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bz(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,Pne(a.key),a)}}function n$e(t,e,n){return e&&Bz(t.prototype,e),n&&Bz(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function r$e(t,e,n){return e=Qw(e),a$e(t,Mne()?Reflect.construct(e,n||[],Qw(t).constructor):e.apply(t,n))}function a$e(t,e){if(e&&(Bf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s$e(t)}function s$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Mne=function(){return!!t})()}function Qw(t){return Qw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qw(t)}function i$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WT(t,e)}function WT(t,e){return WT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},WT(t,e)}function Qs(t,e,n){return e=Pne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pne(t){var e=o$e(t,"string");return Bf(e)=="symbol"?e:e+""}function o$e(t,e){if(Bf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,e);if(Bf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var l$e=function(e){var n=e.data,a=e.startIndex,s=e.endIndex,i=e.x,o=e.width,l=e.travellerWidth;if(!n||!n.length)return{};var c=n.length,d=ex().domain(Xw(0,c)).range([i,i+o-l]),u=d.domain().map(function(h){return d(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(a),endX:d(s),scale:d,scaleValues:u}},zz=function(e){return e.changedTouches&&!!e.changedTouches.length},zf=(function(t){function e(n){var a;return t$e(this,e),a=r$e(this,e,[n]),Qs(a,"handleDrag",function(s){a.leaveTimer&&(clearTimeout(a.leaveTimer),a.leaveTimer=null),a.state.isTravellerMoving?a.handleTravellerMove(s):a.state.isSlideMoving&&a.handleSlideDrag(s)}),Qs(a,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&a.handleDrag(s.changedTouches[0])}),Qs(a,"handleDragEnd",function(){a.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=a.props,i=s.endIndex,o=s.onDragEnd,l=s.startIndex;o==null||o({endIndex:i,startIndex:l})}),a.detachDragEndListener()}),Qs(a,"handleLeaveWrapper",function(){(a.state.isTravellerMoving||a.state.isSlideMoving)&&(a.leaveTimer=window.setTimeout(a.handleDragEnd,a.props.leaveTimeOut))}),Qs(a,"handleEnterSlideOrTraveller",function(){a.setState({isTextActive:!0})}),Qs(a,"handleLeaveSlideOrTraveller",function(){a.setState({isTextActive:!1})}),Qs(a,"handleSlideDragStart",function(s){var i=zz(s)?s.changedTouches[0]:s;a.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),a.attachDragEndListener()}),a.travellerDragStartHandlers={startX:a.handleTravellerDragStart.bind(a,"startX"),endX:a.handleTravellerDragStart.bind(a,"endX")},a.state={},a}return i$e(e,t),n$e(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(a){var s=a.startX,i=a.endX,o=this.state.scaleValues,l=this.props,c=l.gap,d=l.data,u=d.length-1,h=Math.min(s,i),f=Math.max(s,i),v=e.getIndexInRange(o,h),x=e.getIndexInRange(o,f);return{startIndex:v-v%c,endIndex:x===u?u:x-x%c}}},{key:"getTextOfTick",value:function(a){var s=this.props,i=s.data,o=s.tickFormatter,l=s.dataKey,c=la(i[a],l,a);return en(o)?o(c,a):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(a){var s=this.state,i=s.slideMoveStartX,o=s.startX,l=s.endX,c=this.props,d=c.x,u=c.width,h=c.travellerWidth,f=c.startIndex,v=c.endIndex,x=c.onChange,g=a.pageX-i;g>0?g=Math.min(g,d+u-h-l,d+u-h-o):g<0&&(g=Math.max(g,d-o,d-l));var y=this.getIndex({startX:o+g,endX:l+g});(y.startIndex!==f||y.endIndex!==v)&&x&&x(y),this.setState({startX:o+g,endX:l+g,slideMoveStartX:a.pageX})}},{key:"handleTravellerDragStart",value:function(a,s){var i=zz(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:a,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(a){var s=this.state,i=s.brushMoveStartX,o=s.movingTravellerId,l=s.endX,c=s.startX,d=this.state[o],u=this.props,h=u.x,f=u.width,v=u.travellerWidth,x=u.onChange,g=u.gap,y=u.data,b={startX:this.state.startX,endX:this.state.endX},_=a.pageX-i;_>0?_=Math.min(_,h+f-v-d):_<0&&(_=Math.max(_,h-d)),b[o]=d+_;var j=this.getIndex(b),S=j.startIndex,C=j.endIndex,E=function(){var T=y.length-1;return o==="startX"&&(l>c?S%g===0:C%g===0)||l<c&&C===T||o==="endX"&&(l>c?C%g===0:S%g===0)||l>c&&C===T};this.setState(Qs(Qs({},o,d+_),"brushMoveStartX",a.pageX),function(){x&&E()&&x(j)})}},{key:"handleTravellerMoveKeyboard",value:function(a,s){var i=this,o=this.state,l=o.scaleValues,c=o.startX,d=o.endX,u=this.state[s],h=l.indexOf(u);if(h!==-1){var f=h+a;if(!(f===-1||f>=l.length)){var v=l[f];s==="startX"&&v>=d||s==="endX"&&v<=c||this.setState(Qs({},s,v),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var a=this.props,s=a.x,i=a.y,o=a.width,l=a.height,c=a.fill,d=a.stroke;return ae.createElement("rect",{stroke:d,fill:c,x:s,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var a=this.props,s=a.x,i=a.y,o=a.width,l=a.height,c=a.data,d=a.children,u=a.padding,h=w.Children.only(d);return h?ae.cloneElement(h,{x:s,y:i,width:o,height:l,margin:u,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(a,s){var i,o,l=this,c=this.props,d=c.y,u=c.travellerWidth,h=c.height,f=c.traveller,v=c.ariaLabel,x=c.data,g=c.startIndex,y=c.endIndex,b=Math.max(a,this.props.x),_=yA(yA({},Bt(this.props,!1)),{},{x:b,y:d,width:u,height:h}),j=v||"Min value: ".concat((i=x[g])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=x[y])===null||o===void 0?void 0:o.name);return ae.createElement(An,{tabIndex:0,role:"slider","aria-label":j,"aria-valuenow":a,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(C){["ArrowLeft","ArrowRight"].includes(C.key)&&(C.preventDefault(),C.stopPropagation(),l.handleTravellerMoveKeyboard(C.key==="ArrowRight"?1:-1,s))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(f,_))}},{key:"renderSlide",value:function(a,s){var i=this.props,o=i.y,l=i.height,c=i.stroke,d=i.travellerWidth,u=Math.min(a,s)+d,h=Math.max(Math.abs(s-a)-d,0);return ae.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:u,y:o,width:h,height:l})}},{key:"renderText",value:function(){var a=this.props,s=a.startIndex,i=a.endIndex,o=a.y,l=a.height,c=a.travellerWidth,d=a.stroke,u=this.state,h=u.startX,f=u.endX,v=5,x={pointerEvents:"none",fill:d};return ae.createElement(An,{className:"recharts-brush-texts"},ae.createElement(nh,Yw({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,f)-v,y:o+l/2},x),this.getTextOfTick(s)),ae.createElement(nh,Yw({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,f)+c+v,y:o+l/2},x),this.getTextOfTick(i)))}},{key:"render",value:function(){var a=this.props,s=a.data,i=a.className,o=a.children,l=a.x,c=a.y,d=a.width,u=a.height,h=a.alwaysShowText,f=this.state,v=f.startX,x=f.endX,g=f.isTextActive,y=f.isSlideMoving,b=f.isTravellerMoving,_=f.isTravellerFocused;if(!s||!s.length||!Ye(l)||!Ye(c)||!Ye(d)||!Ye(u)||d<=0||u<=0)return null;var j=un("recharts-brush",i),S=ae.Children.count(o)===1,C=e$e("userSelect","none");return ae.createElement(An,{className:j,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:C},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(v,x),this.renderTravellerLayer(v,"startX"),this.renderTravellerLayer(x,"endX"),(g||y||b||_||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(a){var s=a.x,i=a.y,o=a.width,l=a.height,c=a.stroke,d=Math.floor(i+l/2)-1;return ae.createElement(ae.Fragment,null,ae.createElement("rect",{x:s,y:i,width:o,height:l,fill:c,stroke:"none"}),ae.createElement("line",{x1:s+1,y1:d,x2:s+o-1,y2:d,fill:"none",stroke:"#fff"}),ae.createElement("line",{x1:s+1,y1:d+2,x2:s+o-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(a,s){var i;return ae.isValidElement(a)?i=ae.cloneElement(a,s):en(a)?i=a(s):i=e.renderDefaultTraveller(s),i}},{key:"getDerivedStateFromProps",value:function(a,s){var i=a.data,o=a.width,l=a.x,c=a.travellerWidth,d=a.updateId,u=a.startIndex,h=a.endIndex;if(i!==s.prevData||d!==s.prevUpdateId)return yA({prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o},i&&i.length?l$e({data:i,width:o,x:l,travellerWidth:c,startIndex:u,endIndex:h}):{scale:null,scaleValues:null});if(s.scale&&(o!==s.prevWidth||l!==s.prevX||c!==s.prevTravellerWidth)){s.scale.range([l,l+o-c]);var f=s.scale.domain().map(function(v){return s.scale(v)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o,startX:s.scale(a.startIndex),endX:s.scale(a.endIndex),scaleValues:f}}return null}},{key:"getIndexInRange",value:function(a,s){for(var i=a.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);a[c]>s?l=c:o=c}return s>=a[l]?l:o}}])})(w.PureComponent);Qs(zf,"displayName","Brush");Qs(zf,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var bA,qz;function c$e(){if(qz)return bA;qz=1;var t=zk();function e(n,a){var s;return t(n,function(i,o,l){return s=a(i,o,l),!s}),!!s}return bA=e,bA}var wA,Vz;function d$e(){if(Vz)return wA;Vz=1;var t=Cee(),e=al(),n=c$e(),a=Bs(),s=j_();function i(o,l,c){var d=a(o)?t:n;return c&&s(o,l,c)&&(l=void 0),d(o,e(l,3))}return wA=i,wA}var u$e=d$e();const h$e=In(u$e);var Vo=function(e,n){var a=e.alwaysShow,s=e.ifOverflow;return a&&(s="extendDomain"),s===n},_A,Hz;function m$e(){if(Hz)return _A;Hz=1;var t=Vee();function e(n,a,s){a=="__proto__"&&t?t(n,a,{configurable:!0,enumerable:!0,value:s,writable:!0}):n[a]=s}return _A=e,_A}var jA,Gz;function f$e(){if(Gz)return jA;Gz=1;var t=m$e(),e=zee(),n=al();function a(s,i){var o={};return i=n(i,3),e(s,function(l,c,d){t(o,c,i(l,c,d))}),o}return jA=a,jA}var p$e=f$e();const x$e=In(p$e);var NA,Wz;function g$e(){if(Wz)return NA;Wz=1;function t(e,n){for(var a=-1,s=e==null?0:e.length;++a<s;)if(!n(e[a],a,e))return!1;return!0}return NA=t,NA}var SA,Kz;function v$e(){if(Kz)return SA;Kz=1;var t=zk();function e(n,a){var s=!0;return t(n,function(i,o,l){return s=!!a(i,o,l),s}),s}return SA=e,SA}var CA,Xz;function y$e(){if(Xz)return CA;Xz=1;var t=g$e(),e=v$e(),n=al(),a=Bs(),s=j_();function i(o,l,c){var d=a(o)?t:e;return c&&s(o,l,c)&&(l=void 0),d(o,n(l,3))}return CA=i,CA}var b$e=y$e();const Tne=In(b$e);var w$e=["x","y"];function og(t){"@babel/helpers - typeof";return og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},og(t)}function KT(){return KT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},KT.apply(this,arguments)}function Yz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function M0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Yz(Object(n),!0).forEach(function(a){_$e(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yz(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function _$e(t,e,n){return e=j$e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j$e(t){var e=N$e(t,"string");return og(e)=="symbol"?e:e+""}function N$e(t,e){if(og(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,e);if(og(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function S$e(t,e){if(t==null)return{};var n=C$e(t,e),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)a=i[s],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function C$e(t,e){if(t==null)return{};var n={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(e.indexOf(a)>=0)continue;n[a]=t[a]}return n}function E$e(t,e){var n=t.x,a=t.y,s=S$e(t,w$e),i="".concat(n),o=parseInt(i,10),l="".concat(a),c=parseInt(l,10),d="".concat(e.height||s.height),u=parseInt(d,10),h="".concat(e.width||s.width),f=parseInt(h,10);return M0(M0(M0(M0(M0({},e),s),o?{x:o}:{}),c?{y:c}:{}),{},{height:u,width:f,name:e.name,radius:e.radius})}function Qz(t){return ae.createElement(Nne,KT({shapeType:"rectangle",propTransformer:E$e,activeClassName:"recharts-active-bar"},t))}var A$e=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(a,s){if(typeof e=="number")return e;var i=Ye(a)||QTe(a);return i?e(a,s):(i||ah(),n)}},M$e=["value","background"],kne;function qf(t){"@babel/helpers - typeof";return qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qf(t)}function P$e(t,e){if(t==null)return{};var n=T$e(t,e),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)a=i[s],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function T$e(t,e){if(t==null)return{};var n={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(e.indexOf(a)>=0)continue;n[a]=t[a]}return n}function Zw(){return Zw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Zw.apply(this,arguments)}function Zz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function Xr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Zz(Object(n),!0).forEach(function(a){Zc(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zz(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function k$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jz(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,One(a.key),a)}}function R$e(t,e,n){return e&&Jz(t.prototype,e),n&&Jz(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function O$e(t,e,n){return e=Jw(e),D$e(t,Rne()?Reflect.construct(e,n||[],Jw(t).constructor):e.apply(t,n))}function D$e(t,e){if(e&&(qf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return I$e(t)}function I$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Rne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Rne=function(){return!!t})()}function Jw(t){return Jw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jw(t)}function L$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XT(t,e)}function XT(t,e){return XT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},XT(t,e)}function Zc(t,e,n){return e=One(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function One(t){var e=F$e(t,"string");return qf(e)=="symbol"?e:e+""}function F$e(t,e){if(qf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,e);if(qf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var pd=(function(t){function e(){var n;k$e(this,e);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=O$e(this,e,[].concat(s)),Zc(n,"state",{isAnimationFinished:!1}),Zc(n,"id",Cp("recharts-bar-")),Zc(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),Zc(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return L$e(e,t),R$e(e,[{key:"renderRectanglesStatically",value:function(a){var s=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,d=i.activeBar,u=Bt(this.props,!1);return a&&a.map(function(h,f){var v=f===c,x=v?d:o,g=Xr(Xr(Xr({},u),h),{},{isActive:v,option:x,index:f,dataKey:l,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return ae.createElement(An,Zw({className:"recharts-bar-rectangle"},th(s.props,h,f),{key:"rectangle-".concat(h==null?void 0:h.x,"-").concat(h==null?void 0:h.y,"-").concat(h==null?void 0:h.value,"-").concat(f)}),ae.createElement(Qz,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var a=this,s=this.props,i=s.data,o=s.layout,l=s.isAnimationActive,c=s.animationBegin,d=s.animationDuration,u=s.animationEasing,h=s.animationId,f=this.state.prevData;return ae.createElement(Jo,{begin:c,duration:d,isActive:l,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var x=v.t,g=i.map(function(y,b){var _=f&&f[b];if(_){var j=Ss(_.x,y.x),S=Ss(_.y,y.y),C=Ss(_.width,y.width),E=Ss(_.height,y.height);return Xr(Xr({},y),{},{x:j(x),y:S(x),width:C(x),height:E(x)})}if(o==="horizontal"){var P=Ss(0,y.height),T=P(x);return Xr(Xr({},y),{},{y:y.y+y.height-T,height:T})}var M=Ss(0,y.width),k=M(x);return Xr(Xr({},y),{},{width:k})});return ae.createElement(An,null,a.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var a=this.props,s=a.data,i=a.isAnimationActive,o=this.state.prevData;return i&&s&&s.length&&(!o||!Df(o,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var a=this,s=this.props,i=s.data,o=s.dataKey,l=s.activeIndex,c=Bt(this.props.background,!1);return i.map(function(d,u){d.value;var h=d.background,f=P$e(d,M$e);if(!h)return null;var v=Xr(Xr(Xr(Xr(Xr({},f),{},{fill:"#eee"},h),c),th(a.props,d,u)),{},{onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd,dataKey:o,index:u,className:"recharts-bar-background-rectangle"});return ae.createElement(Qz,Zw({key:"background-bar-".concat(u),option:a.props.background,isActive:u===l},v))})}},{key:"renderErrorBar",value:function(a,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,d=i.layout,u=i.children,h=Di(u,D_);if(!h)return null;var f=d==="vertical"?o[0].height/2:o[0].width/2,v=function(y,b){var _=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:_,errorVal:la(y,b)}},x={clipPath:a?"url(#clipPath-".concat(s,")"):null};return ae.createElement(An,x,h.map(function(g){return ae.cloneElement(g,{key:"error-bar-".concat(s,"-").concat(g.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,offset:f,dataPointFormatter:v})}))}},{key:"render",value:function(){var a=this.props,s=a.hide,i=a.data,o=a.className,l=a.xAxis,c=a.yAxis,d=a.left,u=a.top,h=a.width,f=a.height,v=a.isAnimationActive,x=a.background,g=a.id;if(s||!i||!i.length)return null;var y=this.state.isAnimationFinished,b=un("recharts-bar",o),_=l&&l.allowDataOverflow,j=c&&c.allowDataOverflow,S=_||j,C=hn(g)?this.id:g;return ae.createElement(An,{className:b},_||j?ae.createElement("defs",null,ae.createElement("clipPath",{id:"clipPath-".concat(C)},ae.createElement("rect",{x:_?d:d-h/2,y:j?u:u-f/2,width:_?h:h*2,height:j?f:f*2}))):null,ae.createElement(An,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(C,")"):null},x?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,C),(!v||y)&&zl.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(a,s){return a.animationId!==s.prevAnimationId?{prevAnimationId:a.animationId,curData:a.data,prevData:s.curData}:a.data!==s.curData?{curData:a.data}:null}}])})(w.PureComponent);kne=pd;Zc(pd,"displayName","Bar");Zc(pd,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!fh.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Zc(pd,"getComposedData",function(t){var e=t.props,n=t.item,a=t.barPosition,s=t.bandSize,i=t.xAxis,o=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,d=t.stackedData,u=t.dataStartIndex,h=t.displayedData,f=t.offset,v=h6e(a,n);if(!v)return null;var x=e.layout,g=n.type.defaultProps,y=g!==void 0?Xr(Xr({},g),n.props):n.props,b=y.dataKey,_=y.children,j=y.minPointSize,S=x==="horizontal"?o:i,C=d?S.scale.domain():null,E=y6e({numericAxis:S}),P=Di(_,N_),T=h.map(function(M,k){var O,$,F,B,G,I;d?O=m6e(d[u+k],C):(O=la(M,b),Array.isArray(O)||(O=[E,O]));var L=A$e(j,kne.defaultProps.minPointSize)(O[1],k);if(x==="horizontal"){var U,z=[o.scale(O[0]),o.scale(O[1])],K=z[0],V=z[1];$=NB({axis:i,ticks:l,bandSize:s,offset:v.offset,entry:M,index:k}),F=(U=V??K)!==null&&U!==void 0?U:void 0,B=v.size;var Y=K-V;if(G=Number.isNaN(Y)?0:Y,I={x:$,y:o.y,width:B,height:o.height},Math.abs(L)>0&&Math.abs(G)<Math.abs(L)){var ee=cs(G||L)*(Math.abs(L)-Math.abs(G));F-=ee,G+=ee}}else{var se=[i.scale(O[0]),i.scale(O[1])],pe=se[0],Pe=se[1];if($=pe,F=NB({axis:o,ticks:c,bandSize:s,offset:v.offset,entry:M,index:k}),B=Pe-pe,G=v.size,I={x:i.x,y:F,width:i.width,height:G},Math.abs(L)>0&&Math.abs(B)<Math.abs(L)){var xe=cs(B||L)*(Math.abs(L)-Math.abs(B));B+=xe}}return Xr(Xr(Xr({},M),{},{x:$,y:F,width:B,height:G,value:d?O:O[1],payload:M,background:I},P&&P[k]&&P[k].props),{},{tooltipPayload:[ine(n,M)],tooltipPosition:{x:$+B/2,y:F+G/2}})});return Xr({data:T,layout:x},f)});function lg(t){"@babel/helpers - typeof";return lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lg(t)}function $$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eq(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,Dne(a.key),a)}}function U$e(t,e,n){return e&&eq(t.prototype,e),n&&eq(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function tq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function ao(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tq(Object(n),!0).forEach(function(a){q_(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tq(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function q_(t,e,n){return e=Dne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dne(t){var e=B$e(t,"string");return lg(e)=="symbol"?e:e+""}function B$e(t,e){if(lg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,e);if(lg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ine=function(e,n,a,s,i){var o=e.width,l=e.height,c=e.layout,d=e.children,u=Object.keys(n),h={left:a.left,leftMirror:a.left,right:o-a.right,rightMirror:o-a.right,top:a.top,topMirror:a.top,bottom:l-a.bottom,bottomMirror:l-a.bottom},f=!!Zs(d,pd);return u.reduce(function(v,x){var g=n[x],y=g.orientation,b=g.domain,_=g.padding,j=_===void 0?{}:_,S=g.mirror,C=g.reversed,E="".concat(y).concat(S?"Mirror":""),P,T,M,k,O;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var $=b[1]-b[0],F=1/0,B=g.categoricalDomain.sort(e3e);if(B.forEach(function(se,pe){pe>0&&(F=Math.min((se||0)-(B[pe-1]||0),F))}),Number.isFinite(F)){var G=F/$,I=g.layout==="vertical"?a.height:a.width;if(g.padding==="gap"&&(P=G*I/2),g.padding==="no-gap"){var L=ds(e.barCategoryGap,G*I),U=G*I/2;P=U-L-(U-L)/I*L}}}s==="xAxis"?T=[a.left+(j.left||0)+(P||0),a.left+a.width-(j.right||0)-(P||0)]:s==="yAxis"?T=c==="horizontal"?[a.top+a.height-(j.bottom||0),a.top+(j.top||0)]:[a.top+(j.top||0)+(P||0),a.top+a.height-(j.bottom||0)-(P||0)]:T=g.range,C&&(T=[T[1],T[0]]);var z=nne(g,i,f),K=z.scale,V=z.realScaleType;K.domain(b).range(T),rne(K);var Y=ane(K,ao(ao({},g),{},{realScaleType:V}));s==="xAxis"?(O=y==="top"&&!S||y==="bottom"&&S,M=a.left,k=h[E]-O*g.height):s==="yAxis"&&(O=y==="left"&&!S||y==="right"&&S,M=h[E]-O*g.width,k=a.top);var ee=ao(ao(ao({},g),Y),{},{realScaleType:V,x:M,y:k,scale:K,width:s==="xAxis"?a.width:g.width,height:s==="yAxis"?a.height:g.height});return ee.bandSize=Lw(ee,Y),!g.hide&&s==="xAxis"?h[E]+=(O?-1:1)*ee.height:g.hide||(h[E]+=(O?-1:1)*ee.width),ao(ao({},v),{},q_({},x,ee))},{})},Lne=function(e,n){var a=e.x,s=e.y,i=n.x,o=n.y;return{x:Math.min(a,i),y:Math.min(s,o),width:Math.abs(i-a),height:Math.abs(o-s)}},z$e=function(e){var n=e.x1,a=e.y1,s=e.x2,i=e.y2;return Lne({x:n,y:a},{x:s,y:i})},Fne=(function(){function t(e){$$e(this,t),this.scale=e}return U$e(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,i=a.position;if(n!==void 0){if(i)switch(i){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(s){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var a=this.range(),s=a[0],i=a[a.length-1];return s<=i?n>=s&&n<=i:n>=i&&n<=s}}],[{key:"create",value:function(n){return new t(n)}}])})();q_(Fne,"EPS",1e-4);var gR=function(e){var n=Object.keys(e).reduce(function(a,s){return ao(ao({},a),{},q_({},s,Fne.create(e[s])))},{});return ao(ao({},n),{},{apply:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return x$e(s,function(c,d){return n[d].apply(c,{bandAware:o,position:l})})},isInRange:function(s){return Tne(s,function(i,o){return n[o].isInRange(i)})}})};function q$e(t){return(t%180+180)%180}var V$e=function(e){var n=e.width,a=e.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=q$e(s),o=i*Math.PI/180,l=Math.atan(a/n),c=o>l&&o<Math.PI-l?a/Math.sin(o):n/Math.cos(o);return Math.abs(c)},EA,nq;function H$e(){if(nq)return EA;nq=1;var t=al(),e=Bg(),n=w_();function a(s){return function(i,o,l){var c=Object(i);if(!e(i)){var d=t(o,3);i=n(i),o=function(h){return d(c[h],h,c)}}var u=s(i,o,l);return u>-1?c[d?i[u]:u]:void 0}}return EA=a,EA}var AA,rq;function G$e(){if(rq)return AA;rq=1;var t=Ene();function e(n){var a=t(n),s=a%1;return a===a?s?a-s:a:0}return AA=e,AA}var MA,aq;function W$e(){if(aq)return MA;aq=1;var t=Lee(),e=al(),n=G$e(),a=Math.max;function s(i,o,l){var c=i==null?0:i.length;if(!c)return-1;var d=l==null?0:n(l);return d<0&&(d=a(c+d,0)),t(i,e(o,3),d)}return MA=s,MA}var PA,sq;function K$e(){if(sq)return PA;sq=1;var t=H$e(),e=W$e(),n=t(e);return PA=n,PA}var X$e=K$e();const Y$e=In(X$e);var Q$e=JJ();const Z$e=In(Q$e);var J$e=Z$e(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),vR=w.createContext(void 0),yR=w.createContext(void 0),$ne=w.createContext(void 0),Une=w.createContext({}),Bne=w.createContext(void 0),zne=w.createContext(0),qne=w.createContext(0),iq=function(e){var n=e.state,a=n.xAxisMap,s=n.yAxisMap,i=n.offset,o=e.clipPathId,l=e.children,c=e.width,d=e.height,u=J$e(i);return ae.createElement(vR.Provider,{value:a},ae.createElement(yR.Provider,{value:s},ae.createElement(Une.Provider,{value:i},ae.createElement($ne.Provider,{value:u},ae.createElement(Bne.Provider,{value:o},ae.createElement(zne.Provider,{value:d},ae.createElement(qne.Provider,{value:c},l)))))))},eUe=function(){return w.useContext(Bne)},Vne=function(e){var n=w.useContext(vR);n==null&&ah();var a=n[e];return a==null&&ah(),a},tUe=function(){var e=w.useContext(vR);return Bc(e)},nUe=function(){var e=w.useContext(yR),n=Y$e(e,function(a){return Tne(a.domain,Number.isFinite)});return n||Bc(e)},Hne=function(e){var n=w.useContext(yR);n==null&&ah();var a=n[e];return a==null&&ah(),a},rUe=function(){var e=w.useContext($ne);return e},aUe=function(){return w.useContext(Une)},bR=function(){return w.useContext(qne)},wR=function(){return w.useContext(zne)};function Vf(t){"@babel/helpers - typeof";return Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vf(t)}function sUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iUe(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,Wne(a.key),a)}}function oUe(t,e,n){return e&&iUe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function lUe(t,e,n){return e=e1(e),cUe(t,Gne()?Reflect.construct(e,n||[],e1(t).constructor):e.apply(t,n))}function cUe(t,e){if(e&&(Vf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dUe(t)}function dUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Gne=function(){return!!t})()}function e1(t){return e1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},e1(t)}function uUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&YT(t,e)}function YT(t,e){return YT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},YT(t,e)}function oq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function lq(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oq(Object(n),!0).forEach(function(a){_R(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oq(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function _R(t,e,n){return e=Wne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wne(t){var e=hUe(t,"string");return Vf(e)=="symbol"?e:e+""}function hUe(t,e){if(Vf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,e);if(Vf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function mUe(t,e){return gUe(t)||xUe(t,e)||pUe(t,e)||fUe()}function fUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pUe(t,e){if(t){if(typeof t=="string")return cq(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cq(t,e)}}function cq(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function xUe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var a,s,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(a=i.call(n)).done)&&(l.push(a.value),l.length!==e);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function gUe(t){if(Array.isArray(t))return t}function QT(){return QT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},QT.apply(this,arguments)}var vUe=function(e,n){var a;return ae.isValidElement(e)?a=ae.cloneElement(e,n):en(e)?a=e(n):a=ae.createElement("line",QT({},n,{className:"recharts-reference-line-line"})),a},yUe=function(e,n,a,s,i,o,l,c,d){var u=i.x,h=i.y,f=i.width,v=i.height;if(a){var x=d.y,g=e.y.apply(x,{position:o});if(Vo(d,"discard")&&!e.y.isInRange(g))return null;var y=[{x:u+f,y:g},{x:u,y:g}];return c==="left"?y.reverse():y}if(n){var b=d.x,_=e.x.apply(b,{position:o});if(Vo(d,"discard")&&!e.x.isInRange(_))return null;var j=[{x:_,y:h+v},{x:_,y:h}];return l==="top"?j.reverse():j}if(s){var S=d.segment,C=S.map(function(E){return e.apply(E,{position:o})});return Vo(d,"discard")&&h$e(C,function(E){return!e.isInRange(E)})?null:C}return null};function bUe(t){var e=t.x,n=t.y,a=t.segment,s=t.xAxisId,i=t.yAxisId,o=t.shape,l=t.className,c=t.alwaysShow,d=eUe(),u=Vne(s),h=Hne(i),f=rUe();if(!d||!f)return null;fo(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var v=gR({x:u.scale,y:h.scale}),x=ca(e),g=ca(n),y=a&&a.length===2,b=yUe(v,x,g,y,f,t.position,u.orientation,h.orientation,t);if(!b)return null;var _=mUe(b,2),j=_[0],S=j.x,C=j.y,E=_[1],P=E.x,T=E.y,M=Vo(t,"hidden")?"url(#".concat(d,")"):void 0,k=lq(lq({clipPath:M},Bt(t,!0)),{},{x1:S,y1:C,x2:P,y2:T});return ae.createElement(An,{className:un("recharts-reference-line",l)},vUe(o,k),Na.renderCallByParent(t,z$e({x1:S,y1:C,x2:P,y2:T})))}var jR=(function(t){function e(){return sUe(this,e),lUe(this,e,arguments)}return uUe(e,t),oUe(e,[{key:"render",value:function(){return ae.createElement(bUe,this.props)}}])})(ae.Component);_R(jR,"displayName","ReferenceLine");_R(jR,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function ZT(){return ZT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},ZT.apply(this,arguments)}function Hf(t){"@babel/helpers - typeof";return Hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hf(t)}function dq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function uq(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dq(Object(n),!0).forEach(function(a){V_(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dq(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function wUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _Ue(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,Xne(a.key),a)}}function jUe(t,e,n){return e&&_Ue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function NUe(t,e,n){return e=t1(e),SUe(t,Kne()?Reflect.construct(e,n||[],t1(t).constructor):e.apply(t,n))}function SUe(t,e){if(e&&(Hf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CUe(t)}function CUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Kne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Kne=function(){return!!t})()}function t1(t){return t1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},t1(t)}function EUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&JT(t,e)}function JT(t,e){return JT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},JT(t,e)}function V_(t,e,n){return e=Xne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xne(t){var e=AUe(t,"string");return Hf(e)=="symbol"?e:e+""}function AUe(t,e){if(Hf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,e);if(Hf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var MUe=function(e){var n=e.x,a=e.y,s=e.xAxis,i=e.yAxis,o=gR({x:s.scale,y:i.scale}),l=o.apply({x:n,y:a},{bandAware:!0});return Vo(e,"discard")&&!o.isInRange(l)?null:l},H_=(function(t){function e(){return wUe(this,e),NUe(this,e,arguments)}return EUe(e,t),jUe(e,[{key:"render",value:function(){var a=this.props,s=a.x,i=a.y,o=a.r,l=a.alwaysShow,c=a.clipPathId,d=ca(s),u=ca(i);if(fo(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!u)return null;var h=MUe(this.props);if(!h)return null;var f=h.x,v=h.y,x=this.props,g=x.shape,y=x.className,b=Vo(this.props,"hidden")?"url(#".concat(c,")"):void 0,_=uq(uq({clipPath:b},Bt(this.props,!0)),{},{cx:f,cy:v});return ae.createElement(An,{className:un("recharts-reference-dot",y)},e.renderDot(g,_),Na.renderCallByParent(this.props,{x:f-o,y:v-o,width:2*o,height:2*o}))}}])})(ae.Component);V_(H_,"displayName","ReferenceDot");V_(H_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});V_(H_,"renderDot",function(t,e){var n;return ae.isValidElement(t)?n=ae.cloneElement(t,e):en(t)?n=t(e):n=ae.createElement(I_,ZT({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function e3(){return e3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},e3.apply(this,arguments)}function Gf(t){"@babel/helpers - typeof";return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gf(t)}function hq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function mq(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hq(Object(n),!0).forEach(function(a){G_(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hq(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function PUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TUe(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,Qne(a.key),a)}}function kUe(t,e,n){return e&&TUe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function RUe(t,e,n){return e=n1(e),OUe(t,Yne()?Reflect.construct(e,n||[],n1(t).constructor):e.apply(t,n))}function OUe(t,e){if(e&&(Gf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DUe(t)}function DUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Yne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Yne=function(){return!!t})()}function n1(t){return n1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},n1(t)}function IUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&t3(t,e)}function t3(t,e){return t3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},t3(t,e)}function G_(t,e,n){return e=Qne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qne(t){var e=LUe(t,"string");return Gf(e)=="symbol"?e:e+""}function LUe(t,e){if(Gf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,e);if(Gf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var FUe=function(e,n,a,s,i){var o=i.x1,l=i.x2,c=i.y1,d=i.y2,u=i.xAxis,h=i.yAxis;if(!u||!h)return null;var f=gR({x:u.scale,y:h.scale}),v={x:e?f.x.apply(o,{position:"start"}):f.x.rangeMin,y:a?f.y.apply(c,{position:"start"}):f.y.rangeMin},x={x:n?f.x.apply(l,{position:"end"}):f.x.rangeMax,y:s?f.y.apply(d,{position:"end"}):f.y.rangeMax};return Vo(i,"discard")&&(!f.isInRange(v)||!f.isInRange(x))?null:Lne(v,x)},W_=(function(t){function e(){return PUe(this,e),RUe(this,e,arguments)}return IUe(e,t),kUe(e,[{key:"render",value:function(){var a=this.props,s=a.x1,i=a.x2,o=a.y1,l=a.y2,c=a.className,d=a.alwaysShow,u=a.clipPathId;fo(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=ca(s),f=ca(i),v=ca(o),x=ca(l),g=this.props.shape;if(!h&&!f&&!v&&!x&&!g)return null;var y=FUe(h,f,v,x,this.props);if(!y&&!g)return null;var b=Vo(this.props,"hidden")?"url(#".concat(u,")"):void 0;return ae.createElement(An,{className:un("recharts-reference-area",c)},e.renderRect(g,mq(mq({clipPath:b},Bt(this.props,!0)),y)),Na.renderCallByParent(this.props,y))}}])})(ae.Component);G_(W_,"displayName","ReferenceArea");G_(W_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});G_(W_,"renderRect",function(t,e){var n;return ae.isValidElement(t)?n=ae.cloneElement(t,e):en(t)?n=t(e):n=ae.createElement(xR,e3({},e,{className:"recharts-reference-area-rect"})),n});function Zne(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var a=[],s=0;s<t.length;s+=e)a.push(t[s]);return a}function $Ue(t,e,n){var a={width:t.width+e.width,height:t.height+e.height};return V$e(a,n)}function UUe(t,e,n){var a=n==="width",s=t.x,i=t.y,o=t.width,l=t.height;return e===1?{start:a?s:i,end:a?s+o:i+l}:{start:a?s+o:i+l,end:a?s:i}}function r1(t,e,n,a,s){if(t*e<t*a||t*e>t*s)return!1;var i=n();return t*(e-t*i/2-a)>=0&&t*(e+t*i/2-s)<=0}function BUe(t,e){return Zne(t,e+1)}function zUe(t,e,n,a,s){for(var i=(a||[]).slice(),o=e.start,l=e.end,c=0,d=1,u=o,h=function(){var x=a==null?void 0:a[c];if(x===void 0)return{v:Zne(a,d)};var g=c,y,b=function(){return y===void 0&&(y=n(x,g)),y},_=x.coordinate,j=c===0||r1(t,_,b,u,l);j||(c=0,u=o,d+=1),j&&(u=_+t*(b()/2+s),c+=d)},f;d<=i.length;)if(f=h(),f)return f.v;return[]}function cg(t){"@babel/helpers - typeof";return cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cg(t)}function fq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function Ga(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fq(Object(n),!0).forEach(function(a){qUe(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fq(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function qUe(t,e,n){return e=VUe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VUe(t){var e=HUe(t,"string");return cg(e)=="symbol"?e:e+""}function HUe(t,e){if(cg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,e);if(cg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function GUe(t,e,n,a,s){for(var i=(a||[]).slice(),o=i.length,l=e.start,c=e.end,d=function(f){var v=i[f],x,g=function(){return x===void 0&&(x=n(v,f)),x};if(f===o-1){var y=t*(v.coordinate+t*g()/2-c);i[f]=v=Ga(Ga({},v),{},{tickCoord:y>0?v.coordinate-y*t:v.coordinate})}else i[f]=v=Ga(Ga({},v),{},{tickCoord:v.coordinate});var b=r1(t,v.tickCoord,g,l,c);b&&(c=v.tickCoord-t*(g()/2+s),i[f]=Ga(Ga({},v),{},{isShow:!0}))},u=o-1;u>=0;u--)d(u);return i}function WUe(t,e,n,a,s,i){var o=(a||[]).slice(),l=o.length,c=e.start,d=e.end;if(i){var u=a[l-1],h=n(u,l-1),f=t*(u.coordinate+t*h/2-d);o[l-1]=u=Ga(Ga({},u),{},{tickCoord:f>0?u.coordinate-f*t:u.coordinate});var v=r1(t,u.tickCoord,function(){return h},c,d);v&&(d=u.tickCoord-t*(h/2+s),o[l-1]=Ga(Ga({},u),{},{isShow:!0}))}for(var x=i?l-1:l,g=function(_){var j=o[_],S,C=function(){return S===void 0&&(S=n(j,_)),S};if(_===0){var E=t*(j.coordinate-t*C()/2-c);o[_]=j=Ga(Ga({},j),{},{tickCoord:E<0?j.coordinate-E*t:j.coordinate})}else o[_]=j=Ga(Ga({},j),{},{tickCoord:j.coordinate});var P=r1(t,j.tickCoord,C,c,d);P&&(c=j.tickCoord+t*(C()/2+s),o[_]=Ga(Ga({},j),{},{isShow:!0}))},y=0;y<x;y++)g(y);return o}function NR(t,e,n){var a=t.tick,s=t.ticks,i=t.viewBox,o=t.minTickGap,l=t.orientation,c=t.interval,d=t.tickFormatter,u=t.unit,h=t.angle;if(!s||!s.length||!a)return[];if(Ye(c)||fh.isSsr)return BUe(s,typeof c=="number"&&Ye(c)?c:0);var f=[],v=l==="top"||l==="bottom"?"width":"height",x=u&&v==="width"?J0(u,{fontSize:e,letterSpacing:n}):{width:0,height:0},g=function(j,S){var C=en(d)?d(j.value,S):j.value;return v==="width"?$Ue(J0(C,{fontSize:e,letterSpacing:n}),x,h):J0(C,{fontSize:e,letterSpacing:n})[v]},y=s.length>=2?cs(s[1].coordinate-s[0].coordinate):1,b=UUe(i,y,v);return c==="equidistantPreserveStart"?zUe(y,b,g,s,o):(c==="preserveStart"||c==="preserveStartEnd"?f=WUe(y,b,g,s,o,c==="preserveStartEnd"):f=GUe(y,b,g,s,o),f.filter(function(_){return _.isShow}))}var KUe=["viewBox"],XUe=["viewBox"],YUe=["ticks"];function Wf(t){"@babel/helpers - typeof";return Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wf(t)}function km(){return km=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},km.apply(this,arguments)}function pq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function ra(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pq(Object(n),!0).forEach(function(a){SR(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pq(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function TA(t,e){if(t==null)return{};var n=QUe(t,e),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)a=i[s],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function QUe(t,e){if(t==null)return{};var n={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(e.indexOf(a)>=0)continue;n[a]=t[a]}return n}function ZUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xq(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,ere(a.key),a)}}function JUe(t,e,n){return e&&xq(t.prototype,e),n&&xq(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function eBe(t,e,n){return e=a1(e),tBe(t,Jne()?Reflect.construct(e,n||[],a1(t).constructor):e.apply(t,n))}function tBe(t,e){if(e&&(Wf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nBe(t)}function nBe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Jne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Jne=function(){return!!t})()}function a1(t){return a1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},a1(t)}function rBe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&n3(t,e)}function n3(t,e){return n3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},n3(t,e)}function SR(t,e,n){return e=ere(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ere(t){var e=aBe(t,"string");return Wf(e)=="symbol"?e:e+""}function aBe(t,e){if(Wf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,e);if(Wf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Tp=(function(t){function e(n){var a;return ZUe(this,e),a=eBe(this,e,[n]),a.state={fontSize:"",letterSpacing:""},a}return rBe(e,t),JUe(e,[{key:"shouldComponentUpdate",value:function(a,s){var i=a.viewBox,o=TA(a,KUe),l=this.props,c=l.viewBox,d=TA(l,XUe);return!Gm(i,c)||!Gm(o,d)||!Gm(s,this.state)}},{key:"componentDidMount",value:function(){var a=this.layerReference;if(a){var s=a.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(a){var s=this.props,i=s.x,o=s.y,l=s.width,c=s.height,d=s.orientation,u=s.tickSize,h=s.mirror,f=s.tickMargin,v,x,g,y,b,_,j=h?-1:1,S=a.tickSize||u,C=Ye(a.tickCoord)?a.tickCoord:a.coordinate;switch(d){case"top":v=x=a.coordinate,y=o+ +!h*c,g=y-j*S,_=g-j*f,b=C;break;case"left":g=y=a.coordinate,x=i+ +!h*l,v=x-j*S,b=v-j*f,_=C;break;case"right":g=y=a.coordinate,x=i+ +h*l,v=x+j*S,b=v+j*f,_=C;break;default:v=x=a.coordinate,y=o+ +h*c,g=y+j*S,_=g+j*f,b=C;break}return{line:{x1:v,y1:g,x2:x,y2:y},tick:{x:b,y:_}}}},{key:"getTickTextAnchor",value:function(){var a=this.props,s=a.orientation,i=a.mirror,o;switch(s){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var a=this.props,s=a.orientation,i=a.mirror,o="end";switch(s){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var a=this.props,s=a.x,i=a.y,o=a.width,l=a.height,c=a.orientation,d=a.mirror,u=a.axisLine,h=ra(ra(ra({},Bt(this.props,!1)),Bt(u,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var f=+(c==="top"&&!d||c==="bottom"&&d);h=ra(ra({},h),{},{x1:s,y1:i+f*l,x2:s+o,y2:i+f*l})}else{var v=+(c==="left"&&!d||c==="right"&&d);h=ra(ra({},h),{},{x1:s+v*o,y1:i,x2:s+v*o,y2:i+l})}return ae.createElement("line",km({},h,{className:un("recharts-cartesian-axis-line",oi(u,"className"))}))}},{key:"renderTicks",value:function(a,s,i){var o=this,l=this.props,c=l.tickLine,d=l.stroke,u=l.tick,h=l.tickFormatter,f=l.unit,v=NR(ra(ra({},this.props),{},{ticks:a}),s,i),x=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),y=Bt(this.props,!1),b=Bt(u,!1),_=ra(ra({},y),{},{fill:"none"},Bt(c,!1)),j=v.map(function(S,C){var E=o.getTickLineCoord(S),P=E.line,T=E.tick,M=ra(ra(ra(ra({textAnchor:x,verticalAnchor:g},y),{},{stroke:"none",fill:d},b),T),{},{index:C,payload:S,visibleTicksCount:v.length,tickFormatter:h});return ae.createElement(An,km({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},th(o.props,S,C)),c&&ae.createElement("line",km({},_,P,{className:un("recharts-cartesian-axis-tick-line",oi(c,"className"))})),u&&e.renderTickItem(u,M,"".concat(en(h)?h(S.value,C):S.value).concat(f||"")))});return ae.createElement("g",{className:"recharts-cartesian-axis-ticks"},j)}},{key:"render",value:function(){var a=this,s=this.props,i=s.axisLine,o=s.width,l=s.height,c=s.ticksGenerator,d=s.className,u=s.hide;if(u)return null;var h=this.props,f=h.ticks,v=TA(h,YUe),x=f;return en(c)&&(x=f&&f.length>0?c(this.props):c(v)),o<=0||l<=0||!x||!x.length?null:ae.createElement(An,{className:un("recharts-cartesian-axis",d),ref:function(y){a.layerReference=y}},i&&this.renderAxisLine(),this.renderTicks(x,this.state.fontSize,this.state.letterSpacing),Na.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(a,s,i){var o,l=un(s.className,"recharts-cartesian-axis-tick-value");return ae.isValidElement(a)?o=ae.cloneElement(a,ra(ra({},s),{},{className:l})):en(a)?o=a(ra(ra({},s),{},{className:l})):o=ae.createElement(nh,km({},s,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])})(w.Component);SR(Tp,"displayName","CartesianAxis");SR(Tp,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var sBe=["x1","y1","x2","y2","key"],iBe=["offset"];function sh(t){"@babel/helpers - typeof";return sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sh(t)}function gq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function Wa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gq(Object(n),!0).forEach(function(a){oBe(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gq(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function oBe(t,e,n){return e=lBe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lBe(t){var e=cBe(t,"string");return sh(e)=="symbol"?e:e+""}function cBe(t,e){if(sh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,e);if(sh(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ju(){return ju=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},ju.apply(this,arguments)}function vq(t,e){if(t==null)return{};var n=dBe(t,e),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)a=i[s],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function dBe(t,e){if(t==null)return{};var n={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(e.indexOf(a)>=0)continue;n[a]=t[a]}return n}var uBe=function(e){var n=e.fill;if(!n||n==="none")return null;var a=e.fillOpacity,s=e.x,i=e.y,o=e.width,l=e.height,c=e.ry;return ae.createElement("rect",{x:s,y:i,ry:c,width:o,height:l,stroke:"none",fill:n,fillOpacity:a,className:"recharts-cartesian-grid-bg"})};function tre(t,e){var n;if(ae.isValidElement(t))n=ae.cloneElement(t,e);else if(en(t))n=t(e);else{var a=e.x1,s=e.y1,i=e.x2,o=e.y2,l=e.key,c=vq(e,sBe),d=Bt(c,!1);d.offset;var u=vq(d,iBe);n=ae.createElement("line",ju({},u,{x1:a,y1:s,x2:i,y2:o,fill:"none",key:l}))}return n}function hBe(t){var e=t.x,n=t.width,a=t.horizontal,s=a===void 0?!0:a,i=t.horizontalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var d=Wa(Wa({},t),{},{x1:e,y1:l,x2:e+n,y2:l,key:"line-".concat(c),index:c});return tre(s,d)});return ae.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function mBe(t){var e=t.y,n=t.height,a=t.vertical,s=a===void 0?!0:a,i=t.verticalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var d=Wa(Wa({},t),{},{x1:l,y1:e,x2:l,y2:e+n,key:"line-".concat(c),index:c});return tre(s,d)});return ae.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function fBe(t){var e=t.horizontalFill,n=t.fillOpacity,a=t.x,s=t.y,i=t.width,o=t.height,l=t.horizontalPoints,c=t.horizontal,d=c===void 0?!0:c;if(!d||!e||!e.length)return null;var u=l.map(function(f){return Math.round(f+s-s)}).sort(function(f,v){return f-v});s!==u[0]&&u.unshift(0);var h=u.map(function(f,v){var x=!u[v+1],g=x?s+o-f:u[v+1]-f;if(g<=0)return null;var y=v%e.length;return ae.createElement("rect",{key:"react-".concat(v),y:f,x:a,height:g,width:i,stroke:"none",fill:e[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return ae.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function pBe(t){var e=t.vertical,n=e===void 0?!0:e,a=t.verticalFill,s=t.fillOpacity,i=t.x,o=t.y,l=t.width,c=t.height,d=t.verticalPoints;if(!n||!a||!a.length)return null;var u=d.map(function(f){return Math.round(f+i-i)}).sort(function(f,v){return f-v});i!==u[0]&&u.unshift(0);var h=u.map(function(f,v){var x=!u[v+1],g=x?i+l-f:u[v+1]-f;if(g<=0)return null;var y=v%a.length;return ae.createElement("rect",{key:"react-".concat(v),x:f,y:o,width:g,height:c,stroke:"none",fill:a[y],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return ae.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var xBe=function(e,n){var a=e.xAxis,s=e.width,i=e.height,o=e.offset;return tne(NR(Wa(Wa(Wa({},Tp.defaultProps),a),{},{ticks:Ol(a,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.left,o.left+o.width,n)},gBe=function(e,n){var a=e.yAxis,s=e.width,i=e.height,o=e.offset;return tne(NR(Wa(Wa(Wa({},Tp.defaultProps),a),{},{ticks:Ol(a,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.top,o.top+o.height,n)},rm={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function s1(t){var e,n,a,s,i,o,l=bR(),c=wR(),d=aUe(),u=Wa(Wa({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:rm.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:rm.fill,horizontal:(a=t.horizontal)!==null&&a!==void 0?a:rm.horizontal,horizontalFill:(s=t.horizontalFill)!==null&&s!==void 0?s:rm.horizontalFill,vertical:(i=t.vertical)!==null&&i!==void 0?i:rm.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:rm.verticalFill,x:Ye(t.x)?t.x:d.left,y:Ye(t.y)?t.y:d.top,width:Ye(t.width)?t.width:d.width,height:Ye(t.height)?t.height:d.height}),h=u.x,f=u.y,v=u.width,x=u.height,g=u.syncWithTicks,y=u.horizontalValues,b=u.verticalValues,_=tUe(),j=nUe();if(!Ye(v)||v<=0||!Ye(x)||x<=0||!Ye(h)||h!==+h||!Ye(f)||f!==+f)return null;var S=u.verticalCoordinatesGenerator||xBe,C=u.horizontalCoordinatesGenerator||gBe,E=u.horizontalPoints,P=u.verticalPoints;if((!E||!E.length)&&en(C)){var T=y&&y.length,M=C({yAxis:j?Wa(Wa({},j),{},{ticks:T?y:j.ticks}):void 0,width:l,height:c,offset:d},T?!0:g);fo(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(sh(M),"]")),Array.isArray(M)&&(E=M)}if((!P||!P.length)&&en(S)){var k=b&&b.length,O=S({xAxis:_?Wa(Wa({},_),{},{ticks:k?b:_.ticks}):void 0,width:l,height:c,offset:d},k?!0:g);fo(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(sh(O),"]")),Array.isArray(O)&&(P=O)}return ae.createElement("g",{className:"recharts-cartesian-grid"},ae.createElement(uBe,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),ae.createElement(hBe,ju({},u,{offset:d,horizontalPoints:E,xAxis:_,yAxis:j})),ae.createElement(mBe,ju({},u,{offset:d,verticalPoints:P,xAxis:_,yAxis:j})),ae.createElement(fBe,ju({},u,{horizontalPoints:E})),ae.createElement(pBe,ju({},u,{verticalPoints:P})))}s1.displayName="CartesianGrid";var vBe=["layout","type","stroke","connectNulls","isRange","ref"],yBe=["key"],nre;function Kf(t){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kf(t)}function rre(t,e){if(t==null)return{};var n=bBe(t,e),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)a=i[s],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function bBe(t,e){if(t==null)return{};var n={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(e.indexOf(a)>=0)continue;n[a]=t[a]}return n}function Nu(){return Nu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Nu.apply(this,arguments)}function yq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function Lc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yq(Object(n),!0).forEach(function(a){Fo(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yq(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function wBe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bq(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,sre(a.key),a)}}function _Be(t,e,n){return e&&bq(t.prototype,e),n&&bq(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function jBe(t,e,n){return e=i1(e),NBe(t,are()?Reflect.construct(e,n||[],i1(t).constructor):e.apply(t,n))}function NBe(t,e){if(e&&(Kf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SBe(t)}function SBe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function are(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(are=function(){return!!t})()}function i1(t){return i1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},i1(t)}function CBe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r3(t,e)}function r3(t,e){return r3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},r3(t,e)}function Fo(t,e,n){return e=sre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sre(t){var e=EBe(t,"string");return Kf(e)=="symbol"?e:e+""}function EBe(t,e){if(Kf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,e);if(Kf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ed=(function(t){function e(){var n;wBe(this,e);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=jBe(this,e,[].concat(s)),Fo(n,"state",{isAnimationFinished:!0}),Fo(n,"id",Cp("recharts-area-")),Fo(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),en(o)&&o()}),Fo(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),en(o)&&o()}),n}return CBe(e,t),_Be(e,[{key:"renderDots",value:function(a,s,i){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,d=c.dot,u=c.points,h=c.dataKey,f=Bt(this.props,!1),v=Bt(d,!0),x=u.map(function(y,b){var _=Lc(Lc(Lc({key:"dot-".concat(b),r:3},f),v),{},{index:b,cx:y.x,cy:y.y,dataKey:h,value:y.value,payload:y.payload,points:u});return e.renderDotItem(d,_)}),g={clipPath:a?"url(#clipPath-".concat(s?"":"dots-").concat(i,")"):null};return ae.createElement(An,Nu({className:"recharts-area-dots"},g),x)}},{key:"renderHorizontalRect",value:function(a){var s=this.props,i=s.baseLine,o=s.points,l=s.strokeWidth,c=o[0].x,d=o[o.length-1].x,u=a*Math.abs(c-d),h=Qc(o.map(function(f){return f.y||0}));return Ye(i)&&typeof i=="number"?h=Math.max(i,h):i&&Array.isArray(i)&&i.length&&(h=Math.max(Qc(i.map(function(f){return f.y||0})),h)),Ye(h)?ae.createElement("rect",{x:c<d?c:c-u,y:0,width:u,height:Math.floor(h+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(a){var s=this.props,i=s.baseLine,o=s.points,l=s.strokeWidth,c=o[0].y,d=o[o.length-1].y,u=a*Math.abs(c-d),h=Qc(o.map(function(f){return f.x||0}));return Ye(i)&&typeof i=="number"?h=Math.max(i,h):i&&Array.isArray(i)&&i.length&&(h=Math.max(Qc(i.map(function(f){return f.x||0})),h)),Ye(h)?ae.createElement("rect",{x:0,y:c<d?c:c-u,width:h+(l?parseInt("".concat(l),10):1),height:Math.floor(u)}):null}},{key:"renderClipRect",value:function(a){var s=this.props.layout;return s==="vertical"?this.renderVerticalRect(a):this.renderHorizontalRect(a)}},{key:"renderAreaStatically",value:function(a,s,i,o){var l=this.props,c=l.layout,d=l.type,u=l.stroke,h=l.connectNulls,f=l.isRange;l.ref;var v=rre(l,vBe);return ae.createElement(An,{clipPath:i?"url(#clipPath-".concat(o,")"):null},ae.createElement(Ym,Nu({},Bt(v,!0),{points:a,connectNulls:h,type:d,baseLine:s,layout:c,stroke:"none",className:"recharts-area-area"})),u!=="none"&&ae.createElement(Ym,Nu({},Bt(this.props,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:h,fill:"none",points:a})),u!=="none"&&f&&ae.createElement(Ym,Nu({},Bt(this.props,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:h,fill:"none",points:s})))}},{key:"renderAreaWithAnimation",value:function(a,s){var i=this,o=this.props,l=o.points,c=o.baseLine,d=o.isAnimationActive,u=o.animationBegin,h=o.animationDuration,f=o.animationEasing,v=o.animationId,x=this.state,g=x.prevPoints,y=x.prevBaseLine;return ae.createElement(Jo,{begin:u,duration:h,isActive:d,easing:f,from:{t:0},to:{t:1},key:"area-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var _=b.t;if(g){var j=g.length/l.length,S=l.map(function(T,M){var k=Math.floor(M*j);if(g[k]){var O=g[k],$=Ss(O.x,T.x),F=Ss(O.y,T.y);return Lc(Lc({},T),{},{x:$(_),y:F(_)})}return T}),C;if(Ye(c)&&typeof c=="number"){var E=Ss(y,c);C=E(_)}else if(hn(c)||Sp(c)){var P=Ss(y,0);C=P(_)}else C=c.map(function(T,M){var k=Math.floor(M*j);if(y[k]){var O=y[k],$=Ss(O.x,T.x),F=Ss(O.y,T.y);return Lc(Lc({},T),{},{x:$(_),y:F(_)})}return T});return i.renderAreaStatically(S,C,a,s)}return ae.createElement(An,null,ae.createElement("defs",null,ae.createElement("clipPath",{id:"animationClipPath-".concat(s)},i.renderClipRect(_))),ae.createElement(An,{clipPath:"url(#animationClipPath-".concat(s,")")},i.renderAreaStatically(l,c,a,s)))})}},{key:"renderArea",value:function(a,s){var i=this.props,o=i.points,l=i.baseLine,c=i.isAnimationActive,d=this.state,u=d.prevPoints,h=d.prevBaseLine,f=d.totalLength;return c&&o&&o.length&&(!u&&f>0||!Df(u,o)||!Df(h,l))?this.renderAreaWithAnimation(a,s):this.renderAreaStatically(o,l,a,s)}},{key:"render",value:function(){var a,s=this.props,i=s.hide,o=s.dot,l=s.points,c=s.className,d=s.top,u=s.left,h=s.xAxis,f=s.yAxis,v=s.width,x=s.height,g=s.isAnimationActive,y=s.id;if(i||!l||!l.length)return null;var b=this.state.isAnimationFinished,_=l.length===1,j=un("recharts-area",c),S=h&&h.allowDataOverflow,C=f&&f.allowDataOverflow,E=S||C,P=hn(y)?this.id:y,T=(a=Bt(o,!1))!==null&&a!==void 0?a:{r:3,strokeWidth:2},M=T.r,k=M===void 0?3:M,O=T.strokeWidth,$=O===void 0?2:O,F=c3e(o)?o:{},B=F.clipDot,G=B===void 0?!0:B,I=k*2+$;return ae.createElement(An,{className:j},S||C?ae.createElement("defs",null,ae.createElement("clipPath",{id:"clipPath-".concat(P)},ae.createElement("rect",{x:S?u:u-v/2,y:C?d:d-x/2,width:S?v:v*2,height:C?x:x*2})),!G&&ae.createElement("clipPath",{id:"clipPath-dots-".concat(P)},ae.createElement("rect",{x:u-I/2,y:d-I/2,width:v+I,height:x+I}))):null,_?null:this.renderArea(E,P),(o||_)&&this.renderDots(E,G,P),(!g||b)&&zl.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(a,s){return a.animationId!==s.prevAnimationId?{prevAnimationId:a.animationId,curPoints:a.points,curBaseLine:a.baseLine,prevPoints:s.curPoints,prevBaseLine:s.curBaseLine}:a.points!==s.curPoints||a.baseLine!==s.curBaseLine?{curPoints:a.points,curBaseLine:a.baseLine}:null}}])})(w.PureComponent);nre=Ed;Fo(Ed,"displayName","Area");Fo(Ed,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!fh.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Fo(Ed,"getBaseValue",function(t,e,n,a){var s=t.layout,i=t.baseValue,o=e.props.baseValue,l=o??i;if(Ye(l)&&typeof l=="number")return l;var c=s==="horizontal"?a:n,d=c.scale.domain();if(c.type==="number"){var u=Math.max(d[0],d[1]),h=Math.min(d[0],d[1]);return l==="dataMin"?h:l==="dataMax"||u<0?u:Math.max(Math.min(d[0],d[1]),0)}return l==="dataMin"?d[0]:l==="dataMax"?d[1]:d[0]});Fo(Ed,"getComposedData",function(t){var e=t.props,n=t.item,a=t.xAxis,s=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,l=t.bandSize,c=t.dataKey,d=t.stackedData,u=t.dataStartIndex,h=t.displayedData,f=t.offset,v=e.layout,x=d&&d.length,g=nre.getBaseValue(e,n,a,s),y=v==="horizontal",b=!1,_=h.map(function(S,C){var E;x?E=d[u+C]:(E=la(S,c),Array.isArray(E)?b=!0:E=[g,E]);var P=E[1]==null||x&&la(S,c)==null;return y?{x:jB({axis:a,ticks:i,bandSize:l,entry:S,index:C}),y:P?null:s.scale(E[1]),value:E,payload:S}:{x:P?null:a.scale(E[1]),y:jB({axis:s,ticks:o,bandSize:l,entry:S,index:C}),value:E,payload:S}}),j;return x||b?j=_.map(function(S){var C=Array.isArray(S.value)?S.value[0]:null;return y?{x:S.x,y:C!=null&&S.y!=null?s.scale(C):null}:{x:C!=null?a.scale(C):null,y:S.y}}):j=y?s.scale(g):a.scale(g),Lc({points:_,baseLine:j,layout:v,isRange:b},f)});Fo(Ed,"renderDotItem",function(t,e){var n;if(ae.isValidElement(t))n=ae.cloneElement(t,e);else if(en(t))n=t(e);else{var a=un("recharts-area-dot",typeof t!="boolean"?t.className:""),s=e.key,i=rre(e,yBe);n=ae.createElement(I_,Nu({},i,{key:s,className:a}))}return n});function Xf(t){"@babel/helpers - typeof";return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xf(t)}function ABe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MBe(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,lre(a.key),a)}}function PBe(t,e,n){return e&&MBe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function TBe(t,e,n){return e=o1(e),kBe(t,ire()?Reflect.construct(e,n||[],o1(t).constructor):e.apply(t,n))}function kBe(t,e){if(e&&(Xf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RBe(t)}function RBe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ire(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ire=function(){return!!t})()}function o1(t){return o1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},o1(t)}function OBe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a3(t,e)}function a3(t,e){return a3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},a3(t,e)}function ore(t,e,n){return e=lre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lre(t){var e=DBe(t,"string");return Xf(e)=="symbol"?e:e+""}function DBe(t,e){if(Xf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,e);if(Xf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function s3(){return s3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},s3.apply(this,arguments)}function IBe(t){var e=t.xAxisId,n=bR(),a=wR(),s=Vne(e);return s==null?null:w.createElement(Tp,s3({},s,{className:un("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(o){return Ol(o,!0)}}))}var ih=(function(t){function e(){return ABe(this,e),TBe(this,e,arguments)}return OBe(e,t),PBe(e,[{key:"render",value:function(){return w.createElement(IBe,this.props)}}])})(w.Component);ore(ih,"displayName","XAxis");ore(ih,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Yf(t){"@babel/helpers - typeof";return Yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yf(t)}function LBe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FBe(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,ure(a.key),a)}}function $Be(t,e,n){return e&&FBe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function UBe(t,e,n){return e=l1(e),BBe(t,cre()?Reflect.construct(e,n||[],l1(t).constructor):e.apply(t,n))}function BBe(t,e){if(e&&(Yf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zBe(t)}function zBe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cre(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cre=function(){return!!t})()}function l1(t){return l1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},l1(t)}function qBe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&i3(t,e)}function i3(t,e){return i3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},i3(t,e)}function dre(t,e,n){return e=ure(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ure(t){var e=VBe(t,"string");return Yf(e)=="symbol"?e:e+""}function VBe(t,e){if(Yf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,e);if(Yf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function o3(){return o3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},o3.apply(this,arguments)}var HBe=function(e){var n=e.yAxisId,a=bR(),s=wR(),i=Hne(n);return i==null?null:w.createElement(Tp,o3({},i,{className:un("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:a,height:s},ticksGenerator:function(l){return Ol(l,!0)}}))},oh=(function(t){function e(){return LBe(this,e),UBe(this,e,arguments)}return qBe(e,t),$Be(e,[{key:"render",value:function(){return w.createElement(HBe,this.props)}}])})(w.Component);dre(oh,"displayName","YAxis");dre(oh,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function wq(t){return XBe(t)||KBe(t)||WBe(t)||GBe()}function GBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WBe(t,e){if(t){if(typeof t=="string")return l3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l3(t,e)}}function KBe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function XBe(t){if(Array.isArray(t))return l3(t)}function l3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}var c3=function(e,n,a,s,i){var o=Di(e,jR),l=Di(e,H_),c=[].concat(wq(o),wq(l)),d=Di(e,W_),u="".concat(s,"Id"),h=s[0],f=n;if(c.length&&(f=c.reduce(function(g,y){if(y.props[u]===a&&Vo(y.props,"extendDomain")&&Ye(y.props[h])){var b=y.props[h];return[Math.min(g[0],b),Math.max(g[1],b)]}return g},f)),d.length){var v="".concat(h,"1"),x="".concat(h,"2");f=d.reduce(function(g,y){if(y.props[u]===a&&Vo(y.props,"extendDomain")&&Ye(y.props[v])&&Ye(y.props[x])){var b=y.props[v],_=y.props[x];return[Math.min(g[0],b,_),Math.max(g[1],b,_)]}return g},f)}return i&&i.length&&(f=i.reduce(function(g,y){return Ye(y)?[Math.min(g[0],y),Math.max(g[1],y)]:g},f)),f},kA={exports:{}},_q;function YBe(){return _q||(_q=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(n=!1));function s(c,d,u){this.fn=c,this.context=d,this.once=u||!1}function i(c,d,u,h,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var v=new s(u,h||c,f),x=n?n+d:d;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],v]:c._events[x].push(v):(c._events[x]=v,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new a:delete c._events[d]}function l(){this._events=new a,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],u,h;if(this._eventsCount===0)return d;for(h in u=this._events)e.call(u,h)&&d.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(u)):d},l.prototype.listeners=function(d){var u=n?n+d:d,h=this._events[u];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,v=h.length,x=new Array(v);f<v;f++)x[f]=h[f].fn;return x},l.prototype.listenerCount=function(d){var u=n?n+d:d,h=this._events[u];return h?h.fn?1:h.length:0},l.prototype.emit=function(d,u,h,f,v,x){var g=n?n+d:d;if(!this._events[g])return!1;var y=this._events[g],b=arguments.length,_,j;if(y.fn){switch(y.once&&this.removeListener(d,y.fn,void 0,!0),b){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,h),!0;case 4:return y.fn.call(y.context,u,h,f),!0;case 5:return y.fn.call(y.context,u,h,f,v),!0;case 6:return y.fn.call(y.context,u,h,f,v,x),!0}for(j=1,_=new Array(b-1);j<b;j++)_[j-1]=arguments[j];y.fn.apply(y.context,_)}else{var S=y.length,C;for(j=0;j<S;j++)switch(y[j].once&&this.removeListener(d,y[j].fn,void 0,!0),b){case 1:y[j].fn.call(y[j].context);break;case 2:y[j].fn.call(y[j].context,u);break;case 3:y[j].fn.call(y[j].context,u,h);break;case 4:y[j].fn.call(y[j].context,u,h,f);break;default:if(!_)for(C=1,_=new Array(b-1);C<b;C++)_[C-1]=arguments[C];y[j].fn.apply(y[j].context,_)}}return!0},l.prototype.on=function(d,u,h){return i(this,d,u,h,!1)},l.prototype.once=function(d,u,h){return i(this,d,u,h,!0)},l.prototype.removeListener=function(d,u,h,f){var v=n?n+d:d;if(!this._events[v])return this;if(!u)return o(this,v),this;var x=this._events[v];if(x.fn)x.fn===u&&(!f||x.once)&&(!h||x.context===h)&&o(this,v);else{for(var g=0,y=[],b=x.length;g<b;g++)(x[g].fn!==u||f&&!x[g].once||h&&x[g].context!==h)&&y.push(x[g]);y.length?this._events[v]=y.length===1?y[0]:y:o(this,v)}return this},l.prototype.removeAllListeners=function(d){var u;return d?(u=n?n+d:d,this._events[u]&&o(this,u)):(this._events=new a,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l})(kA)),kA.exports}var QBe=YBe();const ZBe=In(QBe);var RA=new ZBe,OA="recharts.syncMouseEvents";function dg(t){"@babel/helpers - typeof";return dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dg(t)}function JBe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eze(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,hre(a.key),a)}}function tze(t,e,n){return e&&eze(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function DA(t,e,n){return e=hre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hre(t){var e=nze(t,"string");return dg(e)=="symbol"?e:e+""}function nze(t,e){if(dg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,e);if(dg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var rze=(function(){function t(){JBe(this,t),DA(this,"activeIndex",0),DA(this,"coordinateList",[]),DA(this,"layout","horizontal")}return tze(t,[{key:"setDetails",value:function(n){var a,s=n.coordinateList,i=s===void 0?null:s,o=n.container,l=o===void 0?null:o,c=n.layout,d=c===void 0?null:c,u=n.offset,h=u===void 0?null:u,f=n.mouseHandlerCallback,v=f===void 0?null:f;this.coordinateList=(a=i??this.coordinateList)!==null&&a!==void 0?a:[],this.container=l??this.container,this.layout=d??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=v??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,a;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),i=s.x,o=s.y,l=s.height,c=this.coordinateList[this.activeIndex].coordinate,d=((n=window)===null||n===void 0?void 0:n.scrollX)||0,u=((a=window)===null||a===void 0?void 0:a.scrollY)||0,h=i+c+d,f=o+this.offset.top+l/2+u;this.mouseHandlerCallback({pageX:h,pageY:f})}}}])})();function aze(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var a=t==null?void 0:t[0],s=t==null?void 0:t[1];if(a&&s&&Ye(a)&&Ye(s))return!0}return!1}function sze(t,e,n,a){var s=a/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-s:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-s,width:t==="horizontal"?a:n.width-1,height:t==="horizontal"?n.height-1:a}}function mre(t){var e=t.cx,n=t.cy,a=t.radius,s=t.startAngle,i=t.endAngle,o=dr(e,n,a,s),l=dr(e,n,a,i);return{points:[o,l],cx:e,cy:n,radius:a,startAngle:s,endAngle:i}}function ize(t,e,n){var a,s,i,o;if(t==="horizontal")a=e.x,i=a,s=n.top,o=n.top+n.height;else if(t==="vertical")s=e.y,o=s,a=n.left,i=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,d=e.innerRadius,u=e.outerRadius,h=e.angle,f=dr(l,c,d,h),v=dr(l,c,u,h);a=f.x,s=f.y,i=v.x,o=v.y}else return mre(e);return[{x:a,y:s},{x:i,y:o}]}function ug(t){"@babel/helpers - typeof";return ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ug(t)}function jq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function $y(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jq(Object(n),!0).forEach(function(a){oze(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jq(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function oze(t,e,n){return e=lze(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lze(t){var e=cze(t,"string");return ug(e)=="symbol"?e:e+""}function cze(t,e){if(ug(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,e);if(ug(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dze(t){var e,n,a=t.element,s=t.tooltipEventType,i=t.isActive,o=t.activeCoordinate,l=t.activePayload,c=t.offset,d=t.activeTooltipIndex,u=t.tooltipAxisBandSize,h=t.layout,f=t.chartName,v=(e=a.props.cursor)!==null&&e!==void 0?e:(n=a.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!a||!v||!i||!o||f!=="ScatterChart"&&s!=="axis")return null;var x,g=Ym;if(f==="ScatterChart")x=o,g=I8e;else if(f==="BarChart")x=sze(h,o,c,u),g=xR;else if(h==="radial"){var y=mre(o),b=y.cx,_=y.cy,j=y.radius,S=y.startAngle,C=y.endAngle;x={cx:b,cy:_,startAngle:S,endAngle:C,innerRadius:j,outerRadius:j},g=hne}else x={points:ize(h,o,c)},g=Ym;var E=$y($y($y($y({stroke:"#ccc",pointerEvents:"none"},c),x),Bt(v,!1)),{},{payload:l,payloadIndex:d,className:un("recharts-tooltip-cursor",v.className)});return w.isValidElement(v)?w.cloneElement(v,E):w.createElement(g,E)}var uze=["item"],hze=["children","className","width","height","style","compact","title","desc"];function Qf(t){"@babel/helpers - typeof";return Qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qf(t)}function Rm(){return Rm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Rm.apply(this,arguments)}function Nq(t,e){return pze(t)||fze(t,e)||pre(t,e)||mze()}function mze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fze(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var a,s,i,o,l=[],c=!0,d=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(a=i.call(n)).done)&&(l.push(a.value),l.length!==e);c=!0);}catch(u){d=!0,s=u}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function pze(t){if(Array.isArray(t))return t}function Sq(t,e){if(t==null)return{};var n=xze(t,e),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)a=i[s],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function xze(t,e){if(t==null)return{};var n={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(e.indexOf(a)>=0)continue;n[a]=t[a]}return n}function gze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vze(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,xre(a.key),a)}}function yze(t,e,n){return e&&vze(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function bze(t,e,n){return e=c1(e),wze(t,fre()?Reflect.construct(e,n||[],c1(t).constructor):e.apply(t,n))}function wze(t,e){if(e&&(Qf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _ze(t)}function _ze(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fre(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fre=function(){return!!t})()}function c1(t){return c1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},c1(t)}function jze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d3(t,e)}function d3(t,e){return d3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},d3(t,e)}function Zf(t){return Cze(t)||Sze(t)||pre(t)||Nze()}function Nze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pre(t,e){if(t){if(typeof t=="string")return u3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u3(t,e)}}function Sze(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Cze(t){if(Array.isArray(t))return u3(t)}function u3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function Cq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function Fe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Cq(Object(n),!0).forEach(function(a){Xt(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Cq(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function Xt(t,e,n){return e=xre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xre(t){var e=Eze(t,"string");return Qf(e)=="symbol"?e:e+""}function Eze(t,e){if(Qf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,e);if(Qf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Aze={xAxis:["bottom","top"],yAxis:["left","right"]},Mze={width:"100%",height:"100%"},gre={x:0,y:0};function Uy(t){return t}var Pze=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},Tze=function(e,n,a,s){var i=n.find(function(u){return u&&u.index===a});if(i){if(e==="horizontal")return{x:i.coordinate,y:s.y};if(e==="vertical")return{x:s.x,y:i.coordinate};if(e==="centric"){var o=i.coordinate,l=s.radius;return Fe(Fe(Fe({},s),dr(s.cx,s.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,d=s.angle;return Fe(Fe(Fe({},s),dr(s.cx,s.cy,c,d)),{},{angle:d,radius:c})}return gre},K_=function(e,n){var a=n.graphicalItems,s=n.dataStartIndex,i=n.dataEndIndex,o=(a??[]).reduce(function(l,c){var d=c.props.data;return d&&d.length?[].concat(Zf(l),Zf(d)):l},[]);return o.length>0?o:e&&e.length&&Ye(s)&&Ye(i)?e.slice(s,i+1):[]};function vre(t){return t==="number"?[0,"auto"]:void 0}var h3=function(e,n,a,s){var i=e.graphicalItems,o=e.tooltipAxis,l=K_(n,e);return a<0||!i||!i.length||a>=l.length?null:i.reduce(function(c,d){var u,h=(u=d.props.data)!==null&&u!==void 0?u:n;h&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=a&&(h=h.slice(e.dataStartIndex,e.dataEndIndex+1));var f;if(o.dataKey&&!o.allowDuplicatedCategory){var v=h===void 0?l:h;f=hw(v,o.dataKey,s)}else f=h&&h[a]||l[a];return f?[].concat(Zf(c),[ine(d,f)]):c},[])},Eq=function(e,n,a,s){var i=s||{x:e.chartX,y:e.chartY},o=Pze(i,a),l=e.orderedTooltipTicks,c=e.tooltipAxis,d=e.tooltipTicks,u=i6e(o,l,d,c);if(u>=0&&d){var h=d[u]&&d[u].value,f=h3(e,n,u,h),v=Tze(a,l,u,i);return{activeTooltipIndex:u,activeLabel:h,activePayload:f,activeCoordinate:v}}return null},kze=function(e,n){var a=n.axes,s=n.graphicalItems,i=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,d=n.dataEndIndex,u=e.layout,h=e.children,f=e.stackOffset,v=ene(u,i);return a.reduce(function(x,g){var y,b=g.type.defaultProps!==void 0?Fe(Fe({},g.type.defaultProps),g.props):g.props,_=b.type,j=b.dataKey,S=b.allowDataOverflow,C=b.allowDuplicatedCategory,E=b.scale,P=b.ticks,T=b.includeHidden,M=b[o];if(x[M])return x;var k=K_(e.data,{graphicalItems:s.filter(function(Y){var ee,se=o in Y.props?Y.props[o]:(ee=Y.type.defaultProps)===null||ee===void 0?void 0:ee[o];return se===M}),dataStartIndex:c,dataEndIndex:d}),O=k.length,$,F,B;aze(b.domain,S,_)&&($=ET(b.domain,null,S),v&&(_==="number"||E!=="auto")&&(B=tx(k,j,"category")));var G=vre(_);if(!$||$.length===0){var I,L=(I=b.domain)!==null&&I!==void 0?I:G;if(j){if($=tx(k,j,_),_==="category"&&v){var U=JTe($);C&&U?(F=$,$=Xw(0,O)):C||($=EB(L,$,g).reduce(function(Y,ee){return Y.indexOf(ee)>=0?Y:[].concat(Zf(Y),[ee])},[]))}else if(_==="category")C?$=$.filter(function(Y){return Y!==""&&!hn(Y)}):$=EB(L,$,g).reduce(function(Y,ee){return Y.indexOf(ee)>=0||ee===""||hn(ee)?Y:[].concat(Zf(Y),[ee])},[]);else if(_==="number"){var z=u6e(k,s.filter(function(Y){var ee,se,pe=o in Y.props?Y.props[o]:(ee=Y.type.defaultProps)===null||ee===void 0?void 0:ee[o],Pe="hide"in Y.props?Y.props.hide:(se=Y.type.defaultProps)===null||se===void 0?void 0:se.hide;return pe===M&&(T||!Pe)}),j,i,u);z&&($=z)}v&&(_==="number"||E!=="auto")&&(B=tx(k,j,"category"))}else v?$=Xw(0,O):l&&l[M]&&l[M].hasStack&&_==="number"?$=f==="expand"?[0,1]:sne(l[M].stackGroups,c,d):$=Jte(k,s.filter(function(Y){var ee=o in Y.props?Y.props[o]:Y.type.defaultProps[o],se="hide"in Y.props?Y.props.hide:Y.type.defaultProps.hide;return ee===M&&(T||!se)}),_,u,!0);if(_==="number")$=c3(h,$,M,i,P),L&&($=ET(L,$,S));else if(_==="category"&&L){var K=L,V=$.every(function(Y){return K.indexOf(Y)>=0});V&&($=K)}}return Fe(Fe({},x),{},Xt({},M,Fe(Fe({},b),{},{axisType:i,domain:$,categoricalDomain:B,duplicateDomain:F,originalDomain:(y=b.domain)!==null&&y!==void 0?y:G,isCategorical:v,layout:u})))},{})},Rze=function(e,n){var a=n.graphicalItems,s=n.Axis,i=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,d=n.dataEndIndex,u=e.layout,h=e.children,f=K_(e.data,{graphicalItems:a,dataStartIndex:c,dataEndIndex:d}),v=f.length,x=ene(u,i),g=-1;return a.reduce(function(y,b){var _=b.type.defaultProps!==void 0?Fe(Fe({},b.type.defaultProps),b.props):b.props,j=_[o],S=vre("number");if(!y[j]){g++;var C;return x?C=Xw(0,v):l&&l[j]&&l[j].hasStack?(C=sne(l[j].stackGroups,c,d),C=c3(h,C,j,i)):(C=ET(S,Jte(f,a.filter(function(E){var P,T,M=o in E.props?E.props[o]:(P=E.type.defaultProps)===null||P===void 0?void 0:P[o],k="hide"in E.props?E.props.hide:(T=E.type.defaultProps)===null||T===void 0?void 0:T.hide;return M===j&&!k}),"number",u),s.defaultProps.allowDataOverflow),C=c3(h,C,j,i)),Fe(Fe({},y),{},Xt({},j,Fe(Fe({axisType:i},s.defaultProps),{},{hide:!0,orientation:oi(Aze,"".concat(i,".").concat(g%2),null),domain:C,originalDomain:S,isCategorical:x,layout:u})))}return y},{})},Oze=function(e,n){var a=n.axisType,s=a===void 0?"xAxis":a,i=n.AxisComp,o=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,d=n.dataEndIndex,u=e.children,h="".concat(s,"Id"),f=Di(u,i),v={};return f&&f.length?v=kze(e,{axes:f,graphicalItems:o,axisType:s,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:d}):o&&o.length&&(v=Rze(e,{Axis:i,graphicalItems:o,axisType:s,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:d})),v},Dze=function(e){var n=Bc(e),a=Ol(n,!1,!0);return{tooltipTicks:a,orderedTooltipTicks:qk(a,function(s){return s.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Lw(n,a)}},Aq=function(e){var n=e.children,a=e.defaultShowTooltip,s=Zs(n,zf),i=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(i=s.props.startIndex),s.props.endIndex>=0&&(o=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!a}},Ize=function(e){return!e||!e.length?!1:e.some(function(n){var a=Ul(n&&n.type);return a&&a.indexOf("Bar")>=0})},Mq=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Lze=function(e,n){var a=e.props,s=e.graphicalItems,i=e.xAxisMap,o=i===void 0?{}:i,l=e.yAxisMap,c=l===void 0?{}:l,d=a.width,u=a.height,h=a.children,f=a.margin||{},v=Zs(h,zf),x=Zs(h,Wm),g=Object.keys(c).reduce(function(C,E){var P=c[E],T=P.orientation;return!P.mirror&&!P.hide?Fe(Fe({},C),{},Xt({},T,C[T]+P.width)):C},{left:f.left||0,right:f.right||0}),y=Object.keys(o).reduce(function(C,E){var P=o[E],T=P.orientation;return!P.mirror&&!P.hide?Fe(Fe({},C),{},Xt({},T,oi(C,"".concat(T))+P.height)):C},{top:f.top||0,bottom:f.bottom||0}),b=Fe(Fe({},y),g),_=b.bottom;v&&(b.bottom+=v.props.height||zf.defaultProps.height),x&&n&&(b=c6e(b,s,a,n));var j=d-b.left-b.right,S=u-b.top-b.bottom;return Fe(Fe({brushBottom:_},b),{},{width:Math.max(j,0),height:Math.max(S,0)})},Fze=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},CR=function(e){var n=e.chartName,a=e.GraphicalChild,s=e.defaultTooltipEventType,i=s===void 0?"axis":s,o=e.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=e.axisComponents,d=e.legendContent,u=e.formatAxisMap,h=e.defaultProps,f=function(b,_){var j=_.graphicalItems,S=_.stackGroups,C=_.offset,E=_.updateId,P=_.dataStartIndex,T=_.dataEndIndex,M=b.barSize,k=b.layout,O=b.barGap,$=b.barCategoryGap,F=b.maxBarSize,B=Mq(k),G=B.numericAxisName,I=B.cateAxisName,L=Ize(j),U=[];return j.forEach(function(z,K){var V=K_(b.data,{graphicalItems:[z],dataStartIndex:P,dataEndIndex:T}),Y=z.type.defaultProps!==void 0?Fe(Fe({},z.type.defaultProps),z.props):z.props,ee=Y.dataKey,se=Y.maxBarSize,pe=Y["".concat(G,"Id")],Pe=Y["".concat(I,"Id")],xe={},Ie=c.reduce(function(ve,te){var Te=_["".concat(te.axisType,"Map")],Be=Y["".concat(te.axisType,"Id")];Te&&Te[Be]||te.axisType==="zAxis"||ah();var ut=Te[Be];return Fe(Fe({},ve),{},Xt(Xt({},te.axisType,ut),"".concat(te.axisType,"Ticks"),Ol(ut)))},xe),fe=Ie[I],Ne=Ie["".concat(I,"Ticks")],Le=S&&S[pe]&&S[pe].hasStack&&b6e(z,S[pe].stackGroups),re=Ul(z.type).indexOf("Bar")>=0,he=Lw(fe,Ne),Ee=[],Xe=L&&o6e({barSize:M,stackGroups:S,totalSize:Fze(Ie,I)});if(re){var Ve,at,de=hn(se)?F:se,Z=(Ve=(at=Lw(fe,Ne,!0))!==null&&at!==void 0?at:de)!==null&&Ve!==void 0?Ve:0;Ee=l6e({barGap:O,barCategoryGap:$,bandSize:Z!==he?Z:he,sizeList:Xe[Pe],maxBarSize:de}),Z!==he&&(Ee=Ee.map(function(ve){return Fe(Fe({},ve),{},{position:Fe(Fe({},ve.position),{},{offset:ve.position.offset-Z/2})})}))}var J=z&&z.type&&z.type.getComposedData;J&&U.push({props:Fe(Fe({},J(Fe(Fe({},Ie),{},{displayedData:V,props:b,dataKey:ee,item:z,bandSize:he,barPosition:Ee,offset:C,stackedData:Le,layout:k,dataStartIndex:P,dataEndIndex:T}))),{},Xt(Xt(Xt({key:z.key||"item-".concat(K)},G,Ie[G]),I,Ie[I]),"animationId",E)),childIndex:h3e(z,b.children),item:z})}),U},v=function(b,_){var j=b.props,S=b.dataStartIndex,C=b.dataEndIndex,E=b.updateId;if(!B8({props:j}))return null;var P=j.children,T=j.layout,M=j.stackOffset,k=j.data,O=j.reverseStackOrder,$=Mq(T),F=$.numericAxisName,B=$.cateAxisName,G=Di(P,a),I=v6e(k,G,"".concat(F,"Id"),"".concat(B,"Id"),M,O),L=c.reduce(function(Y,ee){var se="".concat(ee.axisType,"Map");return Fe(Fe({},Y),{},Xt({},se,Oze(j,Fe(Fe({},ee),{},{graphicalItems:G,stackGroups:ee.axisType===F&&I,dataStartIndex:S,dataEndIndex:C}))))},{}),U=Lze(Fe(Fe({},L),{},{props:j,graphicalItems:G}),_==null?void 0:_.legendBBox);Object.keys(L).forEach(function(Y){L[Y]=u(j,L[Y],U,Y.replace("Map",""),n)});var z=L["".concat(B,"Map")],K=Dze(z),V=f(j,Fe(Fe({},L),{},{dataStartIndex:S,dataEndIndex:C,updateId:E,graphicalItems:G,stackGroups:I,offset:U}));return Fe(Fe({formattedGraphicalItems:V,graphicalItems:G,offset:U,stackGroups:I},K),L)},x=(function(y){function b(_){var j,S,C;return gze(this,b),C=bze(this,b,[_]),Xt(C,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Xt(C,"accessibilityManager",new rze),Xt(C,"handleLegendBBoxUpdate",function(E){if(E){var P=C.state,T=P.dataStartIndex,M=P.dataEndIndex,k=P.updateId;C.setState(Fe({legendBBox:E},v({props:C.props,dataStartIndex:T,dataEndIndex:M,updateId:k},Fe(Fe({},C.state),{},{legendBBox:E}))))}}),Xt(C,"handleReceiveSyncEvent",function(E,P,T){if(C.props.syncId===E){if(T===C.eventEmitterSymbol&&typeof C.props.syncMethod!="function")return;C.applySyncEvent(P)}}),Xt(C,"handleBrushChange",function(E){var P=E.startIndex,T=E.endIndex;if(P!==C.state.dataStartIndex||T!==C.state.dataEndIndex){var M=C.state.updateId;C.setState(function(){return Fe({dataStartIndex:P,dataEndIndex:T},v({props:C.props,dataStartIndex:P,dataEndIndex:T,updateId:M},C.state))}),C.triggerSyncEvent({dataStartIndex:P,dataEndIndex:T})}}),Xt(C,"handleMouseEnter",function(E){var P=C.getMouseInfo(E);if(P){var T=Fe(Fe({},P),{},{isTooltipActive:!0});C.setState(T),C.triggerSyncEvent(T);var M=C.props.onMouseEnter;en(M)&&M(T,E)}}),Xt(C,"triggeredAfterMouseMove",function(E){var P=C.getMouseInfo(E),T=P?Fe(Fe({},P),{},{isTooltipActive:!0}):{isTooltipActive:!1};C.setState(T),C.triggerSyncEvent(T);var M=C.props.onMouseMove;en(M)&&M(T,E)}),Xt(C,"handleItemMouseEnter",function(E){C.setState(function(){return{isTooltipActive:!0,activeItem:E,activePayload:E.tooltipPayload,activeCoordinate:E.tooltipPosition||{x:E.cx,y:E.cy}}})}),Xt(C,"handleItemMouseLeave",function(){C.setState(function(){return{isTooltipActive:!1}})}),Xt(C,"handleMouseMove",function(E){E.persist(),C.throttleTriggeredAfterMouseMove(E)}),Xt(C,"handleMouseLeave",function(E){C.throttleTriggeredAfterMouseMove.cancel();var P={isTooltipActive:!1};C.setState(P),C.triggerSyncEvent(P);var T=C.props.onMouseLeave;en(T)&&T(P,E)}),Xt(C,"handleOuterEvent",function(E){var P=u3e(E),T=oi(C.props,"".concat(P));if(P&&en(T)){var M,k;/.*touch.*/i.test(P)?k=C.getMouseInfo(E.changedTouches[0]):k=C.getMouseInfo(E),T((M=k)!==null&&M!==void 0?M:{},E)}}),Xt(C,"handleClick",function(E){var P=C.getMouseInfo(E);if(P){var T=Fe(Fe({},P),{},{isTooltipActive:!0});C.setState(T),C.triggerSyncEvent(T);var M=C.props.onClick;en(M)&&M(T,E)}}),Xt(C,"handleMouseDown",function(E){var P=C.props.onMouseDown;if(en(P)){var T=C.getMouseInfo(E);P(T,E)}}),Xt(C,"handleMouseUp",function(E){var P=C.props.onMouseUp;if(en(P)){var T=C.getMouseInfo(E);P(T,E)}}),Xt(C,"handleTouchMove",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&C.throttleTriggeredAfterMouseMove(E.changedTouches[0])}),Xt(C,"handleTouchStart",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&C.handleMouseDown(E.changedTouches[0])}),Xt(C,"handleTouchEnd",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&C.handleMouseUp(E.changedTouches[0])}),Xt(C,"handleDoubleClick",function(E){var P=C.props.onDoubleClick;if(en(P)){var T=C.getMouseInfo(E);P(T,E)}}),Xt(C,"handleContextMenu",function(E){var P=C.props.onContextMenu;if(en(P)){var T=C.getMouseInfo(E);P(T,E)}}),Xt(C,"triggerSyncEvent",function(E){C.props.syncId!==void 0&&RA.emit(OA,C.props.syncId,E,C.eventEmitterSymbol)}),Xt(C,"applySyncEvent",function(E){var P=C.props,T=P.layout,M=P.syncMethod,k=C.state.updateId,O=E.dataStartIndex,$=E.dataEndIndex;if(E.dataStartIndex!==void 0||E.dataEndIndex!==void 0)C.setState(Fe({dataStartIndex:O,dataEndIndex:$},v({props:C.props,dataStartIndex:O,dataEndIndex:$,updateId:k},C.state)));else if(E.activeTooltipIndex!==void 0){var F=E.chartX,B=E.chartY,G=E.activeTooltipIndex,I=C.state,L=I.offset,U=I.tooltipTicks;if(!L)return;if(typeof M=="function")G=M(U,E);else if(M==="value"){G=-1;for(var z=0;z<U.length;z++)if(U[z].value===E.activeLabel){G=z;break}}var K=Fe(Fe({},L),{},{x:L.left,y:L.top}),V=Math.min(F,K.x+K.width),Y=Math.min(B,K.y+K.height),ee=U[G]&&U[G].value,se=h3(C.state,C.props.data,G),pe=U[G]?{x:T==="horizontal"?U[G].coordinate:V,y:T==="horizontal"?Y:U[G].coordinate}:gre;C.setState(Fe(Fe({},E),{},{activeLabel:ee,activeCoordinate:pe,activePayload:se,activeTooltipIndex:G}))}else C.setState(E)}),Xt(C,"renderCursor",function(E){var P,T=C.state,M=T.isTooltipActive,k=T.activeCoordinate,O=T.activePayload,$=T.offset,F=T.activeTooltipIndex,B=T.tooltipAxisBandSize,G=C.getTooltipEventType(),I=(P=E.props.active)!==null&&P!==void 0?P:M,L=C.props.layout,U=E.key||"_recharts-cursor";return ae.createElement(dze,{key:U,activeCoordinate:k,activePayload:O,activeTooltipIndex:F,chartName:n,element:E,isActive:I,layout:L,offset:$,tooltipAxisBandSize:B,tooltipEventType:G})}),Xt(C,"renderPolarAxis",function(E,P,T){var M=oi(E,"type.axisType"),k=oi(C.state,"".concat(M,"Map")),O=E.type.defaultProps,$=O!==void 0?Fe(Fe({},O),E.props):E.props,F=k&&k[$["".concat(M,"Id")]];return w.cloneElement(E,Fe(Fe({},F),{},{className:un(M,F.className),key:E.key||"".concat(P,"-").concat(T),ticks:Ol(F,!0)}))}),Xt(C,"renderPolarGrid",function(E){var P=E.props,T=P.radialLines,M=P.polarAngles,k=P.polarRadius,O=C.state,$=O.radiusAxisMap,F=O.angleAxisMap,B=Bc($),G=Bc(F),I=G.cx,L=G.cy,U=G.innerRadius,z=G.outerRadius;return w.cloneElement(E,{polarAngles:Array.isArray(M)?M:Ol(G,!0).map(function(K){return K.coordinate}),polarRadius:Array.isArray(k)?k:Ol(B,!0).map(function(K){return K.coordinate}),cx:I,cy:L,innerRadius:U,outerRadius:z,key:E.key||"polar-grid",radialLines:T})}),Xt(C,"renderLegend",function(){var E=C.state.formattedGraphicalItems,P=C.props,T=P.children,M=P.width,k=P.height,O=C.props.margin||{},$=M-(O.left||0)-(O.right||0),F=Qte({children:T,formattedGraphicalItems:E,legendWidth:$,legendContent:d});if(!F)return null;var B=F.item,G=Sq(F,uze);return w.cloneElement(B,Fe(Fe({},G),{},{chartWidth:M,chartHeight:k,margin:O,onBBoxUpdate:C.handleLegendBBoxUpdate}))}),Xt(C,"renderTooltip",function(){var E,P=C.props,T=P.children,M=P.accessibilityLayer,k=Zs(T,Js);if(!k)return null;var O=C.state,$=O.isTooltipActive,F=O.activeCoordinate,B=O.activePayload,G=O.activeLabel,I=O.offset,L=(E=k.props.active)!==null&&E!==void 0?E:$;return w.cloneElement(k,{viewBox:Fe(Fe({},I),{},{x:I.left,y:I.top}),active:L,label:G,payload:L?B:[],coordinate:F,accessibilityLayer:M})}),Xt(C,"renderBrush",function(E){var P=C.props,T=P.margin,M=P.data,k=C.state,O=k.offset,$=k.dataStartIndex,F=k.dataEndIndex,B=k.updateId;return w.cloneElement(E,{key:E.key||"_recharts-brush",onChange:Dy(C.handleBrushChange,E.props.onChange),data:M,x:Ye(E.props.x)?E.props.x:O.left,y:Ye(E.props.y)?E.props.y:O.top+O.height+O.brushBottom-(T.bottom||0),width:Ye(E.props.width)?E.props.width:O.width,startIndex:$,endIndex:F,updateId:"brush-".concat(B)})}),Xt(C,"renderReferenceElement",function(E,P,T){if(!E)return null;var M=C,k=M.clipPathId,O=C.state,$=O.xAxisMap,F=O.yAxisMap,B=O.offset,G=E.type.defaultProps||{},I=E.props,L=I.xAxisId,U=L===void 0?G.xAxisId:L,z=I.yAxisId,K=z===void 0?G.yAxisId:z;return w.cloneElement(E,{key:E.key||"".concat(P,"-").concat(T),xAxis:$[U],yAxis:F[K],viewBox:{x:B.left,y:B.top,width:B.width,height:B.height},clipPathId:k})}),Xt(C,"renderActivePoints",function(E){var P=E.item,T=E.activePoint,M=E.basePoint,k=E.childIndex,O=E.isRange,$=[],F=P.props.key,B=P.item.type.defaultProps!==void 0?Fe(Fe({},P.item.type.defaultProps),P.item.props):P.item.props,G=B.activeDot,I=B.dataKey,L=Fe(Fe({index:k,dataKey:I,cx:T.x,cy:T.y,r:4,fill:pR(P.item),strokeWidth:2,stroke:"#fff",payload:T.payload,value:T.value},Bt(G,!1)),mw(G));return $.push(b.renderActiveDot(G,L,"".concat(F,"-activePoint-").concat(k))),M?$.push(b.renderActiveDot(G,Fe(Fe({},L),{},{cx:M.x,cy:M.y}),"".concat(F,"-basePoint-").concat(k))):O&&$.push(null),$}),Xt(C,"renderGraphicChild",function(E,P,T){var M=C.filterFormatItem(E,P,T);if(!M)return null;var k=C.getTooltipEventType(),O=C.state,$=O.isTooltipActive,F=O.tooltipAxis,B=O.activeTooltipIndex,G=O.activeLabel,I=C.props.children,L=Zs(I,Js),U=M.props,z=U.points,K=U.isRange,V=U.baseLine,Y=M.item.type.defaultProps!==void 0?Fe(Fe({},M.item.type.defaultProps),M.item.props):M.item.props,ee=Y.activeDot,se=Y.hide,pe=Y.activeBar,Pe=Y.activeShape,xe=!!(!se&&$&&L&&(ee||pe||Pe)),Ie={};k!=="axis"&&L&&L.props.trigger==="click"?Ie={onClick:Dy(C.handleItemMouseEnter,E.props.onClick)}:k!=="axis"&&(Ie={onMouseLeave:Dy(C.handleItemMouseLeave,E.props.onMouseLeave),onMouseEnter:Dy(C.handleItemMouseEnter,E.props.onMouseEnter)});var fe=w.cloneElement(E,Fe(Fe({},M.props),Ie));function Ne(te){return typeof F.dataKey=="function"?F.dataKey(te.payload):null}if(xe)if(B>=0){var Le,re;if(F.dataKey&&!F.allowDuplicatedCategory){var he=typeof F.dataKey=="function"?Ne:"payload.".concat(F.dataKey.toString());Le=hw(z,he,G),re=K&&V&&hw(V,he,G)}else Le=z==null?void 0:z[B],re=K&&V&&V[B];if(Pe||pe){var Ee=E.props.activeIndex!==void 0?E.props.activeIndex:B;return[w.cloneElement(E,Fe(Fe(Fe({},M.props),Ie),{},{activeIndex:Ee})),null,null]}if(!hn(Le))return[fe].concat(Zf(C.renderActivePoints({item:M,activePoint:Le,basePoint:re,childIndex:B,isRange:K})))}else{var Xe,Ve=(Xe=C.getItemByXY(C.state.activeCoordinate))!==null&&Xe!==void 0?Xe:{graphicalItem:fe},at=Ve.graphicalItem,de=at.item,Z=de===void 0?E:de,J=at.childIndex,ve=Fe(Fe(Fe({},M.props),Ie),{},{activeIndex:J});return[w.cloneElement(Z,ve),null,null]}return K?[fe,null,null]:[fe,null]}),Xt(C,"renderCustomized",function(E,P,T){return w.cloneElement(E,Fe(Fe({key:"recharts-customized-".concat(T)},C.props),C.state))}),Xt(C,"renderMap",{CartesianGrid:{handler:Uy,once:!0},ReferenceArea:{handler:C.renderReferenceElement},ReferenceLine:{handler:Uy},ReferenceDot:{handler:C.renderReferenceElement},XAxis:{handler:Uy},YAxis:{handler:Uy},Brush:{handler:C.renderBrush,once:!0},Bar:{handler:C.renderGraphicChild},Line:{handler:C.renderGraphicChild},Area:{handler:C.renderGraphicChild},Radar:{handler:C.renderGraphicChild},RadialBar:{handler:C.renderGraphicChild},Scatter:{handler:C.renderGraphicChild},Pie:{handler:C.renderGraphicChild},Funnel:{handler:C.renderGraphicChild},Tooltip:{handler:C.renderCursor,once:!0},PolarGrid:{handler:C.renderPolarGrid,once:!0},PolarAngleAxis:{handler:C.renderPolarAxis},PolarRadiusAxis:{handler:C.renderPolarAxis},Customized:{handler:C.renderCustomized}}),C.clipPathId="".concat((j=_.id)!==null&&j!==void 0?j:Cp("recharts"),"-clip"),C.throttleTriggeredAfterMouseMove=Yee(C.triggeredAfterMouseMove,(S=_.throttleDelay)!==null&&S!==void 0?S:1e3/60),C.state={},C}return jze(b,y),yze(b,[{key:"componentDidMount",value:function(){var j,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var j=this.props,S=j.children,C=j.data,E=j.height,P=j.layout,T=Zs(S,Js);if(T){var M=T.props.defaultIndex;if(!(typeof M!="number"||M<0||M>this.state.tooltipTicks.length-1)){var k=this.state.tooltipTicks[M]&&this.state.tooltipTicks[M].value,O=h3(this.state,C,M,k),$=this.state.tooltipTicks[M].coordinate,F=(this.state.offset.top+E)/2,B=P==="horizontal",G=B?{x:$,y:F}:{y:$,x:F},I=this.state.formattedGraphicalItems.find(function(U){var z=U.item;return z.type.name==="Scatter"});I&&(G=Fe(Fe({},G),I.props.points[M].tooltipPosition),O=I.props.points[M].tooltipPayload);var L={activeTooltipIndex:M,isTooltipActive:!0,activeLabel:k,activePayload:O,activeCoordinate:G};this.setState(L),this.renderCursor(T),this.accessibilityManager.setIndex(M)}}}},{key:"getSnapshotBeforeUpdate",value:function(j,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==j.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==j.margin){var C,E;this.accessibilityManager.setDetails({offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0}})}return null}},{key:"componentDidUpdate",value:function(j){XP([Zs(j.children,Js)],[Zs(this.props.children,Js)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var j=Zs(this.props.children,Js);if(j&&typeof j.props.shared=="boolean"){var S=j.props.shared?"axis":"item";return l.indexOf(S)>=0?S:i}return i}},{key:"getMouseInfo",value:function(j){if(!this.container)return null;var S=this.container,C=S.getBoundingClientRect(),E=ZRe(C),P={chartX:Math.round(j.pageX-E.left),chartY:Math.round(j.pageY-E.top)},T=C.width/S.offsetWidth||1,M=this.inRange(P.chartX,P.chartY,T);if(!M)return null;var k=this.state,O=k.xAxisMap,$=k.yAxisMap,F=this.getTooltipEventType(),B=Eq(this.state,this.props.data,this.props.layout,M);if(F!=="axis"&&O&&$){var G=Bc(O).scale,I=Bc($).scale,L=G&&G.invert?G.invert(P.chartX):null,U=I&&I.invert?I.invert(P.chartY):null;return Fe(Fe({},P),{},{xValue:L,yValue:U},B)}return B?Fe(Fe({},P),B):null}},{key:"inRange",value:function(j,S){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,E=this.props.layout,P=j/C,T=S/C;if(E==="horizontal"||E==="vertical"){var M=this.state.offset,k=P>=M.left&&P<=M.left+M.width&&T>=M.top&&T<=M.top+M.height;return k?{x:P,y:T}:null}var O=this.state,$=O.angleAxisMap,F=O.radiusAxisMap;if($&&F){var B=Bc($);return PB({x:P,y:T},B)}return null}},{key:"parseEventsOfWrapper",value:function(){var j=this.props.children,S=this.getTooltipEventType(),C=Zs(j,Js),E={};C&&S==="axis"&&(C.props.trigger==="click"?E={onClick:this.handleClick}:E={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var P=mw(this.props,this.handleOuterEvent);return Fe(Fe({},P),E)}},{key:"addListener",value:function(){RA.on(OA,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){RA.removeListener(OA,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(j,S,C){for(var E=this.state.formattedGraphicalItems,P=0,T=E.length;P<T;P++){var M=E[P];if(M.item===j||M.props.key===j.key||S===Ul(M.item.type)&&C===M.childIndex)return M}return null}},{key:"renderClipPath",value:function(){var j=this.clipPathId,S=this.state.offset,C=S.left,E=S.top,P=S.height,T=S.width;return ae.createElement("defs",null,ae.createElement("clipPath",{id:j},ae.createElement("rect",{x:C,y:E,height:P,width:T})))}},{key:"getXScales",value:function(){var j=this.state.xAxisMap;return j?Object.entries(j).reduce(function(S,C){var E=Nq(C,2),P=E[0],T=E[1];return Fe(Fe({},S),{},Xt({},P,T.scale))},{}):null}},{key:"getYScales",value:function(){var j=this.state.yAxisMap;return j?Object.entries(j).reduce(function(S,C){var E=Nq(C,2),P=E[0],T=E[1];return Fe(Fe({},S),{},Xt({},P,T.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(j){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[j])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(j){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[j])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(j){var S=this.state,C=S.formattedGraphicalItems,E=S.activeItem;if(C&&C.length)for(var P=0,T=C.length;P<T;P++){var M=C[P],k=M.props,O=M.item,$=O.type.defaultProps!==void 0?Fe(Fe({},O.type.defaultProps),O.props):O.props,F=Ul(O.type);if(F==="Bar"){var B=(k.data||[]).find(function(U){return x8e(j,U)});if(B)return{graphicalItem:M,payload:B}}else if(F==="RadialBar"){var G=(k.data||[]).find(function(U){return PB(j,U)});if(G)return{graphicalItem:M,payload:G}}else if(B_(M,E)||z_(M,E)||sg(M,E)){var I=$9e({graphicalItem:M,activeTooltipItem:E,itemData:$.data}),L=$.activeIndex===void 0?I:$.activeIndex;return{graphicalItem:Fe(Fe({},M),{},{childIndex:L}),payload:sg(M,E)?$.data[I]:M.props.data[I]}}}return null}},{key:"render",value:function(){var j=this;if(!B8(this))return null;var S=this.props,C=S.children,E=S.className,P=S.width,T=S.height,M=S.style,k=S.compact,O=S.title,$=S.desc,F=Sq(S,hze),B=Bt(F,!1);if(k)return ae.createElement(iq,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ae.createElement(QP,Rm({},B,{width:P,height:T,title:O,desc:$}),this.renderClipPath(),q8(C,this.renderMap)));if(this.props.accessibilityLayer){var G,I;B.tabIndex=(G=this.props.tabIndex)!==null&&G!==void 0?G:0,B.role=(I=this.props.role)!==null&&I!==void 0?I:"application",B.onKeyDown=function(U){j.accessibilityManager.keyboardEvent(U)},B.onFocus=function(){j.accessibilityManager.focus()}}var L=this.parseEventsOfWrapper();return ae.createElement(iq,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ae.createElement("div",Rm({className:un("recharts-wrapper",E),style:Fe({position:"relative",cursor:"default",width:P,height:T},M)},L,{ref:function(z){j.container=z}}),ae.createElement(QP,Rm({},B,{width:P,height:T,title:O,desc:$,style:Mze}),this.renderClipPath(),q8(C,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(w.Component);Xt(x,"displayName",n),Xt(x,"defaultProps",Fe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),Xt(x,"getDerivedStateFromProps",function(y,b){var _=y.dataKey,j=y.data,S=y.children,C=y.width,E=y.height,P=y.layout,T=y.stackOffset,M=y.margin,k=b.dataStartIndex,O=b.dataEndIndex;if(b.updateId===void 0){var $=Aq(y);return Fe(Fe(Fe({},$),{},{updateId:0},v(Fe(Fe({props:y},$),{},{updateId:0}),b)),{},{prevDataKey:_,prevData:j,prevWidth:C,prevHeight:E,prevLayout:P,prevStackOffset:T,prevMargin:M,prevChildren:S})}if(_!==b.prevDataKey||j!==b.prevData||C!==b.prevWidth||E!==b.prevHeight||P!==b.prevLayout||T!==b.prevStackOffset||!Gm(M,b.prevMargin)){var F=Aq(y),B={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},G=Fe(Fe({},Eq(b,j,P)),{},{updateId:b.updateId+1}),I=Fe(Fe(Fe({},F),B),G);return Fe(Fe(Fe({},I),v(Fe({props:y},I),b)),{},{prevDataKey:_,prevData:j,prevWidth:C,prevHeight:E,prevLayout:P,prevStackOffset:T,prevMargin:M,prevChildren:S})}if(!XP(S,b.prevChildren)){var L,U,z,K,V=Zs(S,zf),Y=V&&(L=(U=V.props)===null||U===void 0?void 0:U.startIndex)!==null&&L!==void 0?L:k,ee=V&&(z=(K=V.props)===null||K===void 0?void 0:K.endIndex)!==null&&z!==void 0?z:O,se=Y!==k||ee!==O,pe=!hn(j),Pe=pe&&!se?b.updateId:b.updateId+1;return Fe(Fe({updateId:Pe},v(Fe(Fe({props:y},b),{},{updateId:Pe,dataStartIndex:Y,dataEndIndex:ee}),b)),{},{prevChildren:S,dataStartIndex:Y,dataEndIndex:ee})}return null}),Xt(x,"renderActiveDot",function(y,b,_){var j;return w.isValidElement(y)?j=w.cloneElement(y,b):en(y)?j=y(b):j=ae.createElement(I_,b),ae.createElement(An,{className:"recharts-active-dot",key:_},j)});var g=w.forwardRef(function(b,_){return ae.createElement(x,Rm({},b,{ref:_}))});return g.displayName=x.displayName,g},Pq=CR({chartName:"BarChart",GraphicalChild:pd,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:ih},{axisType:"yAxis",AxisComp:oh}],formatAxisMap:Ine}),$ze=CR({chartName:"PieChart",GraphicalChild:sc,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:U_},{axisType:"radiusAxis",AxisComp:F_}],formatAxisMap:P6e,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),Uze=CR({chartName:"AreaChart",GraphicalChild:Ed,axisComponents:[{axisType:"xAxis",AxisComp:ih},{axisType:"yAxis",AxisComp:oh}],formatAxisMap:Ine});function Tq(){const[t,e]=w.useState({totalStudents:0,proStudents:0,totalOrders:0,completedOrders:0,totalRevenue:0,avgProgress:0,totalVideoViews:0,totalPDFViews:0,mostWatchedLesson:null,mostReadPDF:null}),{data:n}=Oe({queryKey:["portal-users"],queryFn:()=>H.entities.User.list("-created_date",1e3)}),{data:a}=Oe({queryKey:["portal-orders"],queryFn:()=>H.entities.Order.list("-created_date",1e3)}),{data:s}=Oe({queryKey:["portal-progress"],queryFn:()=>H.entities.CourseProgress.list("-updated_date",1e3)}),{data:i}=Oe({queryKey:["portal-courses"],queryFn:()=>H.entities.TarotCourse.list("lesson_number",100)}),{data:o}=Oe({queryKey:["portal-pdfs"],queryFn:()=>H.entities.PDFLibrary.filter({category:"tarot"},"-views_count",100)});w.useEffect(()=>{n&&a&&s&&i&&o&&l()},[n,a,s,i,o]);const l=()=>{const f=(n==null?void 0:n.filter(C=>C.is_pro_subscriber).length)||0,v=(a==null?void 0:a.filter(C=>C.status==="approved").length)||0,x=(a==null?void 0:a.reduce((C,E)=>C+(E.total||0),0))||0,g=(s==null?void 0:s.reduce((C,E)=>{const P=(E.video_progress||0)/(E.video_duration||1);return C+P},0))||0,y=(s==null?void 0:s.length)>0?g/s.length*100:0,b=(i==null?void 0:i.reduce((C,E)=>C+(E.views_count||0),0))||0,_=(o==null?void 0:o.reduce((C,E)=>C+(E.views_count||0),0))||0,j=i==null?void 0:i.reduce((C,E)=>(E.views_count||0)>((C==null?void 0:C.views_count)||0)?E:C,null),S=(o==null?void 0:o[0])||null;e({totalStudents:(n==null?void 0:n.length)||0,proStudents:f,totalOrders:(a==null?void 0:a.length)||0,completedOrders:v,totalRevenue:x,avgProgress:Math.round(y),totalVideoViews:b,totalPDFViews:_,mostWatchedLesson:j,mostReadPDF:S})},c=(i==null?void 0:i.slice(0,10).map(f=>({name:`Lio ${f.lesson_number}`,views:f.views_count||0})))||[],d=(o==null?void 0:o.slice(0,5).map(f=>({name:f.title.length>20?f.title.substring(0,20)+"...":f.title,views:f.views_count||0})))||[],u=[{name:"0-25%",value:(s==null?void 0:s.filter(f=>f.video_progress/f.video_duration*100<25).length)||0},{name:"25-50%",value:(s==null?void 0:s.filter(f=>{const v=f.video_progress/f.video_duration*100;return v>=25&&v<50}).length)||0},{name:"50-75%",value:(s==null?void 0:s.filter(f=>{const v=f.video_progress/f.video_duration*100;return v>=50&&v<75}).length)||0},{name:"75-100%",value:(s==null?void 0:s.filter(f=>f.video_progress/f.video_duration*100>=75).length)||0}],h=["#ef4444","#f59e0b","#10b981","#3b82f6"];return r.jsxs("div",{className:"space-y-6 pb-20",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Portal Tarot - rea do Aluno"}),r.jsx("p",{className:"text-slate-600",children:"Estatsticas e mtricas completas do curso"})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsx(X,{className:"bg-gradient-to-br from-purple-50 to-purple-100 border-purple-300 p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 rounded-lg bg-purple-600 flex items-center justify-center",children:r.jsx(Kn,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-purple-600 font-medium",children:"Total Alunos"}),r.jsx("p",{className:"text-2xl font-bold text-purple-900",children:t.totalStudents})]})]})}),r.jsx(X,{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 border-yellow-300 p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 rounded-lg bg-yellow-600 flex items-center justify-center",children:r.jsx(Bn,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-yellow-600 font-medium",children:"Alunos PRO"}),r.jsx("p",{className:"text-2xl font-bold text-yellow-900",children:t.proStudents})]})]})}),r.jsx(X,{className:"bg-gradient-to-br from-green-50 to-green-100 border-green-300 p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 rounded-lg bg-green-600 flex items-center justify-center",children:r.jsx(Jn,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-green-600 font-medium",children:"Progresso Mdio"}),r.jsxs("p",{className:"text-2xl font-bold text-green-900",children:[t.avgProgress,"%"]})]})]})}),r.jsx(X,{className:"bg-gradient-to-br from-blue-50 to-blue-100 border-blue-300 p-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 rounded-lg bg-blue-600 flex items-center justify-center",children:r.jsx(xr,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-blue-600 font-medium",children:"Pedidos"}),r.jsxs("p",{className:"text-2xl font-bold text-blue-900",children:[t.completedOrders,"/",t.totalOrders]})]})]})})]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[r.jsxs(X,{className:"bg-white border-slate-200 p-6",children:[r.jsxs("h3",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[r.jsx(La,{className:"w-5 h-5 text-purple-600"}),"Total de Visualizaes de Vdeos"]}),r.jsx("div",{className:"text-4xl font-bold text-purple-600 mb-2",children:t.totalVideoViews}),t.mostWatchedLesson&&r.jsxs("p",{className:"text-sm text-slate-600",children:["Mais assistida: ",r.jsx("strong",{children:t.mostWatchedLesson.title})," (",t.mostWatchedLesson.views_count," views)"]})]}),r.jsxs(X,{className:"bg-white border-slate-200 p-6",children:[r.jsxs("h3",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[r.jsx(li,{className:"w-5 h-5 text-pink-600"}),"Total de Leituras de PDFs"]}),r.jsx("div",{className:"text-4xl font-bold text-pink-600 mb-2",children:t.totalPDFViews}),t.mostReadPDF&&r.jsxs("p",{className:"text-sm text-slate-600",children:["Mais lido: ",r.jsx("strong",{children:t.mostReadPDF.title})," (",t.mostReadPDF.views_count," leituras)"]})]})]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[r.jsxs(X,{className:"bg-white border-slate-200 p-6",children:[r.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-4",children:"Views por Lio (Top 10)"}),r.jsx(Ab,{width:"100%",height:300,children:r.jsxs(Pq,{data:c,children:[r.jsx(s1,{strokeDasharray:"3 3"}),r.jsx(ih,{dataKey:"name",angle:-45,textAnchor:"end",height:80,style:{fontSize:"12px"}}),r.jsx(oh,{}),r.jsx(Js,{}),r.jsx(pd,{dataKey:"views",fill:"#9333EA"})]})})]}),r.jsxs(X,{className:"bg-white border-slate-200 p-6",children:[r.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-4",children:"Distribuio de Progresso dos Alunos"}),r.jsx(Ab,{width:"100%",height:300,children:r.jsxs($ze,{children:[r.jsx(sc,{data:u,cx:"50%",cy:"50%",labelLine:!1,label:({name:f,value:v})=>`${f}: ${v}`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:u.map((f,v)=>r.jsx(N_,{fill:h[v%h.length]},`cell-${v}`))}),r.jsx(Js,{})]})})]})]}),r.jsxs(X,{className:"bg-white border-slate-200 p-6",children:[r.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-4",children:"PDFs Mais Lidos"}),r.jsx(Ab,{width:"100%",height:250,children:r.jsxs(Pq,{data:d,layout:"vertical",children:[r.jsx(s1,{strokeDasharray:"3 3"}),r.jsx(ih,{type:"number"}),r.jsx(oh,{dataKey:"name",type:"category",width:150,style:{fontSize:"12px"}}),r.jsx(Js,{}),r.jsx(pd,{dataKey:"views",fill:"#ec4899"})]})})]}),r.jsxs(X,{className:"bg-gradient-to-br from-green-50 to-emerald-50 border-green-300 p-6",children:[r.jsx("h3",{className:"text-lg font-bold text-green-900 mb-4",children:" Resumo Financeiro"}),r.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-green-600 mb-1",children:"Receita Total"}),r.jsxs("p",{className:"text-3xl font-bold text-green-900",children:["R$ ",t.totalRevenue.toFixed(2)]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-green-600 mb-1",children:"Pedidos Aprovados"}),r.jsx("p",{className:"text-3xl font-bold text-green-900",children:t.completedOrders})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-green-600 mb-1",children:"Taxa de Aprovao"}),r.jsxs("p",{className:"text-3xl font-bold text-green-900",children:[t.totalOrders>0?Math.round(t.completedOrders/t.totalOrders*100):0,"%"]})]})]})]}),r.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[r.jsxs(X,{className:"bg-white border-slate-200 p-6",children:[r.jsx("h4",{className:"text-sm font-bold text-slate-900 mb-3",children:"Alunos Ativos (ltimos 7 dias)"}),r.jsx("p",{className:"text-3xl font-bold text-purple-600",children:(n==null?void 0:n.filter(f=>{const v=new Date(f.last_seen),x=new Date(Date.now()-10080*60*1e3);return v>x}).length)||0})]}),r.jsxs(X,{className:"bg-white border-slate-200 p-6",children:[r.jsx("h4",{className:"text-sm font-bold text-slate-900 mb-3",children:"Certificados Gerados"}),r.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:(n==null?void 0:n.filter(f=>f.certificate_url).length)||0})]}),r.jsxs(X,{className:"bg-white border-slate-200 p-6",children:[r.jsx("h4",{className:"text-sm font-bold text-slate-900 mb-3",children:"Aulas Completadas"}),r.jsx("p",{className:"text-3xl font-bold text-green-600",children:(s==null?void 0:s.filter(f=>f.is_completed).length)||0})]})]}),r.jsxs(X,{className:"bg-white border-slate-200 p-6",children:[r.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-4",children:" Top 10 Alunos por Progresso"}),r.jsx("div",{className:"space-y-3",children:n==null?void 0:n.slice(0,10).map((f,v)=>{const x=(s==null?void 0:s.filter(y=>y.user_id===f.id))||[],g=x.length>0?x.reduce((y,b)=>y+(b.video_progress||0)/(b.video_duration||1),0)/x.length*100:0;return r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-slate-50 rounded-lg",children:[r.jsx(De,{className:"bg-purple-600 text-white w-8 h-8 flex items-center justify-center",children:v+1}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-semibold text-slate-900 text-sm",children:f.display_name||f.full_name}),r.jsx("p",{className:"text-xs text-slate-500",children:f.email})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"font-bold text-purple-600",children:[Math.round(g),"%"]}),r.jsx("p",{className:"text-xs text-slate-500",children:"completo"})]})]},f.id)})})]})]})}function kq(){var E,P,T;const t=wt(),[e,n]=w.useState(""),[a,s]=w.useState(!1),[i,o]=w.useState(null),[l,c]=w.useState({name:"",description:"",effect_type:"xp_boost",effect_value:0,effect_duration_hours:0,price_ouros:0,rarity:"common",category:"potion",icon:"",image_url:"",stock:-1,is_active:!0}),{data:d}=Oe({queryKey:["zamira-city-settings"],queryFn:async()=>{const M=await H.entities.ZamiraCitySettings.list();return M.length>0?M[0]:null}}),{data:u,isLoading:h}=Oe({queryKey:["mystical-products-admin"],queryFn:()=>H.entities.MysticalProduct.list("-created_date",100)}),{data:f}=Oe({queryKey:["zamira-online-players"],queryFn:async()=>await H.entities.ZamiraPosition.filter({is_online:!0}),refetchInterval:3e3}),v=Ue({mutationFn:async M=>d?await H.entities.ZamiraCitySettings.update(d.id,M):await H.entities.ZamiraCitySettings.create(M),onSuccess:()=>{t.invalidateQueries({queryKey:["zamira-city-settings"]}),alert(" Configuraes salvas!")}}),x=Ue({mutationFn:async M=>i?await H.entities.MysticalProduct.update(i.id,M):await H.entities.MysticalProduct.create(M),onSuccess:()=>{t.invalidateQueries({queryKey:["mystical-products-admin"]}),s(!1),o(null),c({name:"",description:"",effect_type:"xp_boost",effect_value:0,effect_duration_hours:0,price_ouros:0,rarity:"common",category:"potion",icon:"",image_url:"",stock:-1,is_active:!0}),alert(" Produto salvo!")}}),g=Ue({mutationFn:async({id:M,isActive:k})=>await H.entities.MysticalProduct.update(M,{is_active:!k}),onSuccess:()=>{t.invalidateQueries({queryKey:["mystical-products-admin"]})}}),y=Ue({mutationFn:async M=>await H.entities.MysticalProduct.delete(M),onSuccess:()=>{t.invalidateQueries({queryKey:["mystical-products-admin"]}),alert(" Produto removido!")}}),b=()=>{if(!e.trim())return;const M=(d==null?void 0:d.slider_messages)||[];v.mutate({slider_messages:[...M,e.trim()]}),n("")},_=M=>{const k=(d==null?void 0:d.slider_messages)||[];v.mutate({slider_messages:k.filter((O,$)=>$!==M)})},j=M=>{o(M),c(M),s(!0)},S=async M=>{const k=M.target.files[0];if(k)try{const{file_url:O}=await H.integrations.Core.UploadFile({file:k});c({...l,image_url:O}),alert(" Imagem enviada!")}catch(O){alert("Erro ao enviar imagem: "+O.message)}},C=d||{slider_messages:[],slider_enabled:!0,city_announcement:"",announcement_active:!1,lobby_label:"CIDADE EXPANDIDA",city_label:"CENTRO DE ZAMIRA",arrow_color:"#A855F7",arrow_bg_color:"#A855F7",lobby_countdown_enabled:!1,lobby_countdown_target:"",lobby_countdown_message:"LIVE em:",is_maintenance:!1,maintenance_message:""};return r.jsxs("div",{className:"space-y-6 pb-20",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-1",children:"Gerenciar Cidade de Zamira"}),r.jsx("p",{className:"text-slate-600",children:"Controle completo do metaverso"})]}),r.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[r.jsxs(X,{className:"bg-gradient-to-br from-purple-50 to-purple-100 border-purple-200 p-4",children:[r.jsx("p",{className:"text-purple-900 text-sm font-medium mb-1",children:"Jogadores Online"}),r.jsx("p",{className:"text-3xl font-bold text-purple-600",children:(f==null?void 0:f.length)||0})]}),r.jsxs(X,{className:"bg-gradient-to-br from-orange-50 to-orange-100 border-orange-200 p-4",children:[r.jsx("p",{className:"text-orange-900 text-sm font-medium mb-1",children:"Produtos Ativos"}),r.jsx("p",{className:"text-3xl font-bold text-orange-600",children:(u==null?void 0:u.filter(M=>M.is_active).length)||0})]}),r.jsxs(X,{className:"bg-gradient-to-br from-blue-50 to-blue-100 border-blue-200 p-4",children:[r.jsx("p",{className:"text-blue-900 text-sm font-medium mb-1",children:"Mensagens Slider"}),r.jsx("p",{className:"text-3xl font-bold text-blue-600",children:((E=C.slider_messages)==null?void 0:E.length)||0})]})]}),r.jsxs(X,{className:"bg-white border-slate-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h3",{className:"text-lg font-bold text-slate-900 flex items-center gap-2",children:[r.jsx(Pr,{className:"w-5 h-5 text-purple-600"}),"Slider de Mensagens"]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:C.slider_enabled,onChange:M=>v.mutate({slider_enabled:M.target.checked}),className:"w-4 h-4"}),r.jsx("span",{className:"text-sm",children:"Ativo"})]})]}),r.jsx("div",{className:"space-y-3 mb-4",children:(P=C.slider_messages)==null?void 0:P.map((M,k)=>r.jsxs("div",{className:"flex items-center gap-2 bg-purple-50 p-3 rounded-lg",children:[r.jsx("span",{className:"flex-1 text-sm text-slate-900",children:M}),r.jsx(W,{size:"sm",variant:"outline",onClick:()=>_(k),className:"border-red-300 text-red-600",children:r.jsx(qr,{className:"w-3 h-3"})})]},k))}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(je,{value:e,onChange:M=>n(M.target.value),placeholder:"Nova mensagem para o slider...",onKeyPress:M=>M.key==="Enter"&&b()}),r.jsx(W,{onClick:b,className:"bg-purple-600 hover:bg-purple-700",children:r.jsx(_r,{className:"w-4 h-4"})})]}),r.jsx("p",{className:"text-xs text-slate-600 mt-3",children:" Mensagens passam automaticamente no topo da cidade"})]}),r.jsxs(X,{className:"bg-white border-slate-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h3",{className:"text-lg font-bold text-slate-900 flex items-center gap-2",children:[r.jsx(Ps,{className:"w-5 h-5 text-yellow-600"}),"Aviso Centralizado"]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:C.announcement_active,onChange:M=>v.mutate({announcement_active:M.target.checked}),className:"w-4 h-4"}),r.jsx("span",{className:"text-sm",children:"Exibir"})]})]}),r.jsx(It,{value:C.city_announcement||"",onChange:M=>v.mutate({city_announcement:M.target.value}),placeholder:"Digite o aviso que aparecer no centro da tela...",rows:3,className:"mb-3"}),r.jsx("p",{className:"text-xs text-slate-600",children:" Aparece no centro da tela para todos que esto na cidade"})]}),r.jsxs(X,{className:"bg-white border-slate-200 p-6",children:[r.jsxs("h3",{className:"text-lg font-bold text-slate-900 flex items-center gap-2 mb-4",children:[r.jsx(Ts,{className:"w-5 h-5 text-blue-600"}),"Textos dos Portais"]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Portal do Lobby"}),r.jsx(je,{value:C.lobby_label||"CIDADE EXPANDIDA",onChange:M=>v.mutate({lobby_label:M.target.value}),placeholder:"CIDADE EXPANDIDA"}),r.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Texto que aparece no portal do lobby"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Portal da Cidade"}),r.jsx(je,{value:C.city_label||"CENTRO DE ZAMIRA",onChange:M=>v.mutate({city_label:M.target.value}),placeholder:"CENTRO DE ZAMIRA"}),r.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Texto que aparece no portal da cidade"})]})]})]}),r.jsxs(X,{className:"bg-white border-slate-200 p-6",children:[r.jsxs("h3",{className:"text-lg font-bold text-slate-900 flex items-center gap-2 mb-4",children:[r.jsx(dd,{className:"w-5 h-5 text-indigo-600"}),"Cores das Setas dos Portais"]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Cor da Seta"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(je,{type:"color",value:C.arrow_color||"#A855F7",onChange:M=>v.mutate({arrow_color:M.target.value}),className:"w-20 h-10"}),r.jsx(je,{value:C.arrow_color||"#A855F7",onChange:M=>v.mutate({arrow_color:M.target.value}),placeholder:"#A855F7"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Cor do Fundo"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(je,{type:"color",value:C.arrow_bg_color||"#A855F7",onChange:M=>v.mutate({arrow_bg_color:M.target.value}),className:"w-20 h-10"}),r.jsx(je,{value:C.arrow_bg_color||"#A855F7",onChange:M=>v.mutate({arrow_bg_color:M.target.value}),placeholder:"#A855F7"})]})]})]})]}),r.jsxs(X,{className:"bg-white border-slate-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h3",{className:"text-lg font-bold text-slate-900 flex items-center gap-2",children:[r.jsx(Mr,{className:"w-5 h-5 text-red-600"}),"Cronmetro de LIVE (Lobby)"]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:C.lobby_countdown_enabled,onChange:M=>v.mutate({lobby_countdown_enabled:M.target.checked}),className:"w-4 h-4"}),r.jsx("span",{className:"text-sm",children:"Ativar"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Mensagem do Cronmetro"}),r.jsx(je,{value:C.lobby_countdown_message||"LIVE em:",onChange:M=>v.mutate({lobby_countdown_message:M.target.value}),placeholder:"LIVE em:"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Data e Hora da Live"}),r.jsx(je,{type:"datetime-local",value:((T=C.lobby_countdown_target)==null?void 0:T.slice(0,16))||"",onChange:M=>v.mutate({lobby_countdown_target:M.target.value?new Date(M.target.value).toISOString():""})})]})]}),r.jsx("p",{className:"text-xs text-slate-600 mt-3",children:" Quando ativado, mostra cronmetro no lobby esperando a live"})]}),r.jsxs(X,{className:"bg-white border-slate-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h3",{className:"text-lg font-bold text-slate-900 flex items-center gap-2",children:[r.jsx(Ia,{className:"w-5 h-5 text-orange-600"}),"Produtos da Loja de Zamira"]}),r.jsxs(W,{onClick:()=>{s(!0),o(null),c({name:"",description:"",effect_type:"xp_boost",effect_value:0,effect_duration_hours:0,price_ouros:0,rarity:"common",category:"potion",icon:"",image_url:"",stock:-1,is_active:!0})},className:"bg-orange-600 hover:bg-orange-700",children:[r.jsx(_r,{className:"w-4 h-4 mr-2"}),"Adicionar Produto"]})]}),r.jsx(gt,{children:a&&r.jsx(q.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mb-6",children:r.jsxs(X,{className:"bg-gradient-to-br from-orange-50 to-yellow-50 border-orange-300 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h4",{className:"font-bold text-slate-900",children:i?"Editar Produto":"Novo Produto"}),r.jsx(W,{variant:"ghost",size:"icon",onClick:()=>s(!1),children:r.jsx(nt,{className:"w-4 h-4"})})]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Nome do Produto"}),r.jsx(je,{value:l.name,onChange:M=>c({...l,name:M.target.value}),placeholder:"Ex: Poo de XP Mstico"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Descrio"}),r.jsx(It,{value:l.description,onChange:M=>c({...l,description:M.target.value}),placeholder:"Descrio detalhada do produto...",rows:3})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Categoria"}),r.jsxs("select",{value:l.category,onChange:M=>c({...l,category:M.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg",children:[r.jsx("option",{value:"potion",children:"Poo"}),r.jsx("option",{value:"crystal",children:"Cristal"}),r.jsx("option",{value:"amulet",children:"Amuleto"}),r.jsx("option",{value:"scroll",children:"Pergaminho"}),r.jsx("option",{value:"essence",children:"Essncia"}),r.jsx("option",{value:"artifact",children:"Artefato"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Tipo de Efeito"}),r.jsxs("select",{value:l.effect_type,onChange:M=>c({...l,effect_type:M.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg",children:[r.jsx("option",{value:"xp_boost",children:"Boost de XP"}),r.jsx("option",{value:"remove_spell",children:"Remover Feitio"}),r.jsx("option",{value:"tinder_boost",children:"Boost Tinder"}),r.jsx("option",{value:"duel_boost",children:"Boost Duelo"}),r.jsx("option",{value:"protection",children:"Proteo"}),r.jsx("option",{value:"quest_accelerator",children:"Acelerador de Misses"}),r.jsx("option",{value:"gold_multiplier",children:"Multiplicador de Ouro"}),r.jsx("option",{value:"energy_recovery",children:"Recuperao de Energia"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Valor do Efeito"}),r.jsx(je,{type:"number",value:l.effect_value,onChange:M=>c({...l,effect_value:parseFloat(M.target.value)}),placeholder:"Ex: 50 (para 50% ou 50 pontos)"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Durao (horas)"}),r.jsx(je,{type:"number",value:l.effect_duration_hours,onChange:M=>c({...l,effect_duration_hours:parseFloat(M.target.value)}),placeholder:"0 = permanente"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Preo (Ouros)"}),r.jsx(je,{type:"number",value:l.price_ouros,onChange:M=>c({...l,price_ouros:parseFloat(M.target.value)}),placeholder:"Ex: 100"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Raridade"}),r.jsxs("select",{value:l.rarity,onChange:M=>c({...l,rarity:M.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg",children:[r.jsx("option",{value:"common",children:"Comum"}),r.jsx("option",{value:"uncommon",children:"Incomum"}),r.jsx("option",{value:"rare",children:"Raro"}),r.jsx("option",{value:"epic",children:"pico"}),r.jsx("option",{value:"legendary",children:"Lendrio"}),r.jsx("option",{value:"mythical",children:"Mtico"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-2 block",children:"cone (Emoji)"}),r.jsx(je,{value:l.icon,onChange:M=>c({...l,icon:M.target.value}),placeholder:""})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Estoque"}),r.jsx(je,{type:"number",value:l.stock,onChange:M=>c({...l,stock:parseInt(M.target.value)}),placeholder:"-1 = ilimitado"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Imagem do Produto"}),r.jsx("input",{type:"file",accept:"image/*",onChange:S,className:"w-full text-sm file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:bg-orange-50 file:text-orange-700"}),l.image_url&&r.jsx("img",{src:l.image_url,className:"mt-2 w-32 h-32 object-cover rounded"})]}),r.jsx("div",{className:"md:col-span-2",children:r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:l.is_active,onChange:M=>c({...l,is_active:M.target.checked}),className:"w-4 h-4"}),r.jsx("span",{className:"text-sm",children:"Produto ativo na loja"})]})})]}),r.jsxs(W,{onClick:()=>x.mutate(l),disabled:x.isPending||!l.name,className:"mt-4 bg-orange-600 hover:bg-orange-700 text-white",children:[r.jsx(oa,{className:"w-4 h-4 mr-2"}),i?"Atualizar Produto":"Criar Produto"]})]})})}),h?r.jsx("p",{className:"text-slate-600 text-center py-6",children:"Carregando..."}):u&&u.length>0?r.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:u.map(M=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[r.jsx("span",{className:"text-2xl",children:M.icon}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-semibold text-slate-900 text-sm truncate",children:M.name}),r.jsxs("p",{className:"text-xs text-slate-600",children:[M.price_ouros," ouros  ",M.rarity]})]}),r.jsx(De,{className:M.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800",children:M.is_active?"Ativo":"Inativo"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(W,{size:"sm",variant:"outline",onClick:()=>j(M),children:r.jsx(io,{className:"w-3 h-3"})}),r.jsx(W,{size:"sm",variant:"outline",onClick:()=>g.mutate({id:M.id,isActive:M.is_active}),children:M.is_active?r.jsx(ip,{className:"w-3 h-3"}):r.jsx(Vr,{className:"w-3 h-3"})}),r.jsx(W,{size:"sm",variant:"outline",onClick:()=>{confirm("Tem certeza que deseja remover este produto?")&&y.mutate(M.id)},className:"border-red-300 text-red-600",children:r.jsx(qr,{className:"w-3 h-3"})})]})]},M.id))}):r.jsx("p",{className:"text-slate-600 text-center py-6",children:"Nenhum produto cadastrado"})]}),r.jsxs(X,{className:"bg-white border-slate-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h3",{className:"text-lg font-bold text-slate-900 flex items-center gap-2",children:[r.jsx(dd,{className:"w-5 h-5 text-slate-600"}),"Modo Manuteno"]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:C.is_maintenance,onChange:M=>v.mutate({is_maintenance:M.target.checked}),className:"w-4 h-4"}),r.jsx("span",{className:"text-sm font-semibold text-red-600",children:"Ativar Manuteno"})]})]}),r.jsxs("div",{className:"mb-3",children:[r.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Mensagem de Manuteno"}),r.jsx(It,{value:C.maintenance_message||"",onChange:M=>v.mutate({maintenance_message:M.target.value}),placeholder:"A Cidade de Zamira est em manuteno. Voltaremos em breve...",rows:3})]}),r.jsx("p",{className:"text-xs text-slate-600",children:" Quando ativo, bloqueia entrada na cidade para todos"})]})]})}const Rq=[{id:"dice_roll",name:"Dados da Inteno",description:"Custo por lanamento dos dados msticos",icon:Sue,color:"text-purple-400",defaultValue:1},{id:"remove_spell",name:"Remover Feitio",description:"Custo para remover feitio de post",icon:_e,color:"text-pink-400",defaultValue:5},{id:"post_donation_min",name:"Doao Mnima (Post)",description:"Valor mnimo para doar em posts",icon:_1,color:"text-yellow-400",defaultValue:1}];function Oq(){const[t,e]=w.useState({}),[n,a]=w.useState(!1);w.useEffect(()=>{s()},[]);const s=()=>{const l=localStorage.getItem("zamira_prices");if(l)e(JSON.parse(l));else{const c={};Rq.forEach(d=>{c[d.id]=d.defaultValue}),e(c)}},i=(l,c)=>{e(d=>({...d,[l]:parseInt(c)||0}))},o=()=>{a(!0);try{localStorage.setItem("zamira_prices",JSON.stringify(t)),qe.success("Preos atualizados com sucesso!")}catch{qe.error("Erro ao salvar preos")}finally{a(!1)}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs(X,{className:"bg-slate-900 border-purple-500/30 p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-yellow-500 to-orange-500 flex items-center justify-center",children:r.jsx(Gn,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-white",children:"Gesto de Preos em Ouros"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Configure os valores de todas as funcionalidades pagas em Zamira"})]})]}),r.jsx("div",{className:"bg-yellow-900/20 border border-yellow-500/30 rounded-lg p-4 mb-6",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Vu,{className:"w-5 h-5 text-yellow-400 flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-yellow-300 font-semibold text-sm mb-1",children:"Ateno ao Alterar Preos"}),r.jsx("p",{className:"text-yellow-200/80 text-xs leading-relaxed",children:"As mudanas de preo afetam imediatamente todas as transaes futuras. Certifique-se de comunicar aos usurios sobre alteraes significativas."})]})]})})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Rq.map(l=>{const c=l.icon,d=t[l.id]!==void 0?t[l.id]:l.defaultValue;return r.jsxs(X,{className:"bg-slate-900 border-purple-500/30 p-6 hover:border-purple-500/50 transition",children:[r.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-purple-600 to-pink-600 flex items-center justify-center flex-shrink-0",children:r.jsx(c,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"text-white font-bold mb-1",children:l.name}),r.jsx("p",{className:"text-gray-400 text-xs leading-relaxed",children:l.description})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-gray-300 text-sm mb-2 block",children:"Preo Atual"}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(je,{type:"number",min:"0",value:d,onChange:u=>i(l.id,u.target.value),className:"bg-slate-800 border-purple-900/30 text-white pr-16"}),r.jsxs("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 flex items-center gap-1 text-yellow-400",children:[r.jsx(Gn,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm font-semibold",children:"Ouros"})]})]})})]}),d!==l.defaultValue&&r.jsx("div",{className:"bg-blue-900/20 border border-blue-500/30 rounded-lg p-2",children:r.jsxs("p",{className:"text-blue-300 text-xs",children:["Valor padro: ",r.jsxs("span",{className:"font-semibold",children:[l.defaultValue," Ouros"]})]})})]})]},l.id)})}),r.jsx(X,{className:"bg-slate-900 border-purple-500/30 p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-white font-bold mb-1",children:"Salvar Alteraes"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"As mudanas entraro em vigor imediatamente aps salvar"})]}),r.jsxs(W,{onClick:o,disabled:n,className:"bg-gradient-to-r from-yellow-600 to-orange-600 hover:from-yellow-700 hover:to-orange-700 text-white font-bold px-8",children:[r.jsx(oa,{className:"w-4 h-4 mr-2"}),n?"Salvando...":"Salvar Preos"]})]})}),r.jsxs(X,{className:"bg-slate-900 border-purple-500/30 p-6",children:[r.jsxs("h3",{className:"text-white font-bold mb-4 flex items-center gap-2",children:[r.jsx(Ng,{className:"w-5 h-5 text-green-400"}),"Histrico de Alteraes"]}),r.jsx("div",{className:"bg-slate-800 rounded-lg p-4 text-center",children:r.jsx("p",{className:"text-gray-400 text-sm",children:"Nenhuma alterao registrada ainda"})})]}),r.jsxs(X,{className:"bg-gradient-to-r from-purple-900/30 to-pink-900/30 border-purple-500/30 p-6",children:[r.jsx("h3",{className:"text-white font-bold mb-4",children:" Dicas de Precificao"}),r.jsxs("ul",{className:"space-y-2",children:[r.jsxs("li",{className:"text-gray-300 text-sm flex items-start gap-2",children:[r.jsx("span",{className:"text-purple-400 font-bold",children:""}),r.jsx("span",{children:"Mantenha preos acessveis para no desestimular o uso"})]}),r.jsxs("li",{className:"text-gray-300 text-sm flex items-start gap-2",children:[r.jsx("span",{className:"text-purple-400 font-bold",children:""}),r.jsx("span",{children:"Features premium devem ter valor percebido alto"})]}),r.jsxs("li",{className:"text-gray-300 text-sm flex items-start gap-2",children:[r.jsx("span",{className:"text-purple-400 font-bold",children:""}),r.jsx("span",{children:"Monitore o impacto das mudanas na economia do app"})]}),r.jsxs("li",{className:"text-gray-300 text-sm flex items-start gap-2",children:[r.jsx("span",{className:"text-purple-400 font-bold",children:""}),r.jsx("span",{children:"Comunique alteraes significativas aos usurios"})]})]})]})]})}const Bze={monday:"Segunda",tuesday:"Tera",wednesday:"Quarta",thursday:"Quinta",friday:"Sexta",saturday:"Sbado",sunday:"Domingo"};function Dq(){var P,T;const t=wt(),[e,n]=w.useState(!1),[a,s]=w.useState({is_active:!0,message:"",price:200,duration_minutes:60,available_days:[],available_hours:[]}),[i,o]=w.useState(""),{data:l,isLoading:c}=Oe({queryKey:["admin-consultation-settings"],queryFn:async()=>{const M=await H.entities.ConsultationSettings.list();return M.length>0?(s(M[0]),M[0]):null}}),{data:d,isLoading:u}=Oe({queryKey:["admin-consultations"],queryFn:()=>H.entities.Consultation.list("-created_date",100)}),h=Ue({mutationFn:async M=>l!=null&&l.id?await H.entities.ConsultationSettings.update(l.id,M):await H.entities.ConsultationSettings.create(M),onSuccess:()=>{t.invalidateQueries({queryKey:["admin-consultation-settings"]}),n(!1),qe.success(" Configuraes atualizadas!")}}),f=Ue({mutationFn:async({id:M,data:k})=>await H.entities.Consultation.update(M,k),onSuccess:()=>{t.invalidateQueries({queryKey:["admin-consultations"]}),qe.success(" Consulta atualizada!")}}),v=()=>{h.mutate(a)},x=M=>{const k=a.available_days||[];k.includes(M)?s({...a,available_days:k.filter(O=>O!==M)}):s({...a,available_days:[...k,M]})},g=()=>{if(i&&/^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$/.test(i)){const M=a.available_hours||[];M.includes(i)||s({...a,available_hours:[...M,i].sort()}),o("")}else qe.error("Formato invlido. Use HH:mm (ex: 09:00)")},y=M=>{s({...a,available_hours:a.available_hours.filter(k=>k!==M)})},b=M=>{switch(M){case"confirmed":return"bg-green-600";case"pending_payment":return"bg-yellow-600";case"in_progress":return"bg-blue-600";case"completed":return"bg-purple-600";case"cancelled":return"bg-red-600";default:return"bg-gray-600"}},_=M=>{switch(M){case"confirmed":return"Confirmada";case"pending_payment":return"Aguardando Pagamento";case"in_progress":return"Em Andamento";case"completed":return"Concluda";case"cancelled":return"Cancelada";default:return M}},j=(d==null?void 0:d.length)||0,S=(d==null?void 0:d.filter(M=>M.status==="confirmed").length)||0,C=(d==null?void 0:d.filter(M=>M.status==="completed").length)||0,E=(d==null?void 0:d.filter(M=>M.status==="completed").reduce((M,k)=>M+(k.price_paid||0),0))||0;return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs(X,{className:"bg-gradient-to-br from-blue-900/20 to-blue-800/10 border-blue-500/30 p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx(Ya,{className:"w-5 h-5 text-blue-400"}),r.jsx(Jn,{className:"w-4 h-4 text-blue-400"})]}),r.jsx("p",{className:"text-2xl font-bold text-white",children:j}),r.jsx("p",{className:"text-xs text-blue-300",children:"Total de Consultas"})]}),r.jsxs(X,{className:"bg-gradient-to-br from-green-900/20 to-green-800/10 border-green-500/30 p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx(_n,{className:"w-5 h-5 text-green-400"}),r.jsx(On,{className:"w-4 h-4 text-green-400"})]}),r.jsx("p",{className:"text-2xl font-bold text-white",children:S}),r.jsx("p",{className:"text-xs text-green-300",children:"Confirmadas"})]}),r.jsxs(X,{className:"bg-gradient-to-br from-purple-900/20 to-purple-800/10 border-purple-500/30 p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx(La,{className:"w-5 h-5 text-purple-400"}),r.jsx(Kn,{className:"w-4 h-4 text-purple-400"})]}),r.jsx("p",{className:"text-2xl font-bold text-white",children:C}),r.jsx("p",{className:"text-xs text-purple-300",children:"Realizadas"})]}),r.jsxs(X,{className:"bg-gradient-to-br from-yellow-900/20 to-yellow-800/10 border-yellow-500/30 p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx(Ng,{className:"w-5 h-5 text-yellow-400"}),r.jsx(Jn,{className:"w-4 h-4 text-yellow-400"})]}),r.jsxs("p",{className:"text-2xl font-bold text-white",children:["R$ ",E.toFixed(2)]}),r.jsx("p",{className:"text-xs text-yellow-300",children:"Faturamento"})]})]}),r.jsxs(X,{className:"bg-white border-slate-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Configuraes do Sistema"}),r.jsx("p",{className:"text-slate-600",children:"Gerencie disponibilidade e preos"})]}),e?r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(W,{onClick:v,disabled:h.isPending,children:[r.jsx(oa,{className:"w-4 h-4 mr-2"}),"Salvar"]}),r.jsxs(W,{onClick:()=>n(!1),variant:"outline",children:[r.jsx(nt,{className:"w-4 h-4 mr-2"}),"Cancelar"]})]}):r.jsxs(W,{onClick:()=>n(!0),variant:"outline",children:[r.jsx(io,{className:"w-4 h-4 mr-2"}),"Editar"]})]}),e?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-slate-900",children:"Sistema de Agendamento"}),r.jsx("p",{className:"text-sm text-slate-600",children:"Ativar ou desativar agendamentos"})]}),r.jsx(Ci,{checked:a.is_active,onCheckedChange:M=>s({...a,is_active:M})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-semibold text-slate-900 mb-2 block",children:"Mensagem de Status"}),r.jsx(It,{value:a.message,onChange:M=>s({...a,message:M.target.value}),placeholder:"Mensagem exibida quando o sistema est ativo ou inativo...",className:"bg-slate-50",rows:3})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-semibold text-slate-900 mb-2 block",children:"Preo (R$)"}),r.jsx(je,{type:"number",step:"0.01",value:a.price,onChange:M=>s({...a,price:parseFloat(M.target.value)}),className:"bg-slate-50"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-semibold text-slate-900 mb-2 block",children:"Durao (minutos)"}),r.jsx(je,{type:"number",value:a.duration_minutes,onChange:M=>s({...a,duration_minutes:parseInt(M.target.value)}),className:"bg-slate-50"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-semibold text-slate-900 mb-3 block",children:"Dias da Semana Disponveis"}),r.jsx("div",{className:"grid grid-cols-4 md:grid-cols-7 gap-2",children:Object.entries(Bze).map(([M,k])=>{var O;return r.jsx("button",{onClick:()=>x(M),className:`p-3 rounded-lg border-2 transition ${(O=a.available_days)!=null&&O.includes(M)?"border-purple-500 bg-purple-50 text-purple-700":"border-slate-200 bg-white text-slate-600 hover:border-slate-300"}`,children:r.jsx("p",{className:"text-xs font-semibold",children:k})},M)})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-semibold text-slate-900 mb-3 block",children:"Horrios Disponveis"}),r.jsxs("div",{className:"flex gap-2 mb-3",children:[r.jsx(je,{value:i,onChange:M=>o(M.target.value),placeholder:"HH:mm (ex: 09:00)",className:"flex-1"}),r.jsx(W,{onClick:g,children:"Adicionar"})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:(a.available_hours||[]).map(M=>r.jsxs(De,{className:"bg-purple-600 text-white px-3 py-1.5 text-sm",children:[r.jsx(Mr,{className:"w-3 h-3 mr-2"}),M,r.jsx("button",{onClick:()=>y(M),className:"ml-2 hover:text-red-300",children:r.jsx(nt,{className:"w-3 h-3"})})]},M))})]})]}):r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg",children:[r.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Status"}),r.jsx(De,{className:l!=null&&l.is_active?"bg-green-600":"bg-red-600",children:l!=null&&l.is_active?" Ativo":" Inativo"})]}),r.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg",children:[r.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Preo"}),r.jsxs("p",{className:"text-lg font-bold text-slate-900",children:["R$ ",(P=l==null?void 0:l.price)==null?void 0:P.toFixed(2)]})]}),r.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg",children:[r.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Durao"}),r.jsxs("p",{className:"text-lg font-bold text-slate-900",children:[l==null?void 0:l.duration_minutes," min"]})]}),r.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg",children:[r.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Horrios"}),r.jsx("p",{className:"text-lg font-bold text-slate-900",children:((T=l==null?void 0:l.available_hours)==null?void 0:T.length)||0})]})]})})]}),r.jsxs(X,{className:"bg-white border-slate-200 p-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-6",children:"Consultas Agendadas"}),u?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(On,{className:"w-12 h-12 text-purple-600 animate-pulse mx-auto mb-4"}),r.jsx("p",{className:"text-slate-600",children:"Carregando consultas..."})]}):d&&d.length>0?r.jsx("div",{className:"space-y-3",children:d.map(M=>{var k;return r.jsx(q.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:r.jsx(X,{className:"bg-slate-50 border-slate-200 p-4",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx(De,{className:b(M.status),children:_(M.status)}),r.jsxs("p",{className:"text-slate-600 text-sm",children:[r.jsx(Ya,{className:"w-3 h-3 inline mr-1"}),kn(Sf(M.scheduled_date),"dd/MM/yyyy",{locale:jn})]}),r.jsxs("p",{className:"text-slate-600 text-sm",children:[r.jsx(Mr,{className:"w-3 h-3 inline mr-1"}),M.scheduled_time]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-slate-500",children:"Cliente"}),r.jsx("p",{className:"text-sm font-semibold text-slate-900",children:M.user_name}),r.jsx("p",{className:"text-xs text-slate-600",children:M.user_email}),M.user_phone&&r.jsx("p",{className:"text-xs text-slate-600",children:M.user_phone})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-slate-500",children:"Valor"}),r.jsxs("p",{className:"text-sm font-bold text-green-600",children:["R$ ",(k=M.price_paid)==null?void 0:k.toFixed(2)]})]})]}),M.notes&&r.jsxs("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[r.jsx("p",{className:"text-xs text-blue-600 mb-1",children:"Observaes do Cliente:"}),r.jsx("p",{className:"text-sm text-slate-700",children:M.notes})]}),M.admin_notes&&r.jsxs("div",{className:"mt-3 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[r.jsx("p",{className:"text-xs text-yellow-600 mb-1",children:"Notas Privadas:"}),r.jsx("p",{className:"text-sm text-slate-700",children:M.admin_notes})]})]}),r.jsxs("div",{className:"flex flex-col gap-2 ml-4",children:[M.status==="confirmed"&&r.jsxs(W,{size:"sm",onClick:()=>window.open(createPageUrl(`RoomConsulta?id=${M.id}`),"_blank"),className:"bg-purple-600 hover:bg-purple-700",children:[r.jsx(La,{className:"w-3 h-3 mr-2"}),"Entrar"]}),M.status==="pending_payment"&&r.jsx(W,{size:"sm",variant:"outline",onClick:()=>{confirm("Confirmar pagamento manualmente?")&&f.mutate({id:M.id,data:{status:"confirmed"}})},children:"Confirmar"}),M.status==="in_progress"&&r.jsx(W,{size:"sm",variant:"outline",onClick:()=>{confirm("Marcar como concluda?")&&f.mutate({id:M.id,data:{status:"completed"}})},children:"Concluir"}),!["completed","cancelled"].includes(M.status)&&r.jsx(W,{size:"sm",variant:"outline",className:"border-red-300 text-red-600",onClick:()=>{const O=prompt("Motivo do cancelamento:");O&&f.mutate({id:M.id,data:{status:"cancelled",cancelled_reason:O}})},children:"Cancelar"})]})]})})},M.id)})}):r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Ya,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),r.jsx("p",{className:"text-slate-600",children:"Nenhuma consulta agendada ainda"})]})]})]})}const zze={spam:"Spam",harassment:"Assdio",hate_speech:"Discurso de dio",violence:"Violncia",nudity:"Nudez",misinformation:"Desinformao",other:"Outro"};function Iq(){const t=wt(),[e,n]=w.useState(null),[a,s]=w.useState(""),[i,o]=w.useState(""),{data:l,isLoading:c}=Oe({queryKey:["admin-reports"],queryFn:()=>H.entities.PostReport.list("-created_date",100)}),d=Ue({mutationFn:async({id:x,data:g})=>await H.entities.PostReport.update(x,g),onSuccess:()=>{t.invalidateQueries({queryKey:["admin-reports"]}),n(null),qe.success(" Denncia atualizada!")}}),u=(x,g)=>{d.mutate({id:x.id,data:{status:g==="dismiss"?"dismissed":"action_taken",admin_notes:a,action_taken:i}})},h=(l==null?void 0:l.filter(x=>x.status==="pending").length)||0,f=(l==null?void 0:l.filter(x=>x.status==="reviewed").length)||0,v=(l==null?void 0:l.filter(x=>x.status==="action_taken").length)||0;return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs(X,{className:"bg-gradient-to-br from-yellow-900/20 to-yellow-800/10 border-yellow-500/30 p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx(N1,{className:"w-5 h-5 text-yellow-400"}),r.jsx(Jn,{className:"w-4 h-4 text-yellow-400"})]}),r.jsx("p",{className:"text-2xl font-bold text-white",children:h}),r.jsx("p",{className:"text-xs text-yellow-300",children:"Pendentes"})]}),r.jsxs(X,{className:"bg-gradient-to-br from-blue-900/20 to-blue-800/10 border-blue-500/30 p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx(Vr,{className:"w-5 h-5 text-blue-400"}),r.jsx(On,{className:"w-4 h-4 text-blue-400"})]}),r.jsx("p",{className:"text-2xl font-bold text-white",children:f}),r.jsx("p",{className:"text-xs text-blue-300",children:"Em Anlise"})]}),r.jsxs(X,{className:"bg-gradient-to-br from-green-900/20 to-green-800/10 border-green-500/30 p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx(_n,{className:"w-5 h-5 text-green-400"}),r.jsx(Jn,{className:"w-4 h-4 text-green-400"})]}),r.jsx("p",{className:"text-2xl font-bold text-white",children:v}),r.jsx("p",{className:"text-xs text-green-300",children:"Resolvidas"})]})]}),r.jsxs(X,{className:"bg-white border-slate-200 p-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-6",children:"Denncias de Publicaes"}),c?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(On,{className:"w-12 h-12 text-purple-600 animate-pulse mx-auto mb-4"}),r.jsx("p",{className:"text-slate-600",children:"Carregando denncias..."})]}):l&&l.length>0?r.jsx("div",{className:"space-y-3",children:l.map(x=>r.jsx(q.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:r.jsxs(X,{className:`border-2 p-4 ${x.status==="pending"?"bg-yellow-50 border-yellow-300":x.status==="reviewed"?"bg-blue-50 border-blue-300":x.status==="action_taken"?"bg-green-50 border-green-300":"bg-gray-50 border-gray-300"}`,children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(De,{className:x.status==="pending"?"bg-yellow-600":x.status==="reviewed"?"bg-blue-600":x.status==="action_taken"?"bg-green-600":"bg-gray-600",children:x.status==="pending"?"Pendente":x.status==="reviewed"?"Em Anlise":x.status==="action_taken"?"Ao Tomada":"Arquivada"}),r.jsx(De,{variant:"outline",className:"bg-red-100 text-red-700 border-red-300",children:zze[x.reason]}),r.jsx("span",{className:"text-xs text-slate-500",children:kn(new Date(x.created_date),"dd/MM/yyyy 's' HH:mm",{locale:jn})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-slate-500",children:"Denunciante"}),r.jsx("p",{className:"text-sm font-semibold text-slate-900",children:x.reporter_name})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-slate-500",children:"Autor do Post"}),r.jsx("p",{className:"text-sm font-semibold text-slate-900",children:x.post_author_name})]})]}),r.jsxs("div",{className:"p-3 bg-white border border-slate-200 rounded-lg mb-3",children:[r.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Contedo do Post:"}),r.jsx("p",{className:"text-sm text-slate-700 line-clamp-3",children:x.post_content})]}),x.details&&r.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg mb-3",children:[r.jsx("p",{className:"text-xs text-blue-600 mb-1",children:"Detalhes da Denncia:"}),r.jsx("p",{className:"text-sm text-slate-700",children:x.details})]}),x.admin_notes&&r.jsxs("div",{className:"p-3 bg-purple-50 border border-purple-200 rounded-lg",children:[r.jsx("p",{className:"text-xs text-purple-600 mb-1",children:"Notas do Admin:"}),r.jsx("p",{className:"text-sm text-slate-700",children:x.admin_notes})]})]}),x.status==="pending"&&r.jsx("div",{className:"flex flex-col gap-2 ml-4",children:r.jsxs(W,{size:"sm",onClick:()=>n(x),className:"bg-blue-600 hover:bg-blue-700",children:[r.jsx(Vr,{className:"w-3 h-3 mr-2"}),"Analisar"]})})]}),(e==null?void 0:e.id)===x.id&&r.jsxs(q.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},className:"border-t border-slate-300 pt-4 mt-4 space-y-3",children:[r.jsx(It,{value:a,onChange:g=>s(g.target.value),placeholder:"Notas do admin...",className:"bg-white",rows:3}),r.jsx(It,{value:i,onChange:g=>o(g.target.value),placeholder:"Ao tomada...",className:"bg-white",rows:2}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(W,{onClick:()=>u(x,"action"),className:"bg-green-600 hover:bg-green-700",children:[r.jsx(_n,{className:"w-4 h-4 mr-2"}),"Ao Tomada"]}),r.jsxs(W,{onClick:()=>u(x,"dismiss"),variant:"outline",className:"border-gray-300",children:[r.jsx(nt,{className:"w-4 h-4 mr-2"}),"Arquivar"]}),r.jsx(W,{onClick:()=>n(null),variant:"outline",children:"Cancelar"})]})]})]})},x.id))}):r.jsxs("div",{className:"text-center py-12",children:[r.jsx(_n,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),r.jsx("p",{className:"text-slate-600",children:"Nenhuma denncia no momento"})]})]})]})}function Lq(){const[t,e]=w.useState(null),[n,a]=w.useState({}),[s,i]=w.useState(!1),[o,l]=w.useState(null),c=wt(),{data:d=[],isLoading:u}=Oe({queryKey:["admin-kamasutra-positions"],queryFn:async()=>await H.asServiceRole.entities.KamasutraPosition.list("-created_date",500)||[]}),{data:h=[],isLoading:f}=Oe({queryKey:["admin-kamasutra-comments"],queryFn:async()=>await H.asServiceRole.entities.KamasutraComment.list("-created_date",1e3)||[]}),{data:v=[]}=Oe({queryKey:["admin-kamasutra-likes"],queryFn:async()=>await H.asServiceRole.entities.KamasutraLike.list("-created_date",2e3)||[]}),x=Ue({mutationFn:async({id:E,data:P})=>await H.asServiceRole.entities.KamasutraPosition.update(E,P),onSuccess:()=>{c.invalidateQueries({queryKey:["admin-kamasutra-positions"]}),e(null),a({})}}),g=Ue({mutationFn:async E=>await H.asServiceRole.entities.KamasutraComment.delete(E),onSuccess:()=>{c.invalidateQueries({queryKey:["admin-kamasutra-comments"]})}}),y=E=>{e(E.id),a(E)},b=()=>{t&&x.mutate({id:t,data:n})},_=()=>{e(null),a({})},j=async E=>{const P=E.target.files[0];if(P){i(!0);try{const{file_url:T}=await H.integrations.Core.UploadFile({file:P});a({...n,image_url:T})}catch{alert("Erro ao fazer upload da imagem")}finally{i(!1)}}};if(u||f)return r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(zt,{className:"w-8 h-8 text-purple-500 animate-spin"})});const S={},C={};return v.forEach(E=>{E&&E.position_id&&(S[E.position_id]=(S[E.position_id]||0)+1)}),h.forEach(E=>{E&&E.position_id&&(C[E.position_id]||(C[E.position_id]=[]),C[E.position_id].push(E))}),r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-white",children:"Kamasutra Manager"}),r.jsxs("p",{className:"text-gray-400 text-sm",children:[d.length," posies | ",h.length," comentrios | ",v.length," curtidas"]})]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-xl font-bold text-purple-400",children:" Posies"}),d.length===0?r.jsx(X,{className:"bg-slate-900/50 border-purple-500/30 p-8 text-center",children:r.jsx("p",{className:"text-gray-400",children:"Nenhuma posio cadastrada ainda"})}):d.map(E=>{if(!E||!E.id)return null;const P=C[E.id]||[],T=o===E.id;return r.jsx(X,{className:"bg-slate-900/50 border-purple-500/30 p-4",children:t===E.id?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-gray-400 mb-1 block",children:"Nome"}),r.jsx(je,{value:n.name||"",onChange:M=>a({...n,name:M.target.value}),className:"bg-slate-800 border-purple-900/30 text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-gray-400 mb-1 block",children:"Descrio"}),r.jsx(It,{value:n.description||"",onChange:M=>a({...n,description:M.target.value}),className:"bg-slate-800 border-purple-900/30 text-white h-32"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-gray-400 mb-1 block",children:"Dicas"}),r.jsx(It,{value:n.tips||"",onChange:M=>a({...n,tips:M.target.value}),className:"bg-slate-800 border-purple-900/30 text-white h-24"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-gray-400 mb-1 block",children:"Significado Mstico"}),r.jsx(It,{value:n.mystical_meaning||"",onChange:M=>a({...n,mystical_meaning:M.target.value}),className:"bg-slate-800 border-purple-900/30 text-white h-24"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-gray-400 mb-1 block",children:"Dificuldade"}),r.jsxs(Ds,{value:n.difficulty||"iniciante",onValueChange:M=>a({...n,difficulty:M}),children:[r.jsx(hs,{className:"bg-slate-800 border-purple-900/30 text-white",children:r.jsx(Is,{})}),r.jsxs(ms,{children:[r.jsx(Ot,{value:"iniciante",children:"Iniciante"}),r.jsx(Ot,{value:"intermedirio",children:"Intermedirio"}),r.jsx(Ot,{value:"avanado",children:"Avanado"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-gray-400 mb-1 block",children:"Categoria"}),r.jsxs(Ds,{value:n.category||"intimidade",onValueChange:M=>a({...n,category:M}),children:[r.jsx(hs,{className:"bg-slate-800 border-purple-900/30 text-white",children:r.jsx(Is,{})}),r.jsxs(ms,{children:[r.jsx(Ot,{value:"intimidade",children:"Intimidade"}),r.jsx(Ot,{value:"energia",children:"Energia"}),r.jsx(Ot,{value:"conexo",children:"Conexo"}),r.jsx(Ot,{value:"explorao",children:"Explorao"}),r.jsx(Ot,{value:"tntrico",children:"Tntrico"})]})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-gray-400 mb-2 block",children:"Imagem da Posio"}),n.image_url&&r.jsx("img",{src:n.image_url,alt:"Preview",className:"w-full h-48 object-cover rounded-lg mb-2"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(je,{value:n.image_url||"",onChange:M=>a({...n,image_url:M.target.value}),placeholder:"https://...",className:"bg-slate-800 border-purple-900/30 text-white flex-1"}),r.jsx(W,{onClick:()=>document.getElementById(`upload-${E.id}`).click(),disabled:s,variant:"outline",className:"border-purple-500/30",children:s?r.jsx(zt,{className:"w-4 h-4 animate-spin"}):r.jsx(Yme,{className:"w-4 h-4"})}),r.jsx("input",{id:`upload-${E.id}`,type:"file",accept:"image/*",onChange:j,className:"hidden"})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:n.is_active!==!1,onChange:M=>a({...n,is_active:M.target.checked}),className:"w-4 h-4"}),r.jsx("label",{className:"text-sm text-gray-300",children:"Posio Ativa (visvel no app)"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(W,{onClick:b,className:"bg-green-600 hover:bg-green-700",disabled:x.isPending,children:[r.jsx(oa,{className:"w-4 h-4 mr-2"}),"Salvar Alteraes"]}),r.jsxs(W,{onClick:_,variant:"outline",className:"border-gray-600 text-gray-300",children:[r.jsx(nt,{className:"w-4 h-4 mr-2"}),"Cancelar"]})]})]}):r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"text-lg font-bold text-white mb-1",children:E.name||"Sem nome"}),r.jsx("p",{className:"text-gray-400 text-sm mb-2 line-clamp-2",children:E.description||"Sem descrio"}),r.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[r.jsx(De,{className:"bg-purple-900/50",children:E.difficulty||"iniciante"}),r.jsx(De,{className:"bg-blue-900/50",children:E.category||"intimidade"}),E.is_active!==!1?r.jsxs(De,{className:"bg-green-900/50 text-green-400",children:[r.jsx(Vr,{className:"w-3 h-3 mr-1"}),"Ativa"]}):r.jsxs(De,{className:"bg-red-900/50 text-red-400",children:[r.jsx(ip,{className:"w-3 h-3 mr-1"}),"Inativa"]})]}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx($n,{className:"w-4 h-4 text-pink-400"}),S[E.id]||0," curtidas"]}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Da,{className:"w-4 h-4 text-blue-400"}),P.length," comentrios"]})]})]}),E.image_url?r.jsx("img",{src:E.image_url,alt:E.name,className:"w-32 h-32 object-cover rounded-lg ml-4 flex-shrink-0"}):r.jsx("div",{className:"w-32 h-32 bg-slate-800 rounded-lg ml-4 flex items-center justify-center flex-shrink-0",children:r.jsx(Sg,{className:"w-8 h-8 text-gray-600"})})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(W,{onClick:()=>y(E),size:"sm",className:"bg-purple-600 hover:bg-purple-700",children:[r.jsx(j1,{className:"w-4 h-4 mr-2"}),"Editar Posio"]}),r.jsxs(W,{onClick:()=>l(T?null:E.id),size:"sm",variant:"outline",className:"border-purple-500/30",children:[T?r.jsx(ux,{className:"w-4 h-4 mr-2"}):r.jsx(ld,{className:"w-4 h-4 mr-2"}),T?"Ocultar":"Ver"," Comentrios (",P.length,")"]})]}),r.jsx(gt,{children:T&&P.length>0&&r.jsxs(q.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-4 space-y-2 border-t border-purple-500/20 pt-4",children:[r.jsx("h5",{className:"text-sm font-bold text-purple-300 mb-2",children:" Comentrios desta Posio"}),P.map(M=>!M||!M.id?null:r.jsx(X,{className:"bg-slate-800/50 border-slate-700/30 p-3",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("span",{className:"text-white font-bold text-sm",children:M.is_anonymous?" Annimo":M.user_name||"Usurio"}),M.is_anonymous&&M.user_id&&r.jsxs(De,{className:"bg-yellow-900/50 text-yellow-400 text-xs",children:["ID: ",M.user_id.substring(0,8),"..."]})]}),r.jsx("p",{className:"text-gray-300 text-sm mb-1",children:M.comment||""}),M.created_date&&r.jsx("span",{className:"text-xs text-gray-500",children:Qo(new Date(M.created_date),{addSuffix:!0,locale:jn})})]}),r.jsx(W,{onClick:()=>{confirm("Excluir este comentrio?")&&g.mutate(M.id)},size:"sm",variant:"ghost",className:"text-red-400 hover:text-red-300 hover:bg-red-900/20",children:r.jsx(nt,{className:"w-4 h-4"})})]})},M.id))]})})]})},E.id)})]}),r.jsxs("div",{className:"space-y-4 mt-8",children:[r.jsx("h3",{className:"text-xl font-bold text-purple-400",children:" Todos os Comentrios Recentes"}),h.length===0?r.jsxs(X,{className:"bg-slate-900/50 border-purple-500/30 p-8 text-center",children:[r.jsx(Da,{className:"w-12 h-12 text-gray-600 mx-auto mb-2"}),r.jsx("p",{className:"text-gray-400",children:"Nenhum comentrio ainda"})]}):r.jsx("div",{className:"space-y-2",children:h.slice(0,100).map(E=>!E||!E.id?null:r.jsx(X,{className:"bg-slate-900/50 border-purple-500/30 p-4",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("span",{className:"text-white font-bold",children:E.is_anonymous?" Annimo":E.user_name||"Usurio"}),E.is_anonymous&&E.user_id&&r.jsxs(De,{className:"bg-yellow-900/50 text-yellow-400 text-xs",children:["ID: ",E.user_id.substring(0,8),"..."]}),r.jsx("span",{className:"text-gray-500 text-xs",children:""}),r.jsx("span",{className:"text-purple-400 text-sm",children:E.position_name||"Posio"})]}),r.jsx("p",{className:"text-gray-300 text-sm mb-2",children:E.comment||""}),E.created_date&&r.jsx("span",{className:"text-xs text-gray-500",children:Qo(new Date(E.created_date),{addSuffix:!0,locale:jn})})]}),r.jsx(W,{onClick:()=>{confirm("Excluir este comentrio?")&&g.mutate(E.id)},size:"sm",variant:"ghost",className:"text-red-400 hover:text-red-300 hover:bg-red-900/20",children:r.jsx(nt,{className:"w-4 h-4"})})]})},E.id))})]})]})}function Fq(){const[t,e]=w.useState(""),[n,a]=w.useState([]),[s,i]=w.useState(!1);wt(),w.useEffect(()=>{o()},[]);const o=async()=>{i(!0);const f=new Set;try{const[v,x,g,y,b,_,j]=await Promise.all([H.asServiceRole.entities.User.list("-created_date",1e3),H.asServiceRole.entities.Post.list("-created_date",500),H.asServiceRole.entities.KamasutraPosition.list("-created_date",200),H.asServiceRole.entities.MysticalProduct.list("-created_date",200),H.asServiceRole.entities.VoiceContent.list("-created_date",200),H.asServiceRole.entities.PortalVideo.list("-created_date",200),H.asServiceRole.entities.Article.list("-created_date",200)]);v.forEach(C=>{C.avatar_url&&f.add(JSON.stringify({url:C.avatar_url,type:"image",source:"User Avatar",entity:"User",entityId:C.id,userName:C.display_name||C.full_name,createdDate:C.created_date})),C.banner_url&&f.add(JSON.stringify({url:C.banner_url,type:"image",source:"User Banner",entity:"User",entityId:C.id,userName:C.display_name||C.full_name,createdDate:C.created_date}))}),x.forEach(C=>{C.images&&Array.isArray(C.images)&&C.images.forEach(E=>{f.add(JSON.stringify({url:E,type:"image",source:"Post",entity:"Post",entityId:C.id,userName:C.author_name,createdDate:C.created_date}))}),C.audio_url&&f.add(JSON.stringify({url:C.audio_url,type:"audio",source:"Post Audio",entity:"Post",entityId:C.id,userName:C.author_name,createdDate:C.created_date}))}),g.forEach(C=>{C.image_url&&f.add(JSON.stringify({url:C.image_url,type:"image",source:"Kamasutra Position",entity:"KamasutraPosition",entityId:C.id,userName:C.name,createdDate:C.created_date}))}),y.forEach(C=>{C.image_url&&f.add(JSON.stringify({url:C.image_url,type:"image",source:"Product",entity:"MysticalProduct",entityId:C.id,userName:C.name,createdDate:C.created_date}))}),b.forEach(C=>{C.audio_url&&f.add(JSON.stringify({url:C.audio_url,type:"audio",source:"Voice Content",entity:"VoiceContent",entityId:C.id,userName:C.title,createdDate:C.created_date}))}),_.forEach(C=>{C.thumbnail_url&&f.add(JSON.stringify({url:C.thumbnail_url,type:"image",source:"Video Thumbnail",entity:"PortalVideo",entityId:C.id,userName:C.title,createdDate:C.created_date})),C.video_url&&f.add(JSON.stringify({url:C.video_url,type:"video",source:"Video",entity:"PortalVideo",entityId:C.id,userName:C.title,createdDate:C.created_date}))}),j.forEach(C=>{C.cover_image&&f.add(JSON.stringify({url:C.cover_image,type:"image",source:"Article Cover",entity:"Article",entityId:C.id,userName:C.title,createdDate:C.created_date}))});const S=Array.from(f).map(C=>JSON.parse(C));S.sort((C,E)=>new Date(E.createdDate)-new Date(C.createdDate)),a(S)}catch(v){console.error("Erro ao escanear mdia:",v)}finally{i(!1)}},l=f=>{switch(f){case"image":return r.jsx(Sg,{className:"w-4 h-4"});case"audio":return r.jsx(pu,{className:"w-4 h-4"});case"video":return r.jsx(La,{className:"w-4 h-4"});default:return r.jsx(Hue,{className:"w-4 h-4"})}},c=f=>{switch(f){case"image":return"bg-blue-900/50 text-blue-400";case"audio":return"bg-purple-900/50 text-purple-400";case"video":return"bg-pink-900/50 text-pink-400";default:return"bg-gray-900/50 text-gray-400"}},d=f=>{navigator.clipboard.writeText(f),alert("URL copiada!")},u=n.filter(f=>{var v,x,g;return((v=f.url)==null?void 0:v.toLowerCase().includes(t.toLowerCase()))||((x=f.source)==null?void 0:x.toLowerCase().includes(t.toLowerCase()))||((g=f.userName)==null?void 0:g.toLowerCase().includes(t.toLowerCase()))}),h=u.filter(f=>(new Date-new Date(f.createdDate))/864e5<=7);return s?r.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[r.jsx(zt,{className:"w-12 h-12 text-purple-500 animate-spin mb-4"}),r.jsx("p",{className:"text-gray-400",children:"Escaneando mdia em todas as entidades..."})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-white",children:"Gerenciador de Mdia"}),r.jsxs("p",{className:"text-gray-400 text-sm",children:[n.length," arquivos de mdia encontrados"]})]}),r.jsxs(W,{onClick:o,className:"bg-purple-600 hover:bg-purple-700",children:[r.jsx(zt,{className:"w-4 h-4 mr-2"}),"Reescanear"]})]}),r.jsxs("div",{className:"relative",children:[r.jsx($s,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),r.jsx(je,{value:t,onChange:f=>e(f.target.value),placeholder:"Buscar mdia...",className:"pl-10 bg-slate-800 border-purple-900/30 text-white"})]}),h.length>0&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-bold text-purple-400 mb-3",children:" Mdia Recente (ltimos 7 dias)"}),r.jsx("div",{className:"space-y-2",children:h.slice(0,10).map((f,v)=>r.jsx(X,{className:"bg-gradient-to-r from-purple-900/30 to-slate-900/30 border-purple-500/50 p-3",children:r.jsxs("div",{className:"flex items-start gap-3",children:[f.type==="image"&&r.jsx("img",{src:f.url,alt:"",className:"w-16 h-16 object-cover rounded-lg flex-shrink-0"}),f.type!=="image"&&r.jsx("div",{className:`w-16 h-16 rounded-lg flex items-center justify-center flex-shrink-0 ${c(f.type)}`,children:l(f.type)}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(De,{className:c(f.type),children:f.type}),r.jsx(De,{variant:"outline",className:"text-gray-400 text-xs",children:f.source}),r.jsx(De,{className:"bg-green-900/50 text-green-400 text-xs",children:"NOVO"})]}),r.jsx("p",{className:"text-white text-sm font-medium mb-1 truncate",children:f.userName}),r.jsx("p",{className:"text-gray-400 text-xs truncate",children:f.url}),r.jsx("span",{className:"text-xs text-gray-500",children:Qo(new Date(f.createdDate),{addSuffix:!0,locale:jn})})]}),r.jsxs("div",{className:"flex gap-1",children:[r.jsx(W,{onClick:()=>d(f.url),size:"sm",variant:"ghost",className:"text-gray-400 hover:text-white",children:r.jsx(hx,{className:"w-4 h-4"})}),r.jsx(W,{onClick:()=>window.open(f.url,"_blank"),size:"sm",variant:"ghost",className:"text-gray-400 hover:text-white",children:r.jsx($b,{className:"w-4 h-4"})})]})]})},v))})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-bold text-purple-400 mb-3",children:" Toda a Mdia"}),r.jsx("div",{className:"space-y-2",children:u.map((f,v)=>r.jsx(X,{className:"bg-slate-900/50 border-purple-500/30 p-3",children:r.jsxs("div",{className:"flex items-start gap-3",children:[f.type==="image"&&r.jsx("img",{src:f.url,alt:"",className:"w-16 h-16 object-cover rounded-lg flex-shrink-0"}),f.type!=="image"&&r.jsx("div",{className:`w-16 h-16 rounded-lg flex items-center justify-center flex-shrink-0 ${c(f.type)}`,children:l(f.type)}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(De,{className:c(f.type),children:f.type}),r.jsx(De,{variant:"outline",className:"text-gray-400 text-xs",children:f.source})]}),r.jsx("p",{className:"text-white text-sm font-medium mb-1 truncate",children:f.userName}),r.jsx("p",{className:"text-gray-400 text-xs truncate",children:f.url}),r.jsx("span",{className:"text-xs text-gray-500",children:Qo(new Date(f.createdDate),{addSuffix:!0,locale:jn})})]}),r.jsxs("div",{className:"flex gap-1",children:[r.jsx(W,{onClick:()=>d(f.url),size:"sm",variant:"ghost",className:"text-gray-400 hover:text-white",children:r.jsx(hx,{className:"w-4 h-4"})}),r.jsx(W,{onClick:()=>window.open(f.url,"_blank"),size:"sm",variant:"ghost",className:"text-gray-400 hover:text-white",children:r.jsx($b,{className:"w-4 h-4"})})]})]})},v))})]})]})}function $q(){const t=wt(),[e,n]=w.useState(""),[a,s]=w.useState(!1),{data:i=[],isLoading:o}=Oe({queryKey:["admin-global-chat"],queryFn:()=>H.entities.ChatMessage.filter({room_id:"global"},"-created_date",500),refetchInterval:5e3}),l=Ue({mutationFn:async u=>{await H.entities.ChatMessage.delete(u)},onSuccess:()=>{t.invalidateQueries({queryKey:["admin-global-chat"]}),qe.success("Mensagem deletada")}}),c=Ue({mutationFn:async()=>{const u=await H.entities.ChatMessage.filter({room_id:"global"});await Promise.all(u.map(h=>H.entities.ChatMessage.delete(h.id))),await H.entities.ChatMessage.create({room_id:"global",author_id:"system",author_name:"Zamira",author_avatar:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/690e5f6f991e09e82bef3795/a3f627646_imgi_2_337f3cf9e282bc41c87500e885414629.png",author_level:99,author_archetype:"none",message_type:"text",content:" Bem-vindos ao novo portal mstico! Este  um espao renovado para conexes profundas. Que as energias fluam! ",reactions:{}})},onSuccess:()=>{t.invalidateQueries({queryKey:["admin-global-chat"]}),qe.success("Chat global resetado com sucesso!"),s(!1)},onError:()=>{qe.error("Erro ao resetar chat")}}),d=i.filter(u=>{var h,f;return((h=u.content)==null?void 0:h.toLowerCase().includes(e.toLowerCase()))||((f=u.author_name)==null?void 0:f.toLowerCase().includes(e.toLowerCase()))});return r.jsxs("div",{className:"space-y-4",children:[r.jsxs(X,{className:"bg-slate-900/50 border-purple-500/30 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"text-xl font-bold text-purple-300 flex items-center gap-2",children:[r.jsx(Pr,{className:"w-6 h-6"}),"Gerenciar Chat Global"]}),r.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:[i.length," mensagens  Atualizao automtica"]})]}),r.jsxs(W,{onClick:()=>s(!0),variant:"destructive",className:"bg-red-600 hover:bg-red-700",children:[r.jsx(fx,{className:"w-4 h-4 mr-2"}),"Resetar Chat"]})]}),r.jsx(je,{placeholder:"Buscar mensagens ou usurios...",value:e,onChange:u=>n(u.target.value),className:"bg-slate-800 border-purple-900/30 mb-4"})]}),a&&r.jsx(X,{className:"bg-red-900/20 border-red-500/30 p-6",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx(N1,{className:"w-8 h-8 text-red-400 flex-shrink-0"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"text-lg font-bold text-red-300 mb-2",children:"Confirmar Reset do Chat Global"}),r.jsx("p",{className:"text-gray-300 mb-4",children:"Esta ao ir deletar TODAS as mensagens antigas e criar uma nova mensagem de boas-vindas. Esta ao no pode ser desfeita."}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx(W,{onClick:()=>c.mutate(),disabled:c.isPending,className:"bg-red-600 hover:bg-red-700",children:c.isPending?r.jsxs(r.Fragment,{children:[r.jsx(zt,{className:"w-4 h-4 mr-2 animate-spin"}),"Resetando..."]}):r.jsxs(r.Fragment,{children:[r.jsx(fx,{className:"w-4 h-4 mr-2"}),"Confirmar Reset"]})}),r.jsx(W,{onClick:()=>s(!1),variant:"outline",className:"border-gray-600",children:"Cancelar"})]})]})]})}),o?r.jsxs(X,{className:"bg-slate-900/50 border-purple-500/30 p-12 text-center",children:[r.jsx(zt,{className:"w-12 h-12 text-purple-500 animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-gray-400",children:"Carregando mensagens..."})]}):r.jsx("div",{className:"space-y-2",children:d.map(u=>r.jsx(X,{className:"bg-slate-900/50 border-purple-500/30 p-4",children:r.jsxs("div",{className:"flex items-start justify-between gap-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.author_avatar&&r.jsx("img",{src:u.author_avatar,alt:"",className:"w-10 h-10 rounded-full border-2 border-purple-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-white font-bold",children:u.author_name}),r.jsxs("p",{className:"text-xs text-gray-400",children:["Nv.",u.author_level,"  ",Qo(new Date(u.created_date),{addSuffix:!0,locale:jn})]})]})]}),r.jsx("p",{className:"text-gray-300 mb-2",children:u.content}),u.message_type==="audio"&&u.media_url&&r.jsx("audio",{controls:!0,className:"w-full max-w-md",children:r.jsx("source",{src:u.media_url,type:"audio/webm"})})]}),r.jsx(W,{onClick:()=>l.mutate(u.id),disabled:l.isPending,size:"icon",variant:"ghost",className:"text-red-400 hover:text-red-300 hover:bg-red-900/20",children:r.jsx(qr,{className:"w-5 h-5"})})]})},u.id))})]})}function Uq(){const[t,e]=w.useState(null),[n,a]=w.useState(!1),[s,i]=w.useState({}),o=wt(),{data:l=[],isLoading:c}=Oe({queryKey:["admin-magic-cards"],queryFn:async()=>await H.asServiceRole.entities.MagicCard.list("-created_date",500)}),d=Ue({mutationFn:async b=>await H.asServiceRole.entities.MagicCard.create(b),onSuccess:()=>{o.invalidateQueries({queryKey:["admin-magic-cards"]}),a(!1),i({})}}),u=Ue({mutationFn:async({id:b,data:_})=>await H.asServiceRole.entities.MagicCard.update(b,_),onSuccess:()=>{o.invalidateQueries({queryKey:["admin-magic-cards"]}),e(null),i({})}}),h=Ue({mutationFn:async b=>await H.asServiceRole.entities.MagicCard.delete(b),onSuccess:()=>{o.invalidateQueries({queryKey:["admin-magic-cards"]})}}),f=()=>{a(!0),i({name:"",type:"criatura",color:"branco",mana_cost:1,power:1,toughness:1,description:"",rarity:"comum",is_active:!0})},v=b=>{e(b.id),i(b)},x=()=>{n?d.mutate(s):t&&u.mutate({id:t,data:s})},g=()=>{e(null),a(!1),i({})};if(c)return r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(zt,{className:"w-8 h-8 text-purple-500 animate-spin"})});const y=()=>r.jsx(X,{className:"bg-slate-900/50 border-purple-500/30 p-4 mb-4",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-gray-400 mb-1 block",children:"Nome da Carta"}),r.jsx(je,{value:s.name||"",onChange:b=>i({...s,name:b.target.value}),className:"bg-slate-800 border-purple-900/30 text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-gray-400 mb-1 block",children:"Tipo"}),r.jsxs(Ds,{value:s.type||"criatura",onValueChange:b=>i({...s,type:b}),children:[r.jsx(hs,{className:"bg-slate-800 border-purple-900/30 text-white",children:r.jsx(Is,{})}),r.jsxs(ms,{children:[r.jsx(Ot,{value:"criatura",children:"Criatura"}),r.jsx(Ot,{value:"feitico",children:"Feitio"}),r.jsx(Ot,{value:"instantaneo",children:"Instantneo"}),r.jsx(Ot,{value:"encantamento",children:"Encantamento"}),r.jsx(Ot,{value:"artefato",children:"Artefato"}),r.jsx(Ot,{value:"terreno",children:"Terreno"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-gray-400 mb-1 block",children:"Cor"}),r.jsxs(Ds,{value:s.color||"branco",onValueChange:b=>i({...s,color:b}),children:[r.jsx(hs,{className:"bg-slate-800 border-purple-900/30 text-white",children:r.jsx(Is,{})}),r.jsxs(ms,{children:[r.jsx(Ot,{value:"branco",children:" Branco"}),r.jsx(Ot,{value:"azul",children:" Azul"}),r.jsx(Ot,{value:"preto",children:" Preto"}),r.jsx(Ot,{value:"vermelho",children:" Vermelho"}),r.jsx(Ot,{value:"verde",children:" Verde"}),r.jsx(Ot,{value:"incolor",children:" Incolor"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-gray-400 mb-1 block",children:"Custo Mana"}),r.jsx(je,{type:"number",value:s.mana_cost||1,onChange:b=>i({...s,mana_cost:parseInt(b.target.value)}),className:"bg-slate-800 border-purple-900/30 text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-gray-400 mb-1 block",children:"Raridade"}),r.jsxs(Ds,{value:s.rarity||"comum",onValueChange:b=>i({...s,rarity:b}),children:[r.jsx(hs,{className:"bg-slate-800 border-purple-900/30 text-white",children:r.jsx(Is,{})}),r.jsxs(ms,{children:[r.jsx(Ot,{value:"comum",children:"Comum"}),r.jsx(Ot,{value:"incomum",children:"Incomum"}),r.jsx(Ot,{value:"rara",children:"Rara"}),r.jsx(Ot,{value:"mitica",children:"Mtica"})]})]})]})]}),s.type==="criatura"&&r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-gray-400 mb-1 block",children:"Poder"}),r.jsx(je,{type:"number",value:s.power||1,onChange:b=>i({...s,power:parseInt(b.target.value)}),className:"bg-slate-800 border-purple-900/30 text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-gray-400 mb-1 block",children:"Resistncia"}),r.jsx(je,{type:"number",value:s.toughness||1,onChange:b=>i({...s,toughness:parseInt(b.target.value)}),className:"bg-slate-800 border-purple-900/30 text-white"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-gray-400 mb-1 block",children:"Descrio/Efeito"}),r.jsx(It,{value:s.description||"",onChange:b=>i({...s,description:b.target.value}),className:"bg-slate-800 border-purple-900/30 text-white h-24"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-gray-400 mb-1 block",children:"Texto de Sabor"}),r.jsx(It,{value:s.flavor_text||"",onChange:b=>i({...s,flavor_text:b.target.value}),className:"bg-slate-800 border-purple-900/30 text-white h-20"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-gray-400 mb-1 block",children:"URL da Imagem"}),r.jsx(je,{value:s.image_url||"",onChange:b=>i({...s,image_url:b.target.value}),placeholder:"https://...",className:"bg-slate-800 border-purple-900/30 text-white"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(W,{onClick:x,className:"bg-green-600 hover:bg-green-700",children:[r.jsx(oa,{className:"w-4 h-4 mr-2"}),n?"Criar Carta":"Salvar"]}),r.jsxs(W,{onClick:g,variant:"outline",className:"border-gray-600 text-gray-300",children:[r.jsx(nt,{className:"w-4 h-4 mr-2"}),"Cancelar"]})]})]})});return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-white",children:"Magic: Gerenciador de Cartas"}),r.jsxs("p",{className:"text-gray-400 text-sm",children:[l.length," cartas no sistema"]})]}),r.jsxs(W,{onClick:f,className:"bg-purple-600 hover:bg-purple-700",children:[r.jsx(_r,{className:"w-4 h-4 mr-2"}),"Nova Carta"]})]}),(n||t)&&r.jsx(y,{}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map(b=>r.jsxs(X,{className:"bg-slate-900/50 border-purple-500/30 p-4",children:[b.image_url&&r.jsx("img",{src:b.image_url,alt:b.name,className:"w-full h-40 object-cover rounded-lg mb-3"}),r.jsx("h3",{className:"text-white font-bold mb-1",children:b.name}),r.jsxs("div",{className:"flex flex-wrap gap-1 mb-2",children:[r.jsx(De,{className:"bg-blue-900/50 text-xs",children:b.type}),r.jsx(De,{className:"bg-purple-900/50 text-xs",children:b.color}),r.jsx(De,{className:"bg-yellow-900/50 text-xs",children:b.rarity})]}),b.type==="criatura"&&r.jsxs("p",{className:"text-sm text-gray-400 mb-2",children:[b.power,"/",b.toughness]}),r.jsx("p",{className:"text-xs text-gray-300 mb-3 line-clamp-2",children:b.description}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(W,{onClick:()=>v(b),size:"sm",variant:"outline",className:"flex-1",children:[r.jsx(j1,{className:"w-3 h-3 mr-1"}),"Editar"]}),r.jsx(W,{onClick:()=>{confirm("Deletar esta carta?")&&h.mutate(b.id)},size:"sm",variant:"ghost",className:"text-red-400 hover:text-red-300",children:r.jsx(W3,{className:"w-3 h-3"})})]})]},b.id))})]})}function Bq(){const[t,e]=w.useState(null),[n,a]=w.useState(!1),[s,i]=w.useState({}),o=wt(),{data:l=[],isLoading:c}=Oe({queryKey:["admin-skins"],queryFn:async()=>await H.asServiceRole.entities.Skin.list("-created_date",500)}),d=Ue({mutationFn:async _=>await H.asServiceRole.entities.Skin.create(_),onSuccess:()=>{o.invalidateQueries({queryKey:["admin-skins"]}),a(!1),i({})}}),u=Ue({mutationFn:async({id:_,data:j})=>await H.asServiceRole.entities.Skin.update(_,j),onSuccess:()=>{o.invalidateQueries({queryKey:["admin-skins"]}),e(null),i({})}}),h=Ue({mutationFn:async _=>await H.asServiceRole.entities.Skin.delete(_),onSuccess:()=>{o.invalidateQueries({queryKey:["admin-skins"]})}}),f=Ue({mutationFn:async({id:_,isAvailable:j})=>await H.asServiceRole.entities.Skin.update(_,{is_available:!j}),onSuccess:()=>{o.invalidateQueries({queryKey:["admin-skins"]})}}),v=()=>{a(!0),i({name:"",description:"",image_url:"",rarity:"comum",price_ouros:100,is_available:!0,category:"criatura"})},x=_=>{e(_.id),i(_)},g=()=>{n?d.mutate(s):t&&u.mutate({id:t,data:s})},y=()=>{e(null),a(!1),i({})};if(c)return r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(zt,{className:"w-8 h-8 text-purple-500 animate-spin"})});const b=()=>r.jsx(X,{className:"bg-slate-800/70 border-purple-500/20 p-4 mb-4",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-gray-300 mb-1 block",children:"Nome da Skin"}),r.jsx(je,{value:s.name||"",onChange:_=>i({...s,name:_.target.value}),className:"bg-slate-900/70 border-gray-700 text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-gray-300 mb-1 block",children:"Categoria"}),r.jsxs(Ds,{value:s.category||"criatura",onValueChange:_=>i({...s,category:_}),children:[r.jsx(hs,{className:"bg-slate-900/70 border-gray-700 text-white",children:r.jsx(Is,{})}),r.jsxs(ms,{children:[r.jsx(Ot,{value:"criatura",children:"Criatura"}),r.jsx(Ot,{value:"elemental",children:"Elemental"}),r.jsx(Ot,{value:"mistico",children:"Mstico"}),r.jsx(Ot,{value:"divino",children:"Divino"}),r.jsx(Ot,{value:"sombrio",children:"Sombrio"})]})]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-gray-300 mb-1 block",children:"Raridade"}),r.jsxs(Ds,{value:s.rarity||"comum",onValueChange:_=>i({...s,rarity:_}),children:[r.jsx(hs,{className:"bg-slate-900/70 border-gray-700 text-white",children:r.jsx(Is,{})}),r.jsxs(ms,{children:[r.jsx(Ot,{value:"comum",children:"Comum"}),r.jsx(Ot,{value:"rara",children:"Rara"}),r.jsx(Ot,{value:"epica",children:"pica"}),r.jsx(Ot,{value:"lendaria",children:"Lendria"}),r.jsx(Ot,{value:"mitica",children:"Mtica"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-gray-300 mb-1 block",children:"Preo (Ouros)"}),r.jsx(je,{type:"number",value:s.price_ouros||100,onChange:_=>i({...s,price_ouros:parseInt(_.target.value)}),className:"bg-slate-900/70 border-gray-700 text-white"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-gray-300 mb-1 block",children:"Descrio"}),r.jsx(It,{value:s.description||"",onChange:_=>i({...s,description:_.target.value}),className:"bg-slate-900/70 border-gray-700 text-white h-20"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-gray-300 mb-1 block",children:"Lore"}),r.jsx(It,{value:s.lore||"",onChange:_=>i({...s,lore:_.target.value}),className:"bg-slate-900/70 border-gray-700 text-white h-24"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-gray-300 mb-1 block",children:"URL da Imagem"}),r.jsx(je,{value:s.image_url||"",onChange:_=>i({...s,image_url:_.target.value}),placeholder:"https://...",className:"bg-slate-900/70 border-gray-700 text-white"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(W,{onClick:g,className:"bg-green-600 hover:bg-green-700 text-white",children:[r.jsx(oa,{className:"w-4 h-4 mr-2"}),n?"Criar Skin":"Salvar"]}),r.jsxs(W,{onClick:y,className:"bg-gray-700 hover:bg-gray-600 text-gray-200",children:[r.jsx(nt,{className:"w-4 h-4 mr-2"}),"Cancelar"]})]})]})});return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-white",children:"Gerenciador de Skins"}),r.jsxs("p",{className:"text-gray-300 text-sm",children:[l.length," skins no sistema"]})]}),r.jsxs(W,{onClick:v,className:"bg-purple-600 hover:bg-purple-700 text-white",children:[r.jsx(_r,{className:"w-4 h-4 mr-2"}),"Nova Skin"]})]}),(n||t)&&r.jsx(b,{}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map(_=>r.jsxs(X,{className:"bg-slate-800/70 border-purple-500/20 p-4",children:[_.image_url&&r.jsx("img",{src:_.image_url,alt:_.name,className:"w-full h-40 object-cover rounded-lg mb-3"}),r.jsx("h3",{className:"text-white font-bold mb-1",children:_.name}),r.jsxs("div",{className:"flex flex-wrap gap-1 mb-2",children:[r.jsx(De,{className:"bg-purple-900/50 text-xs text-gray-200",children:_.rarity}),r.jsxs(De,{className:"bg-blue-900/50 text-xs text-gray-200",children:[_.price_ouros," "]}),!_.is_available&&r.jsx(De,{className:"bg-red-900/50 text-xs text-gray-200",children:"Indisponvel"})]}),r.jsx("p",{className:"text-xs text-gray-300 mb-3 line-clamp-2",children:_.description}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(W,{onClick:()=>x(_),size:"sm",className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white",children:[r.jsx(j1,{className:"w-3 h-3 mr-1"}),"Editar"]}),r.jsx(W,{onClick:()=>f.mutate({id:_.id,isAvailable:_.is_available}),size:"sm",className:`${_.is_available?"bg-orange-600 hover:bg-orange-700":"bg-green-600 hover:bg-green-700"} text-white`,children:_.is_available?r.jsx(ip,{className:"w-3 h-3"}):r.jsx(Vr,{className:"w-3 h-3"})}),r.jsx(W,{onClick:()=>{confirm("Deletar esta skin?")&&h.mutate(_.id)},size:"sm",className:"bg-red-600 hover:bg-red-700 text-white",children:r.jsx(W3,{className:"w-3 h-3"})})]})]},_.id))})]})}function zq(){const[t,e]=w.useState(null),[n,a]=w.useState(!1),[s,i]=w.useState({}),o=wt(),{data:l=[],isLoading:c}=Oe({queryKey:["admin-pdfs"],queryFn:async()=>await H.asServiceRole.entities.PDFLibrary.list("-created_date",500)}),d=Ue({mutationFn:async _=>await H.asServiceRole.entities.PDFLibrary.create(_),onSuccess:()=>{o.invalidateQueries({queryKey:["admin-pdfs"]}),a(!1),i({})}}),u=Ue({mutationFn:async({id:_,data:j})=>await H.asServiceRole.entities.PDFLibrary.update(_,j),onSuccess:()=>{o.invalidateQueries({queryKey:["admin-pdfs"]}),e(null),i({})}}),h=Ue({mutationFn:async _=>await H.asServiceRole.entities.PDFLibrary.delete(_),onSuccess:()=>{o.invalidateQueries({queryKey:["admin-pdfs"]})}}),f=Ue({mutationFn:async({id:_,isActive:j})=>await H.asServiceRole.entities.PDFLibrary.update(_,{is_active:!j}),onSuccess:()=>{o.invalidateQueries({queryKey:["admin-pdfs"]})}}),v=()=>{a(!0),i({title:"",description:"",pdf_url:"",cover_image_url:"",category:"outros",is_premium:!1,is_active:!0,views_count:0,order:0})},x=_=>{e(_.id),i(_)},g=()=>{n?d.mutate(s):t&&u.mutate({id:t,data:s})},y=()=>{e(null),a(!1),i({})};if(c)return r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(zt,{className:"w-8 h-8 text-purple-500 animate-spin"})});const b=()=>r.jsx(X,{className:"bg-white border-gray-300 p-6 mb-6 shadow-sm",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-gray-700 font-medium mb-2 block",children:"Ttulo do PDF"}),r.jsx(je,{value:s.title||"",onChange:_=>i({...s,title:_.target.value}),className:"bg-gray-50 border-gray-300 text-gray-900"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-gray-700 font-medium mb-2 block",children:"Descrio"}),r.jsx(It,{value:s.description||"",onChange:_=>i({...s,description:_.target.value}),className:"bg-gray-50 border-gray-300 text-gray-900 h-24"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-gray-700 font-medium mb-2 block",children:"Categoria"}),r.jsxs(Ds,{value:s.category||"outros",onValueChange:_=>i({...s,category:_}),children:[r.jsx(hs,{className:"bg-gray-50 border-gray-300 text-gray-900",children:r.jsx(Is,{})}),r.jsxs(ms,{children:[r.jsx(Ot,{value:"receitas",children:"Receitas"}),r.jsx(Ot,{value:"mundo_holistico",children:"Mundo Holstico"}),r.jsx(Ot,{value:"marketing_digital",children:"Marketing Digital"}),r.jsx(Ot,{value:"saude_mental",children:"Sade Mental"}),r.jsx(Ot,{value:"outros",children:"Outros"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-gray-700 font-medium mb-2 block",children:"Ordem de Exibio"}),r.jsx(je,{type:"number",value:s.order||0,onChange:_=>i({...s,order:parseInt(_.target.value)}),className:"bg-gray-50 border-gray-300 text-gray-900"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-gray-700 font-medium mb-2 block",children:"URL do PDF"}),r.jsx(je,{value:s.pdf_url||"",onChange:_=>i({...s,pdf_url:_.target.value}),placeholder:"https://...",className:"bg-gray-50 border-gray-300 text-gray-900"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-gray-700 font-medium mb-2 block",children:"URL da Capa (opcional)"}),r.jsx(je,{value:s.cover_image_url||"",onChange:_=>i({...s,cover_image_url:_.target.value}),placeholder:"https://...",className:"bg-gray-50 border-gray-300 text-gray-900"})]}),r.jsx("div",{className:"flex items-center gap-4",children:r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:s.is_premium||!1,onChange:_=>i({...s,is_premium:_.target.checked}),className:"w-4 h-4"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Exclusivo PRO"})]})}),r.jsxs("div",{className:"flex gap-2 pt-4",children:[r.jsxs(W,{onClick:g,className:"bg-green-600 hover:bg-green-700 text-white",children:[r.jsx(oa,{className:"w-4 h-4 mr-2"}),n?"Criar PDF":"Salvar"]}),r.jsxs(W,{onClick:y,className:"bg-gray-500 hover:bg-gray-600 text-white",children:[r.jsx(nt,{className:"w-4 h-4 mr-2"}),"Cancelar"]})]})]})});return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Enciclopdia - Gerenciador de PDFs"}),r.jsxs("p",{className:"text-gray-600 text-sm",children:[l.length," PDFs no sistema"]})]}),r.jsxs(W,{onClick:v,className:"bg-purple-600 hover:bg-purple-700 text-white",children:[r.jsx(_r,{className:"w-4 h-4 mr-2"}),"Novo PDF"]})]}),(n||t)&&r.jsx(b,{}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map(_=>r.jsxs(X,{className:"bg-white border-gray-300 p-4 shadow-sm",children:[_.cover_image_url&&r.jsx("img",{src:_.cover_image_url,alt:_.title,className:"w-full h-32 object-cover rounded-lg mb-3"}),r.jsx("h3",{className:"text-gray-900 font-bold mb-1",children:_.title}),r.jsxs("div",{className:"flex flex-wrap gap-1 mb-2",children:[r.jsx(De,{className:"bg-purple-100 text-purple-800 text-xs",children:_.category}),_.is_premium&&r.jsx(De,{className:"bg-yellow-100 text-yellow-800 text-xs",children:"PRO"}),!_.is_active&&r.jsx(De,{className:"bg-red-100 text-red-800 text-xs",children:"Inativo"}),r.jsxs(De,{className:"bg-gray-100 text-gray-800 text-xs",children:[_.views_count||0," views"]})]}),r.jsx("p",{className:"text-xs text-gray-600 mb-3 line-clamp-2",children:_.description}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(W,{onClick:()=>x(_),size:"sm",className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white",children:[r.jsx(j1,{className:"w-3 h-3 mr-1"}),"Editar"]}),r.jsx(W,{onClick:()=>f.mutate({id:_.id,isActive:_.is_active}),size:"sm",className:`${_.is_active?"bg-orange-600 hover:bg-orange-700":"bg-green-600 hover:bg-green-700"} text-white`,children:_.is_active?r.jsx(ip,{className:"w-3 h-3"}):r.jsx(Vr,{className:"w-3 h-3"})}),r.jsx(W,{onClick:()=>{confirm("Deletar este PDF?")&&h.mutate(_.id)},size:"sm",className:"bg-red-600 hover:bg-red-700 text-white",children:r.jsx(W3,{className:"w-3 h-3"})})]})]},_.id))})]})}const qze=["mawemaster@gmail.com","chotteemelyn@gmail.com"];function yre(){var y;const t=Sn(),[e,n]=w.useState(null),[a,s]=w.useState("dashboard"),[i,o]=w.useState(""),[l,c]=w.useState(""),[d,u]=w.useState(!1);w.useEffect(()=>{h()},[]);const h=async()=>{try{const b=await H.auth.me();n(b)}catch(b){console.error("Erro de autenticao:",b),t("/Hub")}},f=Ue({mutationFn:async b=>(await H.functions.invoke("sendGlobalMessage",{message:b})).data,onSuccess:b=>{alert(` Mensagem enviada para ${b.sent_to} usurios!`),c(""),u(!1)},onError:b=>{alert("Erro ao enviar mensagem: "+b.message)}}),v=()=>{l.trim()&&f.mutate(l)},x=[{id:"dashboard",label:"Dashboard",icon:On,component:pF},{id:"portal_tarot",label:"Portal Tarot",icon:she,component:Tq},{id:"zamira_city",label:"Zamira City",icon:Ts,component:kq},{id:"kamasutra",label:"Kamasutra",icon:_e,component:Lq},{id:"media",label:"Mdia",icon:HH,component:Fq},{id:"chat",label:"Chat Global",icon:Pr,component:$q},{id:"consultations",label:"Consultas",icon:La,component:Dq},{id:"reports",label:"Denncias",icon:z3,component:Iq},{id:"pages",label:"Editor",icon:li,component:TF},{id:"tracking",label:"Tracking",icon:xue,component:kF},{id:"users",label:"Usurios",icon:Kn,component:xF},{id:"messages",label:"Conversas",icon:Pr,component:gF},{id:"posts",label:"Posts",icon:li,component:vF},{id:"products",label:"Produtos",icon:Ia,component:yF},{id:"content",label:"Contedo",icon:La,component:SF},{id:"quizzes",label:"Quizzes",icon:ho,component:PF},{id:"games",label:"Jogos",icon:Ts,component:EF},{id:"app",label:"App",icon:aG,component:AF},{id:"ads",label:"Ads",icon:fu,component:MF},{id:"economy",label:"Economia",icon:Gn,component:bF},{id:"prices",label:"Preos",icon:dh,component:Oq},{id:"support",label:"Suporte",icon:mx,component:jF},{id:"subscriptions",label:"PRO",icon:Bn,component:NF},{id:"analytics",label:"Analytics",icon:ff,component:wF},{id:"sounds",label:"Sons",icon:Ko,component:CF},{id:"system",label:"Sistema",icon:dd,component:_F},{id:"magic",label:"Magic Cards",icon:xr,component:Uq},{id:"skins",label:"Skins",icon:Ou,component:Bq},{id:"enciclopedia",label:"Enciclopdia",icon:Oa,component:zq}];if(!e)return r.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-b from-slate-950 via-slate-900 to-slate-950",children:r.jsx(zt,{className:"w-12 h-12 text-purple-500 animate-spin"})});if(!qze.includes(e.email))return r.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-b from-slate-950 via-slate-900 to-slate-950",children:r.jsxs(X,{className:"bg-slate-900/50 border-red-500/30 p-8 text-center",children:[r.jsx(ud,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),r.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Acesso Negado"}),r.jsx("p",{className:"text-gray-400",children:"Voc no tem permisso para acessar esta rea."})]})});const g=(y=x.find(b=>b.id===a))==null?void 0:y.component;return r.jsxs("div",{className:"min-h-screen bg-white pb-24",children:[r.jsxs("header",{className:"sticky top-0 z-50 bg-white backdrop-blur-lg border-b border-gray-200 shadow-sm",children:[r.jsxs("div",{className:"max-w-7xl mx-auto px-4 h-14 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("img",{src:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/690e5f6f991e09e82bef3795/91a87ae92_zamira-icon.png",alt:"Admin",className:"w-8 h-8 object-contain"}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-sm font-bold text-gray-900",children:"Painel"}),r.jsx("p",{className:"text-[9px] text-gray-500",children:"Controle Total"})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(W,{variant:"outline",size:"sm",onClick:()=>u(!d),className:"border-purple-300 text-purple-700 hover:bg-purple-50 hover:text-purple-800 text-xs hidden md:flex",children:[r.jsx(Ps,{className:"w-3 h-3 mr-1"}),"Mensagem"]}),r.jsx(W,{variant:"ghost",size:"icon",onClick:()=>window.location.reload(),className:"text-gray-600 hover:text-gray-900 w-8 h-8",children:r.jsx(fx,{className:"w-4 h-4"})}),r.jsx(W,{variant:"ghost",size:"icon",onClick:()=>t("/Hub"),className:"text-gray-600 hover:text-gray-900 w-8 h-8",children:r.jsx(nt,{className:"w-4 h-4"})})]})]}),d&&r.jsx("div",{className:"border-t border-purple-200 bg-purple-50 p-4",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsx("p",{className:"text-sm text-purple-800 font-semibold mb-2",children:" Enviar Mensagem Global"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(It,{value:l,onChange:b=>c(b.target.value),placeholder:"Digite a mensagem...",className:"flex-1 border-purple-200 bg-white text-gray-900",rows:2}),r.jsxs(W,{onClick:v,disabled:f.isPending||!l.trim(),className:"bg-purple-600 hover:bg-purple-700 text-white",children:[r.jsx(Hr,{className:"w-4 h-4 mr-2"}),"Enviar"]})]})]})})]}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[r.jsx("div",{className:"hidden lg:block",children:r.jsxs($r,{value:a,onValueChange:s,className:"space-y-6",children:[r.jsxs(Tr,{className:"grid grid-cols-6 w-full bg-gray-100 border border-gray-200 p-1",children:[r.jsx(xt,{value:"dashboard",className:"data-[state=active]:bg-white data-[state=active]:text-gray-900",children:"Dashboard"}),r.jsx(xt,{value:"users",className:"data-[state=active]:bg-white data-[state=active]:text-gray-900",children:"Usurios"}),r.jsx(xt,{value:"posts",className:"data-[state=active]:bg-white data-[state=active]:text-gray-900",children:"Posts"}),r.jsx(xt,{value:"products",className:"data-[state=active]:bg-white data-[state=active]:text-gray-900",children:"Produtos"}),r.jsx(xt,{value:"economy",className:"data-[state=active]:bg-white data-[state=active]:text-gray-900",children:"Economia"}),r.jsx(xt,{value:"more",className:"data-[state=active]:bg-white data-[state=active]:text-gray-900",children:"Mais "})]}),a==="more"&&r.jsxs("div",{className:"grid grid-cols-5 gap-2",children:[r.jsx(W,{onClick:()=>s("analytics"),className:"bg-gray-100 hover:bg-gray-200 text-gray-900 border-gray-300",children:"Analytics"}),r.jsx(W,{onClick:()=>s("support"),className:"bg-gray-100 hover:bg-gray-200 text-gray-900 border-gray-300",children:"Suporte"}),r.jsx(W,{onClick:()=>s("subscriptions"),className:"bg-gray-100 hover:bg-gray-200 text-gray-900 border-gray-300",children:"Assinaturas"}),r.jsx(W,{onClick:()=>s("content"),className:"bg-gray-100 hover:bg-gray-200 text-gray-900 border-gray-300",children:"Contedo"}),r.jsx(W,{onClick:()=>s("kamasutra"),className:"bg-gray-100 hover:bg-gray-200 text-gray-900 border-gray-300",children:"Kamasutra"}),r.jsx(W,{onClick:()=>s("media"),className:"bg-gray-100 hover:bg-gray-200 text-gray-900 border-gray-300",children:"Mdia"}),r.jsx(W,{onClick:()=>s("games"),className:"bg-gray-100 hover:bg-gray-200 text-gray-900 border-gray-300",children:"Jogos"}),r.jsx(W,{onClick:()=>s("app"),className:"bg-gray-100 hover:bg-gray-200 text-gray-900 border-gray-300",children:"App"}),r.jsx(W,{onClick:()=>s("ads"),className:"bg-gray-100 hover:bg-gray-200 text-gray-900 border-gray-300",children:"Anncios"}),r.jsx(W,{onClick:()=>s("quizzes"),className:"bg-gray-100 hover:bg-gray-200 text-gray-900 border-gray-300",children:"Quizzes"}),r.jsx(W,{onClick:()=>s("pages"),className:"bg-gray-100 hover:bg-gray-200 text-gray-900 border-gray-300",children:"Pginas"}),r.jsx(W,{onClick:()=>s("tracking"),className:"bg-gray-100 hover:bg-gray-200 text-gray-900 border-gray-300",children:"Tracking"}),r.jsx(W,{onClick:()=>s("sounds"),className:"bg-gray-100 hover:bg-gray-200 text-gray-900 border-gray-300",children:"Sons"}),r.jsx(W,{onClick:()=>s("consultations"),className:"bg-gray-100 hover:bg-gray-200 text-gray-900 border-gray-300",children:"Consultas"}),r.jsx(W,{onClick:()=>s("reports"),className:"bg-gray-100 hover:bg-gray-200 text-gray-900 border-gray-300",children:"Denncias"}),r.jsx(W,{onClick:()=>s("prices"),className:"bg-gray-100 hover:bg-gray-200 text-gray-900 border-gray-300",children:"Preos"}),r.jsx(W,{onClick:()=>s("chat"),className:"bg-gray-100 hover:bg-gray-200 text-gray-900 border-gray-300",children:"Chat Global"}),r.jsx(W,{onClick:()=>s("messages"),className:"bg-gray-100 hover:bg-gray-200 text-gray-900 border-gray-300",children:"Mensagens"}),r.jsx(W,{onClick:()=>s("system"),className:"bg-gray-100 hover:bg-gray-200 text-gray-900 border-gray-300",children:"Sistema"}),r.jsx(W,{onClick:()=>s("portal_tarot"),className:"bg-gray-100 hover:bg-gray-200 text-gray-900 border-gray-300",children:"Portal Tarot"}),r.jsx(W,{onClick:()=>s("zamira_city"),className:"bg-gray-100 hover:bg-gray-200 text-gray-900 border-gray-300",children:"Zamira City"}),r.jsx(W,{onClick:()=>s("skins"),className:"bg-gradient-to-r from-purple-100 to-pink-100 hover:from-purple-200 hover:to-pink-200 text-purple-900 border-purple-300",children:" Skins"}),r.jsx(W,{onClick:()=>s("magic"),className:"bg-gradient-to-r from-indigo-100 to-purple-100 hover:from-indigo-200 hover:to-purple-200 text-indigo-900 border-indigo-300",children:" Magic"}),r.jsx(W,{onClick:()=>s("enciclopedia"),className:"bg-gradient-to-r from-blue-100 to-cyan-100 hover:from-blue-200 hover:to-cyan-200 text-blue-900 border-blue-300",children:" Enciclopdia"})]}),r.jsx(et,{value:"dashboard",children:r.jsx(pF,{})}),r.jsx(et,{value:"users",children:r.jsx(xF,{})}),r.jsx(et,{value:"posts",children:r.jsx(vF,{})}),r.jsx(et,{value:"products",children:r.jsx(yF,{})}),r.jsx(et,{value:"economy",children:r.jsx(bF,{})}),r.jsx(et,{value:"analytics",children:r.jsx(wF,{})}),r.jsx(et,{value:"support",children:r.jsx(jF,{})}),r.jsx(et,{value:"subscriptions",children:r.jsx(NF,{})}),r.jsx(et,{value:"content",children:r.jsx(SF,{})}),r.jsx(et,{value:"kamasutra",children:r.jsx(Lq,{})}),r.jsx(et,{value:"media",children:r.jsx(Fq,{})}),r.jsx(et,{value:"games",children:r.jsx(EF,{})}),r.jsx(et,{value:"app",children:r.jsx(AF,{})}),r.jsx(et,{value:"ads",children:r.jsx(MF,{})}),r.jsx(et,{value:"quizzes",children:r.jsx(PF,{})}),r.jsx(et,{value:"pages",children:r.jsx(TF,{})}),r.jsx(et,{value:"tracking",children:r.jsx(kF,{})}),r.jsx(et,{value:"sounds",children:r.jsx(CF,{})}),r.jsx(et,{value:"consultations",children:r.jsx(Dq,{})}),r.jsx(et,{value:"reports",children:r.jsx(Iq,{})}),r.jsx(et,{value:"prices",children:r.jsx(Oq,{})}),r.jsx(et,{value:"chat",children:r.jsx($q,{})}),r.jsx(et,{value:"messages",children:r.jsx(gF,{})}),r.jsx(et,{value:"system",children:r.jsx(_F,{})}),r.jsx(et,{value:"portal_tarot",children:r.jsx(Tq,{})}),r.jsx(et,{value:"zamira_city",children:r.jsx(kq,{})}),r.jsx(et,{value:"skins",children:r.jsx(Bq,{})}),r.jsx(et,{value:"magic",children:r.jsx(Uq,{})}),r.jsx(et,{value:"enciclopedia",children:r.jsx(zq,{})})]})}),r.jsx("div",{className:"md:hidden py-4",children:g&&r.jsx(g,{searchQuery:i})})]}),r.jsxs("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-white backdrop-blur-lg border-t-2 border-gray-200 shadow-2xl z-[100]",children:[r.jsx("div",{className:"overflow-x-auto scrollbar-hide",children:r.jsx("div",{className:"flex gap-1 p-2 min-w-max",children:x.map(b=>{const _=b.icon,j=a===b.id;return r.jsxs("button",{onClick:()=>s(b.id),className:`flex flex-col items-center gap-1 px-3 py-2 rounded-lg transition whitespace-nowrap min-w-[70px] ${j?"bg-purple-600 text-white shadow-lg":"text-gray-600 bg-gray-100"}`,children:[r.jsx(_,{className:"w-5 h-5"}),r.jsx("span",{className:"text-[9px] font-semibold",children:b.label})]},b.id)})})}),r.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r from-transparent via-purple-600 to-transparent"})]})]})}const qq=[{value:"tecnico",label:" Problema Tcnico",description:"Bugs, erros, problemas no site"},{value:"financeiro",label:" Financeiro",description:"Pagamentos, ouros, assinaturas"},{value:"conta",label:" Conta",description:"Login, senha, perfil"},{value:"conteudo",label:" Contedo",description:"Posts, comentrios, moderao"},{value:"sugestao",label:" Sugesto",description:"Ideias e melhorias"},{value:"outro",label:" Outro",description:"Outros assuntos"}],Vze={aberto:{bg:"bg-blue-100",text:"text-blue-800",label:"Aberto"},em_andamento:{bg:"bg-yellow-100",text:"text-yellow-800",label:"Em Andamento"},aguardando_usuario:{bg:"bg-purple-100",text:"text-purple-800",label:"Aguardando Voc"},resolvido:{bg:"bg-green-100",text:"text-green-800",label:"Resolvido"},fechado:{bg:"bg-gray-100",text:"text-gray-800",label:"Fechado"}};function bre(){const[t,e]=w.useState(null),[n,a]=w.useState({category:"",subject:"",message:"",attachments:[]}),s=wt();w.useEffect(()=>{i()},[]);const i=async()=>{try{const u=await H.auth.me();e(u)}catch(u){console.error("Erro ao carregar usurio:",u)}},{data:o}=Oe({queryKey:["support-tickets",t==null?void 0:t.id],queryFn:()=>H.entities.SupportTicket.filter({user_id:t.id},"-created_date",50),enabled:!!t,initialData:[],refetchInterval:1e4}),l=Ue({mutationFn:async u=>await H.entities.SupportTicket.create({user_id:t.id,user_name:t.display_name||t.full_name,user_email:t.email,category:u.category,subject:u.subject,message:u.message,attachments:u.attachments,status:"aberto",priority:"media"}),onSuccess:()=>{s.invalidateQueries({queryKey:["support-tickets"]}),a({category:"",subject:"",message:"",attachments:[]}),alert(" Chamado criado com sucesso! Nossa equipe entrar em contato em breve.")}}),c=u=>{if(u.preventDefault(),!n.category||!n.subject||!n.message){alert("Por favor, preencha todos os campos obrigatrios.");return}l.mutate(n)},d=async u=>{const h=u.target.files[0];if(h)try{const{file_url:f}=await H.integrations.Core.UploadFile({file:h});a({...n,attachments:[...n.attachments,f]})}catch{alert("Erro ao fazer upload do arquivo")}};return t?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:r.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[r.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-full bg-gradient-to-br from-purple-600 to-pink-600 mb-6",children:r.jsx(mx,{className:"w-10 h-10 text-white"})}),r.jsx("h1",{className:"text-4xl font-bold text-slate-900 mb-2",children:"Central de Suporte"}),r.jsx("p",{className:"text-slate-600 text-lg",children:"Estamos aqui para ajudar voc!"})]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[r.jsx(q.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},children:r.jsxs(X,{className:"bg-white border-slate-200 p-6",children:[r.jsxs("h2",{className:"text-2xl font-bold text-slate-900 mb-4 flex items-center gap-2",children:[r.jsx(Hr,{className:"w-6 h-6 text-purple-600"}),"Abrir Novo Chamado"]}),r.jsxs("form",{onSubmit:c,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Categoria *"}),r.jsxs(Ds,{value:n.category,onValueChange:u=>a({...n,category:u}),children:[r.jsx(hs,{className:"border-slate-300",children:r.jsx(Is,{placeholder:"Selecione a categoria"})}),r.jsx(ms,{children:qq.map(u=>r.jsx(Ot,{value:u.value,children:r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:u.label}),r.jsx("p",{className:"text-xs text-slate-500",children:u.description})]})},u.value))})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Assunto *"}),r.jsx(je,{value:n.subject,onChange:u=>a({...n,subject:u.target.value}),placeholder:"Descreva brevemente o problema",className:"border-slate-300"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Descrio Detalhada *"}),r.jsx(It,{value:n.message,onChange:u=>a({...n,message:u.target.value}),placeholder:"Descreva o problema com o mximo de detalhes possvel",className:"border-slate-300 h-32"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Anexos (Opcional)"}),r.jsx("input",{type:"file",onChange:d,className:"w-full text-sm text-slate-600 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-purple-50 file:text-purple-700 hover:file:bg-purple-100"}),n.attachments.length>0&&r.jsx("div",{className:"mt-2 space-y-1",children:n.attachments.map((u,h)=>r.jsxs("p",{className:"text-xs text-slate-600",children:[" Arquivo ",h+1," anexado"]},h))})]}),r.jsxs(W,{type:"submit",disabled:l.isPending,className:"w-full bg-purple-600 hover:bg-purple-700 text-white",children:[r.jsx(Hr,{className:"w-4 h-4 mr-2"}),l.isPending?"Enviando...":"Enviar Chamado"]})]})]})}),r.jsx(q.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},children:r.jsxs(X,{className:"bg-white border-slate-200 p-6",children:[r.jsxs("h2",{className:"text-2xl font-bold text-slate-900 mb-4 flex items-center gap-2",children:[r.jsx(li,{className:"w-6 h-6 text-purple-600"}),"Meus Chamados"]}),r.jsx("div",{className:"space-y-3 max-h-[600px] overflow-y-auto",children:o.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Pr,{className:"w-12 h-12 text-slate-400 mx-auto mb-3"}),r.jsx("p",{className:"text-slate-600",children:"Nenhum chamado ainda"}),r.jsx("p",{className:"text-sm text-slate-500",children:"Crie um chamado para receber ajuda"})]}):o.map(u=>{const h=Vze[u.status],f=qq.find(v=>v.value===u.category);return r.jsxs(X,{className:"bg-slate-50 border-slate-200 p-4",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-bold text-slate-900 mb-1",children:u.subject}),r.jsx("p",{className:"text-xs text-slate-600 mb-2",children:f==null?void 0:f.label})]}),r.jsx(De,{className:`${h.bg} ${h.text} border-none`,children:h.label})]}),r.jsx("p",{className:"text-sm text-slate-700 mb-3 line-clamp-2",children:u.message}),u.admin_response&&r.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 mb-2",children:[r.jsx("p",{className:"text-xs font-semibold text-green-800 mb-1",children:" Resposta da Equipe:"}),r.jsx("p",{className:"text-sm text-green-900",children:u.admin_response})]}),r.jsx("p",{className:"text-xs text-slate-500",children:new Date(u.created_date).toLocaleString("pt-BR")})]},u.id)})})]})})]}),r.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mt-8",children:[r.jsxs(X,{className:"bg-blue-50 border-blue-200 p-4",children:[r.jsx(Mr,{className:"w-8 h-8 text-blue-600 mb-2"}),r.jsx("h3",{className:"font-bold text-blue-900 mb-1",children:"Tempo de Resposta"}),r.jsx("p",{className:"text-sm text-blue-700",children:"Respondemos em at 24 horas teis"})]}),r.jsxs(X,{className:"bg-purple-50 border-purple-200 p-4",children:[r.jsx(_n,{className:"w-8 h-8 text-purple-600 mb-2"}),r.jsx("h3",{className:"font-bold text-purple-900 mb-1",children:"Acompanhamento"}),r.jsx("p",{className:"text-sm text-purple-700",children:"Voc receber notificaes de atualizaes"})]}),r.jsxs(X,{className:"bg-green-50 border-green-200 p-4",children:[r.jsx(Vu,{className:"w-8 h-8 text-green-600 mb-2"}),r.jsx("h3",{className:"font-bold text-green-900 mb-1",children:"Prioridade"}),r.jsx("p",{className:"text-sm text-green-700",children:"Casos urgentes so tratados primeiro"})]})]})]})}):r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx(mx,{className:"w-12 h-12 text-purple-500 animate-pulse"})})}function wre(){const[t,e]=w.useState(null),[n,a]=w.useState(null),[s,i]=w.useState({title:"",description:"",media_type:"image",image_url:"",video_url:"",audio_url:"",button_text:"Saiba Mais",link_type:"internal",button_url:"",placement:"feed",budget_ouros:500,duration_days:7,cost_per_view:1,cost_per_click:5,target_audience:{}}),o=wt();ae.useEffect(()=>{l()},[]);const l=async()=>{const _=await H.auth.me();e(_)},{data:c}=Oe({queryKey:["my-ads"],queryFn:()=>H.entities.Ad.filter({advertiser_id:t==null?void 0:t.id},"-created_date",50),enabled:!!t}),d=Ue({mutationFn:async _=>{const j=_.budget_ouros;if((t.ouros||0)<j)throw new Error("Ouros insuficientes");await H.auth.updateMe({ouros:(t.ouros||0)-j});const S=new Date;return S.setDate(S.getDate()+_.duration_days),n?await H.entities.Ad.update(n.id,_):await H.entities.Ad.create({..._,advertiser_id:t.id,advertiser_name:t.display_name||t.full_name,status:"pending",total_impressions:0,total_clicks:0,total_spent:0,start_date:new Date().toISOString(),end_date:S.toISOString()})},onSuccess:()=>{o.invalidateQueries({queryKey:["my-ads"]}),a(null),i({title:"",description:"",media_type:"image",image_url:"",video_url:"",audio_url:"",button_text:"Saiba Mais",link_type:"internal",button_url:"",placement:"feed",budget_ouros:500,duration_days:7,cost_per_view:1,cost_per_click:5,target_audience:{}}),l(),alert(" Anncio criado! Aguarde aprovao do admin.")},onError:_=>{alert("Erro: "+_.message)}}),u=Ue({mutationFn:async _=>{const S=c.find(C=>C.id===_).status==="active"?"paused":"active";return await H.entities.Ad.update(_,{status:S})},onSuccess:()=>{o.invalidateQueries({queryKey:["my-ads"]})}}),h=Ue({mutationFn:async _=>await H.entities.Ad.delete(_),onSuccess:()=>{o.invalidateQueries({queryKey:["my-ads"]})}}),f=async(_,j)=>{const S=_.target.files[0];if(S)try{const{file_url:C}=await H.integrations.Core.UploadFile({file:S});j==="image"?i({...s,image_url:C}):j==="audio"&&i({...s,audio_url:C}),alert(" Arquivo carregado!")}catch(C){alert("Erro: "+C.message)}},v=_=>{a(_),i(_)},x=()=>{if(!s.title||!s.description){alert("Preencha ttulo e descrio");return}d.mutate(s)},g=Math.floor(s.budget_ouros/s.cost_per_view),y=Math.floor(s.budget_ouros/s.cost_per_click),b={pending:{bg:"bg-yellow-100",text:"text-yellow-800",label:"Aguardando"},active:{bg:"bg-green-100",text:"text-green-800",label:"Ativo"},paused:{bg:"bg-gray-100",text:"text-gray-800",label:"Pausado"},completed:{bg:"bg-blue-100",text:"text-blue-800",label:"Concludo"},rejected:{bg:"bg-red-100",text:"text-red-800",label:"Rejeitado"}};return t?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-3 md:p-6 pb-24",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs("div",{className:"mb-6 md:mb-8",children:[r.jsxs("div",{className:"flex items-center gap-2 md:gap-3 mb-3",children:[r.jsx("div",{className:"w-12 h-12 md:w-14 md:h-14 rounded-2xl bg-gradient-to-br from-purple-600 to-pink-600 flex items-center justify-center shadow-lg",children:r.jsx(fu,{className:"w-6 h-6 md:w-7 md:h-7 text-white"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-slate-900",children:"Zamira Ads"}),r.jsx("p",{className:"text-sm md:text-base text-slate-600",children:"Promova seu contedo"})]})]}),r.jsxs(X,{className:"bg-gradient-to-br from-purple-50 to-pink-50 border-purple-200 p-4 md:p-6",children:[r.jsxs("h3",{className:"font-bold text-purple-900 mb-2 flex items-center gap-2 text-sm md:text-base",children:[r.jsx(gr,{className:"w-4 h-4 md:w-5 md:h-5"}),"Como Funciona"]}),r.jsxs("div",{className:"space-y-1.5 md:space-y-2 text-xs md:text-sm text-purple-800",children:[r.jsx("p",{children:" Alcance a comunidade no feed principal"}),r.jsx("p",{children:" Pague com Ouros de forma transparente"}),r.jsx("p",{children:" Acompanhe mtricas em tempo real"}),r.jsx("p",{children:" Segmente seu pblico-alvo"})]})]})]}),r.jsxs($r,{defaultValue:"criar",className:"w-full",children:[r.jsxs(Tr,{className:"grid w-full grid-cols-3 bg-slate-100",children:[r.jsxs(xt,{value:"criar",className:"text-xs md:text-sm",children:[r.jsx(_r,{className:"w-3 h-3 md:w-4 md:h-4 mr-1 md:mr-2"}),"Criar"]}),r.jsxs(xt,{value:"meus-ads",className:"text-xs md:text-sm",children:[r.jsx(Vr,{className:"w-3 h-3 md:w-4 md:h-4 mr-1 md:mr-2"}),"Meus (",(c==null?void 0:c.length)||0,")"]}),r.jsxs(xt,{value:"precos",className:"text-xs md:text-sm",children:[r.jsx(Gn,{className:"w-3 h-3 md:w-4 md:h-4 mr-1 md:mr-2"}),"Preos"]})]}),r.jsx(et,{value:"criar",className:"space-y-4 md:space-y-6 mt-4 md:mt-6",children:r.jsxs(X,{className:"bg-white border-slate-200 p-4 md:p-6",children:[r.jsx("h2",{className:"text-lg md:text-xl font-bold text-slate-900 mb-4",children:n?"Editar Anncio":"Criar Novo Anncio"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-xs md:text-sm font-medium text-slate-700 mb-2 block",children:"Ttulo do Anncio"}),r.jsx(je,{value:s.title,onChange:_=>i({...s,title:_.target.value}),placeholder:"Ex: Novo Curso de Tarot Grtis!",maxLength:60,className:"text-sm md:text-base"}),r.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[s.title.length,"/60"]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs md:text-sm font-medium text-slate-700 mb-2 block",children:"Descrio"}),r.jsx(It,{value:s.description,onChange:_=>i({...s,description:_.target.value}),placeholder:"Descreva seu anncio...",rows:4,maxLength:200,className:"text-sm md:text-base"}),r.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[s.description.length,"/200"]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs md:text-sm font-medium text-slate-700 mb-2 block",children:"Tipo de Mdia"}),r.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[r.jsxs("button",{onClick:()=>i({...s,media_type:"image"}),className:`p-3 rounded-lg border-2 transition ${s.media_type==="image"?"border-purple-600 bg-purple-50":"border-slate-200 bg-white"}`,children:[r.jsx(Sg,{className:"w-5 h-5 mx-auto mb-1 text-purple-600"}),r.jsx("p",{className:"text-xs font-semibold",children:"Imagem"})]}),r.jsxs("button",{onClick:()=>i({...s,media_type:"video"}),className:`p-3 rounded-lg border-2 transition ${s.media_type==="video"?"border-purple-600 bg-purple-50":"border-slate-200 bg-white"}`,children:[r.jsx(La,{className:"w-5 h-5 mx-auto mb-1 text-purple-600"}),r.jsx("p",{className:"text-xs font-semibold",children:"Vdeo"})]}),r.jsxs("button",{onClick:()=>i({...s,media_type:"audio"}),className:`p-3 rounded-lg border-2 transition ${s.media_type==="audio"?"border-purple-600 bg-purple-50":"border-slate-200 bg-white"}`,children:[r.jsx(pu,{className:"w-5 h-5 mx-auto mb-1 text-purple-600"}),r.jsx("p",{className:"text-xs font-semibold",children:"udio"})]})]})]}),s.media_type==="image"&&r.jsxs("div",{children:[r.jsx("label",{className:"text-xs md:text-sm font-medium text-slate-700 mb-2 block",children:"Upload de Imagem"}),r.jsx("input",{type:"file",accept:"image/*",onChange:_=>f(_,"image"),className:"w-full text-xs md:text-sm file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:bg-purple-50 file:text-purple-700"}),s.image_url&&r.jsx("img",{src:s.image_url,className:"mt-3 w-full h-40 md:h-48 object-cover rounded-lg"})]}),s.media_type==="video"&&r.jsxs("div",{children:[r.jsx("label",{className:"text-xs md:text-sm font-medium text-slate-700 mb-2 block",children:"URL do Vdeo (YouTube, Vimeo, etc)"}),r.jsx(je,{value:s.video_url,onChange:_=>i({...s,video_url:_.target.value}),placeholder:"https://www.youtube.com/embed/...",className:"text-sm md:text-base"})]}),s.media_type==="audio"&&r.jsxs("div",{children:[r.jsx("label",{className:"text-xs md:text-sm font-medium text-slate-700 mb-2 block",children:"Upload de udio"}),r.jsx("input",{type:"file",accept:"audio/*",onChange:_=>f(_,"audio"),className:"w-full text-xs md:text-sm file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:bg-purple-50 file:text-purple-700"}),s.audio_url&&r.jsx("audio",{controls:!0,className:"mt-3 w-full",children:r.jsx("source",{src:s.audio_url,type:"audio/mpeg"})})]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-xs md:text-sm font-medium text-slate-700 mb-2 block",children:"Texto do Boto"}),r.jsx(je,{value:s.button_text,onChange:_=>i({...s,button_text:_.target.value}),placeholder:"Ex: Comear Agora",className:"text-sm md:text-base"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs md:text-sm font-medium text-slate-700 mb-2 block",children:"Tipo de Link"}),r.jsxs("select",{value:s.link_type,onChange:_=>i({...s,link_type:_.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm md:text-base",children:[r.jsx("option",{value:"internal",children:"Pgina Interna"}),r.jsx("option",{value:"external",children:"Site Externo"}),r.jsx("option",{value:"social",children:"Rede Social"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs md:text-sm font-medium text-slate-700 mb-2 block",children:s.link_type==="internal"?"Nome da Pgina":s.link_type==="social"?"Link da Rede Social":"URL do Site"}),r.jsx(je,{value:s.button_url,onChange:_=>i({...s,button_url:_.target.value}),placeholder:s.link_type==="internal"?"Ex: Loja":s.link_type==="social"?"Ex: https://instagram.com/seu_perfil":"Ex: https://seusite.com",className:"text-sm md:text-base"})]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-xs md:text-sm font-medium text-slate-700 mb-2 block",children:"Oramento em Ouros"}),r.jsx(je,{type:"number",value:s.budget_ouros,onChange:_=>i({...s,budget_ouros:parseInt(_.target.value)}),min:100,step:50,className:"text-sm md:text-base"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs md:text-sm font-medium text-slate-700 mb-2 block",children:"Durao (dias)"}),r.jsxs("select",{value:s.duration_days,onChange:_=>i({...s,duration_days:parseInt(_.target.value)}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm md:text-base",children:[r.jsx("option",{value:3,children:"3 dias"}),r.jsx("option",{value:7,children:"7 dias"}),r.jsx("option",{value:14,children:"14 dias"}),r.jsx("option",{value:30,children:"30 dias"})]})]})]}),r.jsxs("div",{className:"p-3 md:p-4 bg-slate-50 rounded-lg space-y-1 text-xs md:text-sm",children:[r.jsxs("p",{className:"text-slate-700",children:[" ",r.jsx("strong",{children:"Alcance estimado:"})," ~",g," visualizaes"]}),r.jsxs("p",{className:"text-slate-700",children:[" ",r.jsx("strong",{children:"Cliques estimados:"})," ~",y," cliques"]}),r.jsxs("p",{className:"text-slate-700",children:[" ",r.jsx("strong",{children:"Durao:"})," ",s.duration_days," dias"]}),r.jsxs("p",{className:"text-purple-700 font-semibold",children:[" ",r.jsx("strong",{children:"Custo total:"})," ",s.budget_ouros," ouros"]})]}),r.jsxs("div",{className:"flex items-center gap-2 p-3 md:p-4 bg-amber-50 rounded-lg border border-amber-200",children:[r.jsx(Gn,{className:"w-4 h-4 md:w-5 md:h-5 text-amber-600"}),r.jsxs("p",{className:"text-xs md:text-sm text-amber-900",children:[r.jsx("strong",{children:"Saldo atual:"})," ",(t==null?void 0:t.ouros)||0," ouros"]})]}),r.jsxs(W,{onClick:x,disabled:d.isPending||((t==null?void 0:t.ouros)||0)<s.budget_ouros,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white text-sm md:text-base",size:"lg",children:[r.jsx(fu,{className:"w-4 h-4 md:w-5 md:h-5 mr-2"}),n?"Atualizar":`Criar Anncio (${s.budget_ouros} ouros)`]})]})]})}),r.jsx(et,{value:"meus-ads",className:"space-y-3 md:space-y-4 mt-4 md:mt-6",children:!c||c.length===0?r.jsxs(X,{className:"bg-white border-slate-200 p-8 md:p-12 text-center",children:[r.jsx(fu,{className:"w-10 h-10 md:w-12 md:h-12 text-slate-400 mx-auto mb-4"}),r.jsx("p",{className:"text-sm md:text-base text-slate-600 mb-4",children:"Voc ainda no criou anncios"})]}):c.map(_=>{const j=b[_.status],S=_.total_impressions>0?(_.total_clicks/_.total_impressions*100).toFixed(1):0;return r.jsxs(X,{className:"bg-white border-slate-200 p-4 md:p-6",children:[r.jsxs("div",{className:"flex items-start gap-3 md:gap-4 mb-4",children:[_.image_url&&_.media_type==="image"&&r.jsx("img",{src:_.image_url,className:"w-20 h-20 md:w-24 md:h-24 object-cover rounded-lg flex-shrink-0"}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[r.jsx("h3",{className:"font-bold text-slate-900 text-sm md:text-base",children:_.title}),r.jsx(De,{className:`${j.bg} ${j.text} text-xs`,children:j.label})]}),r.jsx("p",{className:"text-xs md:text-sm text-slate-600 mb-3",children:_.description}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:[r.jsxs("div",{className:"bg-slate-50 p-2 rounded",children:[r.jsx("p",{className:"text-[10px] md:text-xs text-slate-600",children:"Views"}),r.jsx("p",{className:"text-sm md:text-lg font-bold text-slate-900",children:_.total_impressions||0})]}),r.jsxs("div",{className:"bg-slate-50 p-2 rounded",children:[r.jsx("p",{className:"text-[10px] md:text-xs text-slate-600",children:"Cliques"}),r.jsx("p",{className:"text-sm md:text-lg font-bold text-slate-900",children:_.total_clicks||0})]}),r.jsxs("div",{className:"bg-slate-50 p-2 rounded",children:[r.jsx("p",{className:"text-[10px] md:text-xs text-slate-600",children:"CTR"}),r.jsxs("p",{className:"text-sm md:text-lg font-bold text-slate-900",children:[S,"%"]})]}),r.jsxs("div",{className:"bg-purple-50 p-2 rounded",children:[r.jsx("p",{className:"text-[10px] md:text-xs text-purple-700",children:"Gasto"}),r.jsx("p",{className:"text-sm md:text-lg font-bold text-purple-800",children:_.total_spent||0})]})]})]}),r.jsxs("div",{className:"flex flex-col gap-2 flex-shrink-0",children:[_.status==="active"&&r.jsx(W,{variant:"outline",size:"sm",onClick:()=>u.mutate(_.id),className:"text-xs",children:r.jsx(cd,{className:"w-3 h-3 md:w-4 md:h-4"})}),_.status==="paused"&&r.jsx(W,{variant:"outline",size:"sm",onClick:()=>u.mutate(_.id),className:"border-green-300 text-green-600 text-xs",children:r.jsx(Qa,{className:"w-3 h-3 md:w-4 md:h-4"})}),r.jsx(W,{variant:"outline",size:"sm",onClick:()=>v(_),className:"text-xs",children:r.jsx(io,{className:"w-3 h-3 md:w-4 md:h-4"})}),r.jsx(W,{variant:"outline",size:"sm",onClick:()=>{confirm("Deletar anncio?")&&h.mutate(_.id)},className:"border-red-300 text-red-600 text-xs",children:r.jsx(qr,{className:"w-3 h-3 md:w-4 md:h-4"})})]})]}),r.jsxs("div",{className:"mt-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2 text-[10px] md:text-xs text-slate-600",children:[r.jsx("span",{children:"Oramento utilizado"}),r.jsxs("span",{className:"font-semibold",children:[_.total_spent||0," / ",_.budget_ouros," ouros"]})]}),r.jsx("div",{className:"h-1.5 md:h-2 bg-slate-200 rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full bg-gradient-to-r from-purple-600 to-pink-600 transition-all duration-500",style:{width:`${Math.min((_.total_spent||0)/_.budget_ouros*100,100)}%`}})})]})]},_.id)})}),r.jsx(et,{value:"precos",className:"space-y-4 md:space-y-6 mt-4 md:mt-6",children:r.jsxs(X,{className:"bg-white border-slate-200 p-4 md:p-6",children:[r.jsx("h2",{className:"text-lg md:text-xl font-bold text-slate-900 mb-4",children:"Tabela de Preos"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 md:p-4 bg-slate-50 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-slate-900 text-sm md:text-base",children:"Visualizao"}),r.jsx("p",{className:"text-xs text-slate-600",children:"Cada exibio do anncio"})]}),r.jsx(De,{className:"bg-purple-100 text-purple-800 text-base md:text-lg px-3 md:px-4 py-1.5 md:py-2",children:"1 ouro"})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 md:p-4 bg-slate-50 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-slate-900 text-sm md:text-base",children:"Clique"}),r.jsx("p",{className:"text-xs text-slate-600",children:"Quando algum clica"})]}),r.jsx(De,{className:"bg-pink-100 text-pink-800 text-base md:text-lg px-3 md:px-4 py-1.5 md:py-2",children:"5 ouros"})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 md:p-4 bg-gradient-to-br from-purple-50 to-pink-50 rounded-lg border border-purple-200",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-purple-900 text-sm md:text-base",children:"Oramento Mnimo"}),r.jsx("p",{className:"text-xs text-purple-700",children:"Para comear"})]}),r.jsx(De,{className:"bg-purple-600 text-white text-base md:text-lg px-3 md:px-4 py-1.5 md:py-2",children:"100 ouros"})]})]}),r.jsxs("div",{className:"mt-6 p-3 md:p-4 bg-blue-50 rounded-lg border border-blue-200",children:[r.jsx("h4",{className:"font-bold text-blue-900 mb-2 text-sm md:text-base",children:" Pacotes Recomendados:"}),r.jsxs("div",{className:"space-y-1.5 md:space-y-2 text-xs md:text-sm text-blue-800",children:[r.jsxs("p",{children:[" ",r.jsx("strong",{children:"Iniciante:"})," 500 ouros = ~500 views"]}),r.jsxs("p",{children:[" ",r.jsx("strong",{children:"Padro:"})," 1.000 ouros = ~1.000 views"]}),r.jsxs("p",{children:[" ",r.jsx("strong",{children:"Premium:"})," 2.500 ouros = ~2.500 views"]}),r.jsxs("p",{children:[" ",r.jsx("strong",{children:"Elite:"})," 5.000 ouros = ~5.000 views"]})]})]})]})})]})]})}):r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx(fu,{className:"w-12 h-12 text-purple-500 animate-pulse"})})}const Hze=[{id:"floral",name:"Floral",icon:""},{id:"geometric",name:"Geomtrica",icon:""},{id:"cosmic",name:"Csmica",icon:""},{id:"nature",name:"Natureza",icon:""},{id:"sacred",name:"Sagrada",icon:""},{id:"tribal",name:"Tribal",icon:""}],By=[{id:"chakras",name:"Chakras",colors:["#FF0000","#FF7F00","#FFFF00","#00FF00","#0000FF","#4B0082","#9400D3"]},{id:"sunset",name:"Pr do Sol",colors:["#FF6B6B","#FFD93D","#FF9A56","#F56C84","#C44569"]},{id:"ocean",name:"Oceano",colors:["#0077BE","#00A8E8","#00D9FF","#7DFFFF","#B4FFE4"]},{id:"forest",name:"Floresta",colors:["#2D5016","#5C8001","#7CB518","#C9DF56","#D6E68C"]},{id:"galaxy",name:"Galxia",colors:["#1A1A2E","#16213E","#0F3460","#533483","#E94560"]},{id:"pastel",name:"Pastel",colors:["#FFD6E8","#C4E1FF","#D5AAFF","#FFEECC","#B8E6B8"]}],Gze=["","","","","","","","","",""],Wze=["simples","medio","complexo","muito-complexo"],Kze=[2,5,10,15,20];function _re(){const[t,e]=w.useState(null),[n,a]=w.useState("gerar"),[s,i]=w.useState({pattern:"floral",colors:By[0].colors,symmetry:8,complexity:"medio",centerSymbol:"",outerRing:"petals",backgroundEffect:"gradient"}),[o,l]=w.useState(""),[c,d]=w.useState(""),[u,h]=w.useState(!1),[f,v]=w.useState(null),[x,g]=w.useState(!1),[y,b]=w.useState(By[0].colors[0]),[_,j]=w.useState(10),[S,C]=w.useState("brush"),E=w.useRef(null);wt(),ae.useEffect(()=>{P()},[]),ae.useEffect(()=>{n==="desenhar"&&T()},[n]);const P=async()=>{const I=await H.auth.me();e(I)},T=()=>{const I=E.current;if(I){const L=I.getContext("2d");L.fillStyle="#1a1a2e",L.fillRect(0,0,I.width,I.height)}},M=I=>{g(!0),O(I)},k=()=>{g(!1)},O=I=>{if(!x&&I.type!=="mousedown"&&I.type!=="touchstart")return;const L=E.current;if(!L)return;const U=L.getContext("2d"),z=L.getBoundingClientRect();let K,V;I.type.includes("touch")?(K=I.touches[0].clientX-z.left,V=I.touches[0].clientY-z.top):(K=I.clientX-z.left,V=I.clientY-z.top);const Y=L.width/z.width,ee=L.height/z.height;K*=Y,V*=ee,U.lineCap="round",U.lineJoin="round",U.lineWidth=_,S==="eraser"?U.globalCompositeOperation="destination-out":(U.globalCompositeOperation="source-over",U.strokeStyle=y),U.lineTo(K,V),U.stroke(),U.beginPath(),U.moveTo(K,V)},$=()=>{const I=E.current;if(I){const L=I.getContext("2d");L.fillStyle="#1a1a2e",L.fillRect(0,0,I.width,I.height)}},F=async()=>{h(!0),await new Promise(L=>setTimeout(L,3e3));const I=E.current;if(I){const L=I.getContext("2d"),U=I.width/2,z=I.height/2;if(L.clearRect(0,0,I.width,I.height),s.backgroundEffect==="gradient"){const Y=L.createRadialGradient(U,z,0,U,z,300);Y.addColorStop(0,s.colors[0]+"40"),Y.addColorStop(1,s.colors[s.colors.length-1]+"20"),L.fillStyle=Y,L.fillRect(0,0,I.width,I.height)}const K=s.complexity==="simples"?3:s.complexity==="medio"?5:s.complexity==="complexo"?7:10;for(let Y=K;Y>0;Y--){const ee=Y/K*250,se=(Y-1)%s.colors.length;L.save(),L.translate(U,z);for(let pe=0;pe<s.symmetry;pe++){const Pe=Math.PI*2*pe/s.symmetry;L.rotate(Pe),L.beginPath(),L.fillStyle=s.colors[se]+"AA",L.strokeStyle=s.colors[se],L.lineWidth=2,s.pattern==="floral"?L.ellipse(ee,0,ee*.3,ee*.15,0,0,Math.PI*2):s.pattern==="geometric"?L.rect(ee-20,-10,40,20):L.arc(ee,0,ee*.2,0,Math.PI*2),L.fill(),L.stroke(),L.rotate(-Pe)}L.restore()}L.beginPath(),L.arc(U,z,30,0,Math.PI*2),L.fillStyle=s.colors[0],L.fill(),L.strokeStyle="#FFFFFF",L.lineWidth=3,L.stroke(),L.font="24px Arial",L.textAlign="center",L.textBaseline="middle",L.fillStyle="#FFFFFF",L.fillText(s.centerSymbol,U,z);const V=I.toDataURL("image/png");v(V)}h(!1)},B=async()=>{const I=E.current;if(!I||!o){alert("Por favor, d um ttulo  sua mandala");return}const L=I.toDataURL("image/png");try{await H.entities.MandalaCreation.create({creator_id:t.id,creator_name:t.display_name||t.full_name,title:o,intention:c,mandala_config:s,image_url:L,is_shared:!1}),alert(" Mandala salva!"),l(""),d("")}catch(U){alert("Erro ao salvar: "+U.message)}},G=async()=>{const I=E.current;if(!I||!o){alert("Gere e d um ttulo primeiro");return}const L=I.toDataURL("image/png");try{await H.entities.MandalaCreation.create({creator_id:t.id,creator_name:t.display_name||t.full_name,title:o,intention:c,mandala_config:s,image_url:L,is_shared:!0}),await H.entities.Post.create({author_id:t.id,author_name:t.display_name||t.full_name,author_avatar:t.avatar_url,author_level:t.level,author_archetype:t.archetype,post_type:"reflexao",content:` ${o}

${c||"Uma mandala criada com inteno e amor "}`,images:[L],visibility:"public"}),alert(" Mandala compartilhada no feed!")}catch(U){alert("Erro: "+U.message)}};return t?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#02031C] via-slate-900 to-[#02031C] text-white p-3 md:p-6 pb-24",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"mb-6 text-center",children:[r.jsx(q.div,{initial:{scale:0},animate:{scale:1},className:"w-16 h-16 md:w-20 md:h-20 rounded-full bg-gradient-to-br from-pink-500 to-purple-600 flex items-center justify-center mx-auto mb-4 shadow-2xl",children:r.jsx(xf,{className:"w-8 h-8 md:w-10 md:h-10 text-white"})}),r.jsx("h1",{className:"text-2xl md:text-4xl font-bold mb-2 bg-gradient-to-r from-pink-400 to-purple-400 bg-clip-text text-transparent",children:"Mandala Criativa"}),r.jsx("p",{className:"text-slate-300 text-sm md:text-base",children:"Ateli da Alma - meditao ativa colorindo"})]}),r.jsx($r,{value:n,onValueChange:a,className:"mb-6",children:r.jsxs(Tr,{className:"grid w-full grid-cols-2 bg-slate-800",children:[r.jsxs(xt,{value:"gerar",children:[r.jsx(_e,{className:"w-4 h-4 mr-2"}),"Gerar IA"]}),r.jsxs(xt,{value:"desenhar",children:[r.jsx(YD,{className:"w-4 h-4 mr-2"}),"Desenhar"]})]})}),r.jsxs("div",{className:"grid lg:grid-cols-2 gap-4 md:gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[n==="gerar"?r.jsxs(r.Fragment,{children:[r.jsxs(X,{className:"bg-slate-800/50 border-purple-500/30 p-4",children:[r.jsxs("h3",{className:"text-lg font-bold text-purple-300 mb-3 flex items-center gap-2",children:[r.jsx(_e,{className:"w-5 h-5"}),"Padro da Mandala"]}),r.jsx("div",{className:"grid grid-cols-3 gap-2",children:Hze.map(I=>r.jsxs("button",{onClick:()=>i({...s,pattern:I.id}),className:`p-3 rounded-xl border-2 transition ${s.pattern===I.id?"border-purple-500 bg-purple-500/20 text-white":"border-slate-600 bg-slate-700/30 hover:border-purple-400 text-slate-200"}`,children:[r.jsx("div",{className:"text-2xl mb-1",children:I.icon}),r.jsx("div",{className:"text-xs font-semibold",children:I.name})]},I.id))})]}),r.jsxs(X,{className:"bg-slate-800/50 border-pink-500/30 p-4",children:[r.jsx("h3",{className:"text-lg font-bold text-pink-300 mb-3",children:" Paleta de Cores"}),r.jsx("div",{className:"space-y-2",children:By.map(I=>r.jsxs("button",{onClick:()=>i({...s,colors:I.colors}),className:`w-full p-2 rounded-lg border-2 transition flex items-center gap-2 ${JSON.stringify(s.colors)===JSON.stringify(I.colors)?"border-pink-500 bg-pink-500/10":"border-slate-600 hover:border-pink-400"}`,children:[r.jsx("div",{className:"flex gap-1",children:I.colors.map((L,U)=>r.jsx("div",{className:"w-6 h-6 rounded-full",style:{backgroundColor:L}},U))}),r.jsx("span",{className:"text-sm font-semibold flex-1 text-left",children:I.name})]},I.id))})]}),r.jsxs(X,{className:"bg-slate-800/50 border-blue-500/30 p-4",children:[r.jsx("h3",{className:"text-lg font-bold text-blue-300 mb-3",children:" Configuraes"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"text-sm text-slate-300 mb-2 block",children:["Simetria: ",s.symmetry]}),r.jsx("input",{type:"range",min:"4",max:"16",value:s.symmetry,onChange:I=>i({...s,symmetry:parseInt(I.target.value)}),className:"w-full"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-slate-300 mb-2 block",children:"Complexidade"}),r.jsx("div",{className:"grid grid-cols-2 gap-2",children:Wze.map(I=>r.jsx("button",{onClick:()=>i({...s,complexity:I}),className:`p-2 rounded-lg border-2 text-sm transition ${s.complexity===I?"border-blue-500 bg-blue-500/20 text-white":"border-slate-600 hover:border-blue-400 text-slate-200"}`,children:I.charAt(0).toUpperCase()+I.slice(1).replace("-"," ")},I))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-slate-300 mb-2 block",children:"Smbolo Central"}),r.jsx("div",{className:"flex gap-2 flex-wrap",children:Gze.map(I=>r.jsx("button",{onClick:()=>i({...s,centerSymbol:I}),className:`w-10 h-10 rounded-full border-2 text-xl transition ${s.centerSymbol===I?"border-blue-500 bg-blue-500/20":"border-slate-600 hover:border-blue-400"}`,children:I},I))})]})]})]})]}):r.jsxs(r.Fragment,{children:[r.jsxs(X,{className:"bg-slate-800/50 border-pink-500/30 p-4",children:[r.jsx("h3",{className:"text-lg font-bold text-pink-300 mb-3",children:" Paleta de Cores"}),r.jsx("div",{className:"grid grid-cols-7 gap-2",children:By.flatMap(I=>I.colors).filter((I,L,U)=>U.indexOf(I)===L).map((I,L)=>r.jsx("button",{onClick:()=>b(I),className:`w-full aspect-square rounded-full border-2 transition ${y===I?"border-white scale-110":"border-slate-600"}`,style:{backgroundColor:I}},L))})]}),r.jsxs(X,{className:"bg-slate-800/50 border-purple-500/30 p-4",children:[r.jsx("h3",{className:"text-lg font-bold text-purple-300 mb-3",children:" Ferramentas"}),r.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-4",children:[r.jsxs("button",{onClick:()=>C("brush"),className:`p-3 rounded-lg border-2 transition ${S==="brush"?"border-purple-500 bg-purple-500/20 text-white":"border-slate-600 text-slate-200"}`,children:[r.jsx(YD,{className:"w-5 h-5 mx-auto mb-1"}),r.jsx("p",{className:"text-xs",children:"Pincel"})]}),r.jsxs("button",{onClick:()=>C("eraser"),className:`p-3 rounded-lg border-2 transition ${S==="eraser"?"border-purple-500 bg-purple-500/20 text-white":"border-slate-600 text-slate-200"}`,children:[r.jsx(Rue,{className:"w-5 h-5 mx-auto mb-1"}),r.jsx("p",{className:"text-xs",children:"Borracha"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"text-sm text-slate-300 mb-2 block",children:["Tamanho: ",_,"px"]}),r.jsx("div",{className:"flex gap-2",children:Kze.map(I=>r.jsx("button",{onClick:()=>j(I),className:`flex-1 py-2 rounded-lg border-2 text-xs transition ${_===I?"border-purple-500 bg-purple-500/20 text-white":"border-slate-600 text-slate-200"}`,children:I},I))})]}),r.jsxs(W,{onClick:$,variant:"outline",className:"w-full mt-4 border-red-500 text-red-400 hover:bg-red-500/20",children:[r.jsx(Bb,{className:"w-4 h-4 mr-2"}),"Limpar Tudo"]})]})]}),r.jsxs(X,{className:"bg-slate-800/50 border-yellow-500/30 p-4",children:[r.jsx("h3",{className:"text-lg font-bold text-yellow-300 mb-3",children:" Detalhes"}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(je,{placeholder:"Ttulo da sua mandala...",value:o,onChange:I=>l(I.target.value),className:"bg-slate-700/50 border-slate-600 text-white"}),r.jsx(It,{placeholder:"Inteno ou propsito desta mandala...",value:c,onChange:I=>d(I.target.value),className:"bg-slate-700/50 border-slate-600 text-white",rows:3})]})]}),n==="gerar"&&r.jsx(W,{onClick:F,disabled:u,className:"w-full bg-gradient-to-r from-purple-600 via-pink-600 to-purple-600 hover:from-purple-700 hover:via-pink-700 hover:to-purple-700 text-white text-lg py-6",size:"lg",children:u?r.jsxs(r.Fragment,{children:[r.jsx(zt,{className:"w-5 h-5 mr-2 animate-spin"}),"Gerando sua mandala..."]}):r.jsxs(r.Fragment,{children:[r.jsx(_e,{className:"w-5 h-5 mr-2"}),"Gerar Mandala"]})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs(X,{className:"bg-slate-800/50 border-purple-500/30 p-4 md:p-6",children:[r.jsx("h3",{className:"text-lg font-bold text-purple-300 mb-4 text-center",children:n==="gerar"?" Sua Mandala":" Desenhe Livremente"}),r.jsxs("div",{className:"relative",children:[r.jsxs("div",{className:"aspect-square bg-slate-900/50 rounded-2xl overflow-hidden border-2 border-purple-500/30 shadow-2xl",children:[r.jsx("canvas",{ref:E,width:600,height:600,className:"w-full h-full cursor-crosshair",onMouseDown:n==="desenhar"?M:void 0,onMouseMove:n==="desenhar"?O:void 0,onMouseUp:n==="desenhar"?k:void 0,onMouseLeave:n==="desenhar"?k:void 0,onTouchStart:n==="desenhar"?M:void 0,onTouchMove:n==="desenhar"?O:void 0,onTouchEnd:n==="desenhar"?k:void 0}),!f&&!u&&n==="gerar"&&r.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-slate-400 pointer-events-none",children:[r.jsx(Vr,{className:"w-12 h-12 mb-2 opacity-30"}),r.jsx("p",{className:"text-sm",children:"Configure e gere sua mandala"})]})]}),u&&r.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-black/70 rounded-2xl",children:[r.jsx(q.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"w-20 h-20 border-4 border-purple-500 border-t-transparent rounded-full"}),r.jsx("p",{className:"mt-4 text-purple-300 font-semibold",children:"Criando sua mandala..."})]})]}),r.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-2",children:[r.jsxs(W,{onClick:B,variant:"outline",className:"border-green-500 text-green-400 hover:bg-green-500/20",children:[r.jsx(Wo,{className:"w-4 h-4 mr-1"}),"Salvar"]}),r.jsxs(W,{onClick:G,variant:"outline",className:"border-blue-500 text-blue-400 hover:bg-blue-500/20",children:[r.jsx($l,{className:"w-4 h-4 mr-1"}),"Feed"]}),r.jsxs(W,{onClick:()=>{v(null),n==="desenhar"&&$()},variant:"outline",className:"border-slate-500 text-slate-400 hover:bg-slate-500/20",children:[r.jsx(Bb,{className:"w-4 h-4 mr-1"}),"Nova"]})]})]}),r.jsxs(X,{className:"bg-gradient-to-br from-purple-900/30 to-pink-900/30 border-purple-500/30 p-4",children:[r.jsxs("h4",{className:"font-bold text-purple-300 mb-2 flex items-center gap-2",children:[r.jsx(_e,{className:"w-4 h-4"}),"Dica Mstica"]}),r.jsx("p",{className:"text-sm text-slate-300",children:n==="gerar"?"As mandalas so ferramentas poderosas de meditao e autoconhecimento. Ao criar a sua, concentre-se na sua inteno e permita que as cores e formas fluam naturalmente atravs de voc. ":"Desenhe livremente com o corao. No se preocupe com perfeio - a beleza est na expresso autntica da sua alma. Deixe as cores guiarem seus movimentos. "})]})]})]})]})}):r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx(zt,{className:"w-8 h-8 animate-spin text-purple-500"})})}const zy={red:{name:"Vermelho",meaning:"Energia, paixo, fora de vontade",chakra:"Raiz"},orange:{name:"Laranja",meaning:"Criatividade, entusiasmo, vitalidade",chakra:"Sacral"},yellow:{name:"Amarelo",meaning:"Alegria, inteligncia, confiana",chakra:"Plexo Solar"},green:{name:"Verde",meaning:"Cura, amor, harmonia",chakra:"Cardaco"},blue:{name:"Azul",meaning:"Comunicao, verdade, paz",chakra:"Larngeo"},indigo:{name:"ndigo",meaning:"Intuio, sabedoria, percepo",chakra:"Terceiro Olho"},violet:{name:"Violeta",meaning:"Espiritualidade, transformao, conexo",chakra:"Coroa"},white:{name:"Branco",meaning:"Pureza, proteo, iluminao",chakra:"Todos"},gold:{name:"Dourado",meaning:"Divindade, sabedoria superior, mestria",chakra:"Coroa"}};function jre(){var C,E,P,T;const[t,e]=w.useState(null),[n,a]=w.useState(!1),[s,i]=w.useState(null),[o,l]=w.useState(null),[c,d]=w.useState(!1),u=w.useRef(null),h=w.useRef(null),f=w.useRef(null),v=w.useRef(null);ae.useEffect(()=>(x(),()=>{y()}),[]);const x=async()=>{const M=await H.auth.me();e(M)},g=async()=>{try{const M=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user",width:1280,height:720}});u.current&&(u.current.srcObject=M,await u.current.play(),f.current=M),d(!0)}catch(M){alert("Erro ao acessar cmera: "+M.message)}},y=()=>{f.current&&(f.current.getTracks().forEach(M=>M.stop()),f.current=null),u.current&&(u.current.srcObject=null),d(!1)},b=()=>{const M=h.current,k=u.current;if(M&&k&&k.videoWidth>0){M.width=k.videoWidth,M.height=k.videoHeight,M.getContext("2d").drawImage(k,0,0);const $=M.toDataURL("image/jpeg",.9);i($),y(),j($)}},_=M=>{const k=M.target.files[0];if(k){const O=new FileReader;O.onload=$=>{i($.target.result),j($.target.result)},O.readAsDataURL(k)}},j=async M=>{a(!0),await new Promise(k=>setTimeout(k,2e3));try{const k=await H.integrations.Core.InvokeLLM({prompt:`Analise esta foto de uma pessoa e determine:
1. A cor principal da aura (escolha entre: red, orange, yellow, green, blue, indigo, violet, white, gold)
2. A cor secundria da aura
3. A emoo predominante detectada na expresso facial
4. O nvel de energia (0-100)
5. Uma interpretao profunda e inspiradora do estado energtico atual

Retorne apenas no formato JSON solicitado.`,response_json_schema:{type:"object",properties:{aura_color:{type:"string"},secondary_color:{type:"string"},emotion_detected:{type:"string"},energy_level:{type:"number"},interpretation:{type:"string"}}},file_urls:[M]}),O={photo_url:M,aura_color:k.aura_color||"violet",secondary_color:k.secondary_color||"indigo",emotion_detected:k.emotion_detected||"Equilibrada",energy_level:k.energy_level||75,interpretation:k.interpretation||"Sua energia est em harmonia com o universo.",recommendations:["Pratique meditao para equilibrar sua energia","Passe tempo na natureza para fortalecer seu campo urico","Use cristais relacionados  sua cor de aura","Faa exerccios de respirao consciente"]};await H.entities.AuraReading.create({...O,user_id:t.id,scanned_at:new Date().toISOString()}),l(O)}catch(k){console.error("Erro na anlise:",k)}finally{a(!1)}},S=()=>{i(null),l(null),d(!1)};return t?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#02031C] via-slate-900 to-[#02031C] text-white p-3 md:p-6 pb-24",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsxs(q.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[r.jsx(q.div,{animate:{scale:[1,1.1,1],rotate:[0,180,360]},transition:{duration:3,repeat:1/0},className:"w-20 h-20 md:w-24 md:h-24 rounded-full bg-gradient-to-br from-orange-500 via-red-500 to-pink-600 flex items-center justify-center mx-auto mb-4 shadow-2xl",children:r.jsx(gr,{className:"w-10 h-10 md:w-12 md:h-12 text-white"})}),r.jsx("h1",{className:"text-2xl md:text-4xl font-bold mb-2 bg-gradient-to-r from-orange-400 via-red-400 to-pink-400 bg-clip-text text-transparent",children:"Aura Digital"}),r.jsx("p",{className:"text-slate-300 text-sm md:text-base",children:"Revelador da Aura - visualize sua energia"})]}),r.jsxs(gt,{mode:"wait",children:[!s&&!c&&r.jsx(q.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},children:r.jsxs(X,{className:"bg-slate-800/50 border-orange-500/30 p-6 md:p-8 text-center",children:[r.jsx("h3",{className:"text-xl md:text-2xl font-bold text-orange-300 mb-4",children:"Posicione seu rosto e clique em Capturar"}),r.jsx("p",{className:"text-slate-300 mb-6 text-sm md:text-base",children:"Nossa IA analisar sua expresso facial e energia para revelar a cor da sua aura atual"}),r.jsxs("div",{className:"bg-gradient-to-r from-orange-900/30 to-pink-900/30 border border-orange-500/30 rounded-lg p-4 mb-6 text-left",children:[r.jsx("h4",{className:"font-bold text-orange-300 mb-2",children:"Como funciona:"}),r.jsxs("ul",{className:"text-sm text-slate-300 space-y-1",children:[r.jsx("li",{children:" Anlise de expresses faciais por IA"}),r.jsx("li",{children:" Deteco do estado emocional atual"}),r.jsx("li",{children:" Mapeamento de energia dos chakras"}),r.jsx("li",{children:" Interpretao personalizada da aura"})]})]}),r.jsxs("div",{className:"grid gap-3",children:[r.jsxs(W,{onClick:g,className:"w-full bg-gradient-to-r from-orange-600 to-pink-600 hover:from-orange-700 hover:to-pink-700 py-6 text-base md:text-lg",children:[r.jsx(kM,{className:"w-5 h-5 mr-2"}),"Ativar Cmera"]}),r.jsx("input",{ref:v,type:"file",accept:"image/*",onChange:_,className:"hidden"}),r.jsx(W,{onClick:()=>{var M;return(M=v.current)==null?void 0:M.click()},variant:"outline",className:"w-full border-orange-500/30 text-orange-300 py-6 text-base md:text-lg",children:"Escolher Foto da Galeria"})]})]})},"initial"),c&&r.jsx(q.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:r.jsxs(X,{className:"bg-slate-800/50 border-orange-500/30 p-4 md:p-6",children:[r.jsx("h3",{className:"text-lg md:text-xl font-bold text-orange-300 mb-4 text-center",children:"Posicione seu rosto e clique em Capturar"}),r.jsxs("div",{className:"relative aspect-square max-w-lg mx-auto bg-black rounded-2xl overflow-hidden mb-4",children:[r.jsx("video",{ref:u,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"}),r.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:r.jsx("div",{className:"w-[70%] h-[70%] border-4 border-dashed border-orange-500/60 rounded-full"})})]}),r.jsx("canvas",{ref:h,className:"hidden"}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs(W,{onClick:b,className:"bg-gradient-to-r from-orange-600 to-pink-600 hover:from-orange-700 hover:to-pink-700",children:[r.jsx(kM,{className:"w-4 h-4 mr-2"}),"Capturar"]}),r.jsx(W,{onClick:()=>{y()},variant:"outline",className:"border-slate-600 text-slate-300",children:"Cancelar"})]})]})},"camera"),n&&r.jsx(q.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-8",children:r.jsxs(X,{className:"bg-slate-800/50 border-orange-500/30 p-6 md:p-8",children:[r.jsxs("div",{className:"relative w-48 h-48 mx-auto mb-6",children:[r.jsx("img",{src:s,className:"w-full h-full object-cover rounded-full border-4 border-orange-500/50"}),r.jsx(q.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"absolute inset-0",children:r.jsx("div",{className:"absolute inset-0 border-4 border-transparent border-t-orange-500 rounded-full"})})]}),r.jsx(q.h2,{animate:{opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0},className:"text-2xl md:text-3xl font-bold text-orange-300 mb-4",children:"Analisando sua Aura..."}),r.jsx("p",{className:"text-slate-400 mb-2",children:"IA processando expresses faciais"}),r.jsx("p",{className:"text-sm text-slate-500",children:"Mapeando campo energtico"})]})},"scanning"),o&&!n&&r.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:r.jsxs(X,{className:"bg-slate-800/50 border-orange-500/30 p-4 md:p-6 mb-6",children:[r.jsx("h3",{className:"text-xl md:text-2xl font-bold text-orange-300 mb-4 text-center",children:"Sua Aura Revelada"}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-6",children:[r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:o.photo_url,className:"w-full aspect-square object-cover rounded-xl"}),r.jsx("div",{className:"absolute inset-0 rounded-xl",style:{background:`radial-gradient(circle, transparent 40%, ${o.aura_color}60 70%, ${o.aura_color}30 100%)`}})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"p-4 bg-gradient-to-r from-orange-900/30 to-pink-900/30 rounded-xl",children:[r.jsx("h4",{className:"font-bold text-orange-300 mb-2",children:"Cor Primria da Aura"}),r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("div",{className:"w-12 h-12 rounded-full",style:{backgroundColor:o.aura_color}}),r.jsxs("div",{children:[r.jsx("p",{className:"font-bold",children:(C=zy[o.aura_color])==null?void 0:C.name}),r.jsxs("p",{className:"text-xs text-slate-400",children:["Chakra: ",(E=zy[o.aura_color])==null?void 0:E.chakra]})]})]}),r.jsx("p",{className:"text-sm text-slate-300",children:(P=zy[o.aura_color])==null?void 0:P.meaning})]}),r.jsxs("div",{className:"p-4 bg-slate-700/50 rounded-xl",children:[r.jsx("h4",{className:"font-bold text-orange-300 mb-2",children:"Emoo Detectada"}),r.jsx("p",{className:"text-lg",children:o.emotion_detected})]}),r.jsxs("div",{className:"p-4 bg-slate-700/50 rounded-xl",children:[r.jsx("h4",{className:"font-bold text-orange-300 mb-2",children:"Nvel de Energia"}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"flex-1 h-3 bg-slate-600 rounded-full overflow-hidden",children:r.jsx(q.div,{initial:{width:0},animate:{width:`${o.energy_level}%`},transition:{duration:1.5},className:"h-full bg-gradient-to-r from-orange-500 to-pink-500"})}),r.jsxs("span",{className:"font-bold",children:[o.energy_level,"%"]})]})]})]})]}),r.jsxs("div",{className:"p-4 bg-gradient-to-br from-purple-900/30 to-blue-900/30 rounded-xl mb-6",children:[r.jsx("h4",{className:"font-bold text-purple-300 mb-3",children:"Interpretao"}),r.jsx("p",{className:"text-sm text-slate-200 whitespace-pre-wrap",children:o.interpretation})]}),r.jsxs("div",{className:"p-4 bg-slate-700/50 rounded-xl mb-6",children:[r.jsx("h4",{className:"font-bold text-blue-300 mb-3",children:"Recomendaes"}),r.jsx("ul",{className:"space-y-2 text-sm text-slate-300",children:(T=o.recommendations)==null?void 0:T.map((M,k)=>r.jsxs("li",{children:[" ",M]},k))})]}),r.jsxs("div",{className:"grid md:grid-cols-3 gap-3",children:[r.jsxs(W,{onClick:S,variant:"outline",className:"border-slate-600",children:[r.jsx(fx,{className:"w-4 h-4 mr-2"}),"Nova Leitura"]}),r.jsxs(W,{variant:"outline",className:"border-blue-500 text-blue-400",onClick:()=>{var M,k;(k=navigator.share)==null||k.call(navigator,{title:"Minha Aura Digital",text:`Minha aura  ${(M=zy[o.aura_color])==null?void 0:M.name}!`})},children:[r.jsx($l,{className:"w-4 h-4 mr-2"}),"Compartilhar"]}),r.jsxs(W,{variant:"outline",className:"border-green-500 text-green-400",onClick:()=>{const M=document.createElement("a");M.download="minha-aura.jpg",M.href=o.photo_url,M.click()},children:[r.jsx(Wo,{className:"w-4 h-4 mr-2"}),"Salvar"]})]})]})},"result")]})]})}):r.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-[#02031C] via-slate-900 to-[#02031C]",children:r.jsx(zt,{className:"w-8 h-8 animate-spin text-purple-500"})})}function Nre(){const[t,e]=w.useState(null),[n,a]=w.useState(!1),[s,i]=w.useState({question:"",context:"",category:"geral",is_anonymous:!1}),[o,l]=w.useState(null),[c,d]=w.useState(""),u=wt();ae.useEffect(()=>{h()},[]);const h=async()=>{const _=await H.auth.me();e(_)},{data:f}=Oe({queryKey:["community-opinions"],queryFn:()=>H.entities.CommunityOpinion.filter({status:"open"},"-created_date",50),refetchInterval:1e4}),v=Ue({mutationFn:async _=>{const j=new Date;return j.setDate(j.getDate()+7),await H.entities.CommunityOpinion.create({..._,author_id:t.id,author_name:_.is_anonymous?"Annimo":t.display_name||t.full_name,responses:[],responses_count:0,views_count:0,status:"open",expires_at:j.toISOString()})},onSuccess:()=>{u.invalidateQueries({queryKey:["community-opinions"]}),a(!1),i({question:"",context:"",category:"geral",is_anonymous:!1}),alert(" Pergunta publicada!")}}),x=Ue({mutationFn:async({opinionId:_,response:j})=>{const S=f.find(T=>T.id===_);if(!S)return;const C={user_id:t.id,user_name:t.display_name||t.full_name,user_avatar:t.avatar_url,response:j,likes:0,created_at:new Date().toISOString()},E=[...S.responses||[],C];await H.entities.CommunityOpinion.update(_,{responses:E,responses_count:E.length});const P=Math.floor((t.xp||0)*.005);return await H.auth.updateMe({xp:(t.xp||0)+P}),S.author_id!==t.id&&await H.entities.Notification.create({user_id:S.author_id,type:"comment",title:" Nova Opinio",message:`${t.display_name||t.full_name} respondeu sua pergunta`,from_user_id:t.id,from_user_name:t.display_name||t.full_name,from_user_avatar:t.avatar_url}),P},onSuccess:_=>{u.invalidateQueries({queryKey:["community-opinions"]}),l(null),d(""),h();const j=document.createElement("div");j.className="fixed top-20 left-1/2 -translate-x-1/2 z-[200] bg-gradient-to-r from-green-600 to-emerald-600 text-white px-6 py-3 rounded-full shadow-2xl font-bold",j.textContent=`+${_} XP! `,document.body.appendChild(j),setTimeout(()=>j.remove(),3e3),alert(" Resposta enviada! +0.5% XP")}}),g=()=>{if(!s.question){alert("Digite sua pergunta");return}v.mutate(s)},y=()=>{if(!c.trim()){alert("Digite sua resposta");return}x.mutate({opinionId:o.id,response:c})},b={amor:{emoji:"",color:"from-pink-500 to-red-500"},trabalho:{emoji:"",color:"from-blue-500 to-cyan-500"},espiritualidade:{emoji:"",color:"from-purple-500 to-indigo-500"},saude:{emoji:"",color:"from-green-500 to-emerald-500"},familia:{emoji:"",color:"from-orange-500 to-amber-500"},decisao:{emoji:"",color:"from-yellow-500 to-orange-500"},geral:{emoji:"",color:"from-slate-500 to-slate-600"}};return t?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#02031C] via-slate-900 to-[#02031C] text-white p-3 md:p-6 pb-24",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsxs(q.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[r.jsx(q.div,{animate:{rotate:[0,5,-5,0],y:[0,-5,0]},transition:{duration:3,repeat:1/0},className:"w-20 h-20 md:w-24 md:h-24 rounded-full bg-gradient-to-br from-amber-500 to-orange-600 flex items-center justify-center mx-auto mb-4 shadow-2xl",children:r.jsx(H0,{className:"w-10 h-10 md:w-12 md:h-12 text-white"})}),r.jsx("h1",{className:"text-2xl md:text-4xl font-bold mb-2 bg-gradient-to-r from-amber-400 to-orange-400 bg-clip-text text-transparent",children:"Orculo da Opinio"}),r.jsx("p",{className:"text-slate-300 text-sm md:text-base",children:"Cmara dos Sussurros - pergunte  comunidade"})]}),r.jsx(X,{className:"bg-gradient-to-r from-green-900/30 to-emerald-900/30 border-green-500/30 p-3 md:p-4 mb-6",children:r.jsxs("p",{className:"text-sm text-green-300",children:[" Cada resposta dada ganha ",r.jsx("strong",{children:"0.5% de XP"})," instantaneamente!"]})}),r.jsxs(X,{className:"bg-slate-800/50 border-amber-500/30 p-4 md:p-6 mb-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg md:text-xl font-bold text-amber-300",children:" Fazer Pergunta"}),r.jsx(W,{onClick:()=>a(!n),variant:"outline",size:"sm",className:"border-amber-500",children:n?"Cancelar":r.jsx(_r,{className:"w-4 h-4"})})]}),r.jsx(gt,{children:n&&r.jsxs(q.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-4",children:[r.jsx(It,{value:s.question,onChange:_=>i({...s,question:_.target.value}),placeholder:"Qual  sua dvida ou questo?",className:"bg-slate-700/50 border-slate-600 text-white h-24"}),r.jsx(It,{value:s.context,onChange:_=>i({...s,context:_.target.value}),placeholder:"Contexto adicional (opcional)...",className:"bg-slate-700/50 border-slate-600 text-white h-20"}),r.jsxs("select",{value:s.category,onChange:_=>i({...s,category:_.target.value}),className:"w-full px-3 py-2 bg-slate-700/50 border border-slate-600 rounded-lg text-white",children:[r.jsx("option",{value:"geral",children:" Geral"}),r.jsx("option",{value:"amor",children:" Amor"}),r.jsx("option",{value:"trabalho",children:" Trabalho"}),r.jsx("option",{value:"espiritualidade",children:" Espiritualidade"}),r.jsx("option",{value:"saude",children:" Sade"}),r.jsx("option",{value:"familia",children:" Famlia"}),r.jsx("option",{value:"decisao",children:" Deciso"})]}),r.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-200",children:[r.jsx("input",{type:"checkbox",checked:s.is_anonymous,onChange:_=>i({...s,is_anonymous:_.target.checked}),className:"rounded"}),r.jsx("span",{children:"Perguntar anonimamente"}),s.is_anonymous?r.jsx(ip,{className:"w-4 h-4"}):r.jsx(Vr,{className:"w-4 h-4"})]}),r.jsxs(W,{onClick:g,disabled:v.isPending,className:"w-full bg-gradient-to-r from-amber-600 to-orange-600 hover:from-amber-700 hover:to-orange-700",children:[r.jsx(H0,{className:"w-4 h-4 mr-2"}),"Publicar Pergunta"]})]})})]}),r.jsxs("h2",{className:"text-xl md:text-2xl font-bold text-amber-300 mb-4 flex items-center gap-2",children:[r.jsx(_e,{className:"w-6 h-6"}),"Muro das Opinies"]}),r.jsx("div",{className:"space-y-4",children:f&&f.length>0?f.map((_,j)=>{const S=b[_.category]||b.geral;return r.jsx(q.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:j*.05},children:r.jsxs(X,{className:`bg-slate-800/50 border-l-4 p-4 md:p-6 bg-gradient-to-r ${S.color} border-opacity-50`,children:[r.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-amber-500 to-orange-600 flex items-center justify-center text-2xl flex-shrink-0",children:S.emoji}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[r.jsx("p",{className:"font-bold text-white",children:_.is_anonymous?" Annimo":_.author_name}),r.jsx(De,{variant:"outline",className:"text-xs capitalize",children:_.category})]}),r.jsx("h3",{className:"text-lg font-bold text-amber-300 mb-2",children:_.question}),_.context&&r.jsx("p",{className:"text-sm text-slate-300 mb-3",children:_.context}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-400",children:[r.jsxs("span",{children:[_.responses_count||0," respostas"]}),r.jsxs("span",{children:[_.views_count||0," visualizaes"]})]})]})]}),_.responses&&_.responses.length>0&&r.jsx("div",{className:"mt-4 space-y-3",children:_.responses.map((C,E)=>{var P,T;return r.jsxs("div",{className:"p-3 bg-slate-700/50 rounded-lg border border-slate-600",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-purple-600 to-pink-600 flex items-center justify-center text-white text-xs font-bold",children:(T=(P=C.user_name)==null?void 0:P[0])==null?void 0:T.toUpperCase()}),r.jsx("p",{className:"font-semibold text-sm",children:C.user_name})]}),r.jsx("p",{className:"text-sm text-slate-200",children:C.response})]},E)})}),(o==null?void 0:o.id)===_.id?r.jsxs(q.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"mt-4 space-y-3",children:[r.jsx(It,{value:c,onChange:C=>d(C.target.value),placeholder:"Digite sua opinio...",className:"bg-slate-700/50 border-slate-600 text-white h-24"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(W,{onClick:y,disabled:x.isPending,className:"flex-1 bg-gradient-to-r from-green-600 to-emerald-600",children:[r.jsx(Hr,{className:"w-4 h-4 mr-2"}),"Enviar (+0.5% XP)"]}),r.jsx(W,{onClick:()=>l(null),variant:"outline",className:"border-slate-600",children:"Cancelar"})]})]}):r.jsxs(W,{onClick:()=>l(_),variant:"outline",className:"w-full mt-4 border-amber-500 text-amber-400 hover:bg-amber-500/20",children:[r.jsx(Pr,{className:"w-4 h-4 mr-2"}),"Dar Minha Opinio"]})]})},_.id)}):r.jsxs(X,{className:"bg-slate-800/50 border-slate-600 p-12 text-center",children:[r.jsx(H0,{className:"w-12 h-12 text-slate-500 mx-auto mb-4"}),r.jsx("p",{className:"text-slate-400",children:"Nenhuma pergunta no momento"}),r.jsx("p",{className:"text-sm text-slate-500 mt-2",children:"Seja o primeiro a perguntar!"})]})})]})}):r.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-[#02031C] via-slate-900 to-[#02031C]",children:r.jsx(zt,{className:"w-8 h-8 animate-spin text-purple-500"})})}const Xze={menstrual:{name:"Menstrual",color:"from-red-500 to-pink-500",emoji:"",description:"Fase de renovao"},folicular:{name:"Folicular",color:"from-green-500 to-emerald-500",emoji:"",description:"Fase de crescimento"},ovulacao:{name:"Ovulao",color:"from-yellow-500 to-amber-500",emoji:"",description:"Pico de fertilidade"},lutea:{name:"Ltea",color:"from-purple-500 to-indigo-500",emoji:"",description:"Preparao"}},Yze=["Clicas","Dor de cabea","Inchao","Sensibilidade nos seios","Fadiga","Mudanas de humor","Acne","Nusea","Dor lombar","Ansiedade","Insnia","Apetite aumentado"],Qze=["Feliz","Calma","Irritada","Ansiosa","Triste","Energtica","Cansada"],Zze=["Leve","Moderado","Intenso","Muito intenso"];function Sre(){const[t,e]=w.useState(null),[n,a]=w.useState(!1),[s,i]=w.useState({last_period_start:"",cycle_length:28,period_length:5}),[o,l]=w.useState([]),[c,d]=w.useState(""),[u,h]=w.useState(""),[f,v]=w.useState(""),x=wt();ae.useEffect(()=>{g()},[]);const g=async()=>{const T=await H.auth.me();e(T)},{data:y}=Oe({queryKey:["menstrual-cycle",t==null?void 0:t.id],queryFn:()=>H.entities.MenstrualCycle.filter({user_id:t==null?void 0:t.id}),enabled:!!t}),b=y==null?void 0:y[0],_=Ue({mutationFn:async T=>{const M=new Date(T.last_period_start);M.setDate(M.getDate()+T.cycle_length);const k=new Date(T.last_period_start);k.setDate(k.getDate()+Math.floor(T.cycle_length/2));const O=new Date(k);O.setDate(O.getDate()-3);const $=new Date(k);return $.setDate($.getDate()+1),b?await H.entities.MenstrualCycle.update(b.id,{...T,next_period_prediction:M.toISOString().split("T")[0],ovulation_date:k.toISOString().split("T")[0],fertile_window:{start:O.toISOString().split("T")[0],end:$.toISOString().split("T")[0]}}):await H.entities.MenstrualCycle.create({user_id:t.id,...T,next_period_prediction:M.toISOString().split("T")[0],ovulation_date:k.toISOString().split("T")[0],fertile_window:{start:O.toISOString().split("T")[0],end:$.toISOString().split("T")[0]},symptoms_tracking:[],cycle_phase:"menstrual"})},onSuccess:()=>{x.invalidateQueries({queryKey:["menstrual-cycle"]}),a(!1),alert(" Ciclo configurado!")}}),j=Ue({mutationFn:async()=>{if(!b)return;const T={date:new Date().toISOString().split("T")[0],symptoms:o,mood:c,flow_intensity:u,notes:f},M=[...b.symptoms_tracking||[],T];return await H.entities.MenstrualCycle.update(b.id,{symptoms_tracking:M})},onSuccess:()=>{x.invalidateQueries({queryKey:["menstrual-cycle"]}),l([]),d(""),h(""),v(""),alert(" Sintomas registrados!")}}),C=(()=>{if(!b)return null;const T=new Date,M=new Date(b.last_period_start),k=Math.floor((T-M)/(1e3*60*60*24));return k<b.period_length?"menstrual":k<b.cycle_length/2-2?"folicular":k<b.cycle_length/2+2?"ovulacao":"lutea"})(),E=C?Xze[C]:null,P=T=>{l(M=>M.includes(T)?M.filter(k=>k!==T):[...M,T])};return t?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#02031C] via-slate-900 to-[#02031C] text-white p-3 md:p-6 pb-24",children:r.jsxs("div",{className:"max-w-5xl mx-auto",children:[r.jsxs(q.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[r.jsx(q.div,{animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},className:"w-20 h-20 md:w-24 md:h-24 rounded-full bg-gradient-to-br from-pink-500 to-rose-600 flex items-center justify-center mx-auto mb-4 shadow-2xl",children:r.jsx($n,{className:"w-10 h-10 md:w-12 md:h-12 text-white"})}),r.jsx("h1",{className:"text-2xl md:text-4xl font-bold mb-2 bg-gradient-to-r from-pink-400 to-rose-400 bg-clip-text text-transparent",children:"Ciclo Menstrual"}),r.jsx("p",{className:"text-slate-300 text-sm md:text-base",children:"Acompanhe e entenda seu ciclo"})]}),!b||n?r.jsxs(X,{className:"bg-slate-800/50 border-pink-500/30 p-4 md:p-6",children:[r.jsx("h3",{className:"text-lg md:text-xl font-bold text-pink-300 mb-4",children:"Configurao Inicial"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-slate-300 mb-2 block",children:"Primeiro dia do ltimo perodo"}),r.jsx(je,{type:"date",value:s.last_period_start,onChange:T=>i({...s,last_period_start:T.target.value}),className:"bg-slate-700/50 border-slate-600 text-white"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-slate-300 mb-2 block",children:"Durao do ciclo (dias)"}),r.jsx(je,{type:"number",value:s.cycle_length,onChange:T=>i({...s,cycle_length:parseInt(T.target.value)}),min:21,max:35,className:"bg-slate-700/50 border-slate-600 text-white"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-slate-300 mb-2 block",children:"Durao do perodo (dias)"}),r.jsx(je,{type:"number",value:s.period_length,onChange:T=>i({...s,period_length:parseInt(T.target.value)}),min:2,max:10,className:"bg-slate-700/50 border-slate-600 text-white"})]})]}),r.jsx(W,{onClick:()=>_.mutate(s),disabled:!s.last_period_start||_.isPending,className:"w-full bg-gradient-to-r from-pink-600 to-rose-600",children:"Salvar Configurao"})]})]}):r.jsxs("div",{className:"space-y-6",children:[E&&r.jsxs(X,{className:`bg-gradient-to-r ${E.color} border-2 border-white/20 p-4 md:p-6 text-center shadow-2xl`,children:[r.jsx("div",{className:"text-5xl mb-3",children:E.emoji}),r.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-2 text-white drop-shadow-lg",children:E.name}),r.jsx("p",{className:"text-white drop-shadow-md",children:E.description})]}),r.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[r.jsxs(X,{className:"bg-slate-800/50 border-pink-500/30 p-4 text-center",children:[r.jsx(Ya,{className:"w-8 h-8 text-pink-400 mx-auto mb-2"}),r.jsx("p",{className:"text-sm text-slate-300 mb-1",children:"Prximo Perodo"}),r.jsx("p",{className:"text-lg font-bold text-white",children:new Date(b.next_period_prediction).toLocaleDateString("pt-BR")})]}),r.jsxs(X,{className:"bg-slate-800/50 border-yellow-500/30 p-4 text-center",children:[r.jsx(td,{className:"w-8 h-8 text-yellow-400 mx-auto mb-2"}),r.jsx("p",{className:"text-sm text-slate-300 mb-1",children:"Ovulao"}),r.jsx("p",{className:"text-lg font-bold text-white",children:new Date(b.ovulation_date).toLocaleDateString("pt-BR")})]}),r.jsxs(X,{className:"bg-slate-800/50 border-green-500/30 p-4 text-center",children:[r.jsx(On,{className:"w-8 h-8 text-green-400 mx-auto mb-2"}),r.jsx("p",{className:"text-sm text-slate-300 mb-1",children:"Janela Frtil"}),r.jsxs("p",{className:"text-xs font-bold text-white",children:[new Date(b.fertile_window.start).toLocaleDateString("pt-BR",{day:"2-digit",month:"short"})," - ",new Date(b.fertile_window.end).toLocaleDateString("pt-BR",{day:"2-digit",month:"short"})]})]})]}),r.jsxs($r,{defaultValue:"hoje",className:"w-full",children:[r.jsxs(Tr,{className:"grid w-full grid-cols-3 bg-slate-800",children:[r.jsx(xt,{value:"hoje",children:"Hoje"}),r.jsx(xt,{value:"historico",children:"Histrico"}),r.jsx(xt,{value:"insights",children:"Insights"})]}),r.jsx(et,{value:"hoje",className:"space-y-4 mt-4",children:r.jsxs(X,{className:"bg-slate-800/50 border-pink-500/30 p-4 md:p-6",children:[r.jsx("h3",{className:"text-lg font-bold text-pink-300 mb-4",children:"Registrar Hoje"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-slate-300 mb-2 block",children:"Sintomas"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:Yze.map(T=>r.jsx("button",{onClick:()=>P(T),className:`p-2 rounded-lg border-2 text-sm transition ${o.includes(T)?"border-pink-500 bg-pink-500/20 text-white":"border-slate-600 hover:border-pink-400 text-slate-200"}`,children:T},T))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-slate-300 mb-2 block",children:"Humor"}),r.jsx("div",{className:"grid grid-cols-3 md:grid-cols-4 gap-2",children:Qze.map(T=>r.jsx("button",{onClick:()=>d(T),className:`p-2 rounded-lg border-2 text-sm transition ${c===T?"border-purple-500 bg-purple-500/20 text-white":"border-slate-600 hover:border-purple-400 text-slate-200"}`,children:T},T))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-slate-300 mb-2 block",children:"Intensidade do Fluxo"}),r.jsx("div",{className:"grid grid-cols-4 gap-2",children:Zze.map(T=>r.jsx("button",{onClick:()=>h(T),className:`p-2 rounded-lg border-2 text-xs transition ${u===T?"border-red-500 bg-red-500/20 text-white":"border-slate-600 hover:border-red-400 text-slate-200"}`,children:T},T))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm text-slate-300 mb-2 block",children:"Notas"}),r.jsx(je,{value:f,onChange:T=>v(T.target.value),placeholder:"Observaes do dia...",className:"bg-slate-700/50 border-slate-600 text-white"})]}),r.jsxs(W,{onClick:()=>j.mutate(),disabled:j.isPending,className:"w-full bg-gradient-to-r from-pink-600 to-rose-600",children:[r.jsx(_r,{className:"w-4 h-4 mr-2"}),"Salvar Registro de Hoje"]})]})]})}),r.jsx(et,{value:"historico",className:"mt-4",children:r.jsxs(X,{className:"bg-slate-800/50 border-purple-500/30 p-4 md:p-6",children:[r.jsx("h3",{className:"text-lg font-bold text-purple-300 mb-4",children:" Histrico de Sintomas"}),b!=null&&b.symptoms_tracking&&b.symptoms_tracking.length>0?r.jsx("div",{className:"space-y-3",children:b.symptoms_tracking.slice().reverse().map((T,M)=>r.jsxs("div",{className:"p-3 bg-slate-700/50 rounded-lg border border-slate-600",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("p",{className:"font-semibold text-sm",children:new Date(T.date).toLocaleDateString("pt-BR")}),T.mood&&r.jsx(De,{variant:"outline",children:T.mood})]}),T.symptoms&&T.symptoms.length>0&&r.jsx("div",{className:"flex flex-wrap gap-1 mb-2",children:T.symptoms.map((k,O)=>r.jsx("span",{className:"text-xs bg-pink-900/30 px-2 py-1 rounded",children:k},O))}),T.flow_intensity&&r.jsxs("p",{className:"text-xs text-slate-400",children:["Fluxo: ",T.flow_intensity]}),T.notes&&r.jsx("p",{className:"text-xs text-slate-300 mt-2",children:T.notes})]},M))}):r.jsx("p",{className:"text-center text-slate-400 py-8",children:"Nenhum registro ainda"})]})}),r.jsx(et,{value:"insights",className:"mt-4",children:r.jsxs(X,{className:"bg-slate-800/50 border-blue-500/30 p-4 md:p-6",children:[r.jsx("h3",{className:"text-lg font-bold text-blue-300 mb-4",children:" Insights de Sade"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"p-4 bg-blue-900/20 rounded-lg border border-blue-500/30",children:[r.jsx("h4",{className:"font-semibold text-blue-300 mb-2",children:"Fase Atual"}),r.jsxs("p",{className:"text-sm text-slate-200",children:["Durante a fase ",E==null?void 0:E.name.toLowerCase(),",  comum sentir ",C==="menstrual"?"mais cansao e necessidade de descanso":C==="folicular"?"mais energia e criatividade":C==="ovulacao"?"pico de energia e sociabilidade":"mudanas de humor e necessidade de autocuidado","."]})]}),r.jsxs("div",{className:"p-4 bg-green-900/20 rounded-lg border border-green-500/30",children:[r.jsx("h4",{className:"font-semibold text-green-300 mb-2",children:"Recomendaes"}),r.jsxs("ul",{className:"text-sm text-slate-200 space-y-1",children:[r.jsx("li",{children:" Mantenha-se hidratada"}),r.jsx("li",{children:" Pratique exerccios leves durante o perodo"}),r.jsx("li",{children:" Alimente-se bem, especialmente com ferro"}),r.jsx("li",{children:" Descanse adequadamente"}),r.jsx("li",{children:" Monitore sintomas incomuns"})]})]}),r.jsxs("div",{className:"p-4 bg-yellow-900/20 rounded-lg border border-yellow-500/30",children:[r.jsx("h4",{className:"font-semibold text-yellow-300 mb-2",children:" Quando consultar um mdico"}),r.jsxs("ul",{className:"text-xs text-slate-300 space-y-1",children:[r.jsx("li",{children:" Dor intensa que interfere nas atividades dirias"}),r.jsx("li",{children:" Sangramento muito intenso ou prolongado"}),r.jsx("li",{children:" Ciclos muito irregulares"}),r.jsx("li",{children:" Sintomas novos ou incomuns"})]})]}),r.jsx(W,{onClick:()=>a(!0),variant:"outline",className:"w-full border-slate-600",children:"Atualizar Configuraes"})]})]})})]})]})]})}):r.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-[#02031C] via-slate-900 to-[#02031C]",children:r.jsx(zt,{className:"w-8 h-8 animate-spin text-purple-500"})})}function Cre(){const[t,e]=w.useState(null);ae.useEffect(()=>{n()},[]);const n=async()=>{const u=await H.auth.me();e(u)},{data:a}=Oe({queryKey:["saved-mandalas",t==null?void 0:t.id],queryFn:()=>H.entities.MandalaCreation.filter({creator_id:t==null?void 0:t.id}),enabled:!!t}),{data:s}=Oe({queryKey:["saved-charts",t==null?void 0:t.id],queryFn:()=>H.entities.BirthChart.filter({user_id:t==null?void 0:t.id}),enabled:!!t}),{data:i}=Oe({queryKey:["saved-auras",t==null?void 0:t.id],queryFn:()=>H.entities.AuraReading.filter({user_id:t==null?void 0:t.id}),enabled:!!t}),{data:o}=Oe({queryKey:["saved-dreams",t==null?void 0:t.id],queryFn:()=>H.entities.DreamInterpretation.filter({user_id:t==null?void 0:t.id}),enabled:!!t}),{data:l}=Oe({queryKey:["saved-pendulums",t==null?void 0:t.id],queryFn:()=>H.entities.PendulumQuestion.filter({user_id:t==null?void 0:t.id}),enabled:!!t}),{data:c}=Oe({queryKey:["saved-events",t==null?void 0:t.id],queryFn:()=>H.entities.LunarEvent.filter({user_id:t==null?void 0:t.id}),enabled:!!t});if(!t)return r.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-[#02031C] via-slate-900 to-[#02031C]",children:r.jsx(zt,{className:"w-8 h-8 animate-spin text-purple-500"})});const d=((a==null?void 0:a.length)||0)+((s==null?void 0:s.length)||0)+((i==null?void 0:i.length)||0)+((o==null?void 0:o.length)||0)+((l==null?void 0:l.length)||0)+((c==null?void 0:c.length)||0);return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#02031C] via-slate-900 to-[#02031C] text-white p-3 md:p-6 pb-24",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs(q.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[r.jsx(q.div,{animate:{rotate:[0,10,-10,0],scale:[1,1.05,1]},transition:{duration:3,repeat:1/0},className:"w-20 h-20 md:w-24 md:h-24 rounded-full bg-gradient-to-br from-rose-500 to-pink-600 flex items-center justify-center mx-auto mb-4 shadow-2xl",children:r.jsx(si,{className:"w-10 h-10 md:w-12 md:h-12 text-white"})}),r.jsx("h1",{className:"text-2xl md:text-4xl font-bold mb-2 bg-gradient-to-r from-rose-400 to-pink-400 bg-clip-text text-transparent",children:"Cofre de Tesouros"}),r.jsxs("p",{className:"text-slate-300 text-sm md:text-base",children:["Tudo que voc salvou no Zamira (",d," itens)"]})]}),r.jsxs($r,{defaultValue:"mandalas",className:"w-full",children:[r.jsxs(Tr,{className:"grid w-full grid-cols-3 md:grid-cols-6 bg-slate-800 mb-6",children:[r.jsxs(xt,{value:"mandalas",className:"text-xs md:text-sm",children:[r.jsx(DM,{className:"w-3 h-3 md:w-4 md:h-4 mr-1"}),"Mandalas"]}),r.jsxs(xt,{value:"mapas",className:"text-xs md:text-sm",children:[r.jsx(td,{className:"w-3 h-3 md:w-4 md:h-4 mr-1"}),"Mapas"]}),r.jsxs(xt,{value:"auras",className:"text-xs md:text-sm",children:[r.jsx(gr,{className:"w-3 h-3 md:w-4 md:h-4 mr-1"}),"Auras"]}),r.jsxs(xt,{value:"sonhos",className:"text-xs md:text-sm",children:[r.jsx($m,{className:"w-3 h-3 md:w-4 md:h-4 mr-1"}),"Sonhos"]}),r.jsxs(xt,{value:"pendulo",className:"text-xs md:text-sm",children:[r.jsx(_e,{className:"w-3 h-3 md:w-4 md:h-4 mr-1"}),"Pndulo"]}),r.jsxs(xt,{value:"eventos",className:"text-xs md:text-sm",children:[r.jsx(Ya,{className:"w-3 h-3 md:w-4 md:h-4 mr-1"}),"Eventos"]})]}),r.jsx(et,{value:"mandalas",className:"space-y-4",children:!a||a.length===0?r.jsxs(X,{className:"bg-slate-800/50 border-pink-500/30 p-12 text-center",children:[r.jsx(DM,{className:"w-12 h-12 text-slate-500 mx-auto mb-4"}),r.jsx("p",{className:"text-slate-400",children:"Nenhuma mandala salva"})]}):r.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:a.map(u=>r.jsxs(X,{className:"bg-slate-800/50 border-pink-500/30 p-4",children:[r.jsx("img",{src:u.image_url,className:"w-full aspect-square object-cover rounded-lg mb-3"}),r.jsx("h3",{className:"font-bold text-pink-300 mb-1",children:u.title}),r.jsx("p",{className:"text-xs text-slate-300 mb-2",children:u.intention}),r.jsx("p",{className:"text-xs text-slate-400",children:new Date(u.created_date).toLocaleDateString("pt-BR")})]},u.id))})}),r.jsx(et,{value:"mapas",className:"space-y-4",children:!s||s.length===0?r.jsxs(X,{className:"bg-slate-800/50 border-purple-500/30 p-12 text-center",children:[r.jsx(td,{className:"w-12 h-12 text-slate-500 mx-auto mb-4"}),r.jsx("p",{className:"text-slate-400",children:"Nenhum mapa astral gerado"})]}):s.map(u=>{var h;return r.jsxs(X,{className:"bg-slate-800/50 border-purple-500/30 p-4 md:p-6",children:[r.jsx("h3",{className:"text-lg font-bold text-purple-300 mb-2",children:u.full_name}),r.jsxs("div",{className:"text-sm text-slate-300 mb-3",children:[r.jsxs("p",{children:[" ",new Date(u.birth_date).toLocaleDateString("pt-BR")]}),r.jsxs("p",{children:[" ",u.birth_time]}),r.jsxs("p",{children:[" ",(h=u.birth_place)==null?void 0:h.city]})]}),r.jsx("div",{className:"bg-slate-700/50 p-3 rounded-lg max-h-40 overflow-y-auto",children:r.jsx("p",{className:"text-xs text-slate-200 whitespace-pre-wrap",children:u.full_interpretation})})]},u.id)})}),r.jsx(et,{value:"auras",className:"space-y-4",children:!i||i.length===0?r.jsxs(X,{className:"bg-slate-800/50 border-orange-500/30 p-12 text-center",children:[r.jsx(gr,{className:"w-12 h-12 text-slate-500 mx-auto mb-4"}),r.jsx("p",{className:"text-slate-400",children:"Nenhuma leitura de aura"})]}):r.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:i.map(u=>r.jsxs(X,{className:"bg-slate-800/50 border-orange-500/30 p-4",children:[r.jsxs("div",{className:"relative mb-3",children:[r.jsx("img",{src:u.photo_url,className:"w-full aspect-square object-cover rounded-lg"}),r.jsx("div",{className:"absolute inset-0 rounded-lg",style:{background:`radial-gradient(circle, transparent 40%, ${u.aura_color}60 70%, ${u.aura_color}30 100%)`}})]}),r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("div",{className:"w-8 h-8 rounded-full",style:{backgroundColor:u.aura_color}}),r.jsxs("div",{children:[r.jsx("p",{className:"font-bold text-orange-300 text-sm",children:u.emotion_detected}),r.jsxs("p",{className:"text-xs text-slate-300",children:[u.energy_level,"% energia"]})]})]}),r.jsx("p",{className:"text-xs text-slate-400",children:new Date(u.scanned_at).toLocaleDateString("pt-BR")})]},u.id))})}),r.jsx(et,{value:"sonhos",className:"space-y-4",children:!o||o.length===0?r.jsxs(X,{className:"bg-slate-800/50 border-indigo-500/30 p-12 text-center",children:[r.jsx($m,{className:"w-12 h-12 text-slate-500 mx-auto mb-4"}),r.jsx("p",{className:"text-slate-400",children:"Nenhum sonho interpretado"})]}):o.map(u=>r.jsxs(X,{className:"bg-slate-800/50 border-indigo-500/30 p-4 md:p-6",children:[r.jsx("h3",{className:"font-bold text-indigo-300 mb-2",children:u.dream_title}),r.jsx("p",{className:"text-sm text-slate-300 mb-3 line-clamp-2",children:u.dream_content}),r.jsxs("div",{className:"bg-purple-900/30 p-3 rounded-lg",children:[r.jsx("h4",{className:"text-xs font-bold text-purple-300 mb-2",children:"Interpretao:"}),r.jsx("p",{className:"text-xs text-slate-200 line-clamp-3",children:u.interpretation})]}),r.jsx("p",{className:"text-xs text-slate-400 mt-2",children:new Date(u.created_date).toLocaleDateString("pt-BR")})]},u.id))}),r.jsx(et,{value:"pendulo",className:"space-y-4",children:!l||l.length===0?r.jsxs(X,{className:"bg-slate-800/50 border-cyan-500/30 p-12 text-center",children:[r.jsx(_e,{className:"w-12 h-12 text-slate-500 mx-auto mb-4"}),r.jsx("p",{className:"text-slate-400",children:"Nenhuma consulta ao pndulo"})]}):l.map(u=>r.jsxs(X,{className:"bg-slate-800/50 border-cyan-500/30 p-4 md:p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center text-2xl ${u.answer==="sim"?"bg-green-500":u.answer==="nao"?"bg-red-500":"bg-yellow-500"}`,children:u.answer==="sim"?"":u.answer==="nao"?"":""}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("p",{className:"text-sm text-slate-200 italic",children:['"',u.question,'"']}),r.jsxs("p",{className:"text-xs text-cyan-300 font-bold mt-1",children:["Resposta: ",u.answer.toUpperCase()]})]})]}),r.jsx("p",{className:"text-xs text-slate-400",children:u.energy_reading}),r.jsx("p",{className:"text-xs text-slate-400 mt-2",children:new Date(u.asked_at).toLocaleDateString("pt-BR")})]},u.id))}),r.jsx(et,{value:"eventos",className:"space-y-4",children:!c||c.length===0?r.jsxs(X,{className:"bg-slate-800/50 border-blue-500/30 p-12 text-center",children:[r.jsx(Ya,{className:"w-12 h-12 text-slate-500 mx-auto mb-4"}),r.jsx("p",{className:"text-slate-400",children:"Nenhum evento lunar salvo"})]}):c.map(u=>r.jsxs(X,{className:"bg-slate-800/50 border-blue-500/30 p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-xl",style:{backgroundColor:u.color},children:""}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-bold text-blue-300",children:u.title}),r.jsx("p",{className:"text-xs text-slate-300",children:u.description})]})]}),r.jsxs("div",{className:"flex items-center gap-3 text-xs text-slate-300",children:[r.jsxs("span",{children:[" ",new Date(u.event_date).toLocaleDateString("pt-BR")]}),u.event_time&&r.jsxs("span",{children:[" ",u.event_time]}),r.jsx(De,{variant:"outline",className:"text-xs capitalize text-slate-300",children:u.moon_phase})]})]},u.id))})]})]})})}const Vq={meditacao:[{name:"432 Hz - Cura Universal",url:"https://www.youtube.com/embed/1yRY5B3Q8u4",duration:"3h",description:"Frequncia da natureza e harmonia"},{name:"528 Hz - Transformao DNA",url:"https://www.youtube.com/embed/WUwJUrXn2oY",duration:"1h",description:"Frequncia dos milagres e reparo celular"},{name:"639 Hz - Conexo e Relacionamentos",url:"https://www.youtube.com/embed/FqeU68F53qU",duration:"3h",description:"Harmonia nos relacionamentos"},{name:"741 Hz - Despertar da Intuio",url:"https://www.youtube.com/embed/Ml-79TzitoY",duration:"3h",description:"Limpeza de toxinas e despertar espiritual"},{name:"963 Hz - Ativao Pineal",url:"https://www.youtube.com/embed/EKTZ151yLnk",duration:"3h",description:"Conexo com o divino"},{name:"285 Hz - Regenerao dos Tecidos",url:"https://www.youtube.com/embed/iRDTQuZUv7k",duration:"1h",description:"Cura fsica e energtica"},{name:"396 Hz - Liberao do Medo",url:"https://www.youtube.com/embed/Dxyg9eH_56w",duration:"3h",description:"Libera culpa e medo"},{name:"174 Hz - Fundao Natural",url:"https://www.youtube.com/embed/f91CL0gwOCQ",duration:"1h",description:"Base para expanso da conscincia"}],ondas_cerebrais:[{name:"Alpha Waves - Relaxamento",url:"https://www.youtube.com/embed/dQaToxatVaU",duration:"2h",description:"Estado meditativo leve"},{name:"Theta Waves - Meditao Profunda",url:"https://www.youtube.com/embed/mcOd3J0CgCQ",duration:"3h",description:"Acesso ao subconsciente"},{name:"Delta Waves - Sono Profundo",url:"https://www.youtube.com/embed/B1k_4JPgsNw",duration:"8h",description:"Regenerao e cura durante sono"},{name:"Gamma Waves - Foco Mximo",url:"https://www.youtube.com/embed/Hzkml5IkUU8",duration:"1h",description:"Concentrao e processamento"},{name:"Beta Waves - Concentrao Ativa",url:"https://www.youtube.com/embed/j_CUFFIKLck",duration:"2h",description:"Estado de viglia e ateno"}],natureza:[{name:"Chuva na Floresta",url:"https://www.youtube.com/embed/nDq6TstdEi8",duration:"10h",description:"Sons da chuva em floresta tropical"},{name:"Ondas do Mar",url:"https://www.youtube.com/embed/WHPYKLOM8zc",duration:"12h",description:"Ondas suaves na praia"},{name:"Cachoeira Relaxante",url:"https://www.youtube.com/embed/eKFTSSKCzWA",duration:"8h",description:"gua corrente e natureza"},{name:"Floresta ao Amanhecer",url:"https://www.youtube.com/embed/xNN7iTA57jM",duration:"3h",description:"Pssaros e sons matinais"},{name:"Fogueira Crepitante",url:"https://www.youtube.com/embed/UgHKb_7884o",duration:"10h",description:"Som de lenha queimando"},{name:"Troves Distantes",url:"https://www.youtube.com/embed/nqJiWbD08Yw",duration:"8h",description:"Tempestade suave"}],chakras:[{name:"Todos os 7 Chakras - Alinhamento",url:"https://www.youtube.com/embed/ARoih-LzXI0",duration:"1h",description:"Harmonizao completa"},{name:"Chakra Raiz - 396 Hz",url:"https://www.youtube.com/embed/Dxyg9eH_56w",duration:"1h",description:"Segurana e estabilidade"},{name:"Chakra Sacral - 417 Hz",url:"https://www.youtube.com/embed/u09s0uz0tEU",duration:"1h",description:"Criatividade e emoes"},{name:"Chakra Plexo Solar - 528 Hz",url:"https://www.youtube.com/embed/WUwJUrXn2oY",duration:"1h",description:"Poder pessoal"},{name:"Chakra Cardaco - 639 Hz",url:"https://www.youtube.com/embed/FqeU68F53qU",duration:"1h",description:"Amor e compaixo"},{name:"Chakra Larngeo - 741 Hz",url:"https://www.youtube.com/embed/Ml-79TzitoY",duration:"1h",description:"Expresso e verdade"},{name:"Chakra Terceiro Olho - 852 Hz",url:"https://www.youtube.com/embed/Sle4E_5wttA",duration:"1h",description:"Intuio e clareza"},{name:"Chakra Coroa - 963 Hz",url:"https://www.youtube.com/embed/EKTZ151yLnk",duration:"1h",description:"Conexo espiritual"}],binaurais:[{name:"Concentrao Profunda - 40 Hz",url:"https://www.youtube.com/embed/VBe99lKo09c",duration:"2h",description:"Foco intenso para estudos"},{name:"Meditao Zen - 7.83 Hz",url:"https://www.youtube.com/embed/0WqIKUMDz1k",duration:"3h",description:"Frequncia da Terra (Schumann)"},{name:"Sono Instantneo - 1 Hz",url:"https://www.youtube.com/embed/WGxJHPkmRw0",duration:"8h",description:"Induo ao sono profundo"},{name:"Lucid Dreaming - 6 Hz",url:"https://www.youtube.com/embed/YKgYRkFl3SQ",duration:"8h",description:"Sonhos lcidos"},{name:"Criatividade - 10 Hz",url:"https://www.youtube.com/embed/jPpUNAFHgxM",duration:"2h",description:"Inspirao e ideias"}],mantras:[{name:"OM Mantra - 108 Repeties",url:"https://www.youtube.com/embed/PchZ9f0e4a0",duration:"30min",description:"Som primordial do universo"},{name:"Gayatri Mantra",url:"https://www.youtube.com/embed/Tq_Y9a1s9XY",duration:"1h",description:"Iluminao espiritual"},{name:"Maha Mrityunjaya Mantra",url:"https://www.youtube.com/embed/xGa8i6GC_ow",duration:"1h",description:"Cura e proteo"},{name:"Cantos Tibetanos",url:"https://www.youtube.com/embed/w-T9aoTNfJw",duration:"3h",description:"Monges tibetanos"},{name:"Cantos Gregorianos",url:"https://www.youtube.com/embed/W-hrBhA4XkM",duration:"2h",description:"Canto sagrado cristo"}]};function Ere(){const[t,e]=w.useState(null),[n,a]=w.useState("meditacao"),[s,i]=w.useState(null);ae.useEffect(()=>{o()},[]);const o=async()=>{const u=await H.auth.me();e(u)},l=u=>{if(!u||!u.url)return;const h=u.url.split("/embed/");if(!h[1])return;const f=h[1].split("?")[0];f&&window.open(`https://www.youtube.com/watch?v=${f}`,"_blank")};if(!t)return r.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-[#02031C] via-slate-900 to-[#02031C]",children:r.jsx(zt,{className:"w-8 h-8 animate-spin text-purple-500"})});const c=Object.keys(Vq),d=Vq[n];return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#02031C] via-slate-900 to-[#02031C] text-white p-3 md:p-6 pb-24",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs(q.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[r.jsx(q.div,{animate:{scale:[1,1.05,1],rotate:[0,360]},transition:{scale:{duration:3,repeat:1/0},rotate:{duration:20,repeat:1/0,ease:"linear"}},className:"w-20 h-20 md:w-24 md:h-24 rounded-full bg-gradient-to-br from-teal-500 to-green-600 flex items-center justify-center mx-auto mb-4 shadow-2xl",children:r.jsx(X3,{className:"w-10 h-10 md:w-12 md:h-12 text-white"})}),r.jsx("h1",{className:"text-2xl md:text-4xl font-bold mb-2 bg-gradient-to-r from-teal-400 to-green-400 bg-clip-text text-transparent",children:"Santurio do Silncio"}),r.jsx("p",{className:"text-slate-300 text-sm md:text-base",children:"Frequncias sagradas e sons curativos"})]}),r.jsx("div",{className:"flex gap-2 mb-6 overflow-x-auto pb-2",children:c.map(u=>r.jsx("button",{onClick:()=>a(u),className:`px-4 py-2 rounded-full whitespace-nowrap transition text-sm ${n===u?"bg-gradient-to-r from-teal-600 to-green-600 text-white":"bg-slate-800 text-slate-300 hover:bg-slate-700"}`,children:u==="meditacao"?" Meditao":u==="ondas_cerebrais"?" Ondas Cerebrais":u==="natureza"?" Natureza":u==="chakras"?" Chakras":u==="binaurais"?" Binaurais":" Mantras"},u))}),r.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:d.map((u,h)=>r.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:h*.03},children:r.jsxs(X,{className:"bg-slate-800/50 border-teal-500/30 p-4 hover:border-teal-400 transition group",children:[r.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-teal-600 to-green-600 flex items-center justify-center flex-shrink-0 group-hover:scale-110 transition",children:r.jsx(Ko,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"font-bold text-teal-300 text-sm mb-1 line-clamp-2",children:u.name}),r.jsx(De,{variant:"outline",className:"text-xs text-slate-300 border-slate-600",children:u.duration})]})]}),r.jsx("p",{className:"text-xs text-slate-300 mb-4 line-clamp-2",children:u.description}),r.jsxs(W,{onClick:()=>l(u),className:"w-full bg-gradient-to-r from-teal-600 to-green-600 hover:from-teal-700 hover:to-green-700 text-white",size:"sm",children:[r.jsx(Qa,{className:"w-4 h-4 mr-2"}),"Ouvir Agora"]})]})},h))}),r.jsxs(X,{className:"bg-gradient-to-br from-teal-900/30 to-green-900/30 border-teal-500/30 p-4 md:p-6 mt-6",children:[r.jsxs("h4",{className:"font-bold text-teal-300 mb-3 flex items-center gap-2",children:[r.jsx(_e,{className:"w-5 h-5"}),"Benefcios das Frequncias"]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-3 text-sm text-slate-300",children:[r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx($n,{className:"w-4 h-4 text-teal-400 flex-shrink-0 mt-0.5"}),r.jsx("p",{children:"Reduo de estresse e ansiedade"})]}),r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(ho,{className:"w-4 h-4 text-teal-400 flex-shrink-0 mt-0.5"}),r.jsx("p",{children:"Melhora do foco e concentrao"})]}),r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(_e,{className:"w-4 h-4 text-teal-400 flex-shrink-0 mt-0.5"}),r.jsx("p",{children:"Equilbrio energtico dos chakras"})]}),r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(Ko,{className:"w-4 h-4 text-teal-400 flex-shrink-0 mt-0.5"}),r.jsx("p",{children:"Induo ao estado meditativo"})]})]})]})]})})}const Jze=[{id:"tarot-arcanos",name:"Tarot - Arcanos Maiores",emoji:"",difficulty:"mdio"},{id:"astrologia-basica",name:"Astrologia Bsica",emoji:"",difficulty:"fcil"},{id:"cristais-propriedades",name:"Cristais e Propriedades",emoji:"",difficulty:"mdio"},{id:"chakras-equilibrio",name:"Chakras e Equilbrio",emoji:"",difficulty:"fcil"},{id:"numerologia",name:"Numerologia Mstica",emoji:"",difficulty:"mdio"},{id:"simbolismo-sonhos",name:"Simbolismo dos Sonhos",emoji:"",difficulty:"difcil"},{id:"mitologia-grega",name:"Mitologia Grega",emoji:"",difficulty:"mdio"},{id:"mitologia-egipcia",name:"Mitologia Egpcia",emoji:"",difficulty:"difcil"},{id:"psicologia-jung",name:"Psicologia Junguiana",emoji:"",difficulty:"difcil"},{id:"alquimia",name:"Alquimia e Transmutao",emoji:"",difficulty:"difcil"},{id:"runas-nordicas",name:"Runas Nrdicas",emoji:"",difficulty:"mdio"},{id:"cabala",name:"Cabala e rvore da Vida",emoji:"",difficulty:"difcil"},{id:"i-ching",name:"I Ching - Sabedoria Chinesa",emoji:"",difficulty:"difcil"},{id:"xamanismo",name:"Xamanismo e Jornadas",emoji:"",difficulty:"mdio"},{id:"wicca",name:"Wicca e Magia Natural",emoji:"",difficulty:"mdio"},{id:"arqutipos",name:"Arqutipos e Personalidade",emoji:"",difficulty:"fcil"},{id:"lua-fases",name:"Fases da Lua e Rituais",emoji:"",difficulty:"fcil"},{id:"elementos",name:"Os 4 Elementos",emoji:"",difficulty:"fcil"}];function Are(){const[t,e]=w.useState(null),[n,a]=w.useState(null),[s,i]=w.useState(!1),[o,l]=w.useState(null),[c,d]=w.useState(0),[u,h]=w.useState([]),[f,v]=w.useState(90),[x,g]=w.useState(!1),y=Sn();ae.useEffect(()=>{_()},[]);const{data:b}=Oe({queryKey:["top-quiz-scores"],queryFn:()=>H.entities.QuizScore.list("-score_percentage",10),refetchInterval:1e4});ae.useEffect(()=>{if(o&&!x&&f>0){const P=setTimeout(()=>v(f-1),1e3);return()=>clearTimeout(P)}else f===0&&o&&!x&&C()},[f,o,x]);const _=async()=>{const P=await H.auth.me();e(P)},j=async P=>{i(!0),a(P);const T=`Crie um quiz sobre "${P.name}" com exatamente 10 perguntas de mltipla escolha.

Para cada pergunta:
- Crie uma pergunta desafiadora e interessante
- Fornea 4 alternativas (A, B, C, D)
- Indique qual  a resposta correta
- Adicione uma explicao educativa para a resposta correta

Retorne no formato JSON especificado.`;try{const M=await H.integrations.Core.InvokeLLM({prompt:T,response_json_schema:{type:"object",properties:{questions:{type:"array",items:{type:"object",properties:{question:{type:"string"},options:{type:"array",items:{type:"string"}},correct_answer:{type:"number"},explanation:{type:"string"}}}}}}});l(M.questions),d(0),h([]),v(90),g(!1),i(!1)}catch(M){alert("Erro ao gerar quiz: "+M.message),i(!1)}},S=P=>{const T=[...u];T[c]=P,h(T),c<o.length-1?setTimeout(()=>{d(c+1)},500):setTimeout(()=>{C()},500)},C=async()=>{const P=u.reduce((k,O,$)=>O===o[$].correct_answer?k+1:k,0),T=Math.round(P/o.length*100),M=90-f;if(await H.entities.QuizScore.create({user_id:t.id,user_name:t.display_name||t.full_name,user_avatar:t.avatar_url,quiz_theme:n.name,correct_answers:P,total_questions:o.length,score_percentage:T,time_taken:M,xp_earned:P>=8?Math.floor((t.xp||0)*.005):0,ouros_earned:P>=8?5:0}),P>=8){const k=t.xp||0,O=t.ouros||0,$=Math.floor(k*.005);await H.auth.updateMe({xp:k+$,ouros:O+5});const F=document.createElement("div");F.className="fixed top-20 left-1/2 -translate-x-1/2 z-[200] bg-gradient-to-r from-green-600 to-emerald-600 text-white px-6 py-3 rounded-full shadow-2xl font-bold",F.textContent=`+${$} XP! +5 Ouros! `,document.body.appendChild(F),setTimeout(()=>F.remove(),3e3),_()}g(!0)},E=()=>{l(null),a(null),d(0),h([]),v(90),g(!1)};return t?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#02031C] via-slate-900 to-[#02031C] text-white p-3 md:p-6 pb-24",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsxs(q.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[r.jsx(q.div,{animate:{rotate:[0,360],scale:[1,1.1,1]},transition:{rotate:{duration:3,repeat:1/0,ease:"linear"},scale:{duration:2,repeat:1/0}},className:"w-20 h-20 md:w-24 md:h-24 rounded-full bg-gradient-to-br from-purple-500 to-pink-600 flex items-center justify-center mx-auto mb-4 shadow-2xl",children:r.jsx(ho,{className:"w-10 h-10 md:w-12 md:h-12 text-white"})}),r.jsx("h1",{className:"text-2xl md:text-4xl font-bold mb-2 bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:"Quizzes Msticos"}),r.jsx("p",{className:"text-slate-300 text-sm md:text-base",children:"Teste seu conhecimento e ganhe XP"})]}),r.jsxs(gt,{mode:"wait",children:[!n&&!s&&r.jsx(q.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:r.jsxs($r,{defaultValue:"temas",className:"mb-6",children:[r.jsxs(Tr,{className:"grid w-full grid-cols-2 bg-slate-800",children:[r.jsxs(xt,{value:"temas",children:[r.jsx(ho,{className:"w-4 h-4 mr-2"}),"Temas"]}),r.jsxs(xt,{value:"ranking",children:[r.jsx(Tl,{className:"w-4 h-4 mr-2"}),"Ranking"]})]}),r.jsxs(et,{value:"temas",className:"mt-6",children:[r.jsx(X,{className:"bg-gradient-to-r from-purple-900/30 to-pink-900/30 border-purple-500/30 p-4 mb-6",children:r.jsxs("p",{className:"text-sm text-purple-300 text-center",children:[r.jsx(gr,{className:"w-4 h-4 inline mr-2"}),"Acerte ",r.jsx("strong",{children:"8/10 ou mais"})," e ganhe ",r.jsx("strong",{children:"5 ouros + 0.5% XP"}),"!"]})}),r.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:Jze.map((P,T)=>r.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:T*.03},children:r.jsxs(X,{onClick:()=>j(P),className:"bg-slate-800/50 border-purple-500/30 p-4 hover:border-purple-400 transition cursor-pointer group",children:[r.jsx("div",{className:"text-4xl mb-3 group-hover:scale-110 transition",children:P.emoji}),r.jsx("h3",{className:"font-bold text-purple-300 mb-2 text-sm",children:P.name}),r.jsx(De,{className:`text-xs ${P.difficulty==="fcil"?"bg-green-100 text-green-800":P.difficulty==="mdio"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:P.difficulty})]})},P.id))})]}),r.jsx(et,{value:"ranking",className:"mt-6",children:r.jsxs(X,{className:"bg-slate-800/50 border-purple-500/30 p-4 md:p-6",children:[r.jsxs("h3",{className:"text-xl font-bold text-purple-300 mb-4 flex items-center gap-2",children:[r.jsx(Tl,{className:"w-6 h-6 text-yellow-400"}),"Top 10 Mestres dos Quizzes"]}),b&&b.length>0?r.jsx("div",{className:"space-y-3",children:b.map((P,T)=>r.jsx(q.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:T*.05},className:`p-3 md:p-4 rounded-xl border-2 transition ${T===0?"bg-gradient-to-r from-yellow-900/30 to-amber-900/30 border-yellow-500/50":T===1?"bg-gradient-to-r from-gray-800/30 to-gray-700/30 border-gray-400/50":T===2?"bg-gradient-to-r from-orange-900/30 to-amber-900/30 border-orange-500/50":"bg-slate-700/30 border-purple-500/30"}`,children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold text-lg ${T===0?"bg-gradient-to-br from-yellow-400 to-amber-500 text-slate-900":T===1?"bg-gradient-to-br from-gray-300 to-gray-400 text-slate-900":T===2?"bg-gradient-to-br from-orange-400 to-amber-600 text-slate-900":"bg-slate-600 text-white"}`,children:T+1}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("p",{className:"font-bold text-white truncate",children:P.user_name}),r.jsx(De,{className:"bg-purple-600 text-white text-xs",children:P.quiz_theme})]}),r.jsxs("div",{className:"flex items-center gap-3 text-xs text-slate-300",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(_n,{className:"w-3 h-3 text-green-400"}),P.correct_answers,"/",P.total_questions]}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Jn,{className:"w-3 h-3 text-purple-400"}),P.score_percentage,"%"]}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Mr,{className:"w-3 h-3 text-blue-400"}),P.time_taken,"s"]})]})]}),r.jsxs("div",{className:"text-right flex-shrink-0",children:[P.xp_earned>0&&r.jsxs(De,{className:"bg-green-600 text-white text-xs mb-1",children:["+",P.xp_earned," XP"]}),P.ouros_earned>0&&r.jsxs("div",{className:"flex items-center gap-1 text-yellow-400 font-bold text-sm",children:[r.jsx(Gn,{className:"w-4 h-4"}),P.ouros_earned]})]})]})},P.id))}):r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Ub,{className:"w-12 h-12 text-slate-600 mx-auto mb-3"}),r.jsx("p",{className:"text-slate-400",children:"Nenhum score registrado ainda"}),r.jsx("p",{className:"text-sm text-slate-500 mt-2",children:"Seja o primeiro a completar um quiz!"})]})]})})]})},"selection"),s&&r.jsx(q.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:r.jsxs(X,{className:"bg-slate-800/50 border-purple-500/30 p-8 md:p-12",children:[r.jsx(q.div,{animate:{rotate:360,scale:[1,1.2,1]},transition:{rotate:{duration:2,repeat:1/0,ease:"linear"},scale:{duration:1.5,repeat:1/0}},className:"w-24 h-24 mx-auto mb-6 rounded-full bg-gradient-to-br from-purple-600 to-pink-600 flex items-center justify-center",children:r.jsx(ho,{className:"w-12 h-12 text-white"})}),r.jsx("h2",{className:"text-2xl font-bold text-purple-300 mb-2",children:"Gerando Quiz..."}),r.jsxs("p",{className:"text-slate-400",children:["A IA est criando perguntas sobre ",n==null?void 0:n.name]})]})},"generating"),o&&!x&&r.jsxs(q.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},children:[r.jsxs(X,{className:"bg-slate-800/50 border-purple-500/30 p-4 mb-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Mr,{className:"w-5 h-5 text-purple-400"}),r.jsxs("span",{className:`font-bold text-lg ${f<10?"text-red-400 animate-pulse":"text-white"}`,children:[f,"s"]})]}),r.jsx("div",{className:"flex items-center gap-2 text-sm text-slate-300",children:r.jsxs("span",{children:[c+1," / ",o.length]})})]}),r.jsx("div",{className:"h-2 bg-slate-700 rounded-full overflow-hidden",children:r.jsx(q.div,{initial:{width:0},animate:{width:`${(c+1)/o.length*100}%`},className:"h-full bg-gradient-to-r from-purple-600 to-pink-600"})})]}),r.jsxs(X,{className:"bg-gradient-to-br from-purple-900/50 to-pink-900/50 border-purple-500/30 p-6 md:p-8",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsxs(De,{className:"bg-purple-700 text-white mb-4",children:["Questo ",c+1]}),r.jsx("h2",{className:"text-xl md:text-2xl font-bold text-white mb-2",children:o[c].question})]}),r.jsx("div",{className:"space-y-3",children:o[c].options.map((P,T)=>{const M=u[c]===T,k=["A","B","C","D"];return r.jsx(q.button,{onClick:()=>S(T),disabled:u[c]!==void 0,whileHover:{scale:1.02},whileTap:{scale:.98},className:`w-full p-4 rounded-xl border-2 transition text-left ${M?"border-purple-500 bg-purple-500/20":"border-slate-600 bg-slate-700/50 hover:border-purple-400"}`,children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold ${M?"bg-purple-500 text-white":"bg-slate-600 text-slate-300"}`,children:k[T]}),r.jsx("span",{className:"text-sm md:text-base text-white",children:P})]})},T)})})]})]},"quiz"),x&&o&&r.jsx(q.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},children:(()=>{const P=u.reduce((k,O,$)=>O===o[$].correct_answer?k+1:k,0),T=Math.round(P/o.length*100),M=P>=8;return r.jsxs("div",{className:"space-y-6",children:[r.jsxs(X,{className:`bg-gradient-to-br p-6 md:p-8 text-center ${M?"from-green-900/50 to-emerald-900/50 border-green-500/50":"from-orange-900/50 to-red-900/50 border-orange-500/50"}`,children:[r.jsx(q.div,{animate:{rotate:360,scale:[1,1.2,1]},transition:{duration:2,repeat:1/0},className:`w-20 h-20 md:w-24 md:h-24 rounded-full mx-auto mb-4 flex items-center justify-center ${M?"bg-gradient-to-br from-green-500 to-emerald-600":"bg-gradient-to-br from-orange-500 to-red-600"}`,children:M?r.jsx(Tl,{className:"w-12 h-12 text-white"}):r.jsx(Wn,{className:"w-12 h-12 text-white"})}),r.jsxs("h2",{className:"text-3xl md:text-4xl font-bold mb-2",children:[T,"%"]}),r.jsxs("p",{className:"text-lg text-white mb-4",children:[P," de ",o.length," corretas"]}),M&&r.jsxs("div",{className:"bg-green-500/20 border border-green-500/50 rounded-lg p-4 mb-4 space-y-2",children:[r.jsx("p",{className:"text-green-300 font-bold text-center",children:" Parabns! Voc ganhou:"}),r.jsxs("div",{className:"flex items-center justify-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2 bg-green-600/30 px-4 py-2 rounded-lg",children:[r.jsx(_e,{className:"w-5 h-5 text-green-300"}),r.jsx("span",{className:"text-white font-bold",children:"+0.5% XP"})]}),r.jsxs("div",{className:"flex items-center gap-2 bg-yellow-600/30 px-4 py-2 rounded-lg",children:[r.jsx(Gn,{className:"w-5 h-5 text-yellow-400"}),r.jsx("span",{className:"text-white font-bold",children:"+5 Ouros"})]})]})]}),r.jsx("p",{className:"text-slate-300 mb-4",children:M?"Excelente domnio do tema! Continue assim! ":"Continue estudando! Acerte 8/10 para ganhar recompensas "}),r.jsxs(W,{onClick:()=>y(ft("Explorar")),variant:"outline",className:"border-purple-500 text-purple-300 hover:bg-purple-500/20 mb-2",size:"sm",children:[r.jsx(Tl,{className:"w-4 h-4 mr-2"}),"Ver Ranking Completo"]})]}),r.jsx("div",{className:"space-y-3",children:o.map((k,O)=>{const $=u[O],F=$===k.correct_answer;return r.jsx(X,{className:`p-4 ${F?"bg-green-900/20 border-green-500/30":"bg-red-900/20 border-red-500/30"}`,children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"flex-shrink-0",children:F?r.jsx(_n,{className:"w-6 h-6 text-green-400"}):r.jsx(RM,{className:"w-6 h-6 text-red-400"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-semibold text-white mb-2",children:k.question}),r.jsxs("p",{className:"text-sm text-slate-300 mb-2",children:["Sua resposta: ",r.jsx("span",{className:F?"text-green-400":"text-red-400",children:k.options[$]||"No respondeu"})]}),!F&&r.jsxs("p",{className:"text-sm text-green-400 mb-2",children:["Correta: ",k.options[k.correct_answer]]}),r.jsxs("p",{className:"text-xs text-slate-400 bg-slate-800/50 p-2 rounded",children:[" ",k.explanation]})]})]})},O)})}),r.jsxs(W,{onClick:E,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white py-6 text-lg",size:"lg",children:[r.jsx(_e,{className:"w-5 h-5 mr-2"}),"Fazer Outro Quiz"]})]})})()},"result")]})]})}):r.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-[#02031C] via-slate-900 to-[#02031C]",children:r.jsx(zt,{className:"w-8 h-8 animate-spin text-purple-500"})})}function Mre(){const[t,e]=w.useState(null),[n,a]=w.useState(null),[s,i]=w.useState("all"),o=Sn();w.useEffect(()=>{l()},[]);const l=async()=>{const x=await H.auth.me();e(x)},{data:c,isLoading:d}=Oe({queryKey:["pdf-library"],queryFn:()=>H.entities.PDFLibrary.filter({is_active:!0},"order",100),enabled:!!t,refetchOnMount:!0,refetchOnWindowFocus:!0}),u=x=>x.is_premium?t==null?void 0:t.is_pro_subscriber:!0,h=async x=>{if(!(!x||!x.id)){if(!u(x)){alert(" Este PDF  exclusivo para membros PRO. Assine para ter acesso completo!");return}try{await H.entities.PDFLibrary.update(x.id,{views_count:(x.views_count||0)+1})}catch(g){console.error("Erro ao atualizar views:",g)}a(x)}},f=[{value:"all",label:"Todos",emoji:""},{value:"tarot",label:"Tarot",emoji:""},{value:"astrologia",label:"Astrologia",emoji:""},{value:"cristais",label:"Cristais",emoji:""},{value:"meditacao",label:"Meditao",emoji:""},{value:"outros",label:"Outros",emoji:""}],v=s==="all"?c:c==null?void 0:c.filter(x=>x.category===s);return t?r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#1a1a2e] via-[#16213e] to-[#0f3460] p-4 md:p-6 pb-24",children:[r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs(W,{onClick:()=>o(ft("AreaDoAluno")),variant:"ghost",className:"text-white mb-6",children:[r.jsx(Go,{className:"w-4 h-4 mr-2"}),"Voltar para rea do Aluno"]}),r.jsxs(q.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[r.jsx(q.div,{animate:{rotate:[0,5,-5,0],scale:[1,1.05,1]},transition:{duration:4,repeat:1/0},className:"w-20 h-20 md:w-24 md:h-24 rounded-2xl bg-gradient-to-br from-purple-600 to-pink-600 flex items-center justify-center mx-auto mb-4 shadow-2xl",children:r.jsx(Oa,{className:"w-10 h-10 md:w-12 md:h-12 text-white"})}),r.jsx("h1",{className:"text-2xl md:text-4xl font-bold mb-2 bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:"Biblioteca Mstica"}),r.jsx("p",{className:"text-slate-300 text-sm md:text-base",children:"Materiais exclusivos para aprofundar seus estudos"})]}),r.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-8",children:f.map(x=>r.jsxs("button",{onClick:()=>i(x.value),className:`px-3 md:px-4 py-2 rounded-full transition text-sm ${s===x.value?"bg-gradient-to-r from-purple-600 to-pink-600 text-white":"bg-slate-800 text-slate-300 hover:bg-slate-700"}`,children:[x.emoji," ",x.label]},x.value))}),r.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:d?r.jsxs("div",{className:"col-span-full text-center py-12",children:[r.jsx(_e,{className:"w-12 h-12 text-purple-500 animate-pulse mx-auto mb-4"}),r.jsx("p",{className:"text-gray-400",children:"Carregando biblioteca..."})]}):v&&v.length>0?v.map((x,g)=>{const y=u(x);return r.jsx(q.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:g*.05},children:r.jsxs(X,{className:`bg-gradient-to-br from-slate-900/50 to-black border-purple-500/20 hover:border-purple-400/50 transition-all overflow-hidden group ${y?"cursor-pointer":"opacity-75"}`,onClick:()=>y&&h(x),children:[x.cover_image_url?r.jsxs("div",{className:"aspect-[3/4] overflow-hidden relative",children:[r.jsx("img",{src:x.cover_image_url,alt:x.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),!y&&r.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Bn,{className:"w-8 h-8 text-yellow-400 mx-auto mb-2"}),r.jsx(De,{className:"bg-yellow-600 text-white",children:"PRO"})]})})]}):r.jsx("div",{className:"aspect-[3/4] bg-gradient-to-br from-purple-900/30 to-pink-900/30 flex items-center justify-center",children:r.jsx(Oa,{className:"w-16 h-16 text-purple-400"})}),r.jsxs("div",{className:"p-3 md:p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("h3",{className:"font-bold text-white text-xs md:text-base line-clamp-2 flex-1",children:x.title}),x.is_premium&&y&&r.jsx(Bn,{className:"w-3 h-3 md:w-4 md:h-4 text-yellow-400 flex-shrink-0"})]}),x.description&&r.jsx("p",{className:"text-[10px] md:text-sm text-gray-400 line-clamp-2 mb-2 md:mb-3",children:x.description}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"text-[10px] md:text-xs text-gray-500 flex items-center gap-1",children:[r.jsx(Vr,{className:"w-3 h-3"}),x.views_count||0]}),r.jsxs(W,{size:"sm",variant:"ghost",className:"text-purple-400 hover:text-purple-300 hover:bg-purple-500/10 h-7 md:h-8 text-[10px] md:text-sm px-2 md:px-3",onClick:b=>{b.stopPropagation(),y&&h(x)},children:[r.jsx(Oa,{className:"w-3 h-3 md:w-4 md:h-4 mr-1"}),"Ler"]})]})]})]})},x.id)}):r.jsx("div",{className:"col-span-full",children:r.jsxs(X,{className:"bg-slate-800/50 border-slate-600 p-12 text-center",children:[r.jsx(Oa,{className:"w-12 h-12 text-slate-500 mx-auto mb-4"}),r.jsx("p",{className:"text-slate-400",children:"Nenhum material disponvel"})]})})}),r.jsxs(X,{className:"bg-gradient-to-br from-purple-900/30 to-pink-900/30 border-purple-500/30 p-4 md:p-6 mt-8",children:[r.jsxs("h4",{className:"font-bold text-purple-300 mb-2 flex items-center gap-2",children:[r.jsx(_e,{className:"w-4 h-4"}),"Sobre a Biblioteca"]}),r.jsx("p",{className:"text-sm text-slate-300",children:"Nossa biblioteca est sempre crescendo com novos materiais sobre Tarot, Astrologia, Cristais e muito mais. Membros PRO tm acesso completo a todo o contedo premium! "})]})]}),r.jsx(gt,{children:n&&r.jsx(HJ,{pdf:n,onClose:()=>a(null)})})]}):r.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-[#02031C] via-slate-900 to-[#02031C]",children:r.jsx(_e,{className:"w-12 h-12 text-purple-500 animate-pulse"})})}const eqe=[{icon:Pr,title:"Criar Posts",description:"Compartilhe reflexes no feed da comunidade",reward:"10 ouros por post",color:"from-blue-600 to-cyan-600"},{icon:$n,title:"Reagir em Posts",description:"Interaja com a comunidade deixando reaes",reward:"2 ouros por reao",color:"from-pink-600 to-rose-600"},{icon:ci,title:"Arena dos Orculos",description:"Participe de duelos e ganhe se vencer",reward:"50 ouros por vitria",color:"from-orange-600 to-red-600"},{icon:_n,title:"Completar Misses",description:"Cumpra misses dirias e semanais",reward:"At 100 ouros",color:"from-green-600 to-emerald-600"},{icon:xr,title:"Subir de Nvel",description:"Ganhe XP e desbloqueie recompensas",reward:"Ouros + Badges",color:"from-yellow-600 to-amber-600"},{icon:_e,title:"Quizzes Msticos",description:"Acerte 80%+ e ganhe recompensas",reward:"5 ouros por quiz",color:"from-purple-600 to-pink-600"}];function Pre(){const[t,e]=w.useState(null);w.useEffect(()=>{n()},[]);const n=async()=>{const f=await H.auth.me();e(f)},{data:a}=Oe({queryKey:["all-users-ouros"],queryFn:()=>H.entities.User.list("",1e3),refetchInterval:1e4}),s=(a==null?void 0:a.reduce((f,v)=>f+(v.ouros||0),0))||0,i=(a==null?void 0:a.length)>0?Math.floor(s/a.length):0,o=a==null?void 0:a.sort((f,v)=>(v.ouros||0)-(f.ouros||0))[0],[l,c]=w.useState([]),[d,u]=w.useState(8.5);w.useEffect(()=>{const f=Array.from({length:20},(x,g)=>({time:`${20-g}min`,price:8+Math.random()*1.5,volume:5e3+Math.random()*5e3}));c(f);const v=setInterval(()=>{c(x=>{const g=Math.max(7.5,Math.min(10,x[x.length-1].price+(Math.random()-.5)*.3)),y={time:"agora",price:g,volume:5e3+Math.random()*5e3};return u(g),[...x.slice(1),y]})},3e3);return()=>clearInterval(v)},[]);const h=l.length>1?(l[l.length-1].price-l[0].price)/l[0].price*100:0;return t?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#02031C] via-slate-900 to-[#02031C] text-white p-3 md:p-6 pb-24",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs(q.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[r.jsx(q.div,{animate:{rotate:[0,360],scale:[1,1.1,1]},transition:{rotate:{duration:5,repeat:1/0,ease:"linear"},scale:{duration:2,repeat:1/0}},className:"w-20 h-20 md:w-24 md:h-24 rounded-full bg-gradient-to-br from-yellow-400 to-amber-600 flex items-center justify-center mx-auto mb-4 shadow-2xl shadow-yellow-500/50",children:r.jsx(Gn,{className:"w-10 h-10 md:w-12 md:h-12 text-slate-900"})}),r.jsx("h1",{className:"text-2xl md:text-4xl font-bold mb-2 bg-gradient-to-r from-yellow-400 to-amber-400 bg-clip-text text-transparent",children:"Como Ganhar Ouros"}),r.jsx("p",{className:"text-slate-300 text-sm md:text-base",children:"Moeda mstica do portal Zamira"})]}),r.jsxs(X,{className:"bg-gradient-to-br from-yellow-900/30 to-amber-900/30 border-yellow-500/30 p-4 md:p-6 mb-8",children:[r.jsxs("h2",{className:"text-xl md:text-2xl font-bold text-yellow-300 mb-3 flex items-center gap-2",children:[r.jsx(Gn,{className:"w-6 h-6"}),"O que so Ouros?"]}),r.jsx("p",{className:"text-slate-200 leading-relaxed mb-4",children:"Ouros so a moeda mgica de Zamira, usada para desbloquear recursos especiais, comprar itens na loja mstica, interpretar sonhos, lanar magias em posts e muito mais.  o smbolo da sua dedicao e participao na comunidade."}),r.jsx("p",{className:"text-sm text-yellow-300 font-semibold",children:" Voc pode ganhar Ouros de vrias formas completamente GRTIS!"})]}),r.jsxs(X,{className:"bg-slate-800/50 border-purple-500/30 p-4 md:p-6 mb-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h2",{className:"text-xl md:text-2xl font-bold text-purple-300 flex items-center gap-2",children:[r.jsx(ff,{className:"w-6 h-6"}),"Cotao de Ouros"]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"text-2xl md:text-3xl font-bold text-yellow-400",children:[d.toFixed(2)," BRL"]}),r.jsxs("div",{className:`flex items-center gap-1 text-sm ${h>=0?"text-green-400":"text-red-400"}`,children:[h>=0?r.jsx(Rde,{className:"w-4 h-4"}):r.jsx(Ede,{className:"w-4 h-4"}),r.jsxs("span",{children:[Math.abs(h).toFixed(2),"%"]})]})]})]}),r.jsx("div",{className:"h-64 mb-6",children:r.jsx(Ab,{width:"100%",height:"100%",children:r.jsxs(Uze,{data:l,children:[r.jsx("defs",{children:r.jsxs("linearGradient",{id:"colorPrice",x1:"0",y1:"0",x2:"0",y2:"1",children:[r.jsx("stop",{offset:"5%",stopColor:"#facc15",stopOpacity:.3}),r.jsx("stop",{offset:"95%",stopColor:"#facc15",stopOpacity:0})]})}),r.jsx(s1,{strokeDasharray:"3 3",stroke:"#334155"}),r.jsx(ih,{dataKey:"time",stroke:"#94a3b8",fontSize:12}),r.jsx(oh,{stroke:"#94a3b8",fontSize:12,domain:[7,10.5]}),r.jsx(Js,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #475569",borderRadius:"8px"},labelStyle:{color:"#cbd5e1"}}),r.jsx(Ed,{type:"monotone",dataKey:"price",stroke:"#facc15",fillOpacity:1,fill:"url(#colorPrice)",strokeWidth:2})]})})}),r.jsxs("div",{className:"grid grid-cols-3 gap-3 md:gap-4",children:[r.jsxs("div",{className:"bg-slate-700/50 p-3 rounded-lg text-center",children:[r.jsx("p",{className:"text-xs text-slate-400 mb-1",children:"Total em Circulao"}),r.jsx("p",{className:"text-lg md:text-xl font-bold text-yellow-400",children:s.toLocaleString()})]}),r.jsxs("div",{className:"bg-slate-700/50 p-3 rounded-lg text-center",children:[r.jsx("p",{className:"text-xs text-slate-400 mb-1",children:"Mdia por Usurio"}),r.jsx("p",{className:"text-lg md:text-xl font-bold text-purple-400",children:i})]}),r.jsxs("div",{className:"bg-slate-700/50 p-3 rounded-lg text-center",children:[r.jsx("p",{className:"text-xs text-slate-400 mb-1",children:"Top Holder"}),r.jsx("p",{className:"text-xs md:text-sm font-bold text-green-400 truncate",children:(o==null?void 0:o.display_name)||(o==null?void 0:o.full_name)||"N/A"})]})]})]}),r.jsxs("h2",{className:"text-xl md:text-2xl font-bold text-white mb-4 flex items-center gap-2",children:[r.jsx(Jn,{className:"w-6 h-6 text-green-400"}),"Formas de Ganhar Ouros Grtis"]}),r.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:eqe.map((f,v)=>{const x=f.icon;return r.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:v*.05},children:r.jsxs(X,{className:"bg-slate-800/50 border-2 border-transparent hover:border-yellow-500/50 p-4 md:p-6 group transition-all hover:shadow-lg hover:shadow-yellow-500/20",children:[r.jsx("div",{className:`w-14 h-14 md:w-16 md:h-16 rounded-2xl bg-gradient-to-br ${f.color} flex items-center justify-center mb-4 group-hover:scale-110 transition-transform shadow-lg`,children:r.jsx(x,{className:"w-7 h-7 md:w-8 md:h-8 text-white"})}),r.jsx("h3",{className:"text-lg md:text-xl font-bold text-white mb-2",children:f.title}),r.jsx("p",{className:"text-sm text-slate-300 mb-3",children:f.description}),r.jsx(De,{className:"bg-yellow-600 text-white",children:f.reward})]})},v)})}),r.jsxs(X,{className:"bg-gradient-to-br from-purple-900/30 to-pink-900/30 border-purple-500/30 p-4 md:p-6 mt-8",children:[r.jsxs("h3",{className:"font-bold text-purple-300 mb-3 flex items-center gap-2",children:[r.jsx(_e,{className:"w-5 h-5"}),"Dicas para Maximizar Ganhos"]}),r.jsxs("ul",{className:"space-y-2 text-sm text-slate-300",children:[r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(_n,{className:"w-4 h-4 text-green-400 flex-shrink-0 mt-0.5"}),r.jsx("span",{children:"Complete misses dirias para ganhar ouros consistentemente"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(_n,{className:"w-4 h-4 text-green-400 flex-shrink-0 mt-0.5"}),r.jsx("span",{children:"Participe ativamente da comunidade criando contedo de qualidade"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(_n,{className:"w-4 h-4 text-green-400 flex-shrink-0 mt-0.5"}),r.jsx("span",{children:"Vena duelos na Arena para grandes recompensas"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(_n,{className:"w-4 h-4 text-green-400 flex-shrink-0 mt-0.5"}),r.jsx("span",{children:"Assinantes PRO recebem ouros mensais automaticamente"})]})]})]})]})}):r.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-[#02031C] via-slate-900 to-[#02031C]",children:r.jsx(_e,{className:"w-12 h-12 text-purple-500 animate-pulse"})})}const tqe="https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/690e5f6f991e09e82bef3795/e104515a7_asfsafasfasfa.png";function Tre(){const[t,e]=w.useState(null),[n,a]=w.useState(""),[s,i]=w.useState(!1),o=wt(),l=Sn();w.useEffect(()=>{c()},[]);const c=async()=>{try{const y=await H.auth.me();e(y),!y.tarot_certificate_url&&y.display_name&&a(y.display_name)}catch(y){console.error("Erro ao carregar usurio:",y)}},d=Ue({mutationFn:async({name:y,isRegenerate:b})=>(await H.functions.invoke("generateCertificate",{userName:y,isRegenerate:b})).data,onSuccess:y=>{o.invalidateQueries(["user"]),c(),alert(y.message||" Certificado gerado com sucesso!")},onError:y=>{var b,_;alert(((_=(b=y.response)==null?void 0:b.data)==null?void 0:_.error)||"Erro ao gerar certificado")}}),u=()=>{if(!n.trim()){alert("Por favor, digite seu nome");return}if(n.length>30){alert("O nome deve ter no mximo 30 caracteres");return}d.mutate({name:n,isRegenerate:!1})},h=()=>{if(!n.trim()){alert("Por favor, digite seu nome");return}if(n.length>30){alert("O nome deve ter no mximo 30 caracteres");return}if(!t.ouros||t.ouros<500){alert(" Saldo insuficiente! Voc precisa de 500 ouros para reforjar o certificado.");return}window.confirm(` Deseja realmente reforjar seu certificado?

Custo: 500 ouros
Saldo atual: ${t.ouros} ouros

Novo nome: ${n}`)&&d.mutate({name:n,isRegenerate:!0})},f=async()=>{try{const b=await(await fetch(t.tarot_certificate_url)).blob(),_=window.URL.createObjectURL(b),j=document.createElement("a");j.href=_,j.download=`certificado_portal_tarot_${t.display_name||"usuario"}.png`,document.body.appendChild(j),j.click(),window.URL.revokeObjectURL(_),j.remove(),alert(" Certificado baixado com sucesso!")}catch{alert(" Erro ao baixar certificado")}},v=()=>{i(!0)},x=async()=>{try{const y=await H.entities.Post.create({author_id:t.id,author_name:t.display_name||t.full_name,author_username:t.username||t.id,author_avatar:t.avatar_url,author_level:t.level||1,author_archetype:t.archetype||"none",content:`Ritual concludo! 

Conclu a minha jornada no Portal Tarot e cravei o meu nome no pergaminho sagrado! 

#PortalTarot #Certificao #Tarologia`,images:[t.tarot_certificate_url],reactions:{inspirador:0,mistico:0,gratidao:0,poderoso:0,curativo:0},reactions_by_user:{},comments_count:0,shares_count:0});await H.auth.updateMe({xp:(t.xp||0)+5}),i(!1),alert(" Certificado compartilhado no feed!"),l(ft("Hub"))}catch(y){console.error("Erro ao compartilhar:",y),alert(" Erro ao compartilhar no feed")}};if(!t)return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-[#0a0a1a] via-[#1a1a2e] to-[#0a0a1a]",children:r.jsx(_e,{className:"w-12 h-12 text-purple-500 animate-pulse"})});const g=!!t.tarot_certificate_url;return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#1a1a2e] via-[#16213e] to-[#0f3460] p-4 md:p-6 pb-24",children:[r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsxs(W,{onClick:()=>l(ft("AreaDoAluno")),variant:"ghost",className:"text-white mb-6",children:[r.jsx(Go,{className:"w-4 h-4 mr-2"}),"Voltar para rea do Aluno"]}),r.jsxs(q.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[r.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-full bg-gradient-to-br from-yellow-600 to-orange-600 flex items-center justify-center",children:r.jsx(xr,{className:"w-10 h-10 text-white"})}),r.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-2",children:"Certificado de Mestria"}),r.jsx("p",{className:"text-slate-400",children:"Consagre seu nome no pergaminho sagrado do Portal Tarot"})]}),g?r.jsx(q.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"space-y-6",children:r.jsxs(X,{className:"bg-gradient-to-br from-slate-900/50 to-slate-800/50 border-yellow-500/30 p-6",children:[r.jsx("div",{className:"text-center mb-6",children:r.jsx("div",{className:"inline-block p-1 bg-gradient-to-r from-yellow-600 to-orange-600 rounded-lg",children:r.jsx("img",{src:t.tarot_certificate_url,alt:"Seu Certificado",className:"w-full max-w-2xl rounded-lg shadow-2xl"})})}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-4",children:[r.jsxs(W,{onClick:f,variant:"outline",className:"border-green-500 text-green-400 hover:bg-green-500/20 text-sm py-2.5",children:[r.jsx(Wo,{className:"w-4 h-4 mr-2"}),"Fazer Download"]}),r.jsxs(W,{onClick:v,variant:"outline",className:"border-blue-500 text-blue-400 hover:bg-blue-500/20 text-sm py-2.5",children:[r.jsx($l,{className:"w-4 h-4 mr-2"}),"Partilhar no Feed"]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-slate-800/50 border border-purple-500/30 rounded-lg p-4",children:[r.jsx("h3",{className:"text-sm font-medium text-purple-300 mb-2",children:"Deseja reforjar seu certificado?"}),r.jsx(je,{value:n,onChange:y=>a(y.target.value),maxLength:30,placeholder:"Novo nome...",className:"bg-slate-800 border-purple-500/30 text-white mb-2"}),r.jsxs("p",{className:"text-xs text-slate-500 mb-3",children:[n.length,"/30 caracteres"]}),r.jsx(W,{onClick:h,disabled:d.isPending||!n.trim(),className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-xs py-2.5",children:d.isPending?r.jsxs(r.Fragment,{children:[r.jsx(zt,{className:"w-3 h-3 mr-1.5 animate-spin"}),"Reforjando..."]}):r.jsxs(r.Fragment,{children:[r.jsx(si,{className:"w-3 h-3 mr-1.5"}),"Reforjar Nome (500 Ouros)"]})})]}),r.jsx("div",{className:"bg-green-900/20 border border-green-500/30 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(_n,{className:"w-5 h-5 text-green-400 flex-shrink-0 mt-0.5"}),r.jsxs("div",{className:"text-sm text-green-200",children:[r.jsx("p",{className:"font-medium mb-1",children:" Parabns!"}),r.jsx("p",{className:"text-xs",children:"Voc completou sua jornada no Portal Tarot. Seu certificado estar visvel no seu perfil para todos verem!"})]})]})})]})]})}):r.jsx(q.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"space-y-6",children:r.jsxs(X,{className:"bg-gradient-to-br from-slate-900/50 to-slate-800/50 border-purple-500/30 p-6",children:[r.jsx("div",{className:"text-center mb-6",children:r.jsx("img",{src:tqe,alt:"Certificado Base",className:"w-full max-w-2xl mx-auto rounded-lg shadow-2xl border-2 border-purple-500/30"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-purple-300 mb-2",children:"Digite o seu nome completo para a consagrao:"}),r.jsx(je,{value:n,onChange:y=>a(y.target.value),maxLength:30,placeholder:"Seu nome aqui...",className:"bg-slate-800 border-purple-500/30 text-white text-lg"}),r.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[n.length,"/30 caracteres"]})]}),r.jsx(W,{onClick:u,disabled:d.isPending||!n.trim(),className:"w-full bg-gradient-to-r from-yellow-600 to-orange-600 hover:from-yellow-700 hover:to-orange-700 text-white py-4 text-base font-bold",children:d.isPending?r.jsxs(r.Fragment,{children:[r.jsx(zt,{className:"w-4 h-4 mr-2 animate-spin"}),"Cravando nome..."]}):r.jsxs(r.Fragment,{children:[r.jsx(_e,{className:"w-4 h-4 mr-2"})," Cravar Nome (Grtis)"]})}),r.jsx("div",{className:"bg-purple-900/20 border border-purple-500/30 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Vu,{className:"w-5 h-5 text-purple-400 flex-shrink-0 mt-0.5"}),r.jsxs("div",{className:"text-sm text-purple-200",children:[r.jsx("p",{className:"font-medium mb-1",children:" Informaes importantes:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-1 text-xs",children:[r.jsx("li",{children:"Seu certificado ser nico e personalizado"}),r.jsx("li",{children:"A primeira consagrao  totalmente GRATUITA"}),r.jsx("li",{children:"Alteraes futuras custaro 500 ouros"}),r.jsx("li",{children:"Voc poder compartilhar no feed e exibir no perfil"})]})]})]})})]})]})})]}),r.jsx(gt,{children:s&&r.jsx(q.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80",onClick:()=>i(!1),children:r.jsxs(q.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:y=>y.stopPropagation(),className:"bg-gradient-to-br from-slate-900 to-slate-800 rounded-2xl border-2 border-purple-500/50 p-6 max-w-md w-full",children:[r.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[r.jsx($l,{className:"w-6 h-6 text-purple-400"}),"Compartilhar no Feed"]}),r.jsx("p",{className:"text-slate-300 mb-6",children:"Seu certificado ser publicado com a seguinte mensagem:"}),r.jsx(X,{className:"bg-slate-800/50 border-purple-500/30 p-4 mb-6",children:r.jsxs("p",{className:"text-sm text-white leading-relaxed",children:["Ritual concludo! ",r.jsx("br",{}),r.jsx("br",{}),"Conclu a minha jornada no Portal Tarot e cravei o meu nome no pergaminho sagrado! ",r.jsx("br",{}),r.jsx("br",{}),"#PortalTarot #Certificao #Tarologia"]})}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx(W,{onClick:()=>i(!1),variant:"outline",className:"flex-1",children:"Cancelar"}),r.jsxs(W,{onClick:x,className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",children:[r.jsx($l,{className:"w-4 h-4 mr-2"}),"Publicar"]})]})]})})})]})}const nqe={bruxa_natural:"#9333EA",sabio:"#F59E0B",guardiao_astral:"#3B82F6",xama:"#10B981",navegador_cosmico:"#8B5CF6",alquimista:"#6366F1",none:"#64748B"},rqe=({expiresAt:t})=>{const[e,n]=w.useState("");return w.useEffect(()=>{const a=()=>{const i=new Date,o=new Date(t),l=ok(o,i);if(l<=0){n("Expirada");return}const c=Math.floor(l/3600),d=Math.floor(l%3600/60),u=l%60;c>0?n(`${c}h ${d}m`):d>0?n(`${d}m ${u}s`):n(`${u}s`)};a();const s=setInterval(a,1e3);return()=>clearInterval(s)},[t]),r.jsxs("span",{className:"flex items-center gap-1 text-xs text-purple-300 font-mono",children:[r.jsx(Mr,{className:"w-3 h-3"}),e]})};function kre(){const t=wt(),[e,n]=w.useState(null),[a,s]=w.useState(!1),[i,o]=w.useState(null);w.useEffect(()=>{l()},[]);const l=async()=>{try{const b=await H.auth.me();n(b)}catch(b){console.error("Erro ao carregar usurio:",b)}},{data:c}=Oe({queryKey:["all-polls"],queryFn:()=>H.entities.Poll.list("-created_date",100),initialData:[]}),d=Ue({mutationFn:async b=>await H.entities.Poll.create({...b,author_id:e.id,author_name:e.display_name||e.full_name,author_avatar:e.avatar_url,author_username:e.username||e.id,votes_by_user:{},total_votes:0}),onSuccess:()=>{t.invalidateQueries({queryKey:["all-polls"]}),s(!1)}}),u=Ue({mutationFn:async({pollId:b,optionId:_})=>{var M;const j=c.find(k=>k.id===b);if(!j||((M=j.votes_by_user)==null?void 0:M[e.id]))return;const C=j.options.map(k=>k.id===_?{...k,votes:k.votes+1}:k),E={...j.votes_by_user,[e.id]:_};await H.entities.Poll.update(b,{options:C,votes_by_user:E,total_votes:j.total_votes+1});const P=Math.floor((e.xp||0)*.03),T=(e.xp||0)+P;await H.auth.updateMe({xp:T}),n({...e,xp:T}),o({id:Date.now(),type:"level_up",title:`+${P} XP Ganhos! `,message:`Voc ganhou ${P} XP (3%) por participar da enquete!`,from_user_avatar:e.avatar_url}),window.dispatchEvent(new Event("xpUpdated"))},onSuccess:()=>{t.invalidateQueries({queryKey:["all-polls"]})}}),h=c.filter(b=>new Date(b.expires_at)>new Date&&b.is_active),f=c.filter(b=>new Date(b.expires_at)<=new Date||!b.is_active),v=[...c].sort((b,_)=>(_.total_votes||0)-(b.total_votes||0)).slice(0,10),x=(b,_)=>{u.mutate({pollId:b,optionId:_})},g=b=>{d.mutate(b)},y=(b,_)=>{var E;const j=(E=b.votes_by_user)==null?void 0:E[e==null?void 0:e.id],C=new Date(b.expires_at)<new Date;return r.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:_*.05},children:r.jsxs(X,{className:"bg-gradient-to-br from-slate-900/80 to-slate-800/80 border-purple-900/30 p-6 backdrop-blur-sm",children:[r.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[r.jsx("div",{className:"w-10 h-10 rounded-full border-2 overflow-hidden flex-shrink-0",style:{borderColor:nqe[b.author_archetype||"none"]},children:b.author_avatar?r.jsx("img",{src:b.author_avatar,alt:"",className:"w-full h-full object-cover"}):r.jsx("div",{className:"w-full h-full bg-slate-700 flex items-center justify-center",children:r.jsx(_e,{className:"w-5 h-5 text-purple-400"})})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-semibold text-white mb-1",children:b.author_name}),r.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400 flex-wrap",children:[r.jsx("span",{className:"px-2 py-0.5 bg-purple-900/30 rounded-full",children:b.category}),r.jsx("span",{children:""}),r.jsxs("span",{children:[b.total_votes," votos"]}),!C&&r.jsxs(r.Fragment,{children:[r.jsx("span",{children:""}),r.jsx(rqe,{expiresAt:b.expires_at})]})]})]})]}),r.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:b.question}),r.jsx("div",{className:"space-y-2",children:b.options.map(P=>{const T=b.total_votes>0?Math.round(P.votes/b.total_votes*100):0,M=j===P.id;return r.jsxs("button",{onClick:()=>!j&&!C&&x(b.id,P.id),disabled:!!j||C,className:`w-full p-3 rounded-lg border transition relative overflow-hidden ${M?"border-purple-500 bg-purple-900/30":j?"border-slate-700 bg-slate-800/50":"border-purple-900/30 bg-slate-800/30 hover:border-purple-700/50 hover:bg-slate-800/50"} ${!j&&!C?"cursor-pointer":"cursor-default"}`,children:[j&&r.jsx(q.div,{className:"absolute inset-0 bg-purple-600/20",initial:{width:0},animate:{width:`${T}%`},transition:{duration:.5,ease:"easeOut"}}),r.jsxs("div",{className:"relative flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[M&&r.jsx(_n,{className:"w-4 h-4 text-purple-400"}),r.jsx("span",{className:"text-white font-medium",children:P.text})]}),j&&r.jsxs("span",{className:"text-purple-300 font-bold",children:[T,"%"]})]})]},P.id)})}),!j&&!C&&r.jsxs("p",{className:"text-xs text-green-400 mt-4 text-center flex items-center justify-center gap-1",children:[r.jsx(_e,{className:"w-3 h-3"}),"Vote e ganhe 3% de XP Espiritual!"]}),C&&r.jsx("p",{className:"text-xs text-gray-400 mt-4 text-center",children:"Esta enquete expirou"})]})},b.id)};return e?r.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-[#0a0a1a] via-[#1a1a2e] to-[#0a0a1a]",children:[r.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6 pb-24",children:[r.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-2",children:" Todas as Enquetes"}),r.jsx("p",{className:"text-gray-400",children:"Participe e compartilhe sua opinio com a comunidade"})]}),r.jsxs(W,{onClick:()=>s(!0),className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",children:[r.jsx(_r,{className:"w-5 h-5 mr-2"}),"Criar Enquete"]})]})}),r.jsxs($r,{defaultValue:"active",className:"w-full",children:[r.jsxs(Tr,{className:"grid w-full grid-cols-3 bg-slate-800/50 mb-6",children:[r.jsxs(xt,{value:"active",className:"text-xs md:text-sm",children:[r.jsx(Ya,{className:"w-4 h-4 mr-2"}),"Ativas (",h.length,")"]}),r.jsxs(xt,{value:"top",className:"text-xs md:text-sm",children:[r.jsx(ci,{className:"w-4 h-4 mr-2"}),"Top (",v.length,")"]}),r.jsxs(xt,{value:"finalized",className:"text-xs md:text-sm",children:[r.jsx(Jn,{className:"w-4 h-4 mr-2"}),"Finalizadas (",f.length,")"]})]}),r.jsx(et,{value:"active",className:"space-y-4",children:h.length===0?r.jsxs(X,{className:"bg-slate-900/50 border-purple-900/30 p-12 text-center",children:[r.jsx(ff,{className:"w-16 h-16 text-purple-500/50 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-400",children:"Nenhuma enquete ativa no momento"})]}):h.map((b,_)=>y(b,_))}),r.jsx(et,{value:"top",className:"space-y-4",children:v.length===0?r.jsxs(X,{className:"bg-slate-900/50 border-purple-900/30 p-12 text-center",children:[r.jsx(ci,{className:"w-16 h-16 text-orange-500/50 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-400",children:"Nenhuma enquete encontrada"})]}):v.map((b,_)=>y(b,_))}),r.jsx(et,{value:"finalized",className:"space-y-4",children:f.length===0?r.jsxs(X,{className:"bg-slate-900/50 border-purple-900/30 p-12 text-center",children:[r.jsx(Jn,{className:"w-16 h-16 text-purple-500/50 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-400",children:"Nenhuma enquete finalizada ainda"})]}):f.map((b,_)=>y(b,_))})]})]}),a&&r.jsx(CJ,{user:e,onClose:()=>s(!1),onSubmit:g,isLoading:d.isPending}),i&&r.jsx("div",{className:"fixed bottom-[70px] right-2 md:bottom-6 md:right-6 z-[100]",children:r.jsx(uY,{notification:i,onClose:()=>o(null)})})]}):r.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-b from-[#0a0a1a] via-[#1a1a2e] to-[#0a0a1a]",children:r.jsx(_e,{className:"w-12 h-12 text-purple-500 animate-pulse"})})}function Rre(){const t=Sn(),[e,n]=w.useState(null),{scrollY:a}=$X(),s=Am(a,[0,300],[0,100]);Am(a,[0,300],[0,-50]),w.useEffect(()=>{i()},[]);const i=async()=>{await H.auth.isAuthenticated()?t(ft("Hub")):n(!1)},o=()=>{H.auth.redirectToLogin(ft("Hub"))};if(e===null)return r.jsx("div",{className:"min-h-screen bg-[#02031C] flex items-center justify-center",children:r.jsx(_e,{className:"w-12 h-12 text-purple-500 animate-pulse"})});const l=[{icon:r.jsx(_e,{className:"w-8 h-8"}),title:"Jornada Espiritual",description:"Evolua atravs de nveis e arqutipos msticos nicos",gradient:"from-purple-600 to-pink-600"},{icon:r.jsx(Kn,{className:"w-8 h-8"}),title:"Comunidade Mstica",description:"Conecte-se com viajantes espirituais de todo o Brasil",gradient:"from-blue-600 to-cyan-600"},{icon:r.jsx(Ts,{className:"w-8 h-8"}),title:"Cidade de Zamira",description:"Explore um metaverso mstico em tempo real",gradient:"from-green-600 to-emerald-600"},{icon:r.jsx(Bn,{className:"w-8 h-8"}),title:"Arena de Duelos",description:"Compita em debates msticos e conquiste coroas",gradient:"from-yellow-600 to-orange-600"},{icon:r.jsx(Oa,{className:"w-8 h-8"}),title:"Portais de Sabedoria",description:"Tarot, Astrologia, Cristais e muito mais",gradient:"from-indigo-600 to-purple-600"},{icon:r.jsx(_1,{className:"w-8 h-8"}),title:"Sistema de Recompensas",description:"Ganhe Ouros e desbloqueie contedo exclusivo",gradient:"from-rose-600 to-pink-600"}];return r.jsxs("div",{className:"min-h-screen bg-[#02031C] text-white overflow-x-hidden",children:[r.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-[#02031C]/95 backdrop-blur-xl border-b border-purple-900/30",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 h-16 flex items-center justify-between",children:[r.jsx("img",{src:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/690e5f6f991e09e82bef3795/a3f627646_imgi_2_337f3cf9e282bc41c87500e885414629.png",alt:"Zamira",className:"h-10 w-auto"}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("a",{href:"#sobre",className:"text-gray-300 hover:text-white transition text-sm hidden md:block",children:"Sobre"}),r.jsx("a",{href:"#recursos",className:"text-gray-300 hover:text-white transition text-sm hidden md:block",children:"Recursos"}),r.jsx("a",{href:"#comunidade",className:"text-gray-300 hover:text-white transition text-sm hidden md:block",children:"Comunidade"}),r.jsx(W,{onClick:o,className:"bg-purple-600 hover:bg-purple-700",children:"Entrar"})]})]})}),r.jsxs("section",{className:"relative min-h-screen flex items-center justify-center px-4 pt-16 overflow-hidden",children:[r.jsxs(q.div,{className:"absolute inset-0 opacity-30",style:{y:s},children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-900/20 via-blue-900/20 to-pink-900/20"}),[...Array(50)].map((c,d)=>r.jsx(q.div,{className:"absolute w-1 h-1 bg-purple-400 rounded-full",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`},animate:{opacity:[.2,1,.2],scale:[1,1.5,1]},transition:{duration:3+Math.random()*2,repeat:1/0,delay:Math.random()*2}},d))]}),r.jsx("div",{className:"relative z-10 text-center max-w-5xl",children:r.jsxs(q.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[r.jsx("h1",{className:"text-5xl md:text-7xl font-bold mb-6 leading-tight",children:r.jsx("span",{className:"bg-gradient-to-r from-purple-400 via-pink-400 to-blue-400 bg-clip-text text-transparent",children:"Bem-vindo ao Zamira"})}),r.jsxs("p",{className:"text-xl md:text-2xl text-gray-300 mb-8 leading-relaxed",children:["A plataforma social mstica que conecta espiritualidade,",r.jsx("br",{className:"hidden md:block"}),"conhecimento e comunidade em um s lugar"]}),r.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[r.jsxs(W,{onClick:o,size:"lg",className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white px-8 py-6 text-lg rounded-full shadow-2xl shadow-purple-500/50",children:[r.jsx(_e,{className:"w-5 h-5 mr-2"}),"Comear Jornada Grtis"]}),r.jsxs(W,{onClick:()=>document.getElementById("sobre").scrollIntoView({behavior:"smooth"}),size:"lg",variant:"outline",className:"border-purple-500 text-purple-300 hover:bg-purple-900/20 px-8 py-6 text-lg rounded-full",children:["Saiba Mais",r.jsx(mf,{className:"w-5 h-5 ml-2"})]})]})]})})]}),r.jsx("section",{id:"sobre",className:"relative py-24 px-4 bg-gradient-to-b from-black to-slate-950",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs(q.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-16",children:[r.jsxs("h2",{className:"text-4xl md:text-5xl font-bold mb-6",children:["O que  ",r.jsx("span",{className:"text-purple-400",children:"Zamira"}),"?"]}),r.jsx("p",{className:"text-xl text-gray-300 leading-relaxed max-w-3xl mx-auto",children:"Zamira  mais que uma rede social -  um ecossistema completo onde espiritualidade, gamificao e conhecimento mstico se encontram. Desenvolva sua jornada espiritual, conecte-se com almas afins e desbloqueie sabedoria ancestral."})]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-8 items-center",children:[r.jsxs(q.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},viewport:{once:!0},className:"space-y-6",children:[r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-purple-600 flex items-center justify-center flex-shrink-0",children:r.jsx(gr,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold mb-2",children:"Evoluo Gamificada"}),r.jsx("p",{className:"text-gray-400",children:"Suba de nvel, escolha seu arqutipo e desbloqueie poderes msticos nicos"})]})]}),r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-600 flex items-center justify-center flex-shrink-0",children:r.jsx($n,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold mb-2",children:"Conexes Autnticas"}),r.jsx("p",{className:"text-gray-400",children:"Encontre pessoas que vibram na mesma frequncia espiritual"})]})]}),r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-pink-600 flex items-center justify-center flex-shrink-0",children:r.jsx(Oa,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold mb-2",children:"Conhecimento Ilimitado"}),r.jsx("p",{className:"text-gray-400",children:"Acesse cursos, PDFs, vdeos e contedo exclusivo sobre Tarot, Astrologia e mais"})]})]})]}),r.jsx(q.div,{initial:{opacity:0,x:30},whileInView:{opacity:1,x:0},viewport:{once:!0},className:"relative",children:r.jsx("img",{src:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/690e5f6f991e09e82bef3795/a3f627646_imgi_2_337f3cf9e282bc41c87500e885414629.png",alt:"Zamira",className:"w-full max-w-md mx-auto drop-shadow-2xl"})})]})]})}),r.jsx("section",{id:"recursos",className:"relative py-24 px-4 bg-gradient-to-b from-slate-950 to-black",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs(q.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-16",children:[r.jsxs("h2",{className:"text-4xl md:text-5xl font-bold mb-6",children:["Recursos ",r.jsx("span",{className:"text-purple-400",children:"Msticos"})]}),r.jsx("p",{className:"text-xl text-gray-300",children:"Tudo que voc precisa para sua evoluo espiritual"})]}),r.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map((c,d)=>r.jsx(q.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:d*.1},children:r.jsxs(X,{className:"bg-gradient-to-br from-slate-900 to-slate-800 border-purple-500/20 p-6 h-full hover:border-purple-500/50 transition group",children:[r.jsx("div",{className:`w-16 h-16 rounded-2xl bg-gradient-to-br ${c.gradient} flex items-center justify-center mb-4 group-hover:scale-110 transition-transform`,children:c.icon}),r.jsx("h3",{className:"text-xl font-bold mb-3",children:c.title}),r.jsx("p",{className:"text-gray-400",children:c.description})]})},d))})]})}),r.jsx("section",{id:"comunidade",className:"relative py-24 px-4 bg-gradient-to-b from-black to-slate-950",children:r.jsx("div",{className:"max-w-6xl mx-auto text-center",children:r.jsxs(q.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},children:[r.jsxs("h2",{className:"text-4xl md:text-5xl font-bold mb-6",children:["Junte-se a ",r.jsx("span",{className:"text-purple-400",children:"Milhares"})," de Viajantes"]}),r.jsx("p",{className:"text-xl text-gray-300 mb-12 leading-relaxed",children:"Uma comunidade vibrante de pessoas que buscam crescimento espiritual, autoconhecimento e conexes autnticas"}),r.jsxs("div",{className:"grid md:grid-cols-3 gap-8 mb-12",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-5xl font-bold text-purple-400 mb-2",children:"1000+"}),r.jsx("p",{className:"text-gray-400",children:"Membros Ativos"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-5xl font-bold text-pink-400 mb-2",children:"50+"}),r.jsx("p",{className:"text-gray-400",children:"Cursos & Recursos"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-5xl font-bold text-blue-400 mb-2",children:"24/7"}),r.jsx("p",{className:"text-gray-400",children:"Comunidade Online"})]})]}),r.jsxs(W,{onClick:o,size:"lg",className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 px-12 py-7 text-xl rounded-full shadow-2xl shadow-purple-500/50",children:[r.jsx(Wn,{className:"w-6 h-6 mr-3"}),"Comece Gratuitamente",r.jsx(mf,{className:"w-6 h-6 ml-3"})]})]})})}),r.jsx("section",{className:"relative py-24 px-4 bg-gradient-to-b from-slate-950 via-purple-950/30 to-black",children:r.jsx("div",{className:"max-w-4xl mx-auto text-center",children:r.jsxs(q.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},viewport:{once:!0},children:[r.jsx("div",{className:"mb-8",children:r.jsx(q.div,{animate:{rotate:[0,5,-5,0],scale:[1,1.1,1]},transition:{duration:4,repeat:1/0},className:"w-24 h-24 rounded-full bg-gradient-to-br from-purple-600 to-pink-600 flex items-center justify-center mx-auto mb-6 shadow-2xl shadow-purple-500/50",children:r.jsx(_e,{className:"w-12 h-12 text-white"})})}),r.jsxs("h2",{className:"text-4xl md:text-5xl font-bold mb-6",children:["Sua Jornada Mstica ",r.jsx("span",{className:"text-purple-400",children:"Comea Aqui"})]}),r.jsx("p",{className:"text-xl text-gray-300 mb-8",children:"Cadastre-se gratuitamente e descubra um mundo de possibilidades espirituais"}),r.jsxs(W,{onClick:o,size:"lg",className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 px-12 py-7 text-xl rounded-full shadow-2xl shadow-purple-500/50 mb-6",children:[r.jsx(Bn,{className:"w-6 h-6 mr-3"}),"Criar Conta Grtis"]}),r.jsxs("div",{className:"flex items-center justify-center gap-6 text-sm text-gray-400",children:[r.jsxs("span",{className:"flex items-center gap-2",children:[r.jsx(ud,{className:"w-4 h-4 text-green-400"}),"100% Seguro"]}),r.jsxs("span",{className:"flex items-center gap-2",children:[r.jsx(gr,{className:"w-4 h-4 text-yellow-400"}),"Acesso Imediato"]}),r.jsxs("span",{className:"flex items-center gap-2",children:[r.jsx($n,{className:"w-4 h-4 text-pink-400"}),"Grtis para Sempre"]})]})]})})}),r.jsx("footer",{className:"bg-black border-t border-purple-900/30 py-8 px-4",children:r.jsxs("div",{className:"max-w-7xl mx-auto text-center text-gray-500 text-sm",children:[r.jsx("p",{children:" 2024 Zamira. Todos os direitos reservados."}),r.jsx("p",{className:"mt-2",children:"Plataforma mstica para evoluo espiritual e conexo humana."})]})})]})}function Ore(){const t=Sn(),e=()=>{H.auth.redirectToLogin(ft("Hub"))},n=[{icon:r.jsx($n,{className:"w-8 h-8"}),title:"Autenticidade",description:"Valorizamos conexes genunas e crescimento real"},{icon:r.jsx(Kn,{className:"w-8 h-8"}),title:"Comunidade",description:"Construmos juntos um espao acolhedor e respeitoso"},{icon:r.jsx(_e,{className:"w-8 h-8"}),title:"Magia",description:"Acreditamos no poder transformador da espiritualidade"},{icon:r.jsx(Oa,{className:"w-8 h-8"}),title:"Conhecimento",description:"Compartilhamos sabedoria ancestral e moderna"}];return r.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-[#02031C] via-slate-900 to-[#02031C] text-white",children:[r.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-[#02031C]/95 backdrop-blur-xl border-b border-purple-900/30",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 h-16 flex items-center justify-between",children:[r.jsx("img",{src:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/690e5f6f991e09e82bef3795/a3f627646_imgi_2_337f3cf9e282bc41c87500e885414629.png",alt:"Zamira",className:"h-10 w-auto cursor-pointer",onClick:()=>t(ft("Home"))}),r.jsx(W,{onClick:e,className:"bg-purple-600 hover:bg-purple-700",children:"Entrar"})]})}),r.jsx("section",{className:"pt-32 pb-16 px-4",children:r.jsx("div",{className:"max-w-4xl mx-auto text-center",children:r.jsxs(q.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},children:[r.jsxs("h1",{className:"text-5xl md:text-6xl font-bold mb-6",children:["Sobre o ",r.jsx("span",{className:"text-purple-400",children:"Zamira"})]}),r.jsx("p",{className:"text-xl text-gray-300 leading-relaxed",children:"Uma plataforma criada com amor para unir pessoas em busca de crescimento espiritual, autoconhecimento e conexes verdadeiras"})]})})}),r.jsx("section",{className:"py-16 px-4",children:r.jsx("div",{className:"max-w-6xl mx-auto",children:r.jsx(q.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},children:r.jsxs(X,{className:"bg-gradient-to-br from-slate-900/50 to-slate-800/50 border-purple-500/30 p-8 md:p-12",children:[r.jsx("h2",{className:"text-3xl font-bold mb-6 text-center",children:"Nossa Histria"}),r.jsx("p",{className:"text-lg text-gray-300 leading-relaxed mb-6",children:"Zamira nasceu da viso de criar um espao onde espiritualidade e tecnologia se encontram. Acreditamos que o mundo digital pode ser um portal para conexes mais profundas e transformao pessoal verdadeira."}),r.jsx("p",{className:"text-lg text-gray-300 leading-relaxed",children:"Combinando elementos de redes sociais, gamificao e contedo educacional mstico, criamos um ecossistema nico onde cada membro pode trilhar sua prpria jornada espiritual enquanto contribui para o crescimento da comunidade."})]})})})}),r.jsx("section",{className:"py-16 px-4",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs("h2",{className:"text-4xl font-bold text-center mb-12",children:["Nossos ",r.jsx("span",{className:"text-purple-400",children:"Valores"})]}),r.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:n.map((a,s)=>r.jsx(q.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:s*.1},children:r.jsxs(X,{className:"bg-gradient-to-br from-slate-900/50 to-slate-800/50 border-purple-500/20 p-6 h-full hover:border-purple-500/50 transition",children:[r.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-purple-600 to-pink-600 flex items-center justify-center mb-4 text-white",children:a.icon}),r.jsx("h3",{className:"text-2xl font-bold mb-3",children:a.title}),r.jsx("p",{className:"text-gray-400",children:a.description})]})},s))})]})}),r.jsx("section",{className:"py-24 px-4",children:r.jsx("div",{className:"max-w-4xl mx-auto text-center",children:r.jsxs(q.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},viewport:{once:!0},children:[r.jsxs("h2",{className:"text-4xl md:text-5xl font-bold mb-6",children:["Pronto para ",r.jsx("span",{className:"text-purple-400",children:"Comear"}),"?"]}),r.jsx("p",{className:"text-xl text-gray-300 mb-8",children:"Junte-se  comunidade Zamira gratuitamente hoje"}),r.jsxs(W,{onClick:e,size:"lg",className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 px-12 py-7 text-xl rounded-full shadow-2xl shadow-purple-500/50",children:[r.jsx(_e,{className:"w-6 h-6 mr-3"}),"Criar Conta Grtis"]})]})})}),r.jsx("footer",{className:"bg-black border-t border-purple-900/30 py-8 px-4",children:r.jsx("div",{className:"max-w-7xl mx-auto text-center text-gray-500 text-sm",children:r.jsx("p",{children:" 2024 Zamira. Todos os direitos reservados."})})})]})}const aqe={auth:{me:async()=>({id:"123",name:"Usuria Tarot"})}},sqe=[{id:1,title:"01. Definio de Nicho",icon:r.jsx(dh,{className:"w-6 h-6"}),color:"from-blue-600 to-cyan-600",bgColor:"bg-gradient-to-br from-blue-900/30 to-cyan-900/30",borderColor:"border-blue-500/30",cards:[{title:"Parte 1: Introduo ao Conceito de Nicho",content:`Ol, pessoal! Sejam bem-vindos ao nosso canal. Eu sou Emelyn e, sua guia no mundo do Tarot. Hoje vamos falar sobre um tema crucial para todas as tarolgas: a importncia de definir um nicho. Vamos entender por que isso  fundamental e como escolher o nicho certo pode transformar a sua prtica. Vamos l?

O que  um Nicho?
Um nicho  um segmento especfico do mercado ao qual voc direciona seus servios. Em vez de tentar alcanar todo mundo, voc foca em um grupo particular de pessoas que compartilham interesses, necessidades ou caractersticas semelhantes.

Por Que Definir um Nicho?
1. Facilita a Comunicao: Quando voc conhece bem seu pblico, pode falar diretamente com eles, usando a linguagem e os temas que ressoam.
2. Aumenta a Relevncia: Ao focar em um nicho, voc se torna uma especialista naquele assunto, aumentando sua credibilidade e atraindo mais clientes.
3. Melhora a Converso: Mensagens direcionadas tm maior impacto, resultando em mais consultas e vendas.

Exemplos de Nichos no Tarot:
- Tarot para Relacionamentos: Focado em questes amorosas e de relacionamento.
- Tarot para Carreira: Ajudando profissionais a tomar decises de carreira.
- Tarot para Autoconhecimento: Para pessoas em busca de crescimento pessoal e espiritual.`,hasVideo:!0,videoTitle:"Parte 1: Introduo ao Conceito de Nicho.mp4"},{title:"Vamos ver alguns exemplos prticos?",content:`Exemplos Prticos de Nichos:

1. Tarot para Empreendedoras:
   - Pblico-alvo: Mulheres que tm ou querem iniciar um negcio.
   - Contedo: Tiragens sobre decises de negcio, direcionamento profissional, energia para projetos.

2. Tarot para Mes:
   - Pblico-alvo: Mes que buscam equilbrio entre maternidade e vida pessoal.
   - Contedo: Orientaes sobre criao dos filhos, autocompaixo, energia familiar.

3. Tarot para Jovens Adultos:
   - Pblico-alvo: Pessoas de 18 a 25 anos em transio para a vida adulta.
   - Contedo: Questes de identidade, primeiros empregos, relacionamentos iniciais.

Cada um desses nichos permite que voc crie contedo especfico, atraindo exatamente as pessoas que mais se beneficiaro dos seus servios.`,isStarted:!0},{title:"Como escolho o meu nicho?",content:`Como Escolher Seu Nicho:

1. Autoconhecimento:
   - O que voc ama fazer? Quais temas te apaixonam?
   - Em que reas da vida voc tem experincia ou conhecimento profundo?
   - Quais tipos de consultas voc mais gosta de fazer?

2. Pesquisa de Mercado:
   - Quem so as pessoas que mais procuram seus servios?
   - Quais so as dores e necessidades do seu pblico potencial?
   - Existe demanda para o nicho que voc est considerando?

3. Teste e Ajuste:
   - Comece criando contedo para o nicho escolhido.
   - Observe o engajamento e feedback.
   - Esteja aberta para ajustar conforme necessrio.

Dicas Importantes:
- No tenha medo de ser especfico(a). Quanto mais claro for seu nicho, mais fcil ser se destacar.
- Seu nicho pode evoluir com o tempo. Permita-se crescer e adaptar.
- Mantenha sua autenticidade. Escolha um nicho que realmente ressoe com voc.`},{title:"TAREFA: Defina Seu Nicho",content:` EXERCCIO PRTICO: Definindo Seu Nicho

Agora  hora de colocar a mo na massa! Complete as seguintes reflexes:

1. Liste 3 temas que voc AMA no Tarot:
   - Tema 1: _________________
   - Tema 2: _________________
   - Tema 3: _________________

2. Quem voc quer ajudar? Descreva seu cliente ideal:
   - Idade: _________________
   - Situao de vida: _________________
   - Principais desafios: _________________
   - O que essa pessoa busca: _________________

3. Combine suas paixes com as necessidades do seu pblico:
   - Meu nicho ser: _________________
   - Vou ajudar [pblico] com [problema/desejo]: _________________

4. Crie uma frase que resuma seu posicionamento:
   "Eu ajudo [pblico-alvo] a [resultado desejado] atravs do Tarot"

Exemplo: "Eu ajudo mulheres empreendedoras a tomarem decises de negcio com confiana atravs do Tarot"

 Dica: No precisa ser perfeito! Voc pode ajustar conforme ganha experincia.`,isTask:!0},{title:"BNUS: 10 Nichos Especficos para Tarloga(o)s",content:` 10 Nichos Rentveis para Tarolgas:

1.  Tarot para Empreendedoras Digitais
   Ajuda com decises de negcio, lanamentos, energia de marca

2.  Tarot para Relacionamentos Conscientes
   Foco em autoamor, relacionamentos saudveis, Twin Flames

3.  Tarot para Estudantes e Vestibulandos
   Orientao de carreira, escolha de curso, motivao nos estudos

4.  Tarot para Maternidade
   Gestao, criao consciente, equilbrio me-mulher

5.  Tarot e Astrologia Juntos
   Leituras que combinam Tarot com mapa astral

6.  Tarot para Desenvolvimento Espiritual
   Autoconhecimento profundo, despertar, misso de alma

7.  Tarot Financeiro
   Prosperidade, mentalidade de abundncia, decises financeiras

8.  Tarot para Artistas e Criativos
   Desbloqueio criativo, direcionamento artstico

9.  Tarot LGBTQIA+
   Espao seguro, questes de identidade e aceitao

10.  Tarot Motivacional
    Empoderamento, superao, confiana

Escolha um que ressoe com voc e teste por 30 dias!`,isBonus:!0}]},{id:2,title:"02. Branding Pessoal",icon:r.jsx(Wn,{className:"w-6 h-6"}),color:"from-purple-600 to-pink-600",bgColor:"bg-gradient-to-br from-purple-900/30 to-pink-900/30",borderColor:"border-purple-500/30",cards:[{title:"Construindo Sua Marca Pessoal",content:` O Que  Branding Pessoal?

Branding pessoal  a forma como voc se apresenta ao mundo.  a sua identidade profissional, que inclui sua aparncia visual, sua mensagem, seus valores e a experincia que voc oferece aos seus clientes.

Por Que o Branding  Importante?
1. Diferenciao: Em um mercado cheio de tarolgas, seu branding te destaca.
2. Confiana: Uma marca bem construda transmite profissionalismo e credibilidade.
3. Conexo: Pessoas se conectam com marcas autnticas que compartilham seus valores.
4. Memorabilidade: Um branding forte faz com que voc seja lembrada.

Elementos do Branding Pessoal:

 Identidade Visual
- Cores que representam sua energia
- Fontes que comunicam sua personalidade
- Logo ou smbolo que te identifica
- Esttica consistente nas redes sociais

 Voz e Tom
- Como voc se comunica com seu pblico?
- Formal, descontrado, mstico, moderno?
- Que linguagem voc usa?

 Posicionamento
- Qual  sua mensagem principal?
- O que te torna nica?
- Que transformao voc promete?

 Valores
- No que voc acredita?
- O que  importante para voc?
- Que princpios guiam seu trabalho?`},{title:"Identidade Visual",content:` Criando Sua Identidade Visual

Paleta de Cores:
Escolha 3-5 cores que representem sua energia e nicho.

Exemplos:
- Tarot Mstico: Roxo escuro, dourado, preto
- Tarot Moderno: Rosa millennial, branco, cinza
- Tarot Natural: Verde, marrom, bege
- Tarot Lunar: Azul escuro, prata, branco

Como Escolher Suas Cores:
1. Pense na emoo que quer transmitir
2. Observe tarolgas que voc admira
3. Teste combinaes no Canva ou Adobe Color
4. Escolha cores que voc realmente gosta

Tipografia (Fontes):
- Escolha 2 fontes: uma para ttulos, outra para textos
- Mantenha legibilidade
- Evite fontes muito rebuscadas em excesso

Exemplos de Combinaes:
- Clssico: Playfair Display + Montserrat
- Moderno: Poppins + Open Sans
- Mstico: Cinzel + Lato

Elementos Visuais:
- Smbolos msticos (lua, estrelas, cristais)
- Ilustraes de cartas
- Padres (mandalas, geometria sagrada)
- Texturas (aquarela, granulado, glitter)

 Dica de Ouro: Use sempre as mesmas cores e fontes em todos os seus materiais para criar reconhecimento visual!`},{title:"Elementos Visuais",content:` Elementos Visuais da Sua Marca

Logo e Smbolo:
Voc no precisa de um logo profissional no incio, mas ter um smbolo ou monograma ajuda muito.

Opes Simples:
- Suas iniciais estilizadas
- Um smbolo mstico que te representa
- Uma ilustrao de carta especfica
- Um elemento da natureza

Onde Usar:
- Foto de perfil
- Marca d'gua em imagens
- Assinatura de e-mails
- Material impresso

Fotografia:
A forma como voc aparece nas fotos comunica muito sobre sua marca.

Dicas:
- Use sempre o mesmo filtro/edio
- Mantenha um estilo consistente
- Mostre seu espao de atendimento
- Inclua suas ferramentas (baralho, cristais)
- Aparea nas fotos! Pessoas se conectam com pessoas

Templates:
Crie templates para seus posts recorrentes:
- Feed de Instagram
- Stories
- Reels
- Posts de blog
- E-books e PDFs

Ferramentas:
- Canva (gratuito)
- Adobe Express
- Over
- Unfold

 Consistncia Visual = Profissionalismo e Confiana`},{title:"Narrativa e Mensagem",content:` Construindo Sua Narrativa

Sua Histria:
As pessoas se conectam com histrias. Compartilhe a sua!

Perguntas para Refletir:
- Como voc descobriu o Tarot?
- Que transformao ele trouxe para sua vida?
- Por que voc decidiu ajudar outras pessoas?
- Qual  sua misso?

Estrutura da Histria:
1. Antes: Como era sua vida antes do Tarot?
2. Transformao: O que mudou quando voc conheceu o Tarot?
3. Depois: Como voc est agora e como pode ajudar outros?
4. Convite: Como as pessoas podem comear essa jornada com voc?

Sua Mensagem Principal:
Defina em 1-2 frases o que voc representa.

Exemplos:
"Ajudo mulheres a se reconectarem com sua intuio e tomarem decises alinhadas com sua essncia"

"Guio empreendedoras a criarem negcios prsperos conectados com seu propsito de alma"

Pilares de Contedo:
Defina 3-5 temas que voc sempre aborda:

Exemplo:
1. Autoconhecimento
2. Intuio
3. Empoderamento feminino
4. Espiritualidade prtica
5. Abundncia

Tom de Voz:
- Acolhedora e emptica?
- Motivadora e direta?
- Sbia e mstica?
- Divertida e leve?

Escolha um tom e mantenha consistncia!`},{title:"Autenticidade e Transparncia",content:` Seja Voc Mesma

Por Que Autenticidade Importa?
Em um mundo cheio de filtros e personas fabricadas, ser genuna te diferencia e cria conexes reais.

Como Ser Autntica Online:

1. Mostre Bastidores
   - Compartilhe seu processo de estudo
   - Mostre seu espao de atendimento
   - Fale sobre seus desafios
   - Celebre suas conquistas

2. Seja Vulnervel (com Limites)
   - No precisa expor tudo, mas compartilhe aprendizados
   - Fale sobre erros e como os superou
   - Mostre que voc tambm  humana

3. Defina Seus Valores
   - O que voc defende?
   - O que voc NO faz?
   - Que tipo de atendimento voc oferece?

4. Admita o Que No Sabe
   - Ningum sabe tudo
   - Estar em constante aprendizado  lindo
   - Seja honesta sobre suas limitaes

Transparncia no Trabalho:
 Seja clara sobre preos, tempo de atendimento, o que est includo
 Evite promessas milagrosas, garantir resultados especficos

 As pessoas certas vo amar voc exatamente como voc !`}]},{id:3,title:"03. Design para Tarolgas",icon:r.jsx(xf,{className:"w-6 h-6"}),color:"from-pink-600 to-rose-600",bgColor:"bg-gradient-to-br from-pink-900/30 to-rose-900/30",borderColor:"border-pink-500/30",cards:[{title:"Criao de Identidade Visual",content:` Criando Sua Identidade Visual Profissional

Psicologia das Cores:
 Roxo/Violeta - Espiritualidade, misticismo, magia
 Rosa - Amor, compaixo, feminilidade
 Azul - Confiana, calma, intuio
 Verde - Cura, crescimento, prosperidade
 Preto + Dourado - Luxo, elegncia

Montando Sua Paleta:
1. Cor principal (60%)
2. Cor secundria (30%)
3. Cor de destaque (10%)
4. Neutros (branco, preto, cinza)

Fontes:
Ttulos: Playfair Display, Cinzel, Cormorant
Textos: Montserrat, Poppins, Open Sans

Combinaes Prontas:
1. Cinzel + Montserrat (Clssico)
2. Playfair Display + Lato (Elegante)
3. Cormorant + Poppins (Moderno)`},{title:"Ferramentas: Canva e Photoshop",content:` Ferramentas Essenciais

CANVA (Gratuito)
O Que Criar:
 Posts para Instagram
 Capas de e-books
 Thumbnails de vdeos
 Banners
 Materiais para impresso

Recursos:
- Templates prontos
- Banco de imagens
- Elementos grficos
- Remoo de fundo (Pro)
- Animaes

Dica: Crie um "Brand Kit" com suas cores!

PHOTOSHOP (Profissional)
Quando Usar:
- Edies complexas
- Manipulao avanada
- Elementos personalizados

Alternativas Gratuitas:
- GIMP
- Photopea
- Pixlr

 Comece com Canva!`},{title:"Design de Contedo Atraente",content:` Posts que Param o Scroll

Anatomia de um Post Perfeito:
1. GANCHO VISUAL - Primeira impresso
2. TTULO - Mximo 6 palavras
3. CORPO - Texto legvel (mnimo 30pt)
4. CALL TO ACTION - "Salve", "Comente"

Tipos que Funcionam:
 Carrossel - Ensina passo a passo
 Pergunta - Gera engajamento
 Educativo - Ensina algo novo
 Inspiracional - Motivao
 Oferta - Servios

Regras:
 Evite: +3 fontes, textos pequenos, poluio
 Faa: Espao em branco, consistncia

Templates para Criar:
1. Significado de Carta
2. Dica Rpida
3. Citao
4. Divulgao`},{title:"Aula Gravada: Design Completo",content:` AULA COMPLETA DE DESIGN

Contedo:
1. Dominando o Canva do Zero
2. Posts para Instagram
3. Paleta de Cores Profissional
4. Tipografia para Redes
5. Elementos Grficos
6. Banco de Imagens
7. Marca D'gua
8. Organizando Designs

 Durao: 1h30min
 + Templates de Bnus`,hasVideo:!0,isBonus:!0},{title:"Como Fazer Animaes",content:` ANIMAES PROFISSIONAIS

O Que Aprender:
1. Animaes no Canva
2. CapCut para Vdeos
3. After Effects Bsico
4. Animaes para Stories
5. Reels Virais

Ferramentas:
Iniciante: Canva Pro, CapCut
Intermedirio: Adobe Express, InShot
Avanado: After Effects

 Comece simples!`,hasVideo:!0,isBonus:!0}]},{id:4,title:"04. Precificao de Mtodos",icon:r.jsx(Ng,{className:"w-6 h-6"}),color:"from-green-600 to-emerald-600",bgColor:"bg-gradient-to-br from-green-900/30 to-emerald-900/30",borderColor:"border-green-500/30",cards:[{title:"Estratgias de Precificao",content:` Como Precificar Seus Atendimentos

O Erro Mais Comum:
Cobrar muito barato por medo.

A Verdade:
Seu trabalho VALE! Precifique pelo VALOR entregue.

Mtodo de Precificao:
1. CALCULE CUSTOS (tempo, energia, materiais)
2. PESQUISE O MERCADO
3. DEFINA POSICIONAMENTO
   - Iniciante: R$ 30-60
   - Intermediria: R$ 70-150
   - Experiente: R$ 180-350+
   - Premium: R$ 400+

Fatores que Aumentam Valor:
 Experincia
 Especializao
 Depoimentos
 Diferenciais

Frmula:
Preo = (Custo Hora  Tempo) + Lucro + Valor Percebido

Psicologia:
 R$ 97 (terminar em 7)
 R$ 197 funciona melhor que R$ 200

Quando Aumentar:
 A cada 10-20 atendimentos
 Agenda cheia
 Fila de espera`},{title:"Criando Pacotes de Servios",content:` Pacotes Irresistveis

Estrutura:

 INICIAL - R$ 47-77
- 30 min, 3 cartas, objetivo

 INTERMEDIRIO - R$ 97-197
- 60 min, completo, udio/PDF

 PREMIUM - R$ 297-597
- 90+ min, mltiplas tiragens, acompanhamento

 VIP - R$ 997+
- Mentoria, mltiplas sesses

Tcnica do Contraste:
1 consulta: R$ 147
3 consultas: R$ 397 (R$ 132 cada)
6 consultas: R$ 697 (R$ 116 cada)

A maioria escolhe a do meio!

Bnus que Agregam:
 udio gravado
 PDF resumo
 Mensagem acompanhamento
 E-book

 Pacote deve valer 3x o preo em valor percebido!`},{title:"Passos para Estratgia de Precificao",content:` Seu Plano Estratgico

PASSO 1: Autoavaliao
- Tempo de estudo?
- Quantas consultas j fez?
- Diferenciais?
- Meta mensal?

PASSO 2: Pesquisa
Encontre 5 tarolgas similares e anote preos

PASSO 3: Posicionamento
 Iniciante  20-30% abaixo
 Intermediria  Mdia
 Experiente  20-50% acima
 Premium  2x-3x mdia

PASSO 4: Monte Pacotes
Bsico: R$ ___
Intermedirio: R$ ___
Premium: R$ ___

PASSO 5: Diferenciais
O que te torna nica?

PASSO 6: Teste e Ajuste
Ms 1: R$ ___
Ajuste trimestral

PASSO 7: Comunicao de Valor
No: "Consulta - R$ 97"
Sim: "Consulta Completa
 60 min aprofundada
 udio gravado
 PDF resumo
R$ 97"

PASSO 8: Objees
"T caro"  "Voc investiria quanto em clareza?"
"No tenho tempo"  "Quando seria melhor?"

PASSO 9: Promoes
 Lanamento, aniversrio, datas especiais

PASSO 10: Aumente Preos
 A cada 3-6 meses
Avise com antecedncia!`}]},{id:5,title:"05. Scripts de Abordagem",icon:r.jsx(Pr,{className:"w-6 h-6"}),color:"from-orange-600 to-amber-600",bgColor:"bg-gradient-to-br from-orange-900/30 to-amber-900/30",borderColor:"border-orange-500/30",cards:[{title:"Scripts para Diferentes Clientes",content:` Scripts Prontos

CLIENTE INDECISO:
"Oi! Vi que voc se interessou.
Pode me contar o que est buscando?
Assim te oriento melhor! "

CLIENTE COM URGNCIA:
"Tenho vaga hoje s [horrio]!
30 min focados - R$ 57
Confirma?"

PRIMEIRA VEZ:
"Bem-vinda! 
Consultinha especial Primeira Jornada:
30 min de acolhimento
R$ 47 (preo especial)
Quando seria melhor?"

J TE CONHECE:
"Alegria ter voc de volta! 
Como foi desde ltima vez?
O que quer explorar agora?"

RESPOSTA ESPECFICA:
"O Tarot traz clareza!
Vamos olhar:
 Energias envolvidas
 O que voc pode mudar
 Possveis caminhos
Topa?"

QUER DESCONTO:
"No trabalho com desconto, mas tenho:
1 Consulta Rpida - R$ 57
2 Parcelar no carto
3 Lista de promoo
O que funciona?"

COMPARANDO PREOS:
"Cada tarloga  nica!
Meus diferenciais:
 [Diferencial 1]
 [Diferencial 2]
Entrego valor em cada centavo!"

FECHAMENTO:
"Recapitulando:
 [Data]
 [Durao]
 [Valor]
Confirma? "`},{title:"Tcnicas de Fechamento",content:` Fechamentos que Convertem

1. DIRETO
"Vamos agendar?
- Sexta 15h
- Sbado 10h
Qual prefere?"

2. ESCOLHA
"Voc prefere:
Opo 1: 30min - R$ 57
Opo 2: 60min - R$ 97?"

3. URGNCIA
"S 2 vagas essa semana:
- Quinta 14h
- Sexta 16h
Depois s semana que vem!"

4. BENEFCIO IMEDIATO
"Confirmando hoje, recebe:
 E-book
 Meditao
 PDF
Bora?"

5. REDUO DE RISCO
"Se no gostar, devolvo!
99% amam.
Experimenta sem medo!"

6. RESUMO DE VALOR
"Includo:
 60 min
 Tiragem completa
 udio gravado
 PDF
R$ 97 - Vale muito!"

7. DEPOIMENTO
"Olha o que [Nome] falou:
[depoimento]
Quer a mesma clareza?"

8. ESCASSEZ
"Vagas at dia [X]!
Depois descanso.
Garante logo!"

9. CONEXO EMOCIONAL
"Sinto que pode te ajudar!
Se permita esse autocuidado.
Bora? "

10. PARCERIA
"Vou ser sincera:
Posso te ajudar!
Aceita minha ajuda? "`},{title:"Upselling e Cross-selling",content:` Aumentando Ticket Mdio

UPSELLING:

Cliente quer bsica (R$ 57)?
Oferea completa (R$ 97):
"Por R$ 40 a mais, ganha:
 +30 min
 udio
 PDF
Vale muito mais!"

OFEREA PACOTE:
1 consulta = R$ 97
3 consultas = R$ 267
 Economia R$ 24!

NO ATENDIMENTO:
"Tem muita coisa...
Acompanhamento em 30 dias?
R$ 77 especial! Garante?"

CROSS-SELLING:

Cliente agendou Tarot?
Oferea materiais:
 E-book - R$ 17
 Meditao - R$ 27
 Kit - R$ 37

Servios Complementares:
"J pensou em:
- Mapa Astral?
- Numerologia?
Fao combo especial!"

BUMP OFFER:
No checkout:
"Quer Meditao de Atrao por R$ 17?
 SIM!
 No"

~30% adicionam!

Mtricas:
100 vendas bsicas: R$ 5.700
Com upsell: R$ 9.380
+64% `}]},{id:6,title:"06. Copywriting",icon:r.jsx(Uue,{className:"w-6 h-6"}),color:"from-indigo-600 to-purple-600",bgColor:"bg-gradient-to-br from-indigo-900/30 to-purple-900/30",borderColor:"border-indigo-500/30",cards:[{title:"Escrita Persuasiva",content:` Textos que Vendem

Frmulas de Copy:

AIDA:
A - Ateno (gancho)
I - Interesse (problema)
D - Desejo (soluo)
A - Ao (CTA)

PAS:
P - Problem (problema)
A - Agitate (agitar)
S - Solve (resolver)

Exemplo:
"Sentindo que est perdida? (P)
Sem saber que deciso tomar e com medo de errar? (A)
O Tarot traz a clareza que voc precisa! (S)
Agende sua consulta! (CTA)"

Gatilhos Mentais:
 Escassez: "ltimas vagas!"
 Urgncia: "S at hoje!"
 Autoridade: "Com 10 anos de experincia"
 Prova Social: "500+ clientes atendidas"
 Reciprocidade: "E-book grtis"

Headlines Poderosas:
"Como [resultado] em [tempo] sem [objeo]"
"O segredo de [resultado] que [autoridade] no conta"
"[Nmero] formas de [benefcio]"

Use Emoo + Lgica!`},{title:"Estrutura de Textos",content:` Modelos Prontos

POST INSTAGRAM:
[Gancho emocional]
[Problema/Dvida]
[Como o Tarot ajuda]
[Benefcios]
[Call to Action]
.
[Hashtags]

EMAIL VENDAS:
Assunto: [Curiosidade + benefcio]

Oi [Nome]!

[Conexo pessoal]
[Problema que ela tem]
[Como voc resolve]
[Prova social]
[Oferta com benefcios]
[CTA claro]
[PS: urgncia/bnus]

PGINA DE VENDAS:
1. Headline magntica
2. Subheadline (benefcio)
3. Problema (dor)
4. Soluo (seu servio)
5. Como funciona
6. Benefcios (bullets)
7. Depoimentos
8. Preo e garantia
9. FAQ
10. CTA final

STORY VENDAS:
Slide 1: Gancho
Slide 2-3: Problema
Slide 4-5: Soluo
Slide 6: Prova
Slide 7: Oferta
Slide 8: CTA + link`},{title:"Storytelling que Converte",content:` O Poder das Histrias

Estrutura de Histria:

1. SITUAO INICIAL
"H 3 anos, eu estava completamente perdida..."

2. CONFLITO/PROBLEMA
"At que tudo desmoronou quando..."

3. JORNADA/LUTA
"Foi quando descobri o Tarot e..."

4. TRANSFORMAO
"Hoje, minha vida  completamente diferente..."

5. CONVITE
"E eu quero te ajudar a viver isso tambm!"

Tipos de Histrias:

 Sua Jornada
Como o Tarot mudou sua vida

 Transformao de Cliente
Antes e depois de atendimentos

 Bastidores
Dia a dia de uma tarloga

 Lio Aprendida
Erros e aprendizados

Elementos Poderosos:
- Emoo genuna
- Detalhes sensoriais
- Dilogos
- Virada/twist
- Mensagem clara

Exemplo Completo:
"Eu nunca vou esquecer da Maria.

Ela chegou na consulta com os olhos cheios de lgrimas. Acabara de descobrir uma traio e no sabia se ficava ou ia embora.

As cartas mostraram algo surpreendente: no era sobre ele. Era sobre ela finalmente se escolher.

3 meses depois, ela me mandou uma mensagem:
'Obrigada por me ajudar a encontrar minha fora. Terminei sim, mas pela primeira vez na vida, escolhi EU.'

Hoje ela  outra pessoa.

Se voc tambm precisa de clareza para fazer escolhas difceis, posso te ajudar.

[Link consulta]"

 Histrias vendem mais que argumentos!`}]},{id:7,title:"07. Narrativas de Venda",icon:r.jsx(qde,{className:"w-6 h-6"}),color:"from-violet-600 to-purple-600",bgColor:"bg-gradient-to-br from-violet-900/30 to-purple-900/30",borderColor:"border-violet-500/30",cards:[{title:"Desenvolvimento de Narrativa",content:` Criando Histria em Torno dos Seus Servios

O Que  Narrativa de Venda?
 a histria que voc conta sobre seu servio que faz as pessoas quererem comprar.

Estrutura:

1. MUNDO COMUM
"A maioria das pessoas vive no automtico, sem se questionar..."

2. CHAMADO  AVENTURA
"Mas voc  diferente. Voc busca respostas mais profundas..."

3. ENCONTRO COM MENTOR
"O Tarot  essa ferramenta ancestral que..."

4. TRANSFORMAO
"E quando voc se permite essa jornada..."

5. NOVO MUNDO
"Voc se torna a herona da sua prpria histria!"

Exemplo Narrativa Completa:

"Voc j sentiu que est vivendo no piloto automtico?

Acordar, trabalhar, dormir, repetir.

Sem propsito. Sem clareza. Sem direo.

 como andar no escuro, sem saber para onde ir.

Eu j estive a. E foi o Tarot que acendeu a luz.

No de forma mgica. Mas me dando as perguntas certas para EU MESMA encontrar minhas respostas.

Hoje, cada deciso que tomo  consciente. Alinhada. Minha.

E essa  a transformao que ofereo:
No te dou as respostas.
Te dou a CLAREZA para voc encontr-las.

Pronta para acender sua prpria luz?

[CTA]"

Elementos Essenciais:
 Identificao (ela se v na histria)
 Emoo (desperta sentimentos)
 Transformao (mostra possibilidade)
 Convite (CTA suave)

Narrativas por Nicho:

 Para Empreendedoras:
"Tomar decises de negcio  solitrio...
E se voc tivesse uma guia espiritual para iluminar seu caminho?"

 Para Relacionamentos:
"Voc merece um amor que te escolhe todos os dias.
O Tarot te ajuda a entender o que realmente est buscando."

 Para Autoconhecimento:
"Quem voc  quando ningum est olhando?
Descubra sua essncia atravs do Tarot."

 Sua narrativa precisa ser NICA e VERDADEIRA!`},{title:"Elementos de uma Boa Narrativa",content:` Problema, Soluo e Resultado

IDENTIFICAO DO PROBLEMA:

Seja especfica!
 "Se voc tem problemas..."
 "Se voc acorda todo dia se sentindo vazia, sem saber o que realmente quer..."

Tipos de Problemas:
- Emocionais (medo, ansiedade, solido)
- Prticos (indeciso, falta de direo)
- Relacionais (conflitos, fim de ciclo)
- Profissionais (carreira, propsito)
- Espirituais (desconexo, falta de sentido)

Exemplo:
"Voc est num relacionamento que no te faz feliz, mas tem medo de ficar sozinha?"

AGITAO DO PROBLEMA:

Mostre consequncias:
"E a cada dia que passa, voc se sente mais distante de quem voc realmente ..."

"Enquanto isso, o tempo vai passando e voc continua adiando suas decises..."

SOLUO (Seu Servio):

Apresente como ponte:
"O Tarot no vai te dizer o que fazer.
Mas vai te dar a clareza que voc precisa para VOC decidir."

Benefcios Especficos:
 "Entender seus padres"
 "Ver opes que voc no via"
 "Conectar com sua intuio"
 "Tomar decises alinhadas"

RESULTADO/TRANSFORMAO:

Pinte o futuro:
"Imagine voc:
- Confiante nas suas escolhas
- Conectada com sua intuio
- Vivendo alinhada com seu propsito
- Em paz com suas decises"

Ou use resultado de cliente real:
"Como a Jlia que hoje vive o relacionamento dos sonhos"
"Como a Ana que largou o emprego e abriu seu negcio"

PROVA SOCIAL:

Depoimentos:
"No sou s eu que digo! Veja o que minhas clientes falam:"

[Depoimento 1]
[Depoimento 2]
[Depoimento 3]

Nmeros:
"+ de 500 mulheres atendidas"
"98% de satisfao"
"Mdia de 4.9 estrelas"

CTA (Call to Action):

Seja clara e direta:
 "Se quiser, me chama"
 "Clique no link e agende sua consulta"

 "Quero agendar minha consulta!"
 "Sim, quero essa transformao!"
 "Garantir minha vaga!"

---

NARRATIVA COMPLETA EXEMPLO:

PROBLEMA:
"Voc sente que est presa num emprego que no te realiza. Todo domingo  noite, aquele aperto no peito. Toda segunda, o despertador parece um pesadelo. Voc SABE que no  isso que quer, mas tem medo de mudar..."

AGITAO:
"E enquanto isso, o tempo passa. Mais um ano. Mais dois. E voc continua ali, adiando seus sonhos, sufocando sua essncia..."

SOLUO:
"O Tarot de Carreira te ajuda a ter clareza sobre:
 Seus verdadeiros talentos
 O caminho profissional alinhado com voc
 O timing certo para mudanas
 Como dar os prximos passos com confiana"

RESULTADO:
"Imagine acordar animada para trabalhar. Fazendo o que ama. Ganhando bem. Realizada.

 possvel! Eu j ajudei dezenas de mulheres a fazerem essa transio.

Como a Paula, que saiu de um emprego corporativo txico e hoje tem seu prprio negcio de bem-estar.

Ou a Fernanda, que descobriu seu propsito e hoje trabalha com o que ama."

PROVA:
[3 depoimentos com fotos]

CTA:
"Pronta para descobrir seu verdadeiro caminho profissional?

Agende sua Consulta de Carreira:
60 minutos de anlise profunda
+ udio para revisitar
+ PDF com plano de ao
R$ 147

[BOTO: Quero Transformar Minha Carreira!]

Vagas limitadas! Garanta a sua agora."

---

 DICA FINAL:

Teste diferentes narrativas e veja o que gera mais engajamento.

Salve as que funcionam e reutilize adaptando!`},{title:"Casos de Sucesso",content:` Usando Depoimentos Estrategicamente

Como Coletar Depoimentos:

1. DURANTE A CONSULTA:
"Fico feliz que tenha gostado!
Voc se importaria de escrever um depoimento?
Ajuda muito outras pessoas a conhecerem meu trabalho! "

2. APS A CONSULTA:
Mensagem follow-up:
"Oi [Nome]! Como voc est?
As coisas fluram como apareceu nas cartas?

Se quiser compartilhar sua experincia, aceito depoimento! Pode ser udio ou texto, como preferir!"

3. FACILITE:
Envie perguntas guia:
- Como era antes da consulta?
- O que mais te marcou?
- Que mudana voc percebeu?
- Recomendaria? Por qu?

Onde Usar Depoimentos:

 Stories (compartilhe prints)
 Feed (post dedicado)
 Site/bio
 Email de vendas
 Vdeo (compile vrios)

Formato de Depoimento Poderoso:

"Antes da consulta com [seu nome], eu [problema].

Durante a leitura, ela [o que voc fez de especial].

Hoje, [resultado/transformao].

Recomendo MUITO! Se voc [problema similar], no pense duas vezes!"

- [Nome e foto da cliente]

Tipos de Depoimentos:

 Texto Simples
"Melhor consulta da minha vida! Super recomendo!"

 Texto Detalhado
[Histria completa de transformao]

 udio
Cliente gravando depoimento (poste no Stories!)

 Vdeo
O mais poderoso! Pea para gravar selfie

 Antes e Depois
Comparao clara de mudana

Transforme Depoimentos em Contedo:

Post 1: "O que minhas clientes dizem"
[3-5 depoimentos curtos]

Post 2: "Histria de transformao"
[1 depoimento longo com contexto]

Post 3: "Perguntei para minhas clientes"
[Respostas sobre o que mais gostaram]

Carrossel: "Resultados Reais"
Slide 1: Ttulo
Slide 2-6: 1 depoimento por slide
Slide 7: CTA

Credibilidade:

Mostre:
 Quantidade de atendimentos
 Anos de experincia
 Formaes/cursos
 Certificaes
 Resultados de clientes

"J atendi + de 500 pessoas
98% recomendam
Formada em [curso]
Praticante h [X] anos"

tica:

 Pea autorizao para usar
 No invente depoimentos
 Pode usar iniciais se pessoa preferir anonimato
 Seja honesta sobre resultados

 No prometa milagres
 No garanta resultados especficos
 Respeite privacidade

Frequncia:

 Compartilhe depoimento:
- 1x por semana no feed
- 2-3x por semana nos stories
- Todo email de venda

Sempre que possvel, mostre que OUTRAS PESSOAS confiam em voc!

 Depoimento  Prova Social = Aumenta Confiana = Mais Vendas!`}]},{id:8,title:"08. Como Crescer Seu Perfil",icon:r.jsx(Jn,{className:"w-6 h-6"}),color:"from-cyan-600 to-blue-600",bgColor:"bg-gradient-to-br from-cyan-900/30 to-blue-900/30",borderColor:"border-cyan-500/30",cards:[{title:"Estratgias de Crescimento",content:` Tcnicas para Aumentar Seguidores e Engajamento

Tcnicas Eficientes:

1. CONHEA SEU PBLICO-ALVO
   - Pesquise e Analise: Entenda idades, interesses, desafios
   - Feedback e Interao: Pergunte diretamente o que querem

2. CRIE CONTEDO VALIOSO E RELEVANTE
   - Eduque e Inspire: Insights sobre tarot, tcnicas
   - Histrias e Exemplos: Use casos reais

3. USE ELEMENTOS VISUAIS ATRAENTES
   - Imagens de Qualidade: Posts visualmente atraentes
   - Vdeos e Reels: Contedo dinmico
   - Stories Interativos: Enquetes, caixinhas de perguntas

4. SEJA CONSISTENTE
   - Frequncia: Poste regularmente (mnimo 3-4x/semana)
   - Horrios: Descubra quando seu pblico est online

5. ENGAJE COM SEU PBLICO
   - Responda Comentrios e DMs
   - Faa Perguntas e Enquetes
   - Lives e Q&A

6. USE HASHTAGS ESTRATGICAS
   - Especficas: #TarotBrasil #TarologaBrasileira
   - Populares: #Tarot #Espiritualidade
   - Nicho: #TarotParaEmpreendedoras
   - Misture: 5 grandes + 15 mdias + 10 pequenas

7. COLABORE E FAA PARCERIAS
   - Lives com outras tarolgas
   - Posts conjuntos
   - Menes e tags

8. ANALISE E AJUSTE
   - Veja o que funciona
   - Mais do que d resultado
   - Teste formatos

Truques de Crescimento Rpido:

 REELS VIRAIS
- Gancho forte nos 3 primeiros segundos
- Legendas chamativas
- Trending udios
- CTA no final

 ENGAJAMENTO NOS STORIES
- Caixinha de perguntas diria
- Enquetes
- Quiz
- Desafios

 POSTS SALVOS
Contedo que as pessoas salvam:
- Listas (Top 10...)
- Tutoriais
- Significados de cartas
- Tiragens passo a passo

Frequncia Ideal:

 Instagram:
- Feed: 4-5x semana
- Stories: Dirio (10-15 por dia)
- Reels: 3-4x semana

Meta de Crescimento:

Ms 1-3: 100-300 seguidores/ms
Ms 4-6: 300-500 seguidores/ms
Ms 7-12: 500-1000 seguidores/ms

 Consistncia > Perfeio!`},{title:"Parcerias e Colaboraes",content:` Colabore para Crescer

Tipos de Parcerias:

1. LIVES CONJUNTAS
Voc + outra tarloga = 2 pblicos

Formato:
- Tema comum
- Cada uma traz expertise
- Promovam juntas antes
- Salvem para Reels depois

2. POSTS COLABORATIVOS
- Mencionem uma a outra
- "3 tarolgas indicam..."
- Roundup de dicas

3. TAKEOVER (Troca de Stories)
- Voc posta nos stories dela
- Ela posta nos seus
- Apresentem uma a outra

4. SORTEIOS CONJUNTOS
- Junte 3-5 profissionais
- Sorteio de consultas
- Todos ganham seguidores

5. GUEST POSTS
- Escreva para blog de outra
- Convide para escrever no seu

Como Encontrar Parceiras:

 Procure por:
- Mesmo nicho, pblicos complementares
- Valores similares
- Tamanho de audincia parecido
- Profissionalismo

Onde procurar:
- Instagram (busque hashtags)
- Grupos de Facebook
- Comunidades online
- Eventos presenciais

Abordagem:

Mensagem:
"Oi [Nome]! 

Acompanho seu trabalho e admiro muito [algo especfico]!

Estava pensando em fazer uma live sobre [tema] e acho que seria incrvel termos essa conversa juntas!

Voc faria entre [data1] e [data2]?

O que acha?"

Regras da Parceria:

 Benefcio mtuo
 Combinaes claras
 Divulgao igual
 Profissionalismo
 Gratido mtua

 Competio
 Comparaes
 Roubar clientes
 Falta de combinao

Alm de Tarolgas:

Parcerias complementares:
- Astrlogas
- Terapeutas holsticas
- Coaches
- Yoga/meditao
- Lojas esotricas
- Marcas msticas

Exemplo Win-Win:
Voc (tarloga) + Loja de cristais:
- Voc indica a loja
- Loja oferece desconto para seus clientes
- Loja divulga voc
- Vocs fazem live conjunta

 Sozinha voc vai rpido. Junto, vocs vo longe!`},{title:"Planejamento de Contedo",content:` Calendrio Editorial

Por Que Planejar?

 Consistncia
 Menos estresse
 Melhor qualidade
 Aproveita datas importantes
 Balanceamento de temas

Estrutura Semanal:

SEGUNDA: Motivao
Post inspiracional para comear semana

TERA: Educao
Ensine algo sobre Tarot

QUARTA: Conexo
Pergunta, enquete, interao

QUINTA: Bastidores
Mostre seu dia a dia

SEXTA: Diverso
Contedo leve, memes, trends

SBADO: Oferta
Divulgue seus servios

DOMINGO: Reflexo
Mensagem profunda, tiragem semanal

Pilares de Contedo:

40% - Educao (ensinar)
30% - Inspirao (motivar)
20% - Conexo (engajar)
10% - Venda (ofertar)

Planejamento Mensal:

Semana 1: Foco em [Pilar 1]
Semana 2: Foco em [Pilar 2]
Semana 3: Foco em [Pilar 3]
Semana 4: Promoo/Lanamento

Datas Importantes:

 Luas:
- Nova: Novos comeos
- Crescente: Crescimento
- Cheia: Plenitude, rituais
- Minguante: Limpeza, release

 Datas Especiais:
- 01/01: Ano novo
- 02/02: Dia de Iemanj
- Carnaval
- Pscoa
- Dia das Mes
- Dia dos Namorados
- Halloween
- Black Friday
- Natal

 Datas Astrolgicas:
- Incio de cada signo
- Mercrio retrgrado
- Eclipses
- Equincios/Solstcios

Ferramentas:

 Apps:
- Trello
- Notion
- Planoly
- Later

 Planilha Simples:
Data | Tipo | Tema | Status | Resultado

Produo em Lote:

Reserve 1 dia para criar:
- 12 posts do ms
- 30 stories
- 4 Reels

Economiza tempo e mantm consistncia!

Exemplo de Ms Planejado:

JANEIRO - Tema: Recomeos

Sem 1: Ano Novo
- Tiragem para 2025
- Metas e intenes
- Limpeza energtica

Sem 2: Autoconhecimento
- Quem voc quer ser?
- Soltando o velho
- Abrir para o novo

Sem 3: Planejamento
- Mapa do ano
- Cada ms
- Preparao

Sem 4: Ao
- Primeiros passos
- Oferta de pacote anual
- Promoo

 Planejar 1 hora/semana poupa 10 horas de improviso!`}]},{id:9,title:"09. BNUS",icon:r.jsx(_1,{className:"w-6 h-6"}),color:"from-yellow-600 to-orange-600",bgColor:"bg-gradient-to-br from-yellow-900/30 to-orange-900/30",borderColor:"border-yellow-500/30",cards:[{title:"PROMPTS INSTAGRAM CARROSSEL",content:` Prompts Prontos para Criar Carrossis Virais

Use com ChatGPT/Claude:

PROMPT 1: Educacional
"Crie um carrossel de 10 slides sobre [tema do Tarot].
Ttulo chamativo, cada slide com 1 dica prtica.
Tom: acolhedor e mstico.
Pblico: [seu nicho]"

PROMPT 2: Significados
"Liste significados da carta [carta] em 8 categorias:
Amor, Carreira, Espiritual, Invertida, Positivo, Negativo, Conselho, Resumo.
Linguagem simples e envolvente."

PROMPT 3: Tutorial
"Crie passo a passo para iniciantes:
[Tema - ex: Como fazer tiragem de 3 cartas]
10 slides mximo.
Explique como se estivesse ensinando uma amiga."

PROMPT 4: Mitos vs Verdades
"Liste 7 mitos e verdades sobre Tarot.
Formato: Slide 1 (Mito), Slide 2 (Verdade).
Quebre objees comuns."

PROMPT 5: Checklist
"Crie checklist de [tema]:
- Ex: Como escolher seu primeiro baralho
- Ex: Preparao antes da leitura
- Ex: Cuidados com seu baralho
8-10 itens com emoji"

Ttulos que Funcionam:

 "10 Coisas Que Ningum Te Conta Sobre Tarot"
 "Como Ler Tarot Mesmo Sendo Iniciante"
 "7 Erros Que Voc Comete ao Consultar Tarot"
 "O Guia Completo de [tema]"
 "Antes de Comprar um Baralho, Leia Isso"

Estrutura Vencedora:

Slide 1: GANCHO
- Ttulo impactante
- Visual chamativo
- Promessa clara

Slides 2-9: CONTEDO
- 1 ideia por slide
- Texto grande
- Visual limpo
- Informao valiosa

Slide 10: CTA
- Recapitule valor
- Chame para ao
- Salve/Compartilhe
- Siga para mais

 Dica: Use sempre seu template de marca!`,isBonus:!0},{title:"CRIATIVOS CAMPEES",content:` Anlise de Criativos que Deram Certo

Exemplo 1: "Escolha Sua Carta"

Funcionou porque:
 Interativo (pessoa precisa escolher)
 Rpido (resultado imediato)
 Compartilhvel (marca amiga)
 Viral (algoritmo ama engajamento)

Como replicar:
1. Crie imagem com 3-4 cartas
2. "Escolha uma carta intuitivamente"
3. Nos comentrios, revele significados
4. "Qual voc escolheu?"

---

Exemplo 2: "Antes vs Depois"

"Como eu era vs Como sou agora (depois do Tarot)"

Funcionou porque:
 Relatable (pessoas se identificam)
 Aspiracional (querem chegar l)
 Pessoal (sua histria)
 Prova (resultado real)

Como replicar:
Use 2 fotos suas ou texto comparativo

---

Exemplo 3: "Tutorial Rpido"

"Como fazer tiragem de 3 cartas em 60 segundos"

Funcionou porque:
 til (ensina algo)
 Rpido (no toma tempo)
 Acionvel (podem fazer agora)
 Salvo (referncia futura)

Como replicar:
Vdeo curto ou carrossel simples

---

Exemplo 4: "Meme Mstico"

Meme de situao engraada relacionada a Tarot

Funcionou porque:
 Divertido
 Compartilhvel
 Humaniza voc
 Algoritmo ama

---

Exemplo 5: "Depoimento Emocional"

Print de mensagem de cliente emocionada

Funcionou porque:
 Prova social
 Emoo genuna
 Resultado real
 Gera confiana

---

Formatos que SEMPRE Funcionam:

 Listas: "7 sinais de que voc ..."
 Perguntas: "Qual carta te representa?"
 Tutoriais: "Como fazer..."
 Mitos: "Verdade ou mentira sobre..."
 Histrias: "A cliente que..."
 Trends: Adapte para Tarot
 Comparaes: "Tipos de..."

Copie a ESTRUTURA, no o contedo!

 Analise seus prprios posts: quais performaram melhor? Faa mais disso!`,isBonus:!0},{title:"NARRATIVAS VENCEDORAS",content:` Narrativas Que Converteram

NARRATIVA 1: A Transformao

"H 2 anos, eu estava completamente perdida...

Trabalhava num emprego que odiava. Relacionamento txico. Sem propsito.

At que uma amiga me deu uma leitura de Tarot de presente.

Aquelas cartas mexeram comigo de um jeito que eu nunca imaginei.

Comecei a estudar. Me aprofundei. Me transformei.

Hoje eu acordo FELIZ. Fazendo o que amo. Ajudando outras pessoas a encontrarem sua luz.

E eu posso te ajudar tambm.

Se voc sente que est perdida, sem direo, sem propsito...

O Tarot pode ser o mapa que voc precisa.

[Link para agendar]"

ROI: 47 consultas agendadas a partir desse post

---

NARRATIVA 2: O Problema Especfico

"Se voc est num relacionamento que:

- No te faz feliz
- Mas tem medo de ficar sozinha
- No sabe se termina ou d mais uma chance
- Sente culpa s de pensar em sair
- Todo mundo fala para voc sair mas voc no consegue

Eu te entendo.

Porque eu j estive a.

O Tarot me ajudou a entender que o problema no era tomar a deciso "certa".

Era entender o que EU realmente queria.

E quando isso ficou claro, a deciso foi natural.

Quer essa clareza tambm?

[CTA]"

ROI: 89% de converso entre quem clicou

---

NARRATIVA 3: Dia a Dia Real

"6h - Acordo com sol nascendo
6h30 - Meditao com meu baralho
7h - Primeira cliente do dia
9h - Caf e estudo de cartas novas
10h - Gravao de contedo
12h - Almoo ouvindo podcast de Tarot
14h - 2 consultas
17h - Respondo DMs
19h - Jantar e descanso
21h - ltima cliente
22h - Gratido pelas trocas do dia

Esse  meu dia como tarloga profissional.

Vivo fazendo o que AMO.
Acordo FELIZ.
Durmo REALIZADA.

No troco por nada!

E voc? Est vivendo seu propsito ou ainda adiando?

Posso te ajudar a dar o primeiro passo! "

ROI: Post mais salvo do ms

---

NARRATIVA 4: Resultado de Cliente

"A Ana chegou dizendo:
'T confusa. No sei se fico no emprego ou empreendo.'

As cartas mostraram que ela j SABIA a resposta.
S tinha medo de confiar nela mesma.

Trabalhamos:
 Seus medos
 Seus talentos nicos
 O timing certo
 Primeiros passos

3 meses depois:
Ela pediu demisso.
Abriu seu negcio de bem-estar.
Hoje fatura 3x mais do que ganhava.

E est FELIZ.

No foi o Tarot que fez isso.
Foi ela. Sempre foi ela.

O Tarot s iluminou o caminho.

Voc tambm tem suas respostas dentro de voc.
S precisa de clareza para v-las.

Posso iluminar seu caminho? 

[Link]"

ROI: 23 vendas diretas + 67 salvamentos

---

NARRATIVA 5: Quebra de Objeo

"'Mas o futuro no  fixo. Como o Tarot pode prever?'

EXATAMENTE!

O Tarot NO prev futuro fixo.

Ele mostra TENDNCIAS baseadas na sua energia ATUAL.

Se voc mudar energia, muda resultado.

 tipo GPS:
- Mostra caminho atual
- Voc pode mudar rota
- Te avisa de obstculos
- Sugere melhor caminho

O futuro  SEU.
O Tarot s ilumina as opes.

Faz sentido? "

ROI: 156 compartilhamentos

---

Elementos Comuns de Todas:

 Honestidade
 Vulnerabilidade
 Transformao clara
 Identificao
 CTA suave
 Emoo real

 Sua melhor narrativa  sua VERDADE!`,isBonus:!0},{title:"CRIATIVO EXEMPLO - Anlise",content:` Anatomia de um Criativo Campeo

ANLISE DETALHADA:

POST: "3 Cartas Para Descobrir Seu Propsito"

Por Que Funcionou:

1. TTULO MAGNTICO
 Nmero especfico (3)
 Promessa clara (Propsito)
 Benefcio bvio (Descobrir)

2. VISUAL IMPACTANTE
 3 cartas em destaque
 Cores vibrantes
 Fundo que contrasta
 Texto grande e legvel

3. CONTEDO VALIOSO
Carrossel de 10 slides:

Slide 1: Gancho
"Seu propsito est nas cartas"

Slides 2-4: As 3 posies
- Carta 1: Seus dons
- Carta 2: Sua misso
- Carta 3: Prximo passo

Slides 5-7: Como fazer
Passo a passo detalhado

Slide 8: Exemplo real
Caso de uma cliente

Slide 9: Dica extra
Como aprofundar

Slide 10: CTA
"Quer ajuda profissional?
[Link]"

4. ENGAJAMENTO
 Pediu para compartilhar
 Perguntou "Qual carta voc tirou?"
 Respondeu TODOS os comentrios

RESULTADOS:

 Alcance: 47.3K
 Comentrios: 892
 Salvamentos: 3.1K
 Compartilhamentos: 2.4K
 Novos seguidores: 847
 Consultas: 34 vendas diretas

O QUE REPLICAR:

1. Ensine algo ESPECFICO
2. D valor REAL
3. Seja VISUAL
4. Pea AO
5. RESPONDA tudo

Variaes que Voc Pode Fazer:

"3 Cartas Para..."
- ...Entender Seu Relacionamento
- ...Tomar Decises de Carreira
- ...Desbloquear Abundncia
- ...Conhecer Seu Ano
- ...Resolver Conflito Interno

Mesma estrutura, temas diferentes!

Checklist do Criativo Campeo:

 Gancho forte (primeiros 3 seg)
 Visual atraente
 Promessa clara
 Contedo valioso
 Fcil de consumir
 CTA claro
 Incentiva engajamento
 Compartilhvel

 Use essa checklist em TODOS os seus posts!`,isBonus:!0},{title:"HEADLINES CATIVANTES",content:` Modelos de Headlines Prontos Para Usar

FRMULA: [Nmero] + [Objetivo] + [Tempo/Forma] + [Sem Objeo]

Exemplos:

"7 Formas de Ler Tarot Mesmo Sendo Iniciante"
"5 Segredos do Tarot Que Ningum Te Conta"
"Como Ganhar R$ 3K/Mes com Tarot em 90 Dias"
"10 Erros Que Voc Comete ao Consultar Tarot"

---

CURIOSIDADE:

"O Que o Tarot Revelou Sobre Voc?"
"A Carta Que Mudou Minha Vida (E Pode Mudar a Sua)"
"Por Que 90% das Pessoas Lem Tarot Errado"

---

ESPECFICO:

"Para Quem Est em Dvida se Termina ou Continua"
"Se Voc Odeia Seu Emprego, Leia Isso"
"Antes de Tomar Qualquer Deciso Importante..."

---

NEGAO:

"Tarot NO Prev o Futuro (E Isso  timo)"
"Voc No Precisa Ser Vidente Para Ler Tarot"
"Pare de Tentar Controlar o Resultado"

---

IDENTIFICAO:

"Se Voc Sente Que Est Perdida..."
"Para Quem Est Cansada de Se Autosabotar"
"Isso  Para Voc Que No Aguenta Mais..."

---

URGNCIA:

"ltimas 3 Vagas de Abril!"
"Promoo Termina em 24h"
"Nunca Mais Vou Fazer Esse Preo"

---

BENEFCIO DIRETO:

"Clareza em 60 Minutos"
"Descubra Seu Propsito Hoje"
"Termine o Ano com Direo Clara"

---

TRANSFORMAO:

"De Perdida a Confiante: A Jornada de [Nome]"
"Como Deixei de Ter Medo de Decidir"
"Antes Eu [antes]. Hoje Eu [depois]"

---

COMBO NMEROS + BENEFCIO:

"3 Cartas Para Entender Qualquer Situao"
"5 Minutos Para Clareza Total"
"1 Tiragem Que Muda Tudo"

---

TEMPLATES PARA PREENCHER:

"O Guia Definitivo de ___________"
"___________ em ___ Passos Simples"
"Como ___________ Sem ___________"
"O Segredo Para ___________ Que Ningum Conta"
"___________ : O Que Voc Precisa Saber"
"Por Que ___________ No Est Funcionando Para Voc"
"___ Sinais de Que Voc Deveria ___________"
"Pare de ___________ e Comece a ___________"

---

HEADLINES PARA VENDAS:

"Consulta Completa de Autoconhecimento - 60 Min"
"Descubra Seu Propsito em 1 Hora"
"Tire Suas 3 Maiores Dvidas Agora"
"Transforme Sua Vida em 1 Consulta"

---

TESTE A/B:

Teste 2 headlines diferentes:

Verso A: "Como Descobrir Seu Propsito"
Verso B: "Seu Propsito Revelado em 3 Cartas"

Use a que der mais resultado!

---

FRMULA FINAL:

[Emoo] + [Especificidade] + [Benefcio Claro] + [Urgncia/Curiosidade]

Exemplo:
"Sentindo Perdida? Descubra Seu Propsito em 3 Cartas (Antes Que Seja Tarde)"

Emoo: Perdida
Especificidade: 3 Cartas
Benefcio: Propsito
Urgncia: Antes que seja tarde

 Headline faz 80% do trabalho! Teste at acertar!`,isBonus:!0},{title:"Workshop Ao Vivo",content:` WORKSHOPS EXCLUSIVOS AO VIVO

Prximos Temas:

 Workshop 1: "Montando Seu Funil de Vendas"
- Data: A definir
- Como levar do Instagram at a venda
- Estratgias automatizadas
- Ferramentas gratuitas

 Workshop 2: "Reels que Viralizam"
- Como criar Reels que explodem
- Anlise de Reels de sucesso
- Trends para Tarolgas
- Edio profissional rpida

 Workshop 3: "Precificao Estratgica Avanada"
- Precificao psicolgica
- Quando aumentar preos
- Pacotes VIP
- Contratos e garantias

 Workshop 4: "Stories que Vendem"
- Estrutura de stories de venda
- Sequncia de aquecimento
- CTA que converte
- Stickers estratgicos

Como Participar:
- Fique de olho nos anncios
- Entre no grupo de networking
- Ative notificaes
- Todos so gratuitos para alunas!

Replays Disponveis:
 Gravao liberada por 7 dias
 Material complementar em PDF

 Nos vemos nos workshops!`,isBonus:!0,hasVideo:!0}]},{id:10,title:"10. Grupo de Networking",icon:r.jsx(Kn,{className:"w-6 h-6"}),color:"from-teal-600 to-green-600",bgColor:"bg-gradient-to-br from-teal-900/30 to-green-900/30",borderColor:"border-teal-500/30",cards:[{title:"Entre no Grupo de Networking!",content:` Comunidade Exclusiva de Tarolgas

O Que  o Grupo?

Uma comunidade privada de tarolgas que esto crescendo juntas, trocando experincias, dvidas, dicas e fazendo networking.

O Que Voc Encontra:

 Suporte de outras tarlogas
 Tirar dvidas sobre cartas
 Ideias de contedo
 Compartilhar resultados
 Parcerias e colaboraes
 Celebrar conquistas
 Material extra
 Lives exclusivas

Regras do Grupo:

 Respeito mtuo
 Sem competio
 Compartilhe conhecimento
 Apoie outras tarlogas
 Seja ativa

 Sem autopromoo excessiva
 Sem negatividade
 Sem roubar ideias

Como Entrar:

1. Clique no link abaixo
2. Apresente-se
3. Participe ativamente
4. Conecte-se com outras tarlogas!

[LINK DO GRUPO]

Eventos no Grupo:

 Toda semana:
- Segunda: Motivao semanal
- Quarta: Q&A ao vivo
- Sexta: Compartilhe sua vitria

 Todo ms:
- Lives com especialistas
- Desafios de crescimento
- Anlise de contedo
- Networking ativo

Benefcios:

 Termine o isolamento
 Aprenda com quem est na frente
 Ensine quem est comeando
 Faa amigas de verdade
 Cresam juntas!

 Te espero l dentro!

Obs: Grupo exclusivo para alunas do Portal Tarot!`,link:"#grupo-networking",isExternal:!0}]}],Hq=sqe.map(t=>{var d;let e,n,a,s,i=[];const o=t.title.replace(/^\d+\.\s*/,"");switch(t.id){case 1:e="",n="bg-blue-600",a="Identifique seu pblico ideal no mundo do Tarot.";break;case 2:e="",n="bg-purple-600",a="Crie uma identidade nica e memorvel para sua prtica.";break;case 3:e="",n="bg-pink-600",a="Desenvolva visuais atraentes para seus contedos e marca.";break;case 4:e="",n="bg-green-600",a="Defina o valor justo para seus atendimentos e produtos.";break;case 5:e="",n="bg-orange-600",a="Comunique-se de forma eficaz para converter mais clientes.";break;case 6:e="",n="bg-indigo-600",a="Escreva textos que vendem e conectam com seu pblico.";break;case 7:e="",n="bg-violet-600",a="Construa histrias que envolvam e persuadam seus clientes.";break;case 8:e="",n="bg-cyan-600",a="Expanda seu alcance e atraia mais seguidores engajados.";break;case 9:e="",n="bg-yellow-600",a="Acesse recursos extras para acelerar seu crescimento.";break;case 10:e="",n="bg-teal-600",a="Conecte-se com outras tarlogas e crie parcerias.";break;default:e="",n="bg-gray-600",a="Descubra um novo aspecto da sua jornada."}const l=((d=t.cards[0])==null?void 0:d.content)||"";for(s=l.split(`
`)[0],s&&s.length>150?s=s.substring(0,150)+"...":s||(s=`Aprenda sobre ${o.toLowerCase()}.`),i=l.split(`
`).filter(u=>u.trim()!=="").filter(u=>u.startsWith("-")||u.startsWith("")||u.startsWith("")||u.startsWith("1.")).slice(0,3).map(u=>u.replace(/^- /,"").replace(/^ /,"").replace(/^ /,"").replace(/^\d+\.\s*/,"").trim()),i.length<3&&(t.id===1&&(i=["Facilita a Comunicao","Aumenta a Relevncia","Melhora a Converso"]),t.id===2&&(i=["Diferenciao no mercado","Transmite profissionalismo","Cria conexo autntica"]),t.id===3&&(i=["Crie posts que param o scroll","Domine Canva e Photoshop","Desenvolva uma identidade visual"]),t.id===4&&(i=["Calcule seus custos corretamente","Crie pacotes irresistveis","Aumente seu ticket mdio"]),t.id===5&&(i=["Scripts para diferentes clientes","Tcnicas de fechamento","Estratgias de Upselling"]),t.id===6&&(i=["Frmulas de Copy persuasivas","Estrutura de textos para vendas","Storytelling que converte"]),t.id===7&&(i=["Crie histrias em torno dos seus servios","Pinte o futuro para seus clientes","Transforme objees em oportunidades"]),t.id===8&&(i=["Reels virais e engajamento","Parcerias e colaboraes","Planejamento de contedo eficaz"]),t.id===9&&(i=["Prompts para Carrossis Virais","Anlise de Criativos Campees","Workshops Exclusivos Ao Vivo"]),t.id===10&&(i=["Suporte de outras tarlogas","Ideias de contedo e parcerias","Lives e eventos exclusivos"]));i.length<3;)i.push(`Ponto chave ${i.length+1}`);return{title:o,subtitle:a,icon:e,iconBg:n,color:`${t.bgColor} ${t.borderColor}`,description:s,points:i}});function Dre(){const t=Sn(),[e,n]=w.useState(null),[a,s]=w.useState(null);w.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"}),i()},[]);const i=async()=>{const l=await aqe.auth.me();n(l)},o=l=>{s(a===l?null:l)};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#1a1a2e] via-[#16213e] to-[#0f3460] p-4 md:p-6 pb-24",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsxs(W,{onClick:()=>t(ft("AreaDoAluno")),variant:"ghost",className:"text-white mb-6",children:[r.jsx(Go,{className:"w-4 h-4 mr-2"}),"Voltar para rea do Aluno"]}),r.jsxs("div",{className:"relative overflow-hidden border-b border-purple-900/30",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-900/20 via-pink-900/20 to-blue-900/20"}),r.jsx("div",{className:"px-4 py-10 md:py-16 relative z-10",children:r.jsxs(q.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},className:"text-center",children:[r.jsx(q.div,{animate:{rotate:[0,5,-5,0],scale:[1,1.05,1]},transition:{duration:4,repeat:1/0},className:"w-16 h-16 md:w-20 md:h-20 rounded-2xl bg-gradient-to-br from-purple-600 to-pink-600 flex items-center justify-center mx-auto mb-4 shadow-2xl",children:r.jsx(dh,{className:"w-8 h-8 md:w-10 md:h-10 text-white"})}),r.jsx("h1",{className:"text-3xl md:text-5xl font-bold mb-3 bg-gradient-to-r from-purple-400 via-pink-400 to-blue-400 bg-clip-text text-transparent",children:"Portal Tarot - Plano de Ao"}),r.jsx("p",{className:"text-sm md:text-lg text-gray-300 max-w-2xl mx-auto",children:"Seu guia completo para se tornar uma tarloga de sucesso"}),r.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-2 md:gap-3 mt-6",children:[r.jsxs(De,{className:"bg-purple-600 text-white px-3 py-1.5 text-xs",children:[Hq.length," Mdulos"]}),r.jsx(De,{className:"bg-pink-600 text-white px-3 py-1.5 text-xs",children:"Contedo Completo"}),r.jsx(De,{className:"bg-blue-600 text-white px-3 py-1.5 text-xs",children:"Bnus"})]})]})})]}),r.jsx("div",{className:"px-4 py-6 md:py-8",children:r.jsx("div",{className:"space-y-4",children:Hq.map((l,c)=>r.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:c*.1},children:r.jsx(X,{className:`${l.color} border overflow-hidden backdrop-blur-sm cursor-pointer transition-all ${a===c?"ring-2 ring-white/30":""}`,onClick:()=>o(c),children:r.jsxs("div",{className:"p-4 md:p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4 flex-1 min-w-0",children:[r.jsx("div",{className:`w-12 h-12 md:w-16 md:h-16 rounded-2xl ${l.iconBg} flex items-center justify-center text-white text-xl md:text-3xl flex-shrink-0`,children:r.jsx("span",{className:"text-2xl md:text-3xl",children:l.icon})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"text-lg md:text-xl font-bold text-white mb-1 truncate",children:l.title}),r.jsx("p",{className:"text-gray-300 text-xs md:text-sm truncate",children:l.subtitle})]})]}),r.jsx(ld,{className:`w-6 h-6 text-white transition-transform duration-300 ${a===c?"rotate-180":""} flex-shrink-0`})]}),r.jsx(gt,{children:a===c&&r.jsxs(q.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"mt-4 pt-4 border-t border-white/20 overflow-hidden",children:[r.jsx("p",{className:"text-white/90 text-sm md:text-base leading-relaxed mb-4",children:l.description}),r.jsx("ul",{className:"space-y-2",children:l.points.map((d,u)=>r.jsxs("li",{className:"flex items-start gap-2 text-white/80 text-xs md:text-sm",children:[r.jsx(_n,{className:"w-4 h-4 md:w-5 md:h-5 flex-shrink-0 mt-0.5 text-green-400"}),r.jsx("span",{children:d})]},u))})]})})]})})},c))})})]})})}var X_="Checkbox",[iqe]=Fi(X_),[oqe,ER]=iqe(X_);function lqe(t){const{__scopeCheckbox:e,checked:n,children:a,defaultChecked:s,disabled:i,form:o,name:l,onCheckedChange:c,required:d,value:u="on",internal_do_not_use_render:h}=t,[f,v]=Hl({prop:n,defaultProp:s??!1,onChange:c,caller:X_}),[x,g]=w.useState(null),[y,b]=w.useState(null),_=w.useRef(!1),j=x?!!o||!!x.closest("form"):!0,S={checked:f,disabled:i,setChecked:v,control:x,setControl:g,name:l,form:o,value:u,hasConsumerStoppedPropagationRef:_,required:d,defaultChecked:ad(s)?!1:s,isFormControl:j,bubbleInput:y,setBubbleInput:b};return r.jsx(oqe,{scope:e,...S,children:cqe(h)?h(S):a})}var Ire="CheckboxTrigger",Lre=w.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...a},s)=>{const{control:i,value:o,disabled:l,checked:c,required:d,setControl:u,setChecked:h,hasConsumerStoppedPropagationRef:f,isFormControl:v,bubbleInput:x}=ER(Ire,t),g=mn(s,u),y=w.useRef(c);return w.useEffect(()=>{const b=i==null?void 0:i.form;if(b){const _=()=>h(y.current);return b.addEventListener("reset",_),()=>b.removeEventListener("reset",_)}},[i,h]),r.jsx(qt.button,{type:"button",role:"checkbox","aria-checked":ad(c)?"mixed":c,"aria-required":d,"data-state":zre(c),"data-disabled":l?"":void 0,disabled:l,value:o,...a,ref:g,onKeyDown:lt(e,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:lt(n,b=>{h(_=>ad(_)?!0:!_),x&&v&&(f.current=b.isPropagationStopped(),f.current||b.stopPropagation())})})});Lre.displayName=Ire;var AR=w.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:a,checked:s,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:d,form:u,...h}=t;return r.jsx(lqe,{__scopeCheckbox:n,checked:s,defaultChecked:i,disabled:l,required:o,onCheckedChange:d,name:a,form:u,value:c,internal_do_not_use_render:({isFormControl:f})=>r.jsxs(r.Fragment,{children:[r.jsx(Lre,{...h,ref:e,__scopeCheckbox:n}),f&&r.jsx(Bre,{__scopeCheckbox:n})]})})});AR.displayName=X_;var Fre="CheckboxIndicator",$re=w.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:a,...s}=t,i=ER(Fre,n);return r.jsx(Us,{present:a||ad(i.checked)||i.checked===!0,children:r.jsx(qt.span,{"data-state":zre(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});$re.displayName=Fre;var Ure="CheckboxBubbleInput",Bre=w.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:a,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:o,required:l,disabled:c,name:d,value:u,form:h,bubbleInput:f,setBubbleInput:v}=ER(Ure,t),x=mn(n,v),g=J1(i),y=k1(a);w.useEffect(()=>{const _=f;if(!_)return;const j=window.HTMLInputElement.prototype,C=Object.getOwnPropertyDescriptor(j,"checked").set,E=!s.current;if(g!==i&&C){const P=new Event("click",{bubbles:E});_.indeterminate=ad(i),C.call(_,ad(i)?!1:i),_.dispatchEvent(P)}},[f,g,i,s]);const b=w.useRef(ad(i)?!1:i);return r.jsx(qt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??b.current,required:l,disabled:c,name:d,value:u,form:h,...e,tabIndex:-1,ref:x,style:{...e.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Bre.displayName=Ure;function cqe(t){return typeof t=="function"}function ad(t){return t==="indeterminate"}function zre(t){return ad(t)?"indeterminate":t?"checked":"unchecked"}const qre=w.forwardRef(({className:t,...e},n)=>r.jsx(AR,{ref:n,className:Wt("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:r.jsx($re,{className:Wt("flex items-center justify-center text-current"),children:r.jsx(Rn,{className:"h-4 w-4"})})}));qre.displayName=AR.displayName;/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const MR="160",dqe=0,Gq=1,uqe=2,Vre=1,hqe=2,jl=3,xd=0,Ls=1,Pl=2,sd=0,Qm=1,Wq=2,Kq=3,Xq=4,mqe=5,uu=100,fqe=101,pqe=102,Yq=103,Qq=104,xqe=200,gqe=201,vqe=202,yqe=203,m3=204,f3=205,bqe=206,wqe=207,_qe=208,jqe=209,Nqe=210,Sqe=211,Cqe=212,Eqe=213,Aqe=214,Mqe=0,Pqe=1,Tqe=2,d1=3,kqe=4,Rqe=5,Oqe=6,Dqe=7,Hre=0,Iqe=1,Lqe=2,id=0,Fqe=1,$qe=2,Uqe=3,Bqe=4,zqe=5,qqe=6,Gre=300,Jf=301,ep=302,p3=303,x3=304,Y_=306,g3=1e3,lo=1001,v3=1002,is=1003,Zq=1004,IA=1005,Ei=1006,Vqe=1007,hg=1008,od=1009,Hqe=1010,Gqe=1011,PR=1012,Wre=1013,Jc=1014,ed=1015,mg=1016,Kre=1017,Xre=1018,Uu=1020,Wqe=1021,co=1023,Kqe=1024,Xqe=1025,Bu=1026,tp=1027,Yqe=1028,Yre=1029,Qqe=1030,Qre=1031,Zre=1033,LA=33776,FA=33777,$A=33778,UA=33779,Jq=35840,eV=35841,tV=35842,nV=35843,Jre=36196,rV=37492,aV=37496,sV=37808,iV=37809,oV=37810,lV=37811,cV=37812,dV=37813,uV=37814,hV=37815,mV=37816,fV=37817,pV=37818,xV=37819,gV=37820,vV=37821,BA=36492,yV=36494,bV=36495,Zqe=36283,wV=36284,_V=36285,jV=36286,eae=3e3,zu=3001,Jqe=3200,eVe=3201,tae=0,tVe=1,Ti="",Ra="srgb",Jl="srgb-linear",TR="display-p3",Q_="display-p3-linear",u1="linear",fr="srgb",h1="rec709",m1="p3",am=7680,NV=519,nVe=512,rVe=513,aVe=514,nae=515,sVe=516,iVe=517,oVe=518,lVe=519,SV=35044,CV="300 es",y3=1035,Dl=2e3,f1=2001;class kp{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const a=this._listeners;a[e]===void 0&&(a[e]=[]),a[e].indexOf(n)===-1&&a[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const a=this._listeners;return a[e]!==void 0&&a[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const s=this._listeners[e];if(s!==void 0){const i=s.indexOf(n);i!==-1&&s.splice(i,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const a=this._listeners[e.type];if(a!==void 0){e.target=this;const s=a.slice(0);for(let i=0,o=s.length;i<o;i++)s[i].call(this,e);e.target=null}}}const Va=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],zA=Math.PI/180,b3=180/Math.PI;function Gg(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,a=Math.random()*4294967295|0;return(Va[t&255]+Va[t>>8&255]+Va[t>>16&255]+Va[t>>24&255]+"-"+Va[e&255]+Va[e>>8&255]+"-"+Va[e>>16&15|64]+Va[e>>24&255]+"-"+Va[n&63|128]+Va[n>>8&255]+"-"+Va[n>>16&255]+Va[n>>24&255]+Va[a&255]+Va[a>>8&255]+Va[a>>16&255]+Va[a>>24&255]).toLowerCase()}function Cs(t,e,n){return Math.max(e,Math.min(n,t))}function cVe(t,e){return(t%e+e)%e}function qA(t,e,n){return(1-n)*t+n*e}function EV(t){return(t&t-1)===0&&t!==0}function w3(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function P0(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function _s(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}class Un{constructor(e=0,n=0){Un.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,a=this.y,s=e.elements;return this.x=s[0]*n+s[3]*a+s[6],this.y=s[1]*n+s[4]*a+s[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const a=this.length();return this.divideScalar(a||1).multiplyScalar(Math.max(e,Math.min(n,a)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const a=this.dot(e)/n;return Math.acos(Cs(a,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,a=this.y-e.y;return n*n+a*a}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,a){return this.x=e.x+(n.x-e.x)*a,this.y=e.y+(n.y-e.y)*a,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const a=Math.cos(n),s=Math.sin(n),i=this.x-e.x,o=this.y-e.y;return this.x=i*a-o*s+e.x,this.y=i*s+o*a+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class wn{constructor(e,n,a,s,i,o,l,c,d){wn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,a,s,i,o,l,c,d)}set(e,n,a,s,i,o,l,c,d){const u=this.elements;return u[0]=e,u[1]=s,u[2]=l,u[3]=n,u[4]=i,u[5]=c,u[6]=a,u[7]=o,u[8]=d,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,a=e.elements;return n[0]=a[0],n[1]=a[1],n[2]=a[2],n[3]=a[3],n[4]=a[4],n[5]=a[5],n[6]=a[6],n[7]=a[7],n[8]=a[8],this}extractBasis(e,n,a){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),a.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const a=e.elements,s=n.elements,i=this.elements,o=a[0],l=a[3],c=a[6],d=a[1],u=a[4],h=a[7],f=a[2],v=a[5],x=a[8],g=s[0],y=s[3],b=s[6],_=s[1],j=s[4],S=s[7],C=s[2],E=s[5],P=s[8];return i[0]=o*g+l*_+c*C,i[3]=o*y+l*j+c*E,i[6]=o*b+l*S+c*P,i[1]=d*g+u*_+h*C,i[4]=d*y+u*j+h*E,i[7]=d*b+u*S+h*P,i[2]=f*g+v*_+x*C,i[5]=f*y+v*j+x*E,i[8]=f*b+v*S+x*P,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],a=e[1],s=e[2],i=e[3],o=e[4],l=e[5],c=e[6],d=e[7],u=e[8];return n*o*u-n*l*d-a*i*u+a*l*c+s*i*d-s*o*c}invert(){const e=this.elements,n=e[0],a=e[1],s=e[2],i=e[3],o=e[4],l=e[5],c=e[6],d=e[7],u=e[8],h=u*o-l*d,f=l*c-u*i,v=d*i-o*c,x=n*h+a*f+s*v;if(x===0)return this.set(0,0,0,0,0,0,0,0,0);const g=1/x;return e[0]=h*g,e[1]=(s*d-u*a)*g,e[2]=(l*a-s*o)*g,e[3]=f*g,e[4]=(u*n-s*c)*g,e[5]=(s*i-l*n)*g,e[6]=v*g,e[7]=(a*c-d*n)*g,e[8]=(o*n-a*i)*g,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,a,s,i,o,l){const c=Math.cos(i),d=Math.sin(i);return this.set(a*c,a*d,-a*(c*o+d*l)+o+e,-s*d,s*c,-s*(-d*o+c*l)+l+n,0,0,1),this}scale(e,n){return this.premultiply(VA.makeScale(e,n)),this}rotate(e){return this.premultiply(VA.makeRotation(-e)),this}translate(e,n){return this.premultiply(VA.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),a=Math.sin(e);return this.set(n,-a,0,a,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,a=e.elements;for(let s=0;s<9;s++)if(n[s]!==a[s])return!1;return!0}fromArray(e,n=0){for(let a=0;a<9;a++)this.elements[a]=e[a+n];return this}toArray(e=[],n=0){const a=this.elements;return e[n]=a[0],e[n+1]=a[1],e[n+2]=a[2],e[n+3]=a[3],e[n+4]=a[4],e[n+5]=a[5],e[n+6]=a[6],e[n+7]=a[7],e[n+8]=a[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const VA=new wn;function rae(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}function p1(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function dVe(){const t=p1("canvas");return t.style.display="block",t}const AV={};function sx(t){t in AV||(AV[t]=!0,console.warn(t))}const MV=new wn().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),PV=new wn().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),qy={[Jl]:{transfer:u1,primaries:h1,toReference:t=>t,fromReference:t=>t},[Ra]:{transfer:fr,primaries:h1,toReference:t=>t.convertSRGBToLinear(),fromReference:t=>t.convertLinearToSRGB()},[Q_]:{transfer:u1,primaries:m1,toReference:t=>t.applyMatrix3(PV),fromReference:t=>t.applyMatrix3(MV)},[TR]:{transfer:fr,primaries:m1,toReference:t=>t.convertSRGBToLinear().applyMatrix3(PV),fromReference:t=>t.applyMatrix3(MV).convertLinearToSRGB()}},uVe=new Set([Jl,Q_]),rr={enabled:!0,_workingColorSpace:Jl,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(t){if(!uVe.has(t))throw new Error(`Unsupported working color space, "${t}".`);this._workingColorSpace=t},convert:function(t,e,n){if(this.enabled===!1||e===n||!e||!n)return t;const a=qy[e].toReference,s=qy[n].fromReference;return s(a(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this._workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this._workingColorSpace)},getPrimaries:function(t){return qy[t].primaries},getTransfer:function(t){return t===Ti?u1:qy[t].transfer}};function Zm(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function HA(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let sm;class aae{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{sm===void 0&&(sm=p1("canvas")),sm.width=e.width,sm.height=e.height;const a=sm.getContext("2d");e instanceof ImageData?a.putImageData(e,0,0):a.drawImage(e,0,0,e.width,e.height),n=sm}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=p1("canvas");n.width=e.width,n.height=e.height;const a=n.getContext("2d");a.drawImage(e,0,0,e.width,e.height);const s=a.getImageData(0,0,e.width,e.height),i=s.data;for(let o=0;o<i.length;o++)i[o]=Zm(i[o]/255)*255;return a.putImageData(s,0,0),n}else if(e.data){const n=e.data.slice(0);for(let a=0;a<n.length;a++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[a]=Math.floor(Zm(n[a]/255)*255):n[a]=Zm(n[a]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let hVe=0;class sae{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:hVe++}),this.uuid=Gg(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const a={uuid:this.uuid,url:""},s=this.data;if(s!==null){let i;if(Array.isArray(s)){i=[];for(let o=0,l=s.length;o<l;o++)s[o].isDataTexture?i.push(GA(s[o].image)):i.push(GA(s[o]))}else i=GA(s);a.url=i}return n||(e.images[this.uuid]=a),a}}function GA(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?aae.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let mVe=0;class Fs extends kp{constructor(e=Fs.DEFAULT_IMAGE,n=Fs.DEFAULT_MAPPING,a=lo,s=lo,i=Ei,o=hg,l=co,c=od,d=Fs.DEFAULT_ANISOTROPY,u=Ti){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:mVe++}),this.uuid=Gg(),this.name="",this.source=new sae(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=a,this.wrapT=s,this.magFilter=i,this.minFilter=o,this.anisotropy=d,this.format=l,this.internalFormat=null,this.type=c,this.offset=new Un(0,0),this.repeat=new Un(1,1),this.center=new Un(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new wn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof u=="string"?this.colorSpace=u:(sx("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=u===zu?Ra:Ti),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const a={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(a.userData=this.userData),n||(e.textures[this.uuid]=a),a}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Gre)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case g3:e.x=e.x-Math.floor(e.x);break;case lo:e.x=e.x<0?0:1;break;case v3:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case g3:e.y=e.y-Math.floor(e.y);break;case lo:e.y=e.y<0?0:1;break;case v3:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return sx("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===Ra?zu:eae}set encoding(e){sx("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===zu?Ra:Ti}}Fs.DEFAULT_IMAGE=null;Fs.DEFAULT_MAPPING=Gre;Fs.DEFAULT_ANISOTROPY=1;class Ca{constructor(e=0,n=0,a=0,s=1){Ca.prototype.isVector4=!0,this.x=e,this.y=n,this.z=a,this.w=s}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,a,s){return this.x=e,this.y=n,this.z=a,this.w=s,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,a=this.y,s=this.z,i=this.w,o=e.elements;return this.x=o[0]*n+o[4]*a+o[8]*s+o[12]*i,this.y=o[1]*n+o[5]*a+o[9]*s+o[13]*i,this.z=o[2]*n+o[6]*a+o[10]*s+o[14]*i,this.w=o[3]*n+o[7]*a+o[11]*s+o[15]*i,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,a,s,i;const c=e.elements,d=c[0],u=c[4],h=c[8],f=c[1],v=c[5],x=c[9],g=c[2],y=c[6],b=c[10];if(Math.abs(u-f)<.01&&Math.abs(h-g)<.01&&Math.abs(x-y)<.01){if(Math.abs(u+f)<.1&&Math.abs(h+g)<.1&&Math.abs(x+y)<.1&&Math.abs(d+v+b-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const j=(d+1)/2,S=(v+1)/2,C=(b+1)/2,E=(u+f)/4,P=(h+g)/4,T=(x+y)/4;return j>S&&j>C?j<.01?(a=0,s=.707106781,i=.707106781):(a=Math.sqrt(j),s=E/a,i=P/a):S>C?S<.01?(a=.707106781,s=0,i=.707106781):(s=Math.sqrt(S),a=E/s,i=T/s):C<.01?(a=.707106781,s=.707106781,i=0):(i=Math.sqrt(C),a=P/i,s=T/i),this.set(a,s,i,n),this}let _=Math.sqrt((y-x)*(y-x)+(h-g)*(h-g)+(f-u)*(f-u));return Math.abs(_)<.001&&(_=1),this.x=(y-x)/_,this.y=(h-g)/_,this.z=(f-u)/_,this.w=Math.acos((d+v+b-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const a=this.length();return this.divideScalar(a||1).multiplyScalar(Math.max(e,Math.min(n,a)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,a){return this.x=e.x+(n.x-e.x)*a,this.y=e.y+(n.y-e.y)*a,this.z=e.z+(n.z-e.z)*a,this.w=e.w+(n.w-e.w)*a,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class fVe extends kp{constructor(e=1,n=1,a={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new Ca(0,0,e,n),this.scissorTest=!1,this.viewport=new Ca(0,0,e,n);const s={width:e,height:n,depth:1};a.encoding!==void 0&&(sx("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),a.colorSpace=a.encoding===zu?Ra:Ti),a=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Ei,depthBuffer:!0,stencilBuffer:!1,depthTexture:null,samples:0},a),this.texture=new Fs(s,a.mapping,a.wrapS,a.wrapT,a.magFilter,a.minFilter,a.format,a.type,a.anisotropy,a.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=a.generateMipmaps,this.texture.internalFormat=a.internalFormat,this.depthBuffer=a.depthBuffer,this.stencilBuffer=a.stencilBuffer,this.depthTexture=a.depthTexture,this.samples=a.samples}setSize(e,n,a=1){(this.width!==e||this.height!==n||this.depth!==a)&&(this.width=e,this.height=n,this.depth=a,this.texture.image.width=e,this.texture.image.height=n,this.texture.image.depth=a,this.dispose()),this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new sae(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class lh extends fVe{constructor(e=1,n=1,a={}){super(e,n,a),this.isWebGLRenderTarget=!0}}class iae extends Fs{constructor(e=null,n=1,a=1,s=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:a,depth:s},this.magFilter=is,this.minFilter=is,this.wrapR=lo,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class pVe extends Fs{constructor(e=null,n=1,a=1,s=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:a,depth:s},this.magFilter=is,this.minFilter=is,this.wrapR=lo,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Wg{constructor(e=0,n=0,a=0,s=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=a,this._w=s}static slerpFlat(e,n,a,s,i,o,l){let c=a[s+0],d=a[s+1],u=a[s+2],h=a[s+3];const f=i[o+0],v=i[o+1],x=i[o+2],g=i[o+3];if(l===0){e[n+0]=c,e[n+1]=d,e[n+2]=u,e[n+3]=h;return}if(l===1){e[n+0]=f,e[n+1]=v,e[n+2]=x,e[n+3]=g;return}if(h!==g||c!==f||d!==v||u!==x){let y=1-l;const b=c*f+d*v+u*x+h*g,_=b>=0?1:-1,j=1-b*b;if(j>Number.EPSILON){const C=Math.sqrt(j),E=Math.atan2(C,b*_);y=Math.sin(y*E)/C,l=Math.sin(l*E)/C}const S=l*_;if(c=c*y+f*S,d=d*y+v*S,u=u*y+x*S,h=h*y+g*S,y===1-l){const C=1/Math.sqrt(c*c+d*d+u*u+h*h);c*=C,d*=C,u*=C,h*=C}}e[n]=c,e[n+1]=d,e[n+2]=u,e[n+3]=h}static multiplyQuaternionsFlat(e,n,a,s,i,o){const l=a[s],c=a[s+1],d=a[s+2],u=a[s+3],h=i[o],f=i[o+1],v=i[o+2],x=i[o+3];return e[n]=l*x+u*h+c*v-d*f,e[n+1]=c*x+u*f+d*h-l*v,e[n+2]=d*x+u*v+l*f-c*h,e[n+3]=u*x-l*h-c*f-d*v,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,a,s){return this._x=e,this._y=n,this._z=a,this._w=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const a=e._x,s=e._y,i=e._z,o=e._order,l=Math.cos,c=Math.sin,d=l(a/2),u=l(s/2),h=l(i/2),f=c(a/2),v=c(s/2),x=c(i/2);switch(o){case"XYZ":this._x=f*u*h+d*v*x,this._y=d*v*h-f*u*x,this._z=d*u*x+f*v*h,this._w=d*u*h-f*v*x;break;case"YXZ":this._x=f*u*h+d*v*x,this._y=d*v*h-f*u*x,this._z=d*u*x-f*v*h,this._w=d*u*h+f*v*x;break;case"ZXY":this._x=f*u*h-d*v*x,this._y=d*v*h+f*u*x,this._z=d*u*x+f*v*h,this._w=d*u*h-f*v*x;break;case"ZYX":this._x=f*u*h-d*v*x,this._y=d*v*h+f*u*x,this._z=d*u*x-f*v*h,this._w=d*u*h+f*v*x;break;case"YZX":this._x=f*u*h+d*v*x,this._y=d*v*h+f*u*x,this._z=d*u*x-f*v*h,this._w=d*u*h-f*v*x;break;case"XZY":this._x=f*u*h-d*v*x,this._y=d*v*h-f*u*x,this._z=d*u*x+f*v*h,this._w=d*u*h+f*v*x;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const a=n/2,s=Math.sin(a);return this._x=e.x*s,this._y=e.y*s,this._z=e.z*s,this._w=Math.cos(a),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,a=n[0],s=n[4],i=n[8],o=n[1],l=n[5],c=n[9],d=n[2],u=n[6],h=n[10],f=a+l+h;if(f>0){const v=.5/Math.sqrt(f+1);this._w=.25/v,this._x=(u-c)*v,this._y=(i-d)*v,this._z=(o-s)*v}else if(a>l&&a>h){const v=2*Math.sqrt(1+a-l-h);this._w=(u-c)/v,this._x=.25*v,this._y=(s+o)/v,this._z=(i+d)/v}else if(l>h){const v=2*Math.sqrt(1+l-a-h);this._w=(i-d)/v,this._x=(s+o)/v,this._y=.25*v,this._z=(c+u)/v}else{const v=2*Math.sqrt(1+h-a-l);this._w=(o-s)/v,this._x=(i+d)/v,this._y=(c+u)/v,this._z=.25*v}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let a=e.dot(n)+1;return a<Number.EPSILON?(a=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=a):(this._x=0,this._y=-e.z,this._z=e.y,this._w=a)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=a),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Cs(this.dot(e),-1,1)))}rotateTowards(e,n){const a=this.angleTo(e);if(a===0)return this;const s=Math.min(1,n/a);return this.slerp(e,s),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const a=e._x,s=e._y,i=e._z,o=e._w,l=n._x,c=n._y,d=n._z,u=n._w;return this._x=a*u+o*l+s*d-i*c,this._y=s*u+o*c+i*l-a*d,this._z=i*u+o*d+a*c-s*l,this._w=o*u-a*l-s*c-i*d,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const a=this._x,s=this._y,i=this._z,o=this._w;let l=o*e._w+a*e._x+s*e._y+i*e._z;if(l<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,l=-l):this.copy(e),l>=1)return this._w=o,this._x=a,this._y=s,this._z=i,this;const c=1-l*l;if(c<=Number.EPSILON){const v=1-n;return this._w=v*o+n*this._w,this._x=v*a+n*this._x,this._y=v*s+n*this._y,this._z=v*i+n*this._z,this.normalize(),this}const d=Math.sqrt(c),u=Math.atan2(d,l),h=Math.sin((1-n)*u)/d,f=Math.sin(n*u)/d;return this._w=o*h+this._w*f,this._x=a*h+this._x*f,this._y=s*h+this._y*f,this._z=i*h+this._z*f,this._onChangeCallback(),this}slerpQuaternions(e,n,a){return this.copy(e).slerp(n,a)}random(){const e=Math.random(),n=Math.sqrt(1-e),a=Math.sqrt(e),s=2*Math.PI*Math.random(),i=2*Math.PI*Math.random();return this.set(n*Math.cos(s),a*Math.sin(i),a*Math.cos(i),n*Math.sin(s))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Re{constructor(e=0,n=0,a=0){Re.prototype.isVector3=!0,this.x=e,this.y=n,this.z=a}set(e,n,a){return a===void 0&&(a=this.z),this.x=e,this.y=n,this.z=a,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(TV.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(TV.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,a=this.y,s=this.z,i=e.elements;return this.x=i[0]*n+i[3]*a+i[6]*s,this.y=i[1]*n+i[4]*a+i[7]*s,this.z=i[2]*n+i[5]*a+i[8]*s,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,a=this.y,s=this.z,i=e.elements,o=1/(i[3]*n+i[7]*a+i[11]*s+i[15]);return this.x=(i[0]*n+i[4]*a+i[8]*s+i[12])*o,this.y=(i[1]*n+i[5]*a+i[9]*s+i[13])*o,this.z=(i[2]*n+i[6]*a+i[10]*s+i[14])*o,this}applyQuaternion(e){const n=this.x,a=this.y,s=this.z,i=e.x,o=e.y,l=e.z,c=e.w,d=2*(o*s-l*a),u=2*(l*n-i*s),h=2*(i*a-o*n);return this.x=n+c*d+o*h-l*u,this.y=a+c*u+l*d-i*h,this.z=s+c*h+i*u-o*d,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,a=this.y,s=this.z,i=e.elements;return this.x=i[0]*n+i[4]*a+i[8]*s,this.y=i[1]*n+i[5]*a+i[9]*s,this.z=i[2]*n+i[6]*a+i[10]*s,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const a=this.length();return this.divideScalar(a||1).multiplyScalar(Math.max(e,Math.min(n,a)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,a){return this.x=e.x+(n.x-e.x)*a,this.y=e.y+(n.y-e.y)*a,this.z=e.z+(n.z-e.z)*a,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const a=e.x,s=e.y,i=e.z,o=n.x,l=n.y,c=n.z;return this.x=s*c-i*l,this.y=i*o-a*c,this.z=a*l-s*o,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const a=e.dot(this)/n;return this.copy(e).multiplyScalar(a)}projectOnPlane(e){return WA.copy(this).projectOnVector(e),this.sub(WA)}reflect(e){return this.sub(WA.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const a=this.dot(e)/n;return Math.acos(Cs(a,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,a=this.y-e.y,s=this.z-e.z;return n*n+a*a+s*s}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,a){const s=Math.sin(n)*e;return this.x=s*Math.sin(a),this.y=Math.cos(n)*e,this.z=s*Math.cos(a),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,a){return this.x=e*Math.sin(n),this.y=a,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),a=this.setFromMatrixColumn(e,1).length(),s=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=a,this.z=s,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,n=Math.random()*Math.PI*2,a=Math.sqrt(1-e**2);return this.x=a*Math.cos(n),this.y=a*Math.sin(n),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const WA=new Re,TV=new Wg;class Kg{constructor(e=new Re(1/0,1/0,1/0),n=new Re(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,a=e.length;n<a;n+=3)this.expandByPoint(Ki.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,a=e.count;n<a;n++)this.expandByPoint(Ki.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,a=e.length;n<a;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const a=Ki.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(a),this.max.copy(e).add(a),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const a=e.geometry;if(a!==void 0){const i=a.getAttribute("position");if(n===!0&&i!==void 0&&e.isInstancedMesh!==!0)for(let o=0,l=i.count;o<l;o++)e.isMesh===!0?e.getVertexPosition(o,Ki):Ki.fromBufferAttribute(i,o),Ki.applyMatrix4(e.matrixWorld),this.expandByPoint(Ki);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),Vy.copy(e.boundingBox)):(a.boundingBox===null&&a.computeBoundingBox(),Vy.copy(a.boundingBox)),Vy.applyMatrix4(e.matrixWorld),this.union(Vy)}const s=e.children;for(let i=0,o=s.length;i<o;i++)this.expandByObject(s[i],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Ki),Ki.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,a;return e.normal.x>0?(n=e.normal.x*this.min.x,a=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,a=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,a+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,a+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,a+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,a+=e.normal.z*this.min.z),n<=-e.constant&&a>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(T0),Hy.subVectors(this.max,T0),im.subVectors(e.a,T0),om.subVectors(e.b,T0),lm.subVectors(e.c,T0),Ac.subVectors(om,im),Mc.subVectors(lm,om),Yd.subVectors(im,lm);let n=[0,-Ac.z,Ac.y,0,-Mc.z,Mc.y,0,-Yd.z,Yd.y,Ac.z,0,-Ac.x,Mc.z,0,-Mc.x,Yd.z,0,-Yd.x,-Ac.y,Ac.x,0,-Mc.y,Mc.x,0,-Yd.y,Yd.x,0];return!KA(n,im,om,lm,Hy)||(n=[1,0,0,0,1,0,0,0,1],!KA(n,im,om,lm,Hy))?!1:(Gy.crossVectors(Ac,Mc),n=[Gy.x,Gy.y,Gy.z],KA(n,im,om,lm,Hy))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Ki).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Ki).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(gl[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),gl[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),gl[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),gl[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),gl[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),gl[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),gl[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),gl[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(gl),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const gl=[new Re,new Re,new Re,new Re,new Re,new Re,new Re,new Re],Ki=new Re,Vy=new Kg,im=new Re,om=new Re,lm=new Re,Ac=new Re,Mc=new Re,Yd=new Re,T0=new Re,Hy=new Re,Gy=new Re,Qd=new Re;function KA(t,e,n,a,s){for(let i=0,o=t.length-3;i<=o;i+=3){Qd.fromArray(t,i);const l=s.x*Math.abs(Qd.x)+s.y*Math.abs(Qd.y)+s.z*Math.abs(Qd.z),c=e.dot(Qd),d=n.dot(Qd),u=a.dot(Qd);if(Math.max(-Math.max(c,d,u),Math.min(c,d,u))>l)return!1}return!0}const xVe=new Kg,k0=new Re,XA=new Re;class kR{constructor(e=new Re,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const a=this.center;n!==void 0?a.copy(n):xVe.setFromPoints(e).getCenter(a);let s=0;for(let i=0,o=e.length;i<o;i++)s=Math.max(s,a.distanceToSquared(e[i]));return this.radius=Math.sqrt(s),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const a=this.center.distanceToSquared(e);return n.copy(e),a>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;k0.subVectors(e,this.center);const n=k0.lengthSq();if(n>this.radius*this.radius){const a=Math.sqrt(n),s=(a-this.radius)*.5;this.center.addScaledVector(k0,s/a),this.radius+=s}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(XA.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(k0.copy(e.center).add(XA)),this.expandByPoint(k0.copy(e.center).sub(XA))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const vl=new Re,YA=new Re,Wy=new Re,Pc=new Re,QA=new Re,Ky=new Re,ZA=new Re;class gVe{constructor(e=new Re,n=new Re(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,vl)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const a=n.dot(this.direction);return a<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,a)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=vl.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(vl.copy(this.origin).addScaledVector(this.direction,n),vl.distanceToSquared(e))}distanceSqToSegment(e,n,a,s){YA.copy(e).add(n).multiplyScalar(.5),Wy.copy(n).sub(e).normalize(),Pc.copy(this.origin).sub(YA);const i=e.distanceTo(n)*.5,o=-this.direction.dot(Wy),l=Pc.dot(this.direction),c=-Pc.dot(Wy),d=Pc.lengthSq(),u=Math.abs(1-o*o);let h,f,v,x;if(u>0)if(h=o*c-l,f=o*l-c,x=i*u,h>=0)if(f>=-x)if(f<=x){const g=1/u;h*=g,f*=g,v=h*(h+o*f+2*l)+f*(o*h+f+2*c)+d}else f=i,h=Math.max(0,-(o*f+l)),v=-h*h+f*(f+2*c)+d;else f=-i,h=Math.max(0,-(o*f+l)),v=-h*h+f*(f+2*c)+d;else f<=-x?(h=Math.max(0,-(-o*i+l)),f=h>0?-i:Math.min(Math.max(-i,-c),i),v=-h*h+f*(f+2*c)+d):f<=x?(h=0,f=Math.min(Math.max(-i,-c),i),v=f*(f+2*c)+d):(h=Math.max(0,-(o*i+l)),f=h>0?i:Math.min(Math.max(-i,-c),i),v=-h*h+f*(f+2*c)+d);else f=o>0?-i:i,h=Math.max(0,-(o*f+l)),v=-h*h+f*(f+2*c)+d;return a&&a.copy(this.origin).addScaledVector(this.direction,h),s&&s.copy(YA).addScaledVector(Wy,f),v}intersectSphere(e,n){vl.subVectors(e.center,this.origin);const a=vl.dot(this.direction),s=vl.dot(vl)-a*a,i=e.radius*e.radius;if(s>i)return null;const o=Math.sqrt(i-s),l=a-o,c=a+o;return c<0?null:l<0?this.at(c,n):this.at(l,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const a=-(this.origin.dot(e.normal)+e.constant)/n;return a>=0?a:null}intersectPlane(e,n){const a=this.distanceToPlane(e);return a===null?null:this.at(a,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let a,s,i,o,l,c;const d=1/this.direction.x,u=1/this.direction.y,h=1/this.direction.z,f=this.origin;return d>=0?(a=(e.min.x-f.x)*d,s=(e.max.x-f.x)*d):(a=(e.max.x-f.x)*d,s=(e.min.x-f.x)*d),u>=0?(i=(e.min.y-f.y)*u,o=(e.max.y-f.y)*u):(i=(e.max.y-f.y)*u,o=(e.min.y-f.y)*u),a>o||i>s||((i>a||isNaN(a))&&(a=i),(o<s||isNaN(s))&&(s=o),h>=0?(l=(e.min.z-f.z)*h,c=(e.max.z-f.z)*h):(l=(e.max.z-f.z)*h,c=(e.min.z-f.z)*h),a>c||l>s)||((l>a||a!==a)&&(a=l),(c<s||s!==s)&&(s=c),s<0)?null:this.at(a>=0?a:s,n)}intersectsBox(e){return this.intersectBox(e,vl)!==null}intersectTriangle(e,n,a,s,i){QA.subVectors(n,e),Ky.subVectors(a,e),ZA.crossVectors(QA,Ky);let o=this.direction.dot(ZA),l;if(o>0){if(s)return null;l=1}else if(o<0)l=-1,o=-o;else return null;Pc.subVectors(this.origin,e);const c=l*this.direction.dot(Ky.crossVectors(Pc,Ky));if(c<0)return null;const d=l*this.direction.dot(QA.cross(Pc));if(d<0||c+d>o)return null;const u=-l*Pc.dot(ZA);return u<0?null:this.at(u/o,i)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class da{constructor(e,n,a,s,i,o,l,c,d,u,h,f,v,x,g,y){da.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,a,s,i,o,l,c,d,u,h,f,v,x,g,y)}set(e,n,a,s,i,o,l,c,d,u,h,f,v,x,g,y){const b=this.elements;return b[0]=e,b[4]=n,b[8]=a,b[12]=s,b[1]=i,b[5]=o,b[9]=l,b[13]=c,b[2]=d,b[6]=u,b[10]=h,b[14]=f,b[3]=v,b[7]=x,b[11]=g,b[15]=y,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new da().fromArray(this.elements)}copy(e){const n=this.elements,a=e.elements;return n[0]=a[0],n[1]=a[1],n[2]=a[2],n[3]=a[3],n[4]=a[4],n[5]=a[5],n[6]=a[6],n[7]=a[7],n[8]=a[8],n[9]=a[9],n[10]=a[10],n[11]=a[11],n[12]=a[12],n[13]=a[13],n[14]=a[14],n[15]=a[15],this}copyPosition(e){const n=this.elements,a=e.elements;return n[12]=a[12],n[13]=a[13],n[14]=a[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,a){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),a.setFromMatrixColumn(this,2),this}makeBasis(e,n,a){return this.set(e.x,n.x,a.x,0,e.y,n.y,a.y,0,e.z,n.z,a.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,a=e.elements,s=1/cm.setFromMatrixColumn(e,0).length(),i=1/cm.setFromMatrixColumn(e,1).length(),o=1/cm.setFromMatrixColumn(e,2).length();return n[0]=a[0]*s,n[1]=a[1]*s,n[2]=a[2]*s,n[3]=0,n[4]=a[4]*i,n[5]=a[5]*i,n[6]=a[6]*i,n[7]=0,n[8]=a[8]*o,n[9]=a[9]*o,n[10]=a[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,a=e.x,s=e.y,i=e.z,o=Math.cos(a),l=Math.sin(a),c=Math.cos(s),d=Math.sin(s),u=Math.cos(i),h=Math.sin(i);if(e.order==="XYZ"){const f=o*u,v=o*h,x=l*u,g=l*h;n[0]=c*u,n[4]=-c*h,n[8]=d,n[1]=v+x*d,n[5]=f-g*d,n[9]=-l*c,n[2]=g-f*d,n[6]=x+v*d,n[10]=o*c}else if(e.order==="YXZ"){const f=c*u,v=c*h,x=d*u,g=d*h;n[0]=f+g*l,n[4]=x*l-v,n[8]=o*d,n[1]=o*h,n[5]=o*u,n[9]=-l,n[2]=v*l-x,n[6]=g+f*l,n[10]=o*c}else if(e.order==="ZXY"){const f=c*u,v=c*h,x=d*u,g=d*h;n[0]=f-g*l,n[4]=-o*h,n[8]=x+v*l,n[1]=v+x*l,n[5]=o*u,n[9]=g-f*l,n[2]=-o*d,n[6]=l,n[10]=o*c}else if(e.order==="ZYX"){const f=o*u,v=o*h,x=l*u,g=l*h;n[0]=c*u,n[4]=x*d-v,n[8]=f*d+g,n[1]=c*h,n[5]=g*d+f,n[9]=v*d-x,n[2]=-d,n[6]=l*c,n[10]=o*c}else if(e.order==="YZX"){const f=o*c,v=o*d,x=l*c,g=l*d;n[0]=c*u,n[4]=g-f*h,n[8]=x*h+v,n[1]=h,n[5]=o*u,n[9]=-l*u,n[2]=-d*u,n[6]=v*h+x,n[10]=f-g*h}else if(e.order==="XZY"){const f=o*c,v=o*d,x=l*c,g=l*d;n[0]=c*u,n[4]=-h,n[8]=d*u,n[1]=f*h+g,n[5]=o*u,n[9]=v*h-x,n[2]=x*h-v,n[6]=l*u,n[10]=g*h+f}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(vVe,e,yVe)}lookAt(e,n,a){const s=this.elements;return Ks.subVectors(e,n),Ks.lengthSq()===0&&(Ks.z=1),Ks.normalize(),Tc.crossVectors(a,Ks),Tc.lengthSq()===0&&(Math.abs(a.z)===1?Ks.x+=1e-4:Ks.z+=1e-4,Ks.normalize(),Tc.crossVectors(a,Ks)),Tc.normalize(),Xy.crossVectors(Ks,Tc),s[0]=Tc.x,s[4]=Xy.x,s[8]=Ks.x,s[1]=Tc.y,s[5]=Xy.y,s[9]=Ks.y,s[2]=Tc.z,s[6]=Xy.z,s[10]=Ks.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const a=e.elements,s=n.elements,i=this.elements,o=a[0],l=a[4],c=a[8],d=a[12],u=a[1],h=a[5],f=a[9],v=a[13],x=a[2],g=a[6],y=a[10],b=a[14],_=a[3],j=a[7],S=a[11],C=a[15],E=s[0],P=s[4],T=s[8],M=s[12],k=s[1],O=s[5],$=s[9],F=s[13],B=s[2],G=s[6],I=s[10],L=s[14],U=s[3],z=s[7],K=s[11],V=s[15];return i[0]=o*E+l*k+c*B+d*U,i[4]=o*P+l*O+c*G+d*z,i[8]=o*T+l*$+c*I+d*K,i[12]=o*M+l*F+c*L+d*V,i[1]=u*E+h*k+f*B+v*U,i[5]=u*P+h*O+f*G+v*z,i[9]=u*T+h*$+f*I+v*K,i[13]=u*M+h*F+f*L+v*V,i[2]=x*E+g*k+y*B+b*U,i[6]=x*P+g*O+y*G+b*z,i[10]=x*T+g*$+y*I+b*K,i[14]=x*M+g*F+y*L+b*V,i[3]=_*E+j*k+S*B+C*U,i[7]=_*P+j*O+S*G+C*z,i[11]=_*T+j*$+S*I+C*K,i[15]=_*M+j*F+S*L+C*V,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],a=e[4],s=e[8],i=e[12],o=e[1],l=e[5],c=e[9],d=e[13],u=e[2],h=e[6],f=e[10],v=e[14],x=e[3],g=e[7],y=e[11],b=e[15];return x*(+i*c*h-s*d*h-i*l*f+a*d*f+s*l*v-a*c*v)+g*(+n*c*v-n*d*f+i*o*f-s*o*v+s*d*u-i*c*u)+y*(+n*d*h-n*l*v-i*o*h+a*o*v+i*l*u-a*d*u)+b*(-s*l*u-n*c*h+n*l*f+s*o*h-a*o*f+a*c*u)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,a){const s=this.elements;return e.isVector3?(s[12]=e.x,s[13]=e.y,s[14]=e.z):(s[12]=e,s[13]=n,s[14]=a),this}invert(){const e=this.elements,n=e[0],a=e[1],s=e[2],i=e[3],o=e[4],l=e[5],c=e[6],d=e[7],u=e[8],h=e[9],f=e[10],v=e[11],x=e[12],g=e[13],y=e[14],b=e[15],_=h*y*d-g*f*d+g*c*v-l*y*v-h*c*b+l*f*b,j=x*f*d-u*y*d-x*c*v+o*y*v+u*c*b-o*f*b,S=u*g*d-x*h*d+x*l*v-o*g*v-u*l*b+o*h*b,C=x*h*c-u*g*c-x*l*f+o*g*f+u*l*y-o*h*y,E=n*_+a*j+s*S+i*C;if(E===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const P=1/E;return e[0]=_*P,e[1]=(g*f*i-h*y*i-g*s*v+a*y*v+h*s*b-a*f*b)*P,e[2]=(l*y*i-g*c*i+g*s*d-a*y*d-l*s*b+a*c*b)*P,e[3]=(h*c*i-l*f*i-h*s*d+a*f*d+l*s*v-a*c*v)*P,e[4]=j*P,e[5]=(u*y*i-x*f*i+x*s*v-n*y*v-u*s*b+n*f*b)*P,e[6]=(x*c*i-o*y*i-x*s*d+n*y*d+o*s*b-n*c*b)*P,e[7]=(o*f*i-u*c*i+u*s*d-n*f*d-o*s*v+n*c*v)*P,e[8]=S*P,e[9]=(x*h*i-u*g*i-x*a*v+n*g*v+u*a*b-n*h*b)*P,e[10]=(o*g*i-x*l*i+x*a*d-n*g*d-o*a*b+n*l*b)*P,e[11]=(u*l*i-o*h*i-u*a*d+n*h*d+o*a*v-n*l*v)*P,e[12]=C*P,e[13]=(u*g*s-x*h*s+x*a*f-n*g*f-u*a*y+n*h*y)*P,e[14]=(x*l*s-o*g*s-x*a*c+n*g*c+o*a*y-n*l*y)*P,e[15]=(o*h*s-u*l*s+u*a*c-n*h*c-o*a*f+n*l*f)*P,this}scale(e){const n=this.elements,a=e.x,s=e.y,i=e.z;return n[0]*=a,n[4]*=s,n[8]*=i,n[1]*=a,n[5]*=s,n[9]*=i,n[2]*=a,n[6]*=s,n[10]*=i,n[3]*=a,n[7]*=s,n[11]*=i,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],a=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],s=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,a,s))}makeTranslation(e,n,a){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,a,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),a=Math.sin(e);return this.set(1,0,0,0,0,n,-a,0,0,a,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),a=Math.sin(e);return this.set(n,0,a,0,0,1,0,0,-a,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),a=Math.sin(e);return this.set(n,-a,0,0,a,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const a=Math.cos(n),s=Math.sin(n),i=1-a,o=e.x,l=e.y,c=e.z,d=i*o,u=i*l;return this.set(d*o+a,d*l-s*c,d*c+s*l,0,d*l+s*c,u*l+a,u*c-s*o,0,d*c-s*l,u*c+s*o,i*c*c+a,0,0,0,0,1),this}makeScale(e,n,a){return this.set(e,0,0,0,0,n,0,0,0,0,a,0,0,0,0,1),this}makeShear(e,n,a,s,i,o){return this.set(1,a,i,0,e,1,o,0,n,s,1,0,0,0,0,1),this}compose(e,n,a){const s=this.elements,i=n._x,o=n._y,l=n._z,c=n._w,d=i+i,u=o+o,h=l+l,f=i*d,v=i*u,x=i*h,g=o*u,y=o*h,b=l*h,_=c*d,j=c*u,S=c*h,C=a.x,E=a.y,P=a.z;return s[0]=(1-(g+b))*C,s[1]=(v+S)*C,s[2]=(x-j)*C,s[3]=0,s[4]=(v-S)*E,s[5]=(1-(f+b))*E,s[6]=(y+_)*E,s[7]=0,s[8]=(x+j)*P,s[9]=(y-_)*P,s[10]=(1-(f+g))*P,s[11]=0,s[12]=e.x,s[13]=e.y,s[14]=e.z,s[15]=1,this}decompose(e,n,a){const s=this.elements;let i=cm.set(s[0],s[1],s[2]).length();const o=cm.set(s[4],s[5],s[6]).length(),l=cm.set(s[8],s[9],s[10]).length();this.determinant()<0&&(i=-i),e.x=s[12],e.y=s[13],e.z=s[14],Xi.copy(this);const d=1/i,u=1/o,h=1/l;return Xi.elements[0]*=d,Xi.elements[1]*=d,Xi.elements[2]*=d,Xi.elements[4]*=u,Xi.elements[5]*=u,Xi.elements[6]*=u,Xi.elements[8]*=h,Xi.elements[9]*=h,Xi.elements[10]*=h,n.setFromRotationMatrix(Xi),a.x=i,a.y=o,a.z=l,this}makePerspective(e,n,a,s,i,o,l=Dl){const c=this.elements,d=2*i/(n-e),u=2*i/(a-s),h=(n+e)/(n-e),f=(a+s)/(a-s);let v,x;if(l===Dl)v=-(o+i)/(o-i),x=-2*o*i/(o-i);else if(l===f1)v=-o/(o-i),x=-o*i/(o-i);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+l);return c[0]=d,c[4]=0,c[8]=h,c[12]=0,c[1]=0,c[5]=u,c[9]=f,c[13]=0,c[2]=0,c[6]=0,c[10]=v,c[14]=x,c[3]=0,c[7]=0,c[11]=-1,c[15]=0,this}makeOrthographic(e,n,a,s,i,o,l=Dl){const c=this.elements,d=1/(n-e),u=1/(a-s),h=1/(o-i),f=(n+e)*d,v=(a+s)*u;let x,g;if(l===Dl)x=(o+i)*h,g=-2*h;else if(l===f1)x=i*h,g=-1*h;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+l);return c[0]=2*d,c[4]=0,c[8]=0,c[12]=-f,c[1]=0,c[5]=2*u,c[9]=0,c[13]=-v,c[2]=0,c[6]=0,c[10]=g,c[14]=-x,c[3]=0,c[7]=0,c[11]=0,c[15]=1,this}equals(e){const n=this.elements,a=e.elements;for(let s=0;s<16;s++)if(n[s]!==a[s])return!1;return!0}fromArray(e,n=0){for(let a=0;a<16;a++)this.elements[a]=e[a+n];return this}toArray(e=[],n=0){const a=this.elements;return e[n]=a[0],e[n+1]=a[1],e[n+2]=a[2],e[n+3]=a[3],e[n+4]=a[4],e[n+5]=a[5],e[n+6]=a[6],e[n+7]=a[7],e[n+8]=a[8],e[n+9]=a[9],e[n+10]=a[10],e[n+11]=a[11],e[n+12]=a[12],e[n+13]=a[13],e[n+14]=a[14],e[n+15]=a[15],e}}const cm=new Re,Xi=new da,vVe=new Re(0,0,0),yVe=new Re(1,1,1),Tc=new Re,Xy=new Re,Ks=new Re,kV=new da,RV=new Wg;class Z_{constructor(e=0,n=0,a=0,s=Z_.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=a,this._order=s}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,a,s=this._order){return this._x=e,this._y=n,this._z=a,this._order=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,a=!0){const s=e.elements,i=s[0],o=s[4],l=s[8],c=s[1],d=s[5],u=s[9],h=s[2],f=s[6],v=s[10];switch(n){case"XYZ":this._y=Math.asin(Cs(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,v),this._z=Math.atan2(-o,i)):(this._x=Math.atan2(f,d),this._z=0);break;case"YXZ":this._x=Math.asin(-Cs(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(l,v),this._z=Math.atan2(c,d)):(this._y=Math.atan2(-h,i),this._z=0);break;case"ZXY":this._x=Math.asin(Cs(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-h,v),this._z=Math.atan2(-o,d)):(this._y=0,this._z=Math.atan2(c,i));break;case"ZYX":this._y=Math.asin(-Cs(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(f,v),this._z=Math.atan2(c,i)):(this._x=0,this._z=Math.atan2(-o,d));break;case"YZX":this._z=Math.asin(Cs(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-u,d),this._y=Math.atan2(-h,i)):(this._x=0,this._y=Math.atan2(l,v));break;case"XZY":this._z=Math.asin(-Cs(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(f,d),this._y=Math.atan2(l,i)):(this._x=Math.atan2(-u,v),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,a===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,a){return kV.makeRotationFromQuaternion(e),this.setFromRotationMatrix(kV,n,a)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return RV.setFromEuler(this),this.setFromQuaternion(RV,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Z_.DEFAULT_ORDER="XYZ";class oae{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let bVe=0;const OV=new Re,dm=new Wg,yl=new da,Yy=new Re,R0=new Re,wVe=new Re,_Ve=new Wg,DV=new Re(1,0,0),IV=new Re(0,1,0),LV=new Re(0,0,1),jVe={type:"added"},NVe={type:"removed"};class Za extends kp{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:bVe++}),this.uuid=Gg(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Za.DEFAULT_UP.clone();const e=new Re,n=new Z_,a=new Wg,s=new Re(1,1,1);function i(){a.setFromEuler(n,!1)}function o(){n.setFromQuaternion(a,void 0,!1)}n._onChange(i),a._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:a},scale:{configurable:!0,enumerable:!0,value:s},modelViewMatrix:{value:new da},normalMatrix:{value:new wn}}),this.matrix=new da,this.matrixWorld=new da,this.matrixAutoUpdate=Za.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Za.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new oae,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return dm.setFromAxisAngle(e,n),this.quaternion.multiply(dm),this}rotateOnWorldAxis(e,n){return dm.setFromAxisAngle(e,n),this.quaternion.premultiply(dm),this}rotateX(e){return this.rotateOnAxis(DV,e)}rotateY(e){return this.rotateOnAxis(IV,e)}rotateZ(e){return this.rotateOnAxis(LV,e)}translateOnAxis(e,n){return OV.copy(e).applyQuaternion(this.quaternion),this.position.add(OV.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(DV,e)}translateY(e){return this.translateOnAxis(IV,e)}translateZ(e){return this.translateOnAxis(LV,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(yl.copy(this.matrixWorld).invert())}lookAt(e,n,a){e.isVector3?Yy.copy(e):Yy.set(e,n,a);const s=this.parent;this.updateWorldMatrix(!0,!1),R0.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?yl.lookAt(R0,Yy,this.up):yl.lookAt(Yy,R0,this.up),this.quaternion.setFromRotationMatrix(yl),s&&(yl.extractRotation(s.matrixWorld),dm.setFromRotationMatrix(yl),this.quaternion.premultiply(dm.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(jVe)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let a=0;a<arguments.length;a++)this.remove(arguments[a]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(NVe)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),yl.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),yl.multiply(e.parent.matrixWorld)),e.applyMatrix4(yl),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let a=0,s=this.children.length;a<s;a++){const o=this.children[a].getObjectByProperty(e,n);if(o!==void 0)return o}}getObjectsByProperty(e,n,a=[]){this[e]===n&&a.push(this);const s=this.children;for(let i=0,o=s.length;i<o;i++)s[i].getObjectsByProperty(e,n,a);return a}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(R0,e,wVe),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(R0,_Ve,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let a=0,s=n.length;a<s;a++)n[a].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let a=0,s=n.length;a<s;a++)n[a].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let a=0,s=n.length;a<s;a++){const i=n[a];(i.matrixWorldAutoUpdate===!0||e===!0)&&i.updateMatrixWorld(e)}}updateWorldMatrix(e,n){const a=this.parent;if(e===!0&&a!==null&&a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const s=this.children;for(let i=0,o=s.length;i<o;i++){const l=s[i];l.matrixWorldAutoUpdate===!0&&l.updateWorldMatrix(!1,!0)}}}toJSON(e){const n=e===void 0||typeof e=="string",a={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},a.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const s={};s.uuid=this.uuid,s.type=this.type,this.name!==""&&(s.name=this.name),this.castShadow===!0&&(s.castShadow=!0),this.receiveShadow===!0&&(s.receiveShadow=!0),this.visible===!1&&(s.visible=!1),this.frustumCulled===!1&&(s.frustumCulled=!1),this.renderOrder!==0&&(s.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(s.userData=this.userData),s.layers=this.layers.mask,s.matrix=this.matrix.toArray(),s.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(s.matrixAutoUpdate=!1),this.isInstancedMesh&&(s.type="InstancedMesh",s.count=this.count,s.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(s.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(s.type="BatchedMesh",s.perObjectFrustumCulled=this.perObjectFrustumCulled,s.sortObjects=this.sortObjects,s.drawRanges=this._drawRanges,s.reservedRanges=this._reservedRanges,s.visibility=this._visibility,s.active=this._active,s.bounds=this._bounds.map(l=>({boxInitialized:l.boxInitialized,boxMin:l.box.min.toArray(),boxMax:l.box.max.toArray(),sphereInitialized:l.sphereInitialized,sphereRadius:l.sphere.radius,sphereCenter:l.sphere.center.toArray()})),s.maxGeometryCount=this._maxGeometryCount,s.maxVertexCount=this._maxVertexCount,s.maxIndexCount=this._maxIndexCount,s.geometryInitialized=this._geometryInitialized,s.geometryCount=this._geometryCount,s.matricesTexture=this._matricesTexture.toJSON(e),this.boundingSphere!==null&&(s.boundingSphere={center:s.boundingSphere.center.toArray(),radius:s.boundingSphere.radius}),this.boundingBox!==null&&(s.boundingBox={min:s.boundingBox.min.toArray(),max:s.boundingBox.max.toArray()}));function i(l,c){return l[c.uuid]===void 0&&(l[c.uuid]=c.toJSON(e)),c.uuid}if(this.isScene)this.background&&(this.background.isColor?s.background=this.background.toJSON():this.background.isTexture&&(s.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(s.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){s.geometry=i(e.geometries,this.geometry);const l=this.geometry.parameters;if(l!==void 0&&l.shapes!==void 0){const c=l.shapes;if(Array.isArray(c))for(let d=0,u=c.length;d<u;d++){const h=c[d];i(e.shapes,h)}else i(e.shapes,c)}}if(this.isSkinnedMesh&&(s.bindMode=this.bindMode,s.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(i(e.skeletons,this.skeleton),s.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const l=[];for(let c=0,d=this.material.length;c<d;c++)l.push(i(e.materials,this.material[c]));s.material=l}else s.material=i(e.materials,this.material);if(this.children.length>0){s.children=[];for(let l=0;l<this.children.length;l++)s.children.push(this.children[l].toJSON(e).object)}if(this.animations.length>0){s.animations=[];for(let l=0;l<this.animations.length;l++){const c=this.animations[l];s.animations.push(i(e.animations,c))}}if(n){const l=o(e.geometries),c=o(e.materials),d=o(e.textures),u=o(e.images),h=o(e.shapes),f=o(e.skeletons),v=o(e.animations),x=o(e.nodes);l.length>0&&(a.geometries=l),c.length>0&&(a.materials=c),d.length>0&&(a.textures=d),u.length>0&&(a.images=u),h.length>0&&(a.shapes=h),f.length>0&&(a.skeletons=f),v.length>0&&(a.animations=v),x.length>0&&(a.nodes=x)}return a.object=s,a;function o(l){const c=[];for(const d in l){const u=l[d];delete u.metadata,c.push(u)}return c}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let a=0;a<e.children.length;a++){const s=e.children[a];this.add(s.clone())}return this}}Za.DEFAULT_UP=new Re(0,1,0);Za.DEFAULT_MATRIX_AUTO_UPDATE=!0;Za.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Yi=new Re,bl=new Re,JA=new Re,wl=new Re,um=new Re,hm=new Re,FV=new Re,eM=new Re,tM=new Re,nM=new Re;let Qy=!1;class so{constructor(e=new Re,n=new Re,a=new Re){this.a=e,this.b=n,this.c=a}static getNormal(e,n,a,s){s.subVectors(a,n),Yi.subVectors(e,n),s.cross(Yi);const i=s.lengthSq();return i>0?s.multiplyScalar(1/Math.sqrt(i)):s.set(0,0,0)}static getBarycoord(e,n,a,s,i){Yi.subVectors(s,n),bl.subVectors(a,n),JA.subVectors(e,n);const o=Yi.dot(Yi),l=Yi.dot(bl),c=Yi.dot(JA),d=bl.dot(bl),u=bl.dot(JA),h=o*d-l*l;if(h===0)return i.set(0,0,0),null;const f=1/h,v=(d*c-l*u)*f,x=(o*u-l*c)*f;return i.set(1-v-x,x,v)}static containsPoint(e,n,a,s){return this.getBarycoord(e,n,a,s,wl)===null?!1:wl.x>=0&&wl.y>=0&&wl.x+wl.y<=1}static getUV(e,n,a,s,i,o,l,c){return Qy===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Qy=!0),this.getInterpolation(e,n,a,s,i,o,l,c)}static getInterpolation(e,n,a,s,i,o,l,c){return this.getBarycoord(e,n,a,s,wl)===null?(c.x=0,c.y=0,"z"in c&&(c.z=0),"w"in c&&(c.w=0),null):(c.setScalar(0),c.addScaledVector(i,wl.x),c.addScaledVector(o,wl.y),c.addScaledVector(l,wl.z),c)}static isFrontFacing(e,n,a,s){return Yi.subVectors(a,n),bl.subVectors(e,n),Yi.cross(bl).dot(s)<0}set(e,n,a){return this.a.copy(e),this.b.copy(n),this.c.copy(a),this}setFromPointsAndIndices(e,n,a,s){return this.a.copy(e[n]),this.b.copy(e[a]),this.c.copy(e[s]),this}setFromAttributeAndIndices(e,n,a,s){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,a),this.c.fromBufferAttribute(e,s),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Yi.subVectors(this.c,this.b),bl.subVectors(this.a,this.b),Yi.cross(bl).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return so.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return so.getBarycoord(e,this.a,this.b,this.c,n)}getUV(e,n,a,s,i){return Qy===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Qy=!0),so.getInterpolation(e,this.a,this.b,this.c,n,a,s,i)}getInterpolation(e,n,a,s,i){return so.getInterpolation(e,this.a,this.b,this.c,n,a,s,i)}containsPoint(e){return so.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return so.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const a=this.a,s=this.b,i=this.c;let o,l;um.subVectors(s,a),hm.subVectors(i,a),eM.subVectors(e,a);const c=um.dot(eM),d=hm.dot(eM);if(c<=0&&d<=0)return n.copy(a);tM.subVectors(e,s);const u=um.dot(tM),h=hm.dot(tM);if(u>=0&&h<=u)return n.copy(s);const f=c*h-u*d;if(f<=0&&c>=0&&u<=0)return o=c/(c-u),n.copy(a).addScaledVector(um,o);nM.subVectors(e,i);const v=um.dot(nM),x=hm.dot(nM);if(x>=0&&v<=x)return n.copy(i);const g=v*d-c*x;if(g<=0&&d>=0&&x<=0)return l=d/(d-x),n.copy(a).addScaledVector(hm,l);const y=u*x-v*h;if(y<=0&&h-u>=0&&v-x>=0)return FV.subVectors(i,s),l=(h-u)/(h-u+(v-x)),n.copy(s).addScaledVector(FV,l);const b=1/(y+g+f);return o=g*b,l=f*b,n.copy(a).addScaledVector(um,o).addScaledVector(hm,l)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const lae={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},kc={h:0,s:0,l:0},Zy={h:0,s:0,l:0};function rM(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class Fn{constructor(e,n,a){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,a)}set(e,n,a){if(n===void 0&&a===void 0){const s=e;s&&s.isColor?this.copy(s):typeof s=="number"?this.setHex(s):typeof s=="string"&&this.setStyle(s)}else this.setRGB(e,n,a);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=Ra){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,rr.toWorkingColorSpace(this,n),this}setRGB(e,n,a,s=rr.workingColorSpace){return this.r=e,this.g=n,this.b=a,rr.toWorkingColorSpace(this,s),this}setHSL(e,n,a,s=rr.workingColorSpace){if(e=cVe(e,1),n=Cs(n,0,1),a=Cs(a,0,1),n===0)this.r=this.g=this.b=a;else{const i=a<=.5?a*(1+n):a+n-a*n,o=2*a-i;this.r=rM(o,i,e+1/3),this.g=rM(o,i,e),this.b=rM(o,i,e-1/3)}return rr.toWorkingColorSpace(this,s),this}setStyle(e,n=Ra){function a(i){i!==void 0&&parseFloat(i)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let s;if(s=/^(\w+)\(([^\)]*)\)/.exec(e)){let i;const o=s[1],l=s[2];switch(o){case"rgb":case"rgba":if(i=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return a(i[4]),this.setRGB(Math.min(255,parseInt(i[1],10))/255,Math.min(255,parseInt(i[2],10))/255,Math.min(255,parseInt(i[3],10))/255,n);if(i=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return a(i[4]),this.setRGB(Math.min(100,parseInt(i[1],10))/100,Math.min(100,parseInt(i[2],10))/100,Math.min(100,parseInt(i[3],10))/100,n);break;case"hsl":case"hsla":if(i=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return a(i[4]),this.setHSL(parseFloat(i[1])/360,parseFloat(i[2])/100,parseFloat(i[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(s=/^\#([A-Fa-f\d]+)$/.exec(e)){const i=s[1],o=i.length;if(o===3)return this.setRGB(parseInt(i.charAt(0),16)/15,parseInt(i.charAt(1),16)/15,parseInt(i.charAt(2),16)/15,n);if(o===6)return this.setHex(parseInt(i,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=Ra){const a=lae[e.toLowerCase()];return a!==void 0?this.setHex(a,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Zm(e.r),this.g=Zm(e.g),this.b=Zm(e.b),this}copyLinearToSRGB(e){return this.r=HA(e.r),this.g=HA(e.g),this.b=HA(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Ra){return rr.fromWorkingColorSpace(Ha.copy(this),e),Math.round(Cs(Ha.r*255,0,255))*65536+Math.round(Cs(Ha.g*255,0,255))*256+Math.round(Cs(Ha.b*255,0,255))}getHexString(e=Ra){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=rr.workingColorSpace){rr.fromWorkingColorSpace(Ha.copy(this),n);const a=Ha.r,s=Ha.g,i=Ha.b,o=Math.max(a,s,i),l=Math.min(a,s,i);let c,d;const u=(l+o)/2;if(l===o)c=0,d=0;else{const h=o-l;switch(d=u<=.5?h/(o+l):h/(2-o-l),o){case a:c=(s-i)/h+(s<i?6:0);break;case s:c=(i-a)/h+2;break;case i:c=(a-s)/h+4;break}c/=6}return e.h=c,e.s=d,e.l=u,e}getRGB(e,n=rr.workingColorSpace){return rr.fromWorkingColorSpace(Ha.copy(this),n),e.r=Ha.r,e.g=Ha.g,e.b=Ha.b,e}getStyle(e=Ra){rr.fromWorkingColorSpace(Ha.copy(this),e);const n=Ha.r,a=Ha.g,s=Ha.b;return e!==Ra?`color(${e} ${n.toFixed(3)} ${a.toFixed(3)} ${s.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(a*255)},${Math.round(s*255)})`}offsetHSL(e,n,a){return this.getHSL(kc),this.setHSL(kc.h+e,kc.s+n,kc.l+a)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,a){return this.r=e.r+(n.r-e.r)*a,this.g=e.g+(n.g-e.g)*a,this.b=e.b+(n.b-e.b)*a,this}lerpHSL(e,n){this.getHSL(kc),e.getHSL(Zy);const a=qA(kc.h,Zy.h,n),s=qA(kc.s,Zy.s,n),i=qA(kc.l,Zy.l,n);return this.setHSL(a,s,i),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,a=this.g,s=this.b,i=e.elements;return this.r=i[0]*n+i[3]*a+i[6]*s,this.g=i[1]*n+i[4]*a+i[7]*s,this.b=i[2]*n+i[5]*a+i[8]*s,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Ha=new Fn;Fn.NAMES=lae;let SVe=0;class Xg extends kp{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:SVe++}),this.uuid=Gg(),this.name="",this.type="Material",this.blending=Qm,this.side=xd,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=m3,this.blendDst=f3,this.blendEquation=uu,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Fn(0,0,0),this.blendAlpha=0,this.depthFunc=d1,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=NV,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=am,this.stencilZFail=am,this.stencilZPass=am,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const a=e[n];if(a===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const s=this[n];if(s===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}s&&s.isColor?s.set(a):s&&s.isVector3&&a&&a.isVector3?s.copy(a):this[n]=a}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const a={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};a.uuid=this.uuid,a.type=this.type,this.name!==""&&(a.name=this.name),this.color&&this.color.isColor&&(a.color=this.color.getHex()),this.roughness!==void 0&&(a.roughness=this.roughness),this.metalness!==void 0&&(a.metalness=this.metalness),this.sheen!==void 0&&(a.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(a.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(a.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(a.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(a.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(a.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(a.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(a.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(a.shininess=this.shininess),this.clearcoat!==void 0&&(a.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(a.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(a.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(a.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(a.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,a.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(a.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(a.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(a.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(a.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(a.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(a.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(a.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(a.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(a.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(a.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(a.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(a.lightMap=this.lightMap.toJSON(e).uuid,a.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(a.aoMap=this.aoMap.toJSON(e).uuid,a.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(a.bumpMap=this.bumpMap.toJSON(e).uuid,a.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(a.normalMap=this.normalMap.toJSON(e).uuid,a.normalMapType=this.normalMapType,a.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(a.displacementMap=this.displacementMap.toJSON(e).uuid,a.displacementScale=this.displacementScale,a.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(a.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(a.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(a.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(a.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(a.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(a.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(a.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(a.combine=this.combine)),this.envMapIntensity!==void 0&&(a.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(a.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(a.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(a.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(a.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(a.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(a.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(a.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(a.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(a.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(a.size=this.size),this.shadowSide!==null&&(a.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(a.sizeAttenuation=this.sizeAttenuation),this.blending!==Qm&&(a.blending=this.blending),this.side!==xd&&(a.side=this.side),this.vertexColors===!0&&(a.vertexColors=!0),this.opacity<1&&(a.opacity=this.opacity),this.transparent===!0&&(a.transparent=!0),this.blendSrc!==m3&&(a.blendSrc=this.blendSrc),this.blendDst!==f3&&(a.blendDst=this.blendDst),this.blendEquation!==uu&&(a.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(a.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(a.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(a.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(a.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(a.blendAlpha=this.blendAlpha),this.depthFunc!==d1&&(a.depthFunc=this.depthFunc),this.depthTest===!1&&(a.depthTest=this.depthTest),this.depthWrite===!1&&(a.depthWrite=this.depthWrite),this.colorWrite===!1&&(a.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(a.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==NV&&(a.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(a.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(a.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==am&&(a.stencilFail=this.stencilFail),this.stencilZFail!==am&&(a.stencilZFail=this.stencilZFail),this.stencilZPass!==am&&(a.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(a.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(a.rotation=this.rotation),this.polygonOffset===!0&&(a.polygonOffset=!0),this.polygonOffsetFactor!==0&&(a.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(a.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(a.linewidth=this.linewidth),this.dashSize!==void 0&&(a.dashSize=this.dashSize),this.gapSize!==void 0&&(a.gapSize=this.gapSize),this.scale!==void 0&&(a.scale=this.scale),this.dithering===!0&&(a.dithering=!0),this.alphaTest>0&&(a.alphaTest=this.alphaTest),this.alphaHash===!0&&(a.alphaHash=!0),this.alphaToCoverage===!0&&(a.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(a.premultipliedAlpha=!0),this.forceSinglePass===!0&&(a.forceSinglePass=!0),this.wireframe===!0&&(a.wireframe=!0),this.wireframeLinewidth>1&&(a.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(a.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(a.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(a.flatShading=!0),this.visible===!1&&(a.visible=!1),this.toneMapped===!1&&(a.toneMapped=!1),this.fog===!1&&(a.fog=!1),Object.keys(this.userData).length>0&&(a.userData=this.userData);function s(i){const o=[];for(const l in i){const c=i[l];delete c.metadata,o.push(c)}return o}if(n){const i=s(e.textures),o=s(e.images);i.length>0&&(a.textures=i),o.length>0&&(a.images=o)}return a}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let a=null;if(n!==null){const s=n.length;a=new Array(s);for(let i=0;i!==s;++i)a[i]=n[i].clone()}return this.clippingPlanes=a,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class cae extends Xg{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Fn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Hre,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Kr=new Re,Jy=new Un;class Ho{constructor(e,n,a=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=a,this.usage=SV,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=ed,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return console.warn("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,a){e*=this.itemSize,a*=n.itemSize;for(let s=0,i=this.itemSize;s<i;s++)this.array[e+s]=n.array[a+s];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,a=this.count;n<a;n++)Jy.fromBufferAttribute(this,n),Jy.applyMatrix3(e),this.setXY(n,Jy.x,Jy.y);else if(this.itemSize===3)for(let n=0,a=this.count;n<a;n++)Kr.fromBufferAttribute(this,n),Kr.applyMatrix3(e),this.setXYZ(n,Kr.x,Kr.y,Kr.z);return this}applyMatrix4(e){for(let n=0,a=this.count;n<a;n++)Kr.fromBufferAttribute(this,n),Kr.applyMatrix4(e),this.setXYZ(n,Kr.x,Kr.y,Kr.z);return this}applyNormalMatrix(e){for(let n=0,a=this.count;n<a;n++)Kr.fromBufferAttribute(this,n),Kr.applyNormalMatrix(e),this.setXYZ(n,Kr.x,Kr.y,Kr.z);return this}transformDirection(e){for(let n=0,a=this.count;n<a;n++)Kr.fromBufferAttribute(this,n),Kr.transformDirection(e),this.setXYZ(n,Kr.x,Kr.y,Kr.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let a=this.array[e*this.itemSize+n];return this.normalized&&(a=P0(a,this.array)),a}setComponent(e,n,a){return this.normalized&&(a=_s(a,this.array)),this.array[e*this.itemSize+n]=a,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=P0(n,this.array)),n}setX(e,n){return this.normalized&&(n=_s(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=P0(n,this.array)),n}setY(e,n){return this.normalized&&(n=_s(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=P0(n,this.array)),n}setZ(e,n){return this.normalized&&(n=_s(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=P0(n,this.array)),n}setW(e,n){return this.normalized&&(n=_s(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,a){return e*=this.itemSize,this.normalized&&(n=_s(n,this.array),a=_s(a,this.array)),this.array[e+0]=n,this.array[e+1]=a,this}setXYZ(e,n,a,s){return e*=this.itemSize,this.normalized&&(n=_s(n,this.array),a=_s(a,this.array),s=_s(s,this.array)),this.array[e+0]=n,this.array[e+1]=a,this.array[e+2]=s,this}setXYZW(e,n,a,s,i){return e*=this.itemSize,this.normalized&&(n=_s(n,this.array),a=_s(a,this.array),s=_s(s,this.array),i=_s(i,this.array)),this.array[e+0]=n,this.array[e+1]=a,this.array[e+2]=s,this.array[e+3]=i,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==SV&&(e.usage=this.usage),e}}class dae extends Ho{constructor(e,n,a){super(new Uint16Array(e),n,a)}}class uae extends Ho{constructor(e,n,a){super(new Uint32Array(e),n,a)}}class qu extends Ho{constructor(e,n,a){super(new Float32Array(e),n,a)}}let CVe=0;const wi=new da,aM=new Za,mm=new Re,Xs=new Kg,O0=new Kg,ya=new Re;class vh extends kp{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:CVe++}),this.uuid=Gg(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(rae(e)?uae:dae)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,a=0){this.groups.push({start:e,count:n,materialIndex:a})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const a=this.attributes.normal;if(a!==void 0){const i=new wn().getNormalMatrix(e);a.applyNormalMatrix(i),a.needsUpdate=!0}const s=this.attributes.tangent;return s!==void 0&&(s.transformDirection(e),s.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return wi.makeRotationFromQuaternion(e),this.applyMatrix4(wi),this}rotateX(e){return wi.makeRotationX(e),this.applyMatrix4(wi),this}rotateY(e){return wi.makeRotationY(e),this.applyMatrix4(wi),this}rotateZ(e){return wi.makeRotationZ(e),this.applyMatrix4(wi),this}translate(e,n,a){return wi.makeTranslation(e,n,a),this.applyMatrix4(wi),this}scale(e,n,a){return wi.makeScale(e,n,a),this.applyMatrix4(wi),this}lookAt(e){return aM.lookAt(e),aM.updateMatrix(),this.applyMatrix4(aM.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(mm).negate(),this.translate(mm.x,mm.y,mm.z),this}setFromPoints(e){const n=[];for(let a=0,s=e.length;a<s;a++){const i=e[a];n.push(i.x,i.y,i.z||0)}return this.setAttribute("position",new qu(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Kg);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new Re(-1/0,-1/0,-1/0),new Re(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let a=0,s=n.length;a<s;a++){const i=n[a];Xs.setFromBufferAttribute(i),this.morphTargetsRelative?(ya.addVectors(this.boundingBox.min,Xs.min),this.boundingBox.expandByPoint(ya),ya.addVectors(this.boundingBox.max,Xs.max),this.boundingBox.expandByPoint(ya)):(this.boundingBox.expandByPoint(Xs.min),this.boundingBox.expandByPoint(Xs.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new kR);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new Re,1/0);return}if(e){const a=this.boundingSphere.center;if(Xs.setFromBufferAttribute(e),n)for(let i=0,o=n.length;i<o;i++){const l=n[i];O0.setFromBufferAttribute(l),this.morphTargetsRelative?(ya.addVectors(Xs.min,O0.min),Xs.expandByPoint(ya),ya.addVectors(Xs.max,O0.max),Xs.expandByPoint(ya)):(Xs.expandByPoint(O0.min),Xs.expandByPoint(O0.max))}Xs.getCenter(a);let s=0;for(let i=0,o=e.count;i<o;i++)ya.fromBufferAttribute(e,i),s=Math.max(s,a.distanceToSquared(ya));if(n)for(let i=0,o=n.length;i<o;i++){const l=n[i],c=this.morphTargetsRelative;for(let d=0,u=l.count;d<u;d++)ya.fromBufferAttribute(l,d),c&&(mm.fromBufferAttribute(e,d),ya.add(mm)),s=Math.max(s,a.distanceToSquared(ya))}this.boundingSphere.radius=Math.sqrt(s),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const a=e.array,s=n.position.array,i=n.normal.array,o=n.uv.array,l=s.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Ho(new Float32Array(4*l),4));const c=this.getAttribute("tangent").array,d=[],u=[];for(let k=0;k<l;k++)d[k]=new Re,u[k]=new Re;const h=new Re,f=new Re,v=new Re,x=new Un,g=new Un,y=new Un,b=new Re,_=new Re;function j(k,O,$){h.fromArray(s,k*3),f.fromArray(s,O*3),v.fromArray(s,$*3),x.fromArray(o,k*2),g.fromArray(o,O*2),y.fromArray(o,$*2),f.sub(h),v.sub(h),g.sub(x),y.sub(x);const F=1/(g.x*y.y-y.x*g.y);isFinite(F)&&(b.copy(f).multiplyScalar(y.y).addScaledVector(v,-g.y).multiplyScalar(F),_.copy(v).multiplyScalar(g.x).addScaledVector(f,-y.x).multiplyScalar(F),d[k].add(b),d[O].add(b),d[$].add(b),u[k].add(_),u[O].add(_),u[$].add(_))}let S=this.groups;S.length===0&&(S=[{start:0,count:a.length}]);for(let k=0,O=S.length;k<O;++k){const $=S[k],F=$.start,B=$.count;for(let G=F,I=F+B;G<I;G+=3)j(a[G+0],a[G+1],a[G+2])}const C=new Re,E=new Re,P=new Re,T=new Re;function M(k){P.fromArray(i,k*3),T.copy(P);const O=d[k];C.copy(O),C.sub(P.multiplyScalar(P.dot(O))).normalize(),E.crossVectors(T,O);const F=E.dot(u[k])<0?-1:1;c[k*4]=C.x,c[k*4+1]=C.y,c[k*4+2]=C.z,c[k*4+3]=F}for(let k=0,O=S.length;k<O;++k){const $=S[k],F=$.start,B=$.count;for(let G=F,I=F+B;G<I;G+=3)M(a[G+0]),M(a[G+1]),M(a[G+2])}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let a=this.getAttribute("normal");if(a===void 0)a=new Ho(new Float32Array(n.count*3),3),this.setAttribute("normal",a);else for(let f=0,v=a.count;f<v;f++)a.setXYZ(f,0,0,0);const s=new Re,i=new Re,o=new Re,l=new Re,c=new Re,d=new Re,u=new Re,h=new Re;if(e)for(let f=0,v=e.count;f<v;f+=3){const x=e.getX(f+0),g=e.getX(f+1),y=e.getX(f+2);s.fromBufferAttribute(n,x),i.fromBufferAttribute(n,g),o.fromBufferAttribute(n,y),u.subVectors(o,i),h.subVectors(s,i),u.cross(h),l.fromBufferAttribute(a,x),c.fromBufferAttribute(a,g),d.fromBufferAttribute(a,y),l.add(u),c.add(u),d.add(u),a.setXYZ(x,l.x,l.y,l.z),a.setXYZ(g,c.x,c.y,c.z),a.setXYZ(y,d.x,d.y,d.z)}else for(let f=0,v=n.count;f<v;f+=3)s.fromBufferAttribute(n,f+0),i.fromBufferAttribute(n,f+1),o.fromBufferAttribute(n,f+2),u.subVectors(o,i),h.subVectors(s,i),u.cross(h),a.setXYZ(f+0,u.x,u.y,u.z),a.setXYZ(f+1,u.x,u.y,u.z),a.setXYZ(f+2,u.x,u.y,u.z);this.normalizeNormals(),a.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,a=e.count;n<a;n++)ya.fromBufferAttribute(e,n),ya.normalize(),e.setXYZ(n,ya.x,ya.y,ya.z)}toNonIndexed(){function e(l,c){const d=l.array,u=l.itemSize,h=l.normalized,f=new d.constructor(c.length*u);let v=0,x=0;for(let g=0,y=c.length;g<y;g++){l.isInterleavedBufferAttribute?v=c[g]*l.data.stride+l.offset:v=c[g]*u;for(let b=0;b<u;b++)f[x++]=d[v++]}return new Ho(f,u,h)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new vh,a=this.index.array,s=this.attributes;for(const l in s){const c=s[l],d=e(c,a);n.setAttribute(l,d)}const i=this.morphAttributes;for(const l in i){const c=[],d=i[l];for(let u=0,h=d.length;u<h;u++){const f=d[u],v=e(f,a);c.push(v)}n.morphAttributes[l]=c}n.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let l=0,c=o.length;l<c;l++){const d=o[l];n.addGroup(d.start,d.count,d.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const c=this.parameters;for(const d in c)c[d]!==void 0&&(e[d]=c[d]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const a=this.attributes;for(const c in a){const d=a[c];e.data.attributes[c]=d.toJSON(e.data)}const s={};let i=!1;for(const c in this.morphAttributes){const d=this.morphAttributes[c],u=[];for(let h=0,f=d.length;h<f;h++){const v=d[h];u.push(v.toJSON(e.data))}u.length>0&&(s[c]=u,i=!0)}i&&(e.data.morphAttributes=s,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const l=this.boundingSphere;return l!==null&&(e.data.boundingSphere={center:l.center.toArray(),radius:l.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const a=e.index;a!==null&&this.setIndex(a.clone(n));const s=e.attributes;for(const d in s){const u=s[d];this.setAttribute(d,u.clone(n))}const i=e.morphAttributes;for(const d in i){const u=[],h=i[d];for(let f=0,v=h.length;f<v;f++)u.push(h[f].clone(n));this.morphAttributes[d]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let d=0,u=o.length;d<u;d++){const h=o[d];this.addGroup(h.start,h.count,h.materialIndex)}const l=e.boundingBox;l!==null&&(this.boundingBox=l.clone());const c=e.boundingSphere;return c!==null&&(this.boundingSphere=c.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const $V=new da,Zd=new gVe,eb=new kR,UV=new Re,fm=new Re,pm=new Re,xm=new Re,sM=new Re,tb=new Re,nb=new Un,rb=new Un,ab=new Un,BV=new Re,zV=new Re,qV=new Re,sb=new Re,ib=new Re;class Il extends Za{constructor(e=new vh,n=new cae){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,a=Object.keys(n);if(a.length>0){const s=n[a[0]];if(s!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let i=0,o=s.length;i<o;i++){const l=s[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=i}}}}getVertexPosition(e,n){const a=this.geometry,s=a.attributes.position,i=a.morphAttributes.position,o=a.morphTargetsRelative;n.fromBufferAttribute(s,e);const l=this.morphTargetInfluences;if(i&&l){tb.set(0,0,0);for(let c=0,d=i.length;c<d;c++){const u=l[c],h=i[c];u!==0&&(sM.fromBufferAttribute(h,e),o?tb.addScaledVector(sM,u):tb.addScaledVector(sM.sub(n),u))}n.add(tb)}return n}raycast(e,n){const a=this.geometry,s=this.material,i=this.matrixWorld;s!==void 0&&(a.boundingSphere===null&&a.computeBoundingSphere(),eb.copy(a.boundingSphere),eb.applyMatrix4(i),Zd.copy(e.ray).recast(e.near),!(eb.containsPoint(Zd.origin)===!1&&(Zd.intersectSphere(eb,UV)===null||Zd.origin.distanceToSquared(UV)>(e.far-e.near)**2))&&($V.copy(i).invert(),Zd.copy(e.ray).applyMatrix4($V),!(a.boundingBox!==null&&Zd.intersectsBox(a.boundingBox)===!1)&&this._computeIntersections(e,n,Zd)))}_computeIntersections(e,n,a){let s;const i=this.geometry,o=this.material,l=i.index,c=i.attributes.position,d=i.attributes.uv,u=i.attributes.uv1,h=i.attributes.normal,f=i.groups,v=i.drawRange;if(l!==null)if(Array.isArray(o))for(let x=0,g=f.length;x<g;x++){const y=f[x],b=o[y.materialIndex],_=Math.max(y.start,v.start),j=Math.min(l.count,Math.min(y.start+y.count,v.start+v.count));for(let S=_,C=j;S<C;S+=3){const E=l.getX(S),P=l.getX(S+1),T=l.getX(S+2);s=ob(this,b,e,a,d,u,h,E,P,T),s&&(s.faceIndex=Math.floor(S/3),s.face.materialIndex=y.materialIndex,n.push(s))}}else{const x=Math.max(0,v.start),g=Math.min(l.count,v.start+v.count);for(let y=x,b=g;y<b;y+=3){const _=l.getX(y),j=l.getX(y+1),S=l.getX(y+2);s=ob(this,o,e,a,d,u,h,_,j,S),s&&(s.faceIndex=Math.floor(y/3),n.push(s))}}else if(c!==void 0)if(Array.isArray(o))for(let x=0,g=f.length;x<g;x++){const y=f[x],b=o[y.materialIndex],_=Math.max(y.start,v.start),j=Math.min(c.count,Math.min(y.start+y.count,v.start+v.count));for(let S=_,C=j;S<C;S+=3){const E=S,P=S+1,T=S+2;s=ob(this,b,e,a,d,u,h,E,P,T),s&&(s.faceIndex=Math.floor(S/3),s.face.materialIndex=y.materialIndex,n.push(s))}}else{const x=Math.max(0,v.start),g=Math.min(c.count,v.start+v.count);for(let y=x,b=g;y<b;y+=3){const _=y,j=y+1,S=y+2;s=ob(this,o,e,a,d,u,h,_,j,S),s&&(s.faceIndex=Math.floor(y/3),n.push(s))}}}}function EVe(t,e,n,a,s,i,o,l){let c;if(e.side===Ls?c=a.intersectTriangle(o,i,s,!0,l):c=a.intersectTriangle(s,i,o,e.side===xd,l),c===null)return null;ib.copy(l),ib.applyMatrix4(t.matrixWorld);const d=n.ray.origin.distanceTo(ib);return d<n.near||d>n.far?null:{distance:d,point:ib.clone(),object:t}}function ob(t,e,n,a,s,i,o,l,c,d){t.getVertexPosition(l,fm),t.getVertexPosition(c,pm),t.getVertexPosition(d,xm);const u=EVe(t,e,n,a,fm,pm,xm,sb);if(u){s&&(nb.fromBufferAttribute(s,l),rb.fromBufferAttribute(s,c),ab.fromBufferAttribute(s,d),u.uv=so.getInterpolation(sb,fm,pm,xm,nb,rb,ab,new Un)),i&&(nb.fromBufferAttribute(i,l),rb.fromBufferAttribute(i,c),ab.fromBufferAttribute(i,d),u.uv1=so.getInterpolation(sb,fm,pm,xm,nb,rb,ab,new Un),u.uv2=u.uv1),o&&(BV.fromBufferAttribute(o,l),zV.fromBufferAttribute(o,c),qV.fromBufferAttribute(o,d),u.normal=so.getInterpolation(sb,fm,pm,xm,BV,zV,qV,new Re),u.normal.dot(a.direction)>0&&u.normal.multiplyScalar(-1));const h={a:l,b:c,c:d,normal:new Re,materialIndex:0};so.getNormal(fm,pm,xm,h.normal),u.face=h}return u}class Rp extends vh{constructor(e=1,n=1,a=1,s=1,i=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:a,widthSegments:s,heightSegments:i,depthSegments:o};const l=this;s=Math.floor(s),i=Math.floor(i),o=Math.floor(o);const c=[],d=[],u=[],h=[];let f=0,v=0;x("z","y","x",-1,-1,a,n,e,o,i,0),x("z","y","x",1,-1,a,n,-e,o,i,1),x("x","z","y",1,1,e,a,n,s,o,2),x("x","z","y",1,-1,e,a,-n,s,o,3),x("x","y","z",1,-1,e,n,a,s,i,4),x("x","y","z",-1,-1,e,n,-a,s,i,5),this.setIndex(c),this.setAttribute("position",new qu(d,3)),this.setAttribute("normal",new qu(u,3)),this.setAttribute("uv",new qu(h,2));function x(g,y,b,_,j,S,C,E,P,T,M){const k=S/P,O=C/T,$=S/2,F=C/2,B=E/2,G=P+1,I=T+1;let L=0,U=0;const z=new Re;for(let K=0;K<I;K++){const V=K*O-F;for(let Y=0;Y<G;Y++){const ee=Y*k-$;z[g]=ee*_,z[y]=V*j,z[b]=B,d.push(z.x,z.y,z.z),z[g]=0,z[y]=0,z[b]=E>0?1:-1,u.push(z.x,z.y,z.z),h.push(Y/P),h.push(1-K/T),L+=1}}for(let K=0;K<T;K++)for(let V=0;V<P;V++){const Y=f+V+G*K,ee=f+V+G*(K+1),se=f+(V+1)+G*(K+1),pe=f+(V+1)+G*K;c.push(Y,ee,pe),c.push(ee,se,pe),U+=6}l.addGroup(v,U,M),v+=U,f+=L}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Rp(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function np(t){const e={};for(const n in t){e[n]={};for(const a in t[n]){const s=t[n][a];s&&(s.isColor||s.isMatrix3||s.isMatrix4||s.isVector2||s.isVector3||s.isVector4||s.isTexture||s.isQuaternion)?s.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][a]=null):e[n][a]=s.clone():Array.isArray(s)?e[n][a]=s.slice():e[n][a]=s}}return e}function ns(t){const e={};for(let n=0;n<t.length;n++){const a=np(t[n]);for(const s in a)e[s]=a[s]}return e}function AVe(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function hae(t){return t.getRenderTarget()===null?t.outputColorSpace:rr.workingColorSpace}const MVe={clone:np,merge:ns};var PVe=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,TVe=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ch extends Xg{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=PVe,this.fragmentShader=TVe,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1,clipCullDistance:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=np(e.uniforms),this.uniformsGroups=AVe(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const s in this.uniforms){const o=this.uniforms[s].value;o&&o.isTexture?n.uniforms[s]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?n.uniforms[s]={type:"c",value:o.getHex()}:o&&o.isVector2?n.uniforms[s]={type:"v2",value:o.toArray()}:o&&o.isVector3?n.uniforms[s]={type:"v3",value:o.toArray()}:o&&o.isVector4?n.uniforms[s]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?n.uniforms[s]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?n.uniforms[s]={type:"m4",value:o.toArray()}:n.uniforms[s]={value:o}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const a={};for(const s in this.extensions)this.extensions[s]===!0&&(a[s]=!0);return Object.keys(a).length>0&&(n.extensions=a),n}}class mae extends Za{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new da,this.projectionMatrix=new da,this.projectionMatrixInverse=new da,this.coordinateSystem=Dl}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class Ai extends mae{constructor(e=50,n=1,a=.1,s=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=a,this.far=s,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=b3*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(zA*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return b3*2*Math.atan(Math.tan(zA*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,n,a,s,i,o){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=a,this.view.offsetY=s,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(zA*.5*this.fov)/this.zoom,a=2*n,s=this.aspect*a,i=-.5*s;const o=this.view;if(this.view!==null&&this.view.enabled){const c=o.fullWidth,d=o.fullHeight;i+=o.offsetX*s/c,n-=o.offsetY*a/d,s*=o.width/c,a*=o.height/d}const l=this.filmOffset;l!==0&&(i+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+s,n,n-a,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const gm=-90,vm=1;class kVe extends Za{constructor(e,n,a){super(),this.type="CubeCamera",this.renderTarget=a,this.coordinateSystem=null,this.activeMipmapLevel=0;const s=new Ai(gm,vm,e,n);s.layers=this.layers,this.add(s);const i=new Ai(gm,vm,e,n);i.layers=this.layers,this.add(i);const o=new Ai(gm,vm,e,n);o.layers=this.layers,this.add(o);const l=new Ai(gm,vm,e,n);l.layers=this.layers,this.add(l);const c=new Ai(gm,vm,e,n);c.layers=this.layers,this.add(c);const d=new Ai(gm,vm,e,n);d.layers=this.layers,this.add(d)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[a,s,i,o,l,c]=n;for(const d of n)this.remove(d);if(e===Dl)a.up.set(0,1,0),a.lookAt(1,0,0),s.up.set(0,1,0),s.lookAt(-1,0,0),i.up.set(0,0,-1),i.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),l.up.set(0,1,0),l.lookAt(0,0,1),c.up.set(0,1,0),c.lookAt(0,0,-1);else if(e===f1)a.up.set(0,-1,0),a.lookAt(-1,0,0),s.up.set(0,-1,0),s.lookAt(1,0,0),i.up.set(0,0,1),i.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),l.up.set(0,-1,0),l.lookAt(0,0,1),c.up.set(0,-1,0),c.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const d of n)this.add(d),d.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:a,activeMipmapLevel:s}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[i,o,l,c,d,u]=this.children,h=e.getRenderTarget(),f=e.getActiveCubeFace(),v=e.getActiveMipmapLevel(),x=e.xr.enabled;e.xr.enabled=!1;const g=a.texture.generateMipmaps;a.texture.generateMipmaps=!1,e.setRenderTarget(a,0,s),e.render(n,i),e.setRenderTarget(a,1,s),e.render(n,o),e.setRenderTarget(a,2,s),e.render(n,l),e.setRenderTarget(a,3,s),e.render(n,c),e.setRenderTarget(a,4,s),e.render(n,d),a.texture.generateMipmaps=g,e.setRenderTarget(a,5,s),e.render(n,u),e.setRenderTarget(h,f,v),e.xr.enabled=x,a.texture.needsPMREMUpdate=!0}}class fae extends Fs{constructor(e,n,a,s,i,o,l,c,d,u){e=e!==void 0?e:[],n=n!==void 0?n:Jf,super(e,n,a,s,i,o,l,c,d,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class RVe extends lh{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const a={width:e,height:e,depth:1},s=[a,a,a,a,a,a];n.encoding!==void 0&&(sx("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),n.colorSpace=n.encoding===zu?Ra:Ti),this.texture=new fae(s,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:Ei}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const a={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},s=new Rp(5,5,5),i=new ch({name:"CubemapFromEquirect",uniforms:np(a.uniforms),vertexShader:a.vertexShader,fragmentShader:a.fragmentShader,side:Ls,blending:sd});i.uniforms.tEquirect.value=n;const o=new Il(s,i),l=n.minFilter;return n.minFilter===hg&&(n.minFilter=Ei),new kVe(1,10,this).update(e,o),n.minFilter=l,o.geometry.dispose(),o.material.dispose(),this}clear(e,n,a,s){const i=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(n,a,s);e.setRenderTarget(i)}}const iM=new Re,OVe=new Re,DVe=new wn;class su{constructor(e=new Re(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,a,s){return this.normal.set(e,n,a),this.constant=s,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,a){const s=iM.subVectors(a,n).cross(OVe.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(s,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const a=e.delta(iM),s=this.normal.dot(a);if(s===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const i=-(e.start.dot(this.normal)+this.constant)/s;return i<0||i>1?null:n.copy(e.start).addScaledVector(a,i)}intersectsLine(e){const n=this.distanceToPoint(e.start),a=this.distanceToPoint(e.end);return n<0&&a>0||a<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const a=n||DVe.getNormalMatrix(e),s=this.coplanarPoint(iM).applyMatrix4(e),i=this.normal.applyMatrix3(a).normalize();return this.constant=-s.dot(i),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Jd=new kR,lb=new Re;class RR{constructor(e=new su,n=new su,a=new su,s=new su,i=new su,o=new su){this.planes=[e,n,a,s,i,o]}set(e,n,a,s,i,o){const l=this.planes;return l[0].copy(e),l[1].copy(n),l[2].copy(a),l[3].copy(s),l[4].copy(i),l[5].copy(o),this}copy(e){const n=this.planes;for(let a=0;a<6;a++)n[a].copy(e.planes[a]);return this}setFromProjectionMatrix(e,n=Dl){const a=this.planes,s=e.elements,i=s[0],o=s[1],l=s[2],c=s[3],d=s[4],u=s[5],h=s[6],f=s[7],v=s[8],x=s[9],g=s[10],y=s[11],b=s[12],_=s[13],j=s[14],S=s[15];if(a[0].setComponents(c-i,f-d,y-v,S-b).normalize(),a[1].setComponents(c+i,f+d,y+v,S+b).normalize(),a[2].setComponents(c+o,f+u,y+x,S+_).normalize(),a[3].setComponents(c-o,f-u,y-x,S-_).normalize(),a[4].setComponents(c-l,f-h,y-g,S-j).normalize(),n===Dl)a[5].setComponents(c+l,f+h,y+g,S+j).normalize();else if(n===f1)a[5].setComponents(l,h,g,j).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Jd.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),Jd.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Jd)}intersectsSprite(e){return Jd.center.set(0,0,0),Jd.radius=.7071067811865476,Jd.applyMatrix4(e.matrixWorld),this.intersectsSphere(Jd)}intersectsSphere(e){const n=this.planes,a=e.center,s=-e.radius;for(let i=0;i<6;i++)if(n[i].distanceToPoint(a)<s)return!1;return!0}intersectsBox(e){const n=this.planes;for(let a=0;a<6;a++){const s=n[a];if(lb.x=s.normal.x>0?e.max.x:e.min.x,lb.y=s.normal.y>0?e.max.y:e.min.y,lb.z=s.normal.z>0?e.max.z:e.min.z,s.distanceToPoint(lb)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let a=0;a<6;a++)if(n[a].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function pae(){let t=null,e=!1,n=null,a=null;function s(i,o){n(i,o),a=t.requestAnimationFrame(s)}return{start:function(){e!==!0&&n!==null&&(a=t.requestAnimationFrame(s),e=!0)},stop:function(){t.cancelAnimationFrame(a),e=!1},setAnimationLoop:function(i){n=i},setContext:function(i){t=i}}}function IVe(t,e){const n=e.isWebGL2,a=new WeakMap;function s(d,u){const h=d.array,f=d.usage,v=h.byteLength,x=t.createBuffer();t.bindBuffer(u,x),t.bufferData(u,h,f),d.onUploadCallback();let g;if(h instanceof Float32Array)g=t.FLOAT;else if(h instanceof Uint16Array)if(d.isFloat16BufferAttribute)if(n)g=t.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else g=t.UNSIGNED_SHORT;else if(h instanceof Int16Array)g=t.SHORT;else if(h instanceof Uint32Array)g=t.UNSIGNED_INT;else if(h instanceof Int32Array)g=t.INT;else if(h instanceof Int8Array)g=t.BYTE;else if(h instanceof Uint8Array)g=t.UNSIGNED_BYTE;else if(h instanceof Uint8ClampedArray)g=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+h);return{buffer:x,type:g,bytesPerElement:h.BYTES_PER_ELEMENT,version:d.version,size:v}}function i(d,u,h){const f=u.array,v=u._updateRange,x=u.updateRanges;if(t.bindBuffer(h,d),v.count===-1&&x.length===0&&t.bufferSubData(h,0,f),x.length!==0){for(let g=0,y=x.length;g<y;g++){const b=x[g];n?t.bufferSubData(h,b.start*f.BYTES_PER_ELEMENT,f,b.start,b.count):t.bufferSubData(h,b.start*f.BYTES_PER_ELEMENT,f.subarray(b.start,b.start+b.count))}u.clearUpdateRanges()}v.count!==-1&&(n?t.bufferSubData(h,v.offset*f.BYTES_PER_ELEMENT,f,v.offset,v.count):t.bufferSubData(h,v.offset*f.BYTES_PER_ELEMENT,f.subarray(v.offset,v.offset+v.count)),v.count=-1),u.onUploadCallback()}function o(d){return d.isInterleavedBufferAttribute&&(d=d.data),a.get(d)}function l(d){d.isInterleavedBufferAttribute&&(d=d.data);const u=a.get(d);u&&(t.deleteBuffer(u.buffer),a.delete(d))}function c(d,u){if(d.isGLBufferAttribute){const f=a.get(d);(!f||f.version<d.version)&&a.set(d,{buffer:d.buffer,type:d.type,bytesPerElement:d.elementSize,version:d.version});return}d.isInterleavedBufferAttribute&&(d=d.data);const h=a.get(d);if(h===void 0)a.set(d,s(d,u));else if(h.version<d.version){if(h.size!==d.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(h.buffer,d,u),h.version=d.version}}return{get:o,remove:l,update:c}}class OR extends vh{constructor(e=1,n=1,a=1,s=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:a,heightSegments:s};const i=e/2,o=n/2,l=Math.floor(a),c=Math.floor(s),d=l+1,u=c+1,h=e/l,f=n/c,v=[],x=[],g=[],y=[];for(let b=0;b<u;b++){const _=b*f-o;for(let j=0;j<d;j++){const S=j*h-i;x.push(S,-_,0),g.push(0,0,1),y.push(j/l),y.push(1-b/c)}}for(let b=0;b<c;b++)for(let _=0;_<l;_++){const j=_+d*b,S=_+d*(b+1),C=_+1+d*(b+1),E=_+1+d*b;v.push(j,S,E),v.push(S,C,E)}this.setIndex(v),this.setAttribute("position",new qu(x,3)),this.setAttribute("normal",new qu(g,3)),this.setAttribute("uv",new qu(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new OR(e.width,e.height,e.widthSegments,e.heightSegments)}}var LVe=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,FVe=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,$Ve=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,UVe=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,BVe=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,zVe=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,qVe=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,VVe=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,HVe=`#ifdef USE_BATCHING
	attribute float batchId;
	uniform highp sampler2D batchingTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,GVe=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( batchId );
#endif`,WVe=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,KVe=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,XVe=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,YVe=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,QVe=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,ZVe=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,JVe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,e7e=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,t7e=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,n7e=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,r7e=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,a7e=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,s7e=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,i7e=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,o7e=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,l7e=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,c7e=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,d7e=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,u7e=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,h7e=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,m7e="gl_FragColor = linearToOutputTexel( gl_FragColor );",f7e=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,p7e=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,x7e=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,g7e=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,v7e=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,y7e=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,b7e=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,w7e=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,_7e=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,j7e=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,N7e=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,S7e=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,C7e=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,E7e=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,A7e=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,M7e=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,P7e=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,T7e=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,k7e=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,R7e=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,O7e=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,D7e=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,I7e=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,L7e=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,F7e=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,$7e=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,U7e=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,B7e=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,z7e=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,q7e=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,V7e=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,H7e=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,G7e=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,W7e=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,K7e=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,X7e=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Y7e=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,Q7e=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,Z7e=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,J7e=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,eHe=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,tHe=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,nHe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,rHe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,aHe=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,sHe=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,iHe=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,oHe=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,lHe=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,cHe=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,dHe=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,uHe=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,hHe=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,mHe=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,fHe=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,pHe=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,xHe=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,gHe=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,vHe=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,yHe=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,bHe=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,wHe=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,_He=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,jHe=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,NHe=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,SHe=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,CHe=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,EHe=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,AHe=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,MHe=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color *= toneMappingExposure;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	return color;
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,PHe=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,THe=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,kHe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,RHe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,OHe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,DHe=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const IHe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,LHe=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,FHe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,$He=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,UHe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,BHe=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,zHe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,qHe=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,VHe=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,HHe=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,GHe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,WHe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,KHe=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,XHe=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,YHe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,QHe=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ZHe=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,JHe=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,eGe=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,tGe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,nGe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,rGe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,aGe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,sGe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,iGe=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,oGe=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,lGe=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,cGe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,dGe=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,uGe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,hGe=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,mGe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,fGe=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,pGe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,gn={alphahash_fragment:LVe,alphahash_pars_fragment:FVe,alphamap_fragment:$Ve,alphamap_pars_fragment:UVe,alphatest_fragment:BVe,alphatest_pars_fragment:zVe,aomap_fragment:qVe,aomap_pars_fragment:VVe,batching_pars_vertex:HVe,batching_vertex:GVe,begin_vertex:WVe,beginnormal_vertex:KVe,bsdfs:XVe,iridescence_fragment:YVe,bumpmap_pars_fragment:QVe,clipping_planes_fragment:ZVe,clipping_planes_pars_fragment:JVe,clipping_planes_pars_vertex:e7e,clipping_planes_vertex:t7e,color_fragment:n7e,color_pars_fragment:r7e,color_pars_vertex:a7e,color_vertex:s7e,common:i7e,cube_uv_reflection_fragment:o7e,defaultnormal_vertex:l7e,displacementmap_pars_vertex:c7e,displacementmap_vertex:d7e,emissivemap_fragment:u7e,emissivemap_pars_fragment:h7e,colorspace_fragment:m7e,colorspace_pars_fragment:f7e,envmap_fragment:p7e,envmap_common_pars_fragment:x7e,envmap_pars_fragment:g7e,envmap_pars_vertex:v7e,envmap_physical_pars_fragment:P7e,envmap_vertex:y7e,fog_vertex:b7e,fog_pars_vertex:w7e,fog_fragment:_7e,fog_pars_fragment:j7e,gradientmap_pars_fragment:N7e,lightmap_fragment:S7e,lightmap_pars_fragment:C7e,lights_lambert_fragment:E7e,lights_lambert_pars_fragment:A7e,lights_pars_begin:M7e,lights_toon_fragment:T7e,lights_toon_pars_fragment:k7e,lights_phong_fragment:R7e,lights_phong_pars_fragment:O7e,lights_physical_fragment:D7e,lights_physical_pars_fragment:I7e,lights_fragment_begin:L7e,lights_fragment_maps:F7e,lights_fragment_end:$7e,logdepthbuf_fragment:U7e,logdepthbuf_pars_fragment:B7e,logdepthbuf_pars_vertex:z7e,logdepthbuf_vertex:q7e,map_fragment:V7e,map_pars_fragment:H7e,map_particle_fragment:G7e,map_particle_pars_fragment:W7e,metalnessmap_fragment:K7e,metalnessmap_pars_fragment:X7e,morphcolor_vertex:Y7e,morphnormal_vertex:Q7e,morphtarget_pars_vertex:Z7e,morphtarget_vertex:J7e,normal_fragment_begin:eHe,normal_fragment_maps:tHe,normal_pars_fragment:nHe,normal_pars_vertex:rHe,normal_vertex:aHe,normalmap_pars_fragment:sHe,clearcoat_normal_fragment_begin:iHe,clearcoat_normal_fragment_maps:oHe,clearcoat_pars_fragment:lHe,iridescence_pars_fragment:cHe,opaque_fragment:dHe,packing:uHe,premultiplied_alpha_fragment:hHe,project_vertex:mHe,dithering_fragment:fHe,dithering_pars_fragment:pHe,roughnessmap_fragment:xHe,roughnessmap_pars_fragment:gHe,shadowmap_pars_fragment:vHe,shadowmap_pars_vertex:yHe,shadowmap_vertex:bHe,shadowmask_pars_fragment:wHe,skinbase_vertex:_He,skinning_pars_vertex:jHe,skinning_vertex:NHe,skinnormal_vertex:SHe,specularmap_fragment:CHe,specularmap_pars_fragment:EHe,tonemapping_fragment:AHe,tonemapping_pars_fragment:MHe,transmission_fragment:PHe,transmission_pars_fragment:THe,uv_pars_fragment:kHe,uv_pars_vertex:RHe,uv_vertex:OHe,worldpos_vertex:DHe,background_vert:IHe,background_frag:LHe,backgroundCube_vert:FHe,backgroundCube_frag:$He,cube_vert:UHe,cube_frag:BHe,depth_vert:zHe,depth_frag:qHe,distanceRGBA_vert:VHe,distanceRGBA_frag:HHe,equirect_vert:GHe,equirect_frag:WHe,linedashed_vert:KHe,linedashed_frag:XHe,meshbasic_vert:YHe,meshbasic_frag:QHe,meshlambert_vert:ZHe,meshlambert_frag:JHe,meshmatcap_vert:eGe,meshmatcap_frag:tGe,meshnormal_vert:nGe,meshnormal_frag:rGe,meshphong_vert:aGe,meshphong_frag:sGe,meshphysical_vert:iGe,meshphysical_frag:oGe,meshtoon_vert:lGe,meshtoon_frag:cGe,points_vert:dGe,points_frag:uGe,shadow_vert:hGe,shadow_frag:mGe,sprite_vert:fGe,sprite_frag:pGe},rt={common:{diffuse:{value:new Fn(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new wn},alphaMap:{value:null},alphaMapTransform:{value:new wn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new wn}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new wn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new wn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new wn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new wn},normalScale:{value:new Un(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new wn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new wn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new wn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new wn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Fn(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Fn(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new wn},alphaTest:{value:0},uvTransform:{value:new wn}},sprite:{diffuse:{value:new Fn(16777215)},opacity:{value:1},center:{value:new Un(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new wn},alphaMap:{value:null},alphaMapTransform:{value:new wn},alphaTest:{value:0}}},Ro={basic:{uniforms:ns([rt.common,rt.specularmap,rt.envmap,rt.aomap,rt.lightmap,rt.fog]),vertexShader:gn.meshbasic_vert,fragmentShader:gn.meshbasic_frag},lambert:{uniforms:ns([rt.common,rt.specularmap,rt.envmap,rt.aomap,rt.lightmap,rt.emissivemap,rt.bumpmap,rt.normalmap,rt.displacementmap,rt.fog,rt.lights,{emissive:{value:new Fn(0)}}]),vertexShader:gn.meshlambert_vert,fragmentShader:gn.meshlambert_frag},phong:{uniforms:ns([rt.common,rt.specularmap,rt.envmap,rt.aomap,rt.lightmap,rt.emissivemap,rt.bumpmap,rt.normalmap,rt.displacementmap,rt.fog,rt.lights,{emissive:{value:new Fn(0)},specular:{value:new Fn(1118481)},shininess:{value:30}}]),vertexShader:gn.meshphong_vert,fragmentShader:gn.meshphong_frag},standard:{uniforms:ns([rt.common,rt.envmap,rt.aomap,rt.lightmap,rt.emissivemap,rt.bumpmap,rt.normalmap,rt.displacementmap,rt.roughnessmap,rt.metalnessmap,rt.fog,rt.lights,{emissive:{value:new Fn(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:gn.meshphysical_vert,fragmentShader:gn.meshphysical_frag},toon:{uniforms:ns([rt.common,rt.aomap,rt.lightmap,rt.emissivemap,rt.bumpmap,rt.normalmap,rt.displacementmap,rt.gradientmap,rt.fog,rt.lights,{emissive:{value:new Fn(0)}}]),vertexShader:gn.meshtoon_vert,fragmentShader:gn.meshtoon_frag},matcap:{uniforms:ns([rt.common,rt.bumpmap,rt.normalmap,rt.displacementmap,rt.fog,{matcap:{value:null}}]),vertexShader:gn.meshmatcap_vert,fragmentShader:gn.meshmatcap_frag},points:{uniforms:ns([rt.points,rt.fog]),vertexShader:gn.points_vert,fragmentShader:gn.points_frag},dashed:{uniforms:ns([rt.common,rt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:gn.linedashed_vert,fragmentShader:gn.linedashed_frag},depth:{uniforms:ns([rt.common,rt.displacementmap]),vertexShader:gn.depth_vert,fragmentShader:gn.depth_frag},normal:{uniforms:ns([rt.common,rt.bumpmap,rt.normalmap,rt.displacementmap,{opacity:{value:1}}]),vertexShader:gn.meshnormal_vert,fragmentShader:gn.meshnormal_frag},sprite:{uniforms:ns([rt.sprite,rt.fog]),vertexShader:gn.sprite_vert,fragmentShader:gn.sprite_frag},background:{uniforms:{uvTransform:{value:new wn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:gn.background_vert,fragmentShader:gn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:gn.backgroundCube_vert,fragmentShader:gn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:gn.cube_vert,fragmentShader:gn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:gn.equirect_vert,fragmentShader:gn.equirect_frag},distanceRGBA:{uniforms:ns([rt.common,rt.displacementmap,{referencePosition:{value:new Re},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:gn.distanceRGBA_vert,fragmentShader:gn.distanceRGBA_frag},shadow:{uniforms:ns([rt.lights,rt.fog,{color:{value:new Fn(0)},opacity:{value:1}}]),vertexShader:gn.shadow_vert,fragmentShader:gn.shadow_frag}};Ro.physical={uniforms:ns([Ro.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new wn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new wn},clearcoatNormalScale:{value:new Un(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new wn},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new wn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new wn},sheen:{value:0},sheenColor:{value:new Fn(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new wn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new wn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new wn},transmissionSamplerSize:{value:new Un},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new wn},attenuationDistance:{value:0},attenuationColor:{value:new Fn(0)},specularColor:{value:new Fn(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new wn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new wn},anisotropyVector:{value:new Un},anisotropyMap:{value:null},anisotropyMapTransform:{value:new wn}}]),vertexShader:gn.meshphysical_vert,fragmentShader:gn.meshphysical_frag};const cb={r:0,b:0,g:0};function xGe(t,e,n,a,s,i,o){const l=new Fn(0);let c=i===!0?0:1,d,u,h=null,f=0,v=null;function x(y,b){let _=!1,j=b.isScene===!0?b.background:null;j&&j.isTexture&&(j=(b.backgroundBlurriness>0?n:e).get(j)),j===null?g(l,c):j&&j.isColor&&(g(j,1),_=!0);const S=t.xr.getEnvironmentBlendMode();S==="additive"?a.buffers.color.setClear(0,0,0,1,o):S==="alpha-blend"&&a.buffers.color.setClear(0,0,0,0,o),(t.autoClear||_)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),j&&(j.isCubeTexture||j.mapping===Y_)?(u===void 0&&(u=new Il(new Rp(1,1,1),new ch({name:"BackgroundCubeMaterial",uniforms:np(Ro.backgroundCube.uniforms),vertexShader:Ro.backgroundCube.vertexShader,fragmentShader:Ro.backgroundCube.fragmentShader,side:Ls,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(C,E,P){this.matrixWorld.copyPosition(P.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),s.update(u)),u.material.uniforms.envMap.value=j,u.material.uniforms.flipEnvMap.value=j.isCubeTexture&&j.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=b.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=b.backgroundIntensity,u.material.toneMapped=rr.getTransfer(j.colorSpace)!==fr,(h!==j||f!==j.version||v!==t.toneMapping)&&(u.material.needsUpdate=!0,h=j,f=j.version,v=t.toneMapping),u.layers.enableAll(),y.unshift(u,u.geometry,u.material,0,0,null)):j&&j.isTexture&&(d===void 0&&(d=new Il(new OR(2,2),new ch({name:"BackgroundMaterial",uniforms:np(Ro.background.uniforms),vertexShader:Ro.background.vertexShader,fragmentShader:Ro.background.fragmentShader,side:xd,depthTest:!1,depthWrite:!1,fog:!1})),d.geometry.deleteAttribute("normal"),Object.defineProperty(d.material,"map",{get:function(){return this.uniforms.t2D.value}}),s.update(d)),d.material.uniforms.t2D.value=j,d.material.uniforms.backgroundIntensity.value=b.backgroundIntensity,d.material.toneMapped=rr.getTransfer(j.colorSpace)!==fr,j.matrixAutoUpdate===!0&&j.updateMatrix(),d.material.uniforms.uvTransform.value.copy(j.matrix),(h!==j||f!==j.version||v!==t.toneMapping)&&(d.material.needsUpdate=!0,h=j,f=j.version,v=t.toneMapping),d.layers.enableAll(),y.unshift(d,d.geometry,d.material,0,0,null))}function g(y,b){y.getRGB(cb,hae(t)),a.buffers.color.setClear(cb.r,cb.g,cb.b,b,o)}return{getClearColor:function(){return l},setClearColor:function(y,b=1){l.set(y),c=b,g(l,c)},getClearAlpha:function(){return c},setClearAlpha:function(y){c=y,g(l,c)},render:x}}function gGe(t,e,n,a){const s=t.getParameter(t.MAX_VERTEX_ATTRIBS),i=a.isWebGL2?null:e.get("OES_vertex_array_object"),o=a.isWebGL2||i!==null,l={},c=y(null);let d=c,u=!1;function h(B,G,I,L,U){let z=!1;if(o){const K=g(L,I,G);d!==K&&(d=K,v(d.object)),z=b(B,L,I,U),z&&_(B,L,I,U)}else{const K=G.wireframe===!0;(d.geometry!==L.id||d.program!==I.id||d.wireframe!==K)&&(d.geometry=L.id,d.program=I.id,d.wireframe=K,z=!0)}U!==null&&n.update(U,t.ELEMENT_ARRAY_BUFFER),(z||u)&&(u=!1,T(B,G,I,L),U!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n.get(U).buffer))}function f(){return a.isWebGL2?t.createVertexArray():i.createVertexArrayOES()}function v(B){return a.isWebGL2?t.bindVertexArray(B):i.bindVertexArrayOES(B)}function x(B){return a.isWebGL2?t.deleteVertexArray(B):i.deleteVertexArrayOES(B)}function g(B,G,I){const L=I.wireframe===!0;let U=l[B.id];U===void 0&&(U={},l[B.id]=U);let z=U[G.id];z===void 0&&(z={},U[G.id]=z);let K=z[L];return K===void 0&&(K=y(f()),z[L]=K),K}function y(B){const G=[],I=[],L=[];for(let U=0;U<s;U++)G[U]=0,I[U]=0,L[U]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:G,enabledAttributes:I,attributeDivisors:L,object:B,attributes:{},index:null}}function b(B,G,I,L){const U=d.attributes,z=G.attributes;let K=0;const V=I.getAttributes();for(const Y in V)if(V[Y].location>=0){const se=U[Y];let pe=z[Y];if(pe===void 0&&(Y==="instanceMatrix"&&B.instanceMatrix&&(pe=B.instanceMatrix),Y==="instanceColor"&&B.instanceColor&&(pe=B.instanceColor)),se===void 0||se.attribute!==pe||pe&&se.data!==pe.data)return!0;K++}return d.attributesNum!==K||d.index!==L}function _(B,G,I,L){const U={},z=G.attributes;let K=0;const V=I.getAttributes();for(const Y in V)if(V[Y].location>=0){let se=z[Y];se===void 0&&(Y==="instanceMatrix"&&B.instanceMatrix&&(se=B.instanceMatrix),Y==="instanceColor"&&B.instanceColor&&(se=B.instanceColor));const pe={};pe.attribute=se,se&&se.data&&(pe.data=se.data),U[Y]=pe,K++}d.attributes=U,d.attributesNum=K,d.index=L}function j(){const B=d.newAttributes;for(let G=0,I=B.length;G<I;G++)B[G]=0}function S(B){C(B,0)}function C(B,G){const I=d.newAttributes,L=d.enabledAttributes,U=d.attributeDivisors;I[B]=1,L[B]===0&&(t.enableVertexAttribArray(B),L[B]=1),U[B]!==G&&((a.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[a.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](B,G),U[B]=G)}function E(){const B=d.newAttributes,G=d.enabledAttributes;for(let I=0,L=G.length;I<L;I++)G[I]!==B[I]&&(t.disableVertexAttribArray(I),G[I]=0)}function P(B,G,I,L,U,z,K){K===!0?t.vertexAttribIPointer(B,G,I,U,z):t.vertexAttribPointer(B,G,I,L,U,z)}function T(B,G,I,L){if(a.isWebGL2===!1&&(B.isInstancedMesh||L.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;j();const U=L.attributes,z=I.getAttributes(),K=G.defaultAttributeValues;for(const V in z){const Y=z[V];if(Y.location>=0){let ee=U[V];if(ee===void 0&&(V==="instanceMatrix"&&B.instanceMatrix&&(ee=B.instanceMatrix),V==="instanceColor"&&B.instanceColor&&(ee=B.instanceColor)),ee!==void 0){const se=ee.normalized,pe=ee.itemSize,Pe=n.get(ee);if(Pe===void 0)continue;const xe=Pe.buffer,Ie=Pe.type,fe=Pe.bytesPerElement,Ne=a.isWebGL2===!0&&(Ie===t.INT||Ie===t.UNSIGNED_INT||ee.gpuType===Wre);if(ee.isInterleavedBufferAttribute){const Le=ee.data,re=Le.stride,he=ee.offset;if(Le.isInstancedInterleavedBuffer){for(let Ee=0;Ee<Y.locationSize;Ee++)C(Y.location+Ee,Le.meshPerAttribute);B.isInstancedMesh!==!0&&L._maxInstanceCount===void 0&&(L._maxInstanceCount=Le.meshPerAttribute*Le.count)}else for(let Ee=0;Ee<Y.locationSize;Ee++)S(Y.location+Ee);t.bindBuffer(t.ARRAY_BUFFER,xe);for(let Ee=0;Ee<Y.locationSize;Ee++)P(Y.location+Ee,pe/Y.locationSize,Ie,se,re*fe,(he+pe/Y.locationSize*Ee)*fe,Ne)}else{if(ee.isInstancedBufferAttribute){for(let Le=0;Le<Y.locationSize;Le++)C(Y.location+Le,ee.meshPerAttribute);B.isInstancedMesh!==!0&&L._maxInstanceCount===void 0&&(L._maxInstanceCount=ee.meshPerAttribute*ee.count)}else for(let Le=0;Le<Y.locationSize;Le++)S(Y.location+Le);t.bindBuffer(t.ARRAY_BUFFER,xe);for(let Le=0;Le<Y.locationSize;Le++)P(Y.location+Le,pe/Y.locationSize,Ie,se,pe*fe,pe/Y.locationSize*Le*fe,Ne)}}else if(K!==void 0){const se=K[V];if(se!==void 0)switch(se.length){case 2:t.vertexAttrib2fv(Y.location,se);break;case 3:t.vertexAttrib3fv(Y.location,se);break;case 4:t.vertexAttrib4fv(Y.location,se);break;default:t.vertexAttrib1fv(Y.location,se)}}}}E()}function M(){$();for(const B in l){const G=l[B];for(const I in G){const L=G[I];for(const U in L)x(L[U].object),delete L[U];delete G[I]}delete l[B]}}function k(B){if(l[B.id]===void 0)return;const G=l[B.id];for(const I in G){const L=G[I];for(const U in L)x(L[U].object),delete L[U];delete G[I]}delete l[B.id]}function O(B){for(const G in l){const I=l[G];if(I[B.id]===void 0)continue;const L=I[B.id];for(const U in L)x(L[U].object),delete L[U];delete I[B.id]}}function $(){F(),u=!0,d!==c&&(d=c,v(d.object))}function F(){c.geometry=null,c.program=null,c.wireframe=!1}return{setup:h,reset:$,resetDefaultState:F,dispose:M,releaseStatesOfGeometry:k,releaseStatesOfProgram:O,initAttributes:j,enableAttribute:S,disableUnusedAttributes:E}}function vGe(t,e,n,a){const s=a.isWebGL2;let i;function o(u){i=u}function l(u,h){t.drawArrays(i,u,h),n.update(h,i,1)}function c(u,h,f){if(f===0)return;let v,x;if(s)v=t,x="drawArraysInstanced";else if(v=e.get("ANGLE_instanced_arrays"),x="drawArraysInstancedANGLE",v===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}v[x](i,u,h,f),n.update(h,i,f)}function d(u,h,f){if(f===0)return;const v=e.get("WEBGL_multi_draw");if(v===null)for(let x=0;x<f;x++)this.render(u[x],h[x]);else{v.multiDrawArraysWEBGL(i,u,0,h,0,f);let x=0;for(let g=0;g<f;g++)x+=h[g];n.update(x,i,1)}}this.setMode=o,this.render=l,this.renderInstances=c,this.renderMultiDraw=d}function yGe(t,e,n){let a;function s(){if(a!==void 0)return a;if(e.has("EXT_texture_filter_anisotropic")===!0){const P=e.get("EXT_texture_filter_anisotropic");a=t.getParameter(P.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else a=0;return a}function i(P){if(P==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";P="mediump"}return P==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&t.constructor.name==="WebGL2RenderingContext";let l=n.precision!==void 0?n.precision:"highp";const c=i(l);c!==l&&(console.warn("THREE.WebGLRenderer:",l,"not supported, using",c,"instead."),l=c);const d=o||e.has("WEBGL_draw_buffers"),u=n.logarithmicDepthBuffer===!0,h=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),f=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),v=t.getParameter(t.MAX_TEXTURE_SIZE),x=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),g=t.getParameter(t.MAX_VERTEX_ATTRIBS),y=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),b=t.getParameter(t.MAX_VARYING_VECTORS),_=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),j=f>0,S=o||e.has("OES_texture_float"),C=j&&S,E=o?t.getParameter(t.MAX_SAMPLES):0;return{isWebGL2:o,drawBuffers:d,getMaxAnisotropy:s,getMaxPrecision:i,precision:l,logarithmicDepthBuffer:u,maxTextures:h,maxVertexTextures:f,maxTextureSize:v,maxCubemapSize:x,maxAttributes:g,maxVertexUniforms:y,maxVaryings:b,maxFragmentUniforms:_,vertexTextures:j,floatFragmentTextures:S,floatVertexTextures:C,maxSamples:E}}function bGe(t){const e=this;let n=null,a=0,s=!1,i=!1;const o=new su,l=new wn,c={value:null,needsUpdate:!1};this.uniform=c,this.numPlanes=0,this.numIntersection=0,this.init=function(h,f){const v=h.length!==0||f||a!==0||s;return s=f,a=h.length,v},this.beginShadows=function(){i=!0,u(null)},this.endShadows=function(){i=!1},this.setGlobalState=function(h,f){n=u(h,f,0)},this.setState=function(h,f,v){const x=h.clippingPlanes,g=h.clipIntersection,y=h.clipShadows,b=t.get(h);if(!s||x===null||x.length===0||i&&!y)i?u(null):d();else{const _=i?0:a,j=_*4;let S=b.clippingState||null;c.value=S,S=u(x,f,j,v);for(let C=0;C!==j;++C)S[C]=n[C];b.clippingState=S,this.numIntersection=g?this.numPlanes:0,this.numPlanes+=_}};function d(){c.value!==n&&(c.value=n,c.needsUpdate=a>0),e.numPlanes=a,e.numIntersection=0}function u(h,f,v,x){const g=h!==null?h.length:0;let y=null;if(g!==0){if(y=c.value,x!==!0||y===null){const b=v+g*4,_=f.matrixWorldInverse;l.getNormalMatrix(_),(y===null||y.length<b)&&(y=new Float32Array(b));for(let j=0,S=v;j!==g;++j,S+=4)o.copy(h[j]).applyMatrix4(_,l),o.normal.toArray(y,S),y[S+3]=o.constant}c.value=y,c.needsUpdate=!0}return e.numPlanes=g,e.numIntersection=0,y}}function wGe(t){let e=new WeakMap;function n(o,l){return l===p3?o.mapping=Jf:l===x3&&(o.mapping=ep),o}function a(o){if(o&&o.isTexture){const l=o.mapping;if(l===p3||l===x3)if(e.has(o)){const c=e.get(o).texture;return n(c,o.mapping)}else{const c=o.image;if(c&&c.height>0){const d=new RVe(c.height/2);return d.fromEquirectangularTexture(t,o),e.set(o,d),o.addEventListener("dispose",s),n(d.texture,o.mapping)}else return null}}return o}function s(o){const l=o.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function i(){e=new WeakMap}return{get:a,dispose:i}}class xae extends mae{constructor(e=-1,n=1,a=1,s=-1,i=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=a,this.bottom=s,this.near=i,this.far=o,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,a,s,i,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=a,this.view.offsetY=s,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),a=(this.right+this.left)/2,s=(this.top+this.bottom)/2;let i=a-e,o=a+e,l=s+n,c=s-n;if(this.view!==null&&this.view.enabled){const d=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;i+=d*this.view.offsetX,o=i+d*this.view.width,l-=u*this.view.offsetY,c=l-u*this.view.height}this.projectionMatrix.makeOrthographic(i,o,l,c,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const Om=4,VV=[.125,.215,.35,.446,.526,.582],hu=20,oM=new xae,HV=new Fn;let lM=null,cM=0,dM=0;const iu=(1+Math.sqrt(5))/2,ym=1/iu,GV=[new Re(1,1,1),new Re(-1,1,1),new Re(1,1,-1),new Re(-1,1,-1),new Re(0,iu,ym),new Re(0,iu,-ym),new Re(ym,0,iu),new Re(-ym,0,iu),new Re(iu,ym,0),new Re(-iu,ym,0)];class WV{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,a=.1,s=100){lM=this._renderer.getRenderTarget(),cM=this._renderer.getActiveCubeFace(),dM=this._renderer.getActiveMipmapLevel(),this._setSize(256);const i=this._allocateTargets();return i.depthBuffer=!0,this._sceneToCubeUV(e,a,s,i),n>0&&this._blur(i,0,0,n),this._applyPMREM(i),this._cleanup(i),i}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=YV(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=XV(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(lM,cM,dM),e.scissorTest=!1,db(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===Jf||e.mapping===ep?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),lM=this._renderer.getRenderTarget(),cM=this._renderer.getActiveCubeFace(),dM=this._renderer.getActiveMipmapLevel();const a=n||this._allocateTargets();return this._textureToCubeUV(e,a),this._applyPMREM(a),this._cleanup(a),a}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,a={magFilter:Ei,minFilter:Ei,generateMipmaps:!1,type:mg,format:co,colorSpace:Jl,depthBuffer:!1},s=KV(e,n,a);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=KV(e,n,a);const{_lodMax:i}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=_Ge(i)),this._blurMaterial=jGe(i,e,n)}return s}_compileMaterial(e){const n=new Il(this._lodPlanes[0],e);this._renderer.compile(n,oM)}_sceneToCubeUV(e,n,a,s){const l=new Ai(90,1,n,a),c=[1,-1,1,1,1,1],d=[1,1,1,-1,-1,-1],u=this._renderer,h=u.autoClear,f=u.toneMapping;u.getClearColor(HV),u.toneMapping=id,u.autoClear=!1;const v=new cae({name:"PMREM.Background",side:Ls,depthWrite:!1,depthTest:!1}),x=new Il(new Rp,v);let g=!1;const y=e.background;y?y.isColor&&(v.color.copy(y),e.background=null,g=!0):(v.color.copy(HV),g=!0);for(let b=0;b<6;b++){const _=b%3;_===0?(l.up.set(0,c[b],0),l.lookAt(d[b],0,0)):_===1?(l.up.set(0,0,c[b]),l.lookAt(0,d[b],0)):(l.up.set(0,c[b],0),l.lookAt(0,0,d[b]));const j=this._cubeSize;db(s,_*j,b>2?j:0,j,j),u.setRenderTarget(s),g&&u.render(x,l),u.render(e,l)}x.geometry.dispose(),x.material.dispose(),u.toneMapping=f,u.autoClear=h,e.background=y}_textureToCubeUV(e,n){const a=this._renderer,s=e.mapping===Jf||e.mapping===ep;s?(this._cubemapMaterial===null&&(this._cubemapMaterial=YV()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=XV());const i=s?this._cubemapMaterial:this._equirectMaterial,o=new Il(this._lodPlanes[0],i),l=i.uniforms;l.envMap.value=e;const c=this._cubeSize;db(n,0,0,3*c,2*c),a.setRenderTarget(n),a.render(o,oM)}_applyPMREM(e){const n=this._renderer,a=n.autoClear;n.autoClear=!1;for(let s=1;s<this._lodPlanes.length;s++){const i=Math.sqrt(this._sigmas[s]*this._sigmas[s]-this._sigmas[s-1]*this._sigmas[s-1]),o=GV[(s-1)%GV.length];this._blur(e,s-1,s,i,o)}n.autoClear=a}_blur(e,n,a,s,i){const o=this._pingPongRenderTarget;this._halfBlur(e,o,n,a,s,"latitudinal",i),this._halfBlur(o,e,a,a,s,"longitudinal",i)}_halfBlur(e,n,a,s,i,o,l){const c=this._renderer,d=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,h=new Il(this._lodPlanes[s],d),f=d.uniforms,v=this._sizeLods[a]-1,x=isFinite(i)?Math.PI/(2*v):2*Math.PI/(2*hu-1),g=i/x,y=isFinite(i)?1+Math.floor(u*g):hu;y>hu&&console.warn(`sigmaRadians, ${i}, is too large and will clip, as it requested ${y} samples when the maximum is set to ${hu}`);const b=[];let _=0;for(let P=0;P<hu;++P){const T=P/g,M=Math.exp(-T*T/2);b.push(M),P===0?_+=M:P<y&&(_+=2*M)}for(let P=0;P<b.length;P++)b[P]=b[P]/_;f.envMap.value=e.texture,f.samples.value=y,f.weights.value=b,f.latitudinal.value=o==="latitudinal",l&&(f.poleAxis.value=l);const{_lodMax:j}=this;f.dTheta.value=x,f.mipInt.value=j-a;const S=this._sizeLods[s],C=3*S*(s>j-Om?s-j+Om:0),E=4*(this._cubeSize-S);db(n,C,E,3*S,2*S),c.setRenderTarget(n),c.render(h,oM)}}function _Ge(t){const e=[],n=[],a=[];let s=t;const i=t-Om+1+VV.length;for(let o=0;o<i;o++){const l=Math.pow(2,s);n.push(l);let c=1/l;o>t-Om?c=VV[o-t+Om-1]:o===0&&(c=0),a.push(c);const d=1/(l-2),u=-d,h=1+d,f=[u,u,h,u,h,h,u,u,h,h,u,h],v=6,x=6,g=3,y=2,b=1,_=new Float32Array(g*x*v),j=new Float32Array(y*x*v),S=new Float32Array(b*x*v);for(let E=0;E<v;E++){const P=E%3*2/3-1,T=E>2?0:-1,M=[P,T,0,P+2/3,T,0,P+2/3,T+1,0,P,T,0,P+2/3,T+1,0,P,T+1,0];_.set(M,g*x*E),j.set(f,y*x*E);const k=[E,E,E,E,E,E];S.set(k,b*x*E)}const C=new vh;C.setAttribute("position",new Ho(_,g)),C.setAttribute("uv",new Ho(j,y)),C.setAttribute("faceIndex",new Ho(S,b)),e.push(C),s>Om&&s--}return{lodPlanes:e,sizeLods:n,sigmas:a}}function KV(t,e,n){const a=new lh(t,e,n);return a.texture.mapping=Y_,a.texture.name="PMREM.cubeUv",a.scissorTest=!0,a}function db(t,e,n,a,s){t.viewport.set(e,n,a,s),t.scissor.set(e,n,a,s)}function jGe(t,e,n){const a=new Float32Array(hu),s=new Re(0,1,0);return new ch({name:"SphericalGaussianBlur",defines:{n:hu,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:a},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:s}},vertexShader:DR(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:sd,depthTest:!1,depthWrite:!1})}function XV(){return new ch({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:DR(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:sd,depthTest:!1,depthWrite:!1})}function YV(){return new ch({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:DR(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:sd,depthTest:!1,depthWrite:!1})}function DR(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function NGe(t){let e=new WeakMap,n=null;function a(l){if(l&&l.isTexture){const c=l.mapping,d=c===p3||c===x3,u=c===Jf||c===ep;if(d||u)if(l.isRenderTargetTexture&&l.needsPMREMUpdate===!0){l.needsPMREMUpdate=!1;let h=e.get(l);return n===null&&(n=new WV(t)),h=d?n.fromEquirectangular(l,h):n.fromCubemap(l,h),e.set(l,h),h.texture}else{if(e.has(l))return e.get(l).texture;{const h=l.image;if(d&&h&&h.height>0||u&&h&&s(h)){n===null&&(n=new WV(t));const f=d?n.fromEquirectangular(l):n.fromCubemap(l);return e.set(l,f),l.addEventListener("dispose",i),f.texture}else return null}}}return l}function s(l){let c=0;const d=6;for(let u=0;u<d;u++)l[u]!==void 0&&c++;return c===d}function i(l){const c=l.target;c.removeEventListener("dispose",i);const d=e.get(c);d!==void 0&&(e.delete(c),d.dispose())}function o(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:a,dispose:o}}function SGe(t){const e={};function n(a){if(e[a]!==void 0)return e[a];let s;switch(a){case"WEBGL_depth_texture":s=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":s=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":s=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":s=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:s=t.getExtension(a)}return e[a]=s,s}return{has:function(a){return n(a)!==null},init:function(a){a.isWebGL2?(n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance")):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(a){const s=n(a);return s===null&&console.warn("THREE.WebGLRenderer: "+a+" extension not supported."),s}}}function CGe(t,e,n,a){const s={},i=new WeakMap;function o(h){const f=h.target;f.index!==null&&e.remove(f.index);for(const x in f.attributes)e.remove(f.attributes[x]);for(const x in f.morphAttributes){const g=f.morphAttributes[x];for(let y=0,b=g.length;y<b;y++)e.remove(g[y])}f.removeEventListener("dispose",o),delete s[f.id];const v=i.get(f);v&&(e.remove(v),i.delete(f)),a.releaseStatesOfGeometry(f),f.isInstancedBufferGeometry===!0&&delete f._maxInstanceCount,n.memory.geometries--}function l(h,f){return s[f.id]===!0||(f.addEventListener("dispose",o),s[f.id]=!0,n.memory.geometries++),f}function c(h){const f=h.attributes;for(const x in f)e.update(f[x],t.ARRAY_BUFFER);const v=h.morphAttributes;for(const x in v){const g=v[x];for(let y=0,b=g.length;y<b;y++)e.update(g[y],t.ARRAY_BUFFER)}}function d(h){const f=[],v=h.index,x=h.attributes.position;let g=0;if(v!==null){const _=v.array;g=v.version;for(let j=0,S=_.length;j<S;j+=3){const C=_[j+0],E=_[j+1],P=_[j+2];f.push(C,E,E,P,P,C)}}else if(x!==void 0){const _=x.array;g=x.version;for(let j=0,S=_.length/3-1;j<S;j+=3){const C=j+0,E=j+1,P=j+2;f.push(C,E,E,P,P,C)}}else return;const y=new(rae(f)?uae:dae)(f,1);y.version=g;const b=i.get(h);b&&e.remove(b),i.set(h,y)}function u(h){const f=i.get(h);if(f){const v=h.index;v!==null&&f.version<v.version&&d(h)}else d(h);return i.get(h)}return{get:l,update:c,getWireframeAttribute:u}}function EGe(t,e,n,a){const s=a.isWebGL2;let i;function o(v){i=v}let l,c;function d(v){l=v.type,c=v.bytesPerElement}function u(v,x){t.drawElements(i,x,l,v*c),n.update(x,i,1)}function h(v,x,g){if(g===0)return;let y,b;if(s)y=t,b="drawElementsInstanced";else if(y=e.get("ANGLE_instanced_arrays"),b="drawElementsInstancedANGLE",y===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}y[b](i,x,l,v*c,g),n.update(x,i,g)}function f(v,x,g){if(g===0)return;const y=e.get("WEBGL_multi_draw");if(y===null)for(let b=0;b<g;b++)this.render(v[b]/c,x[b]);else{y.multiDrawElementsWEBGL(i,x,0,l,v,0,g);let b=0;for(let _=0;_<g;_++)b+=x[_];n.update(b,i,1)}}this.setMode=o,this.setIndex=d,this.render=u,this.renderInstances=h,this.renderMultiDraw=f}function AGe(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function a(i,o,l){switch(n.calls++,o){case t.TRIANGLES:n.triangles+=l*(i/3);break;case t.LINES:n.lines+=l*(i/2);break;case t.LINE_STRIP:n.lines+=l*(i-1);break;case t.LINE_LOOP:n.lines+=l*i;break;case t.POINTS:n.points+=l*i;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function s(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:s,update:a}}function MGe(t,e){return t[0]-e[0]}function PGe(t,e){return Math.abs(e[1])-Math.abs(t[1])}function TGe(t,e,n){const a={},s=new Float32Array(8),i=new WeakMap,o=new Ca,l=[];for(let d=0;d<8;d++)l[d]=[d,0];function c(d,u,h){const f=d.morphTargetInfluences;if(e.isWebGL2===!0){const x=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,g=x!==void 0?x.length:0;let y=i.get(u);if(y===void 0||y.count!==g){let G=function(){F.dispose(),i.delete(u),u.removeEventListener("dispose",G)};var v=G;y!==void 0&&y.texture.dispose();const j=u.morphAttributes.position!==void 0,S=u.morphAttributes.normal!==void 0,C=u.morphAttributes.color!==void 0,E=u.morphAttributes.position||[],P=u.morphAttributes.normal||[],T=u.morphAttributes.color||[];let M=0;j===!0&&(M=1),S===!0&&(M=2),C===!0&&(M=3);let k=u.attributes.position.count*M,O=1;k>e.maxTextureSize&&(O=Math.ceil(k/e.maxTextureSize),k=e.maxTextureSize);const $=new Float32Array(k*O*4*g),F=new iae($,k,O,g);F.type=ed,F.needsUpdate=!0;const B=M*4;for(let I=0;I<g;I++){const L=E[I],U=P[I],z=T[I],K=k*O*4*I;for(let V=0;V<L.count;V++){const Y=V*B;j===!0&&(o.fromBufferAttribute(L,V),$[K+Y+0]=o.x,$[K+Y+1]=o.y,$[K+Y+2]=o.z,$[K+Y+3]=0),S===!0&&(o.fromBufferAttribute(U,V),$[K+Y+4]=o.x,$[K+Y+5]=o.y,$[K+Y+6]=o.z,$[K+Y+7]=0),C===!0&&(o.fromBufferAttribute(z,V),$[K+Y+8]=o.x,$[K+Y+9]=o.y,$[K+Y+10]=o.z,$[K+Y+11]=z.itemSize===4?o.w:1)}}y={count:g,texture:F,size:new Un(k,O)},i.set(u,y),u.addEventListener("dispose",G)}let b=0;for(let j=0;j<f.length;j++)b+=f[j];const _=u.morphTargetsRelative?1:1-b;h.getUniforms().setValue(t,"morphTargetBaseInfluence",_),h.getUniforms().setValue(t,"morphTargetInfluences",f),h.getUniforms().setValue(t,"morphTargetsTexture",y.texture,n),h.getUniforms().setValue(t,"morphTargetsTextureSize",y.size)}else{const x=f===void 0?0:f.length;let g=a[u.id];if(g===void 0||g.length!==x){g=[];for(let S=0;S<x;S++)g[S]=[S,0];a[u.id]=g}for(let S=0;S<x;S++){const C=g[S];C[0]=S,C[1]=f[S]}g.sort(PGe);for(let S=0;S<8;S++)S<x&&g[S][1]?(l[S][0]=g[S][0],l[S][1]=g[S][1]):(l[S][0]=Number.MAX_SAFE_INTEGER,l[S][1]=0);l.sort(MGe);const y=u.morphAttributes.position,b=u.morphAttributes.normal;let _=0;for(let S=0;S<8;S++){const C=l[S],E=C[0],P=C[1];E!==Number.MAX_SAFE_INTEGER&&P?(y&&u.getAttribute("morphTarget"+S)!==y[E]&&u.setAttribute("morphTarget"+S,y[E]),b&&u.getAttribute("morphNormal"+S)!==b[E]&&u.setAttribute("morphNormal"+S,b[E]),s[S]=P,_+=P):(y&&u.hasAttribute("morphTarget"+S)===!0&&u.deleteAttribute("morphTarget"+S),b&&u.hasAttribute("morphNormal"+S)===!0&&u.deleteAttribute("morphNormal"+S),s[S]=0)}const j=u.morphTargetsRelative?1:1-_;h.getUniforms().setValue(t,"morphTargetBaseInfluence",j),h.getUniforms().setValue(t,"morphTargetInfluences",s)}}return{update:c}}function kGe(t,e,n,a){let s=new WeakMap;function i(c){const d=a.render.frame,u=c.geometry,h=e.get(c,u);if(s.get(h)!==d&&(e.update(h),s.set(h,d)),c.isInstancedMesh&&(c.hasEventListener("dispose",l)===!1&&c.addEventListener("dispose",l),s.get(c)!==d&&(n.update(c.instanceMatrix,t.ARRAY_BUFFER),c.instanceColor!==null&&n.update(c.instanceColor,t.ARRAY_BUFFER),s.set(c,d))),c.isSkinnedMesh){const f=c.skeleton;s.get(f)!==d&&(f.update(),s.set(f,d))}return h}function o(){s=new WeakMap}function l(c){const d=c.target;d.removeEventListener("dispose",l),n.remove(d.instanceMatrix),d.instanceColor!==null&&n.remove(d.instanceColor)}return{update:i,dispose:o}}class gae extends Fs{constructor(e,n,a,s,i,o,l,c,d,u){if(u=u!==void 0?u:Bu,u!==Bu&&u!==tp)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");a===void 0&&u===Bu&&(a=Jc),a===void 0&&u===tp&&(a=Uu),super(null,s,i,o,l,c,u,a,d),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=l!==void 0?l:is,this.minFilter=c!==void 0?c:is,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}const vae=new Fs,yae=new gae(1,1);yae.compareFunction=nae;const bae=new iae,wae=new pVe,_ae=new fae,QV=[],ZV=[],JV=new Float32Array(16),e7=new Float32Array(9),t7=new Float32Array(4);function Op(t,e,n){const a=t[0];if(a<=0||a>0)return t;const s=e*n;let i=QV[s];if(i===void 0&&(i=new Float32Array(s),QV[s]=i),e!==0){a.toArray(i,0);for(let o=1,l=0;o!==e;++o)l+=n,t[o].toArray(i,l)}return i}function ua(t,e){if(t.length!==e.length)return!1;for(let n=0,a=t.length;n<a;n++)if(t[n]!==e[n])return!1;return!0}function ha(t,e){for(let n=0,a=e.length;n<a;n++)t[n]=e[n]}function J_(t,e){let n=ZV[e];n===void 0&&(n=new Int32Array(e),ZV[e]=n);for(let a=0;a!==e;++a)n[a]=t.allocateTextureUnit();return n}function RGe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function OGe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(ua(n,e))return;t.uniform2fv(this.addr,e),ha(n,e)}}function DGe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(ua(n,e))return;t.uniform3fv(this.addr,e),ha(n,e)}}function IGe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(ua(n,e))return;t.uniform4fv(this.addr,e),ha(n,e)}}function LGe(t,e){const n=this.cache,a=e.elements;if(a===void 0){if(ua(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),ha(n,e)}else{if(ua(n,a))return;t7.set(a),t.uniformMatrix2fv(this.addr,!1,t7),ha(n,a)}}function FGe(t,e){const n=this.cache,a=e.elements;if(a===void 0){if(ua(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),ha(n,e)}else{if(ua(n,a))return;e7.set(a),t.uniformMatrix3fv(this.addr,!1,e7),ha(n,a)}}function $Ge(t,e){const n=this.cache,a=e.elements;if(a===void 0){if(ua(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),ha(n,e)}else{if(ua(n,a))return;JV.set(a),t.uniformMatrix4fv(this.addr,!1,JV),ha(n,a)}}function UGe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function BGe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(ua(n,e))return;t.uniform2iv(this.addr,e),ha(n,e)}}function zGe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(ua(n,e))return;t.uniform3iv(this.addr,e),ha(n,e)}}function qGe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(ua(n,e))return;t.uniform4iv(this.addr,e),ha(n,e)}}function VGe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function HGe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(ua(n,e))return;t.uniform2uiv(this.addr,e),ha(n,e)}}function GGe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(ua(n,e))return;t.uniform3uiv(this.addr,e),ha(n,e)}}function WGe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(ua(n,e))return;t.uniform4uiv(this.addr,e),ha(n,e)}}function KGe(t,e,n){const a=this.cache,s=n.allocateTextureUnit();a[0]!==s&&(t.uniform1i(this.addr,s),a[0]=s);const i=this.type===t.SAMPLER_2D_SHADOW?yae:vae;n.setTexture2D(e||i,s)}function XGe(t,e,n){const a=this.cache,s=n.allocateTextureUnit();a[0]!==s&&(t.uniform1i(this.addr,s),a[0]=s),n.setTexture3D(e||wae,s)}function YGe(t,e,n){const a=this.cache,s=n.allocateTextureUnit();a[0]!==s&&(t.uniform1i(this.addr,s),a[0]=s),n.setTextureCube(e||_ae,s)}function QGe(t,e,n){const a=this.cache,s=n.allocateTextureUnit();a[0]!==s&&(t.uniform1i(this.addr,s),a[0]=s),n.setTexture2DArray(e||bae,s)}function ZGe(t){switch(t){case 5126:return RGe;case 35664:return OGe;case 35665:return DGe;case 35666:return IGe;case 35674:return LGe;case 35675:return FGe;case 35676:return $Ge;case 5124:case 35670:return UGe;case 35667:case 35671:return BGe;case 35668:case 35672:return zGe;case 35669:case 35673:return qGe;case 5125:return VGe;case 36294:return HGe;case 36295:return GGe;case 36296:return WGe;case 35678:case 36198:case 36298:case 36306:case 35682:return KGe;case 35679:case 36299:case 36307:return XGe;case 35680:case 36300:case 36308:case 36293:return YGe;case 36289:case 36303:case 36311:case 36292:return QGe}}function JGe(t,e){t.uniform1fv(this.addr,e)}function eWe(t,e){const n=Op(e,this.size,2);t.uniform2fv(this.addr,n)}function tWe(t,e){const n=Op(e,this.size,3);t.uniform3fv(this.addr,n)}function nWe(t,e){const n=Op(e,this.size,4);t.uniform4fv(this.addr,n)}function rWe(t,e){const n=Op(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function aWe(t,e){const n=Op(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function sWe(t,e){const n=Op(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function iWe(t,e){t.uniform1iv(this.addr,e)}function oWe(t,e){t.uniform2iv(this.addr,e)}function lWe(t,e){t.uniform3iv(this.addr,e)}function cWe(t,e){t.uniform4iv(this.addr,e)}function dWe(t,e){t.uniform1uiv(this.addr,e)}function uWe(t,e){t.uniform2uiv(this.addr,e)}function hWe(t,e){t.uniform3uiv(this.addr,e)}function mWe(t,e){t.uniform4uiv(this.addr,e)}function fWe(t,e,n){const a=this.cache,s=e.length,i=J_(n,s);ua(a,i)||(t.uniform1iv(this.addr,i),ha(a,i));for(let o=0;o!==s;++o)n.setTexture2D(e[o]||vae,i[o])}function pWe(t,e,n){const a=this.cache,s=e.length,i=J_(n,s);ua(a,i)||(t.uniform1iv(this.addr,i),ha(a,i));for(let o=0;o!==s;++o)n.setTexture3D(e[o]||wae,i[o])}function xWe(t,e,n){const a=this.cache,s=e.length,i=J_(n,s);ua(a,i)||(t.uniform1iv(this.addr,i),ha(a,i));for(let o=0;o!==s;++o)n.setTextureCube(e[o]||_ae,i[o])}function gWe(t,e,n){const a=this.cache,s=e.length,i=J_(n,s);ua(a,i)||(t.uniform1iv(this.addr,i),ha(a,i));for(let o=0;o!==s;++o)n.setTexture2DArray(e[o]||bae,i[o])}function vWe(t){switch(t){case 5126:return JGe;case 35664:return eWe;case 35665:return tWe;case 35666:return nWe;case 35674:return rWe;case 35675:return aWe;case 35676:return sWe;case 5124:case 35670:return iWe;case 35667:case 35671:return oWe;case 35668:case 35672:return lWe;case 35669:case 35673:return cWe;case 5125:return dWe;case 36294:return uWe;case 36295:return hWe;case 36296:return mWe;case 35678:case 36198:case 36298:case 36306:case 35682:return fWe;case 35679:case 36299:case 36307:return pWe;case 35680:case 36300:case 36308:case 36293:return xWe;case 36289:case 36303:case 36311:case 36292:return gWe}}class yWe{constructor(e,n,a){this.id=e,this.addr=a,this.cache=[],this.type=n.type,this.setValue=ZGe(n.type)}}class bWe{constructor(e,n,a){this.id=e,this.addr=a,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=vWe(n.type)}}class wWe{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,a){const s=this.seq;for(let i=0,o=s.length;i!==o;++i){const l=s[i];l.setValue(e,n[l.id],a)}}}const uM=/(\w+)(\])?(\[|\.)?/g;function n7(t,e){t.seq.push(e),t.map[e.id]=e}function _We(t,e,n){const a=t.name,s=a.length;for(uM.lastIndex=0;;){const i=uM.exec(a),o=uM.lastIndex;let l=i[1];const c=i[2]==="]",d=i[3];if(c&&(l=l|0),d===void 0||d==="["&&o+2===s){n7(n,d===void 0?new yWe(l,t,e):new bWe(l,t,e));break}else{let h=n.map[l];h===void 0&&(h=new wWe(l),n7(n,h)),n=h}}}class Pb{constructor(e,n){this.seq=[],this.map={};const a=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let s=0;s<a;++s){const i=e.getActiveUniform(n,s),o=e.getUniformLocation(n,i.name);_We(i,o,this)}}setValue(e,n,a,s){const i=this.map[n];i!==void 0&&i.setValue(e,a,s)}setOptional(e,n,a){const s=n[a];s!==void 0&&this.setValue(e,a,s)}static upload(e,n,a,s){for(let i=0,o=n.length;i!==o;++i){const l=n[i],c=a[l.id];c.needsUpdate!==!1&&l.setValue(e,c.value,s)}}static seqWithValue(e,n){const a=[];for(let s=0,i=e.length;s!==i;++s){const o=e[s];o.id in n&&a.push(o)}return a}}function r7(t,e,n){const a=t.createShader(e);return t.shaderSource(a,n),t.compileShader(a),a}const jWe=37297;let NWe=0;function SWe(t,e){const n=t.split(`
`),a=[],s=Math.max(e-6,0),i=Math.min(e+6,n.length);for(let o=s;o<i;o++){const l=o+1;a.push(`${l===e?">":" "} ${l}: ${n[o]}`)}return a.join(`
`)}function CWe(t){const e=rr.getPrimaries(rr.workingColorSpace),n=rr.getPrimaries(t);let a;switch(e===n?a="":e===m1&&n===h1?a="LinearDisplayP3ToLinearSRGB":e===h1&&n===m1&&(a="LinearSRGBToLinearDisplayP3"),t){case Jl:case Q_:return[a,"LinearTransferOETF"];case Ra:case TR:return[a,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",t),[a,"LinearTransferOETF"]}}function a7(t,e,n){const a=t.getShaderParameter(e,t.COMPILE_STATUS),s=t.getShaderInfoLog(e).trim();if(a&&s==="")return"";const i=/ERROR: 0:(\d+)/.exec(s);if(i){const o=parseInt(i[1]);return n.toUpperCase()+`

`+s+`

`+SWe(t.getShaderSource(e),o)}else return s}function EWe(t,e){const n=CWe(e);return`vec4 ${t}( vec4 value ) { return ${n[0]}( ${n[1]}( value ) ); }`}function AWe(t,e){let n;switch(e){case Fqe:n="Linear";break;case $qe:n="Reinhard";break;case Uqe:n="OptimizedCineon";break;case Bqe:n="ACESFilmic";break;case qqe:n="AgX";break;case zqe:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function MWe(t){return[t.extensionDerivatives||t.envMapCubeUVHeight||t.bumpMap||t.normalMapTangentSpace||t.clearcoatNormalMap||t.flatShading||t.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Dm).join(`
`)}function PWe(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":""].filter(Dm).join(`
`)}function TWe(t){const e=[];for(const n in t){const a=t[n];a!==!1&&e.push("#define "+n+" "+a)}return e.join(`
`)}function kWe(t,e){const n={},a=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let s=0;s<a;s++){const i=t.getActiveAttrib(e,s),o=i.name;let l=1;i.type===t.FLOAT_MAT2&&(l=2),i.type===t.FLOAT_MAT3&&(l=3),i.type===t.FLOAT_MAT4&&(l=4),n[o]={type:i.type,location:t.getAttribLocation(e,o),locationSize:l}}return n}function Dm(t){return t!==""}function s7(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function i7(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const RWe=/^[ \t]*#include +<([\w\d./]+)>/gm;function _3(t){return t.replace(RWe,DWe)}const OWe=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function DWe(t,e){let n=gn[e];if(n===void 0){const a=OWe.get(e);if(a!==void 0)n=gn[a],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,a);else throw new Error("Can not resolve #include <"+e+">")}return _3(n)}const IWe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function o7(t){return t.replace(IWe,LWe)}function LWe(t,e,n,a){let s="";for(let i=parseInt(e);i<parseInt(n);i++)s+=a.replace(/\[\s*i\s*\]/g,"[ "+i+" ]").replace(/UNROLLED_LOOP_INDEX/g,i);return s}function l7(t){let e="precision "+t.precision+` float;
precision `+t.precision+" int;";return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function FWe(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===Vre?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===hqe?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===jl&&(e="SHADOWMAP_TYPE_VSM"),e}function $We(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case Jf:case ep:e="ENVMAP_TYPE_CUBE";break;case Y_:e="ENVMAP_TYPE_CUBE_UV";break}return e}function UWe(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case ep:e="ENVMAP_MODE_REFRACTION";break}return e}function BWe(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case Hre:e="ENVMAP_BLENDING_MULTIPLY";break;case Iqe:e="ENVMAP_BLENDING_MIX";break;case Lqe:e="ENVMAP_BLENDING_ADD";break}return e}function zWe(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,a=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:a,maxMip:n}}function qWe(t,e,n,a){const s=t.getContext(),i=n.defines;let o=n.vertexShader,l=n.fragmentShader;const c=FWe(n),d=$We(n),u=UWe(n),h=BWe(n),f=zWe(n),v=n.isWebGL2?"":MWe(n),x=PWe(n),g=TWe(i),y=s.createProgram();let b,_,j=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(b=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g].filter(Dm).join(`
`),b.length>0&&(b+=`
`),_=[v,"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g].filter(Dm).join(`
`),_.length>0&&(_+=`
`)):(b=[l7(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Dm).join(`
`),_=[v,l7(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+d:"",n.envMap?"#define "+u:"",n.envMap?"#define "+h:"",f?"#define CUBEUV_TEXEL_WIDTH "+f.texelWidth:"",f?"#define CUBEUV_TEXEL_HEIGHT "+f.texelHeight:"",f?"#define CUBEUV_MAX_MIP "+f.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==id?"#define TONE_MAPPING":"",n.toneMapping!==id?gn.tonemapping_pars_fragment:"",n.toneMapping!==id?AWe("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",gn.colorspace_pars_fragment,EWe("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(Dm).join(`
`)),o=_3(o),o=s7(o,n),o=i7(o,n),l=_3(l),l=s7(l,n),l=i7(l,n),o=o7(o),l=o7(l),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(j=`#version 300 es
`,b=[x,"precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+b,_=["precision mediump sampler2DArray;","#define varying in",n.glslVersion===CV?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===CV?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+_);const S=j+b+o,C=j+_+l,E=r7(s,s.VERTEX_SHADER,S),P=r7(s,s.FRAGMENT_SHADER,C);s.attachShader(y,E),s.attachShader(y,P),n.index0AttributeName!==void 0?s.bindAttribLocation(y,0,n.index0AttributeName):n.morphTargets===!0&&s.bindAttribLocation(y,0,"position"),s.linkProgram(y);function T($){if(t.debug.checkShaderErrors){const F=s.getProgramInfoLog(y).trim(),B=s.getShaderInfoLog(E).trim(),G=s.getShaderInfoLog(P).trim();let I=!0,L=!0;if(s.getProgramParameter(y,s.LINK_STATUS)===!1)if(I=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(s,y,E,P);else{const U=a7(s,E,"vertex"),z=a7(s,P,"fragment");console.error("THREE.WebGLProgram: Shader Error "+s.getError()+" - VALIDATE_STATUS "+s.getProgramParameter(y,s.VALIDATE_STATUS)+`

Program Info Log: `+F+`
`+U+`
`+z)}else F!==""?console.warn("THREE.WebGLProgram: Program Info Log:",F):(B===""||G==="")&&(L=!1);L&&($.diagnostics={runnable:I,programLog:F,vertexShader:{log:B,prefix:b},fragmentShader:{log:G,prefix:_}})}s.deleteShader(E),s.deleteShader(P),M=new Pb(s,y),k=kWe(s,y)}let M;this.getUniforms=function(){return M===void 0&&T(this),M};let k;this.getAttributes=function(){return k===void 0&&T(this),k};let O=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return O===!1&&(O=s.getProgramParameter(y,jWe)),O},this.destroy=function(){a.releaseStatesOfProgram(this),s.deleteProgram(y),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=NWe++,this.cacheKey=e,this.usedTimes=1,this.program=y,this.vertexShader=E,this.fragmentShader=P,this}let VWe=0;class HWe{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,a=e.fragmentShader,s=this._getShaderStage(n),i=this._getShaderStage(a),o=this._getShaderCacheForMaterial(e);return o.has(s)===!1&&(o.add(s),s.usedTimes++),o.has(i)===!1&&(o.add(i),i.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const a of n)a.usedTimes--,a.usedTimes===0&&this.shaderCache.delete(a.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let a=n.get(e);return a===void 0&&(a=new Set,n.set(e,a)),a}_getShaderStage(e){const n=this.shaderCache;let a=n.get(e);return a===void 0&&(a=new GWe(e),n.set(e,a)),a}}class GWe{constructor(e){this.id=VWe++,this.code=e,this.usedTimes=0}}function WWe(t,e,n,a,s,i,o){const l=new oae,c=new HWe,d=[],u=s.isWebGL2,h=s.logarithmicDepthBuffer,f=s.vertexTextures;let v=s.precision;const x={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function g(M){return M===0?"uv":`uv${M}`}function y(M,k,O,$,F){const B=$.fog,G=F.geometry,I=M.isMeshStandardMaterial?$.environment:null,L=(M.isMeshStandardMaterial?n:e).get(M.envMap||I),U=L&&L.mapping===Y_?L.image.height:null,z=x[M.type];M.precision!==null&&(v=s.getMaxPrecision(M.precision),v!==M.precision&&console.warn("THREE.WebGLProgram.getParameters:",M.precision,"not supported, using",v,"instead."));const K=G.morphAttributes.position||G.morphAttributes.normal||G.morphAttributes.color,V=K!==void 0?K.length:0;let Y=0;G.morphAttributes.position!==void 0&&(Y=1),G.morphAttributes.normal!==void 0&&(Y=2),G.morphAttributes.color!==void 0&&(Y=3);let ee,se,pe,Pe;if(z){const Gr=Ro[z];ee=Gr.vertexShader,se=Gr.fragmentShader}else ee=M.vertexShader,se=M.fragmentShader,c.update(M),pe=c.getVertexShaderID(M),Pe=c.getFragmentShaderID(M);const xe=t.getRenderTarget(),Ie=F.isInstancedMesh===!0,fe=F.isBatchedMesh===!0,Ne=!!M.map,Le=!!M.matcap,re=!!L,he=!!M.aoMap,Ee=!!M.lightMap,Xe=!!M.bumpMap,Ve=!!M.normalMap,at=!!M.displacementMap,de=!!M.emissiveMap,Z=!!M.metalnessMap,J=!!M.roughnessMap,ve=M.anisotropy>0,te=M.clearcoat>0,Te=M.iridescence>0,Be=M.sheen>0,ut=M.transmission>0,st=ve&&!!M.anisotropyMap,vt=te&&!!M.clearcoatMap,Ft=te&&!!M.clearcoatNormalMap,on=te&&!!M.clearcoatRoughnessMap,Ge=Te&&!!M.iridescenceMap,Nn=Te&&!!M.iridescenceThicknessMap,ln=Be&&!!M.sheenColorMap,Qt=Be&&!!M.sheenRoughnessMap,kt=!!M.specularMap,_t=!!M.specularColorMap,an=!!M.specularIntensityMap,Cn=ut&&!!M.transmissionMap,er=ut&&!!M.thicknessMap,sn=!!M.gradientMap,Je=!!M.alphaMap,ue=M.alphaTest>0,Ze=!!M.alphaHash,tt=!!M.extensions,Kt=!!G.attributes.uv1,Ut=!!G.attributes.uv2,Ln=!!G.attributes.uv3;let zn=id;return M.toneMapped&&(xe===null||xe.isXRRenderTarget===!0)&&(zn=t.toneMapping),{isWebGL2:u,shaderID:z,shaderType:M.type,shaderName:M.name,vertexShader:ee,fragmentShader:se,defines:M.defines,customVertexShaderID:pe,customFragmentShaderID:Pe,isRawShaderMaterial:M.isRawShaderMaterial===!0,glslVersion:M.glslVersion,precision:v,batching:fe,instancing:Ie,instancingColor:Ie&&F.instanceColor!==null,supportsVertexTextures:f,outputColorSpace:xe===null?t.outputColorSpace:xe.isXRRenderTarget===!0?xe.texture.colorSpace:Jl,map:Ne,matcap:Le,envMap:re,envMapMode:re&&L.mapping,envMapCubeUVHeight:U,aoMap:he,lightMap:Ee,bumpMap:Xe,normalMap:Ve,displacementMap:f&&at,emissiveMap:de,normalMapObjectSpace:Ve&&M.normalMapType===tVe,normalMapTangentSpace:Ve&&M.normalMapType===tae,metalnessMap:Z,roughnessMap:J,anisotropy:ve,anisotropyMap:st,clearcoat:te,clearcoatMap:vt,clearcoatNormalMap:Ft,clearcoatRoughnessMap:on,iridescence:Te,iridescenceMap:Ge,iridescenceThicknessMap:Nn,sheen:Be,sheenColorMap:ln,sheenRoughnessMap:Qt,specularMap:kt,specularColorMap:_t,specularIntensityMap:an,transmission:ut,transmissionMap:Cn,thicknessMap:er,gradientMap:sn,opaque:M.transparent===!1&&M.blending===Qm,alphaMap:Je,alphaTest:ue,alphaHash:Ze,combine:M.combine,mapUv:Ne&&g(M.map.channel),aoMapUv:he&&g(M.aoMap.channel),lightMapUv:Ee&&g(M.lightMap.channel),bumpMapUv:Xe&&g(M.bumpMap.channel),normalMapUv:Ve&&g(M.normalMap.channel),displacementMapUv:at&&g(M.displacementMap.channel),emissiveMapUv:de&&g(M.emissiveMap.channel),metalnessMapUv:Z&&g(M.metalnessMap.channel),roughnessMapUv:J&&g(M.roughnessMap.channel),anisotropyMapUv:st&&g(M.anisotropyMap.channel),clearcoatMapUv:vt&&g(M.clearcoatMap.channel),clearcoatNormalMapUv:Ft&&g(M.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:on&&g(M.clearcoatRoughnessMap.channel),iridescenceMapUv:Ge&&g(M.iridescenceMap.channel),iridescenceThicknessMapUv:Nn&&g(M.iridescenceThicknessMap.channel),sheenColorMapUv:ln&&g(M.sheenColorMap.channel),sheenRoughnessMapUv:Qt&&g(M.sheenRoughnessMap.channel),specularMapUv:kt&&g(M.specularMap.channel),specularColorMapUv:_t&&g(M.specularColorMap.channel),specularIntensityMapUv:an&&g(M.specularIntensityMap.channel),transmissionMapUv:Cn&&g(M.transmissionMap.channel),thicknessMapUv:er&&g(M.thicknessMap.channel),alphaMapUv:Je&&g(M.alphaMap.channel),vertexTangents:!!G.attributes.tangent&&(Ve||ve),vertexColors:M.vertexColors,vertexAlphas:M.vertexColors===!0&&!!G.attributes.color&&G.attributes.color.itemSize===4,vertexUv1s:Kt,vertexUv2s:Ut,vertexUv3s:Ln,pointsUvs:F.isPoints===!0&&!!G.attributes.uv&&(Ne||Je),fog:!!B,useFog:M.fog===!0,fogExp2:B&&B.isFogExp2,flatShading:M.flatShading===!0,sizeAttenuation:M.sizeAttenuation===!0,logarithmicDepthBuffer:h,skinning:F.isSkinnedMesh===!0,morphTargets:G.morphAttributes.position!==void 0,morphNormals:G.morphAttributes.normal!==void 0,morphColors:G.morphAttributes.color!==void 0,morphTargetsCount:V,morphTextureStride:Y,numDirLights:k.directional.length,numPointLights:k.point.length,numSpotLights:k.spot.length,numSpotLightMaps:k.spotLightMap.length,numRectAreaLights:k.rectArea.length,numHemiLights:k.hemi.length,numDirLightShadows:k.directionalShadowMap.length,numPointLightShadows:k.pointShadowMap.length,numSpotLightShadows:k.spotShadowMap.length,numSpotLightShadowsWithMaps:k.numSpotLightShadowsWithMaps,numLightProbes:k.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:M.dithering,shadowMapEnabled:t.shadowMap.enabled&&O.length>0,shadowMapType:t.shadowMap.type,toneMapping:zn,useLegacyLights:t._useLegacyLights,decodeVideoTexture:Ne&&M.map.isVideoTexture===!0&&rr.getTransfer(M.map.colorSpace)===fr,premultipliedAlpha:M.premultipliedAlpha,doubleSided:M.side===Pl,flipSided:M.side===Ls,useDepthPacking:M.depthPacking>=0,depthPacking:M.depthPacking||0,index0AttributeName:M.index0AttributeName,extensionDerivatives:tt&&M.extensions.derivatives===!0,extensionFragDepth:tt&&M.extensions.fragDepth===!0,extensionDrawBuffers:tt&&M.extensions.drawBuffers===!0,extensionShaderTextureLOD:tt&&M.extensions.shaderTextureLOD===!0,extensionClipCullDistance:tt&&M.extensions.clipCullDistance&&a.has("WEBGL_clip_cull_distance"),rendererExtensionFragDepth:u||a.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||a.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||a.has("EXT_shader_texture_lod"),rendererExtensionParallelShaderCompile:a.has("KHR_parallel_shader_compile"),customProgramCacheKey:M.customProgramCacheKey()}}function b(M){const k=[];if(M.shaderID?k.push(M.shaderID):(k.push(M.customVertexShaderID),k.push(M.customFragmentShaderID)),M.defines!==void 0)for(const O in M.defines)k.push(O),k.push(M.defines[O]);return M.isRawShaderMaterial===!1&&(_(k,M),j(k,M),k.push(t.outputColorSpace)),k.push(M.customProgramCacheKey),k.join()}function _(M,k){M.push(k.precision),M.push(k.outputColorSpace),M.push(k.envMapMode),M.push(k.envMapCubeUVHeight),M.push(k.mapUv),M.push(k.alphaMapUv),M.push(k.lightMapUv),M.push(k.aoMapUv),M.push(k.bumpMapUv),M.push(k.normalMapUv),M.push(k.displacementMapUv),M.push(k.emissiveMapUv),M.push(k.metalnessMapUv),M.push(k.roughnessMapUv),M.push(k.anisotropyMapUv),M.push(k.clearcoatMapUv),M.push(k.clearcoatNormalMapUv),M.push(k.clearcoatRoughnessMapUv),M.push(k.iridescenceMapUv),M.push(k.iridescenceThicknessMapUv),M.push(k.sheenColorMapUv),M.push(k.sheenRoughnessMapUv),M.push(k.specularMapUv),M.push(k.specularColorMapUv),M.push(k.specularIntensityMapUv),M.push(k.transmissionMapUv),M.push(k.thicknessMapUv),M.push(k.combine),M.push(k.fogExp2),M.push(k.sizeAttenuation),M.push(k.morphTargetsCount),M.push(k.morphAttributeCount),M.push(k.numDirLights),M.push(k.numPointLights),M.push(k.numSpotLights),M.push(k.numSpotLightMaps),M.push(k.numHemiLights),M.push(k.numRectAreaLights),M.push(k.numDirLightShadows),M.push(k.numPointLightShadows),M.push(k.numSpotLightShadows),M.push(k.numSpotLightShadowsWithMaps),M.push(k.numLightProbes),M.push(k.shadowMapType),M.push(k.toneMapping),M.push(k.numClippingPlanes),M.push(k.numClipIntersection),M.push(k.depthPacking)}function j(M,k){l.disableAll(),k.isWebGL2&&l.enable(0),k.supportsVertexTextures&&l.enable(1),k.instancing&&l.enable(2),k.instancingColor&&l.enable(3),k.matcap&&l.enable(4),k.envMap&&l.enable(5),k.normalMapObjectSpace&&l.enable(6),k.normalMapTangentSpace&&l.enable(7),k.clearcoat&&l.enable(8),k.iridescence&&l.enable(9),k.alphaTest&&l.enable(10),k.vertexColors&&l.enable(11),k.vertexAlphas&&l.enable(12),k.vertexUv1s&&l.enable(13),k.vertexUv2s&&l.enable(14),k.vertexUv3s&&l.enable(15),k.vertexTangents&&l.enable(16),k.anisotropy&&l.enable(17),k.alphaHash&&l.enable(18),k.batching&&l.enable(19),M.push(l.mask),l.disableAll(),k.fog&&l.enable(0),k.useFog&&l.enable(1),k.flatShading&&l.enable(2),k.logarithmicDepthBuffer&&l.enable(3),k.skinning&&l.enable(4),k.morphTargets&&l.enable(5),k.morphNormals&&l.enable(6),k.morphColors&&l.enable(7),k.premultipliedAlpha&&l.enable(8),k.shadowMapEnabled&&l.enable(9),k.useLegacyLights&&l.enable(10),k.doubleSided&&l.enable(11),k.flipSided&&l.enable(12),k.useDepthPacking&&l.enable(13),k.dithering&&l.enable(14),k.transmission&&l.enable(15),k.sheen&&l.enable(16),k.opaque&&l.enable(17),k.pointsUvs&&l.enable(18),k.decodeVideoTexture&&l.enable(19),M.push(l.mask)}function S(M){const k=x[M.type];let O;if(k){const $=Ro[k];O=MVe.clone($.uniforms)}else O=M.uniforms;return O}function C(M,k){let O;for(let $=0,F=d.length;$<F;$++){const B=d[$];if(B.cacheKey===k){O=B,++O.usedTimes;break}}return O===void 0&&(O=new qWe(t,k,M,i),d.push(O)),O}function E(M){if(--M.usedTimes===0){const k=d.indexOf(M);d[k]=d[d.length-1],d.pop(),M.destroy()}}function P(M){c.remove(M)}function T(){c.dispose()}return{getParameters:y,getProgramCacheKey:b,getUniforms:S,acquireProgram:C,releaseProgram:E,releaseShaderCache:P,programs:d,dispose:T}}function KWe(){let t=new WeakMap;function e(i){let o=t.get(i);return o===void 0&&(o={},t.set(i,o)),o}function n(i){t.delete(i)}function a(i,o,l){t.get(i)[o]=l}function s(){t=new WeakMap}return{get:e,remove:n,update:a,dispose:s}}function XWe(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function c7(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function d7(){const t=[];let e=0;const n=[],a=[],s=[];function i(){e=0,n.length=0,a.length=0,s.length=0}function o(h,f,v,x,g,y){let b=t[e];return b===void 0?(b={id:h.id,object:h,geometry:f,material:v,groupOrder:x,renderOrder:h.renderOrder,z:g,group:y},t[e]=b):(b.id=h.id,b.object=h,b.geometry=f,b.material=v,b.groupOrder=x,b.renderOrder=h.renderOrder,b.z=g,b.group=y),e++,b}function l(h,f,v,x,g,y){const b=o(h,f,v,x,g,y);v.transmission>0?a.push(b):v.transparent===!0?s.push(b):n.push(b)}function c(h,f,v,x,g,y){const b=o(h,f,v,x,g,y);v.transmission>0?a.unshift(b):v.transparent===!0?s.unshift(b):n.unshift(b)}function d(h,f){n.length>1&&n.sort(h||XWe),a.length>1&&a.sort(f||c7),s.length>1&&s.sort(f||c7)}function u(){for(let h=e,f=t.length;h<f;h++){const v=t[h];if(v.id===null)break;v.id=null,v.object=null,v.geometry=null,v.material=null,v.group=null}}return{opaque:n,transmissive:a,transparent:s,init:i,push:l,unshift:c,finish:u,sort:d}}function YWe(){let t=new WeakMap;function e(a,s){const i=t.get(a);let o;return i===void 0?(o=new d7,t.set(a,[o])):s>=i.length?(o=new d7,i.push(o)):o=i[s],o}function n(){t=new WeakMap}return{get:e,dispose:n}}function QWe(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new Re,color:new Fn};break;case"SpotLight":n={position:new Re,direction:new Re,color:new Fn,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new Re,color:new Fn,distance:0,decay:0};break;case"HemisphereLight":n={direction:new Re,skyColor:new Fn,groundColor:new Fn};break;case"RectAreaLight":n={color:new Fn,position:new Re,halfWidth:new Re,halfHeight:new Re};break}return t[e.id]=n,n}}}function ZWe(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Un};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Un};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Un,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let JWe=0;function eKe(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function tKe(t,e){const n=new QWe,a=ZWe(),s={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let u=0;u<9;u++)s.probe.push(new Re);const i=new Re,o=new da,l=new da;function c(u,h){let f=0,v=0,x=0;for(let $=0;$<9;$++)s.probe[$].set(0,0,0);let g=0,y=0,b=0,_=0,j=0,S=0,C=0,E=0,P=0,T=0,M=0;u.sort(eKe);const k=h===!0?Math.PI:1;for(let $=0,F=u.length;$<F;$++){const B=u[$],G=B.color,I=B.intensity,L=B.distance,U=B.shadow&&B.shadow.map?B.shadow.map.texture:null;if(B.isAmbientLight)f+=G.r*I*k,v+=G.g*I*k,x+=G.b*I*k;else if(B.isLightProbe){for(let z=0;z<9;z++)s.probe[z].addScaledVector(B.sh.coefficients[z],I);M++}else if(B.isDirectionalLight){const z=n.get(B);if(z.color.copy(B.color).multiplyScalar(B.intensity*k),B.castShadow){const K=B.shadow,V=a.get(B);V.shadowBias=K.bias,V.shadowNormalBias=K.normalBias,V.shadowRadius=K.radius,V.shadowMapSize=K.mapSize,s.directionalShadow[g]=V,s.directionalShadowMap[g]=U,s.directionalShadowMatrix[g]=B.shadow.matrix,S++}s.directional[g]=z,g++}else if(B.isSpotLight){const z=n.get(B);z.position.setFromMatrixPosition(B.matrixWorld),z.color.copy(G).multiplyScalar(I*k),z.distance=L,z.coneCos=Math.cos(B.angle),z.penumbraCos=Math.cos(B.angle*(1-B.penumbra)),z.decay=B.decay,s.spot[b]=z;const K=B.shadow;if(B.map&&(s.spotLightMap[P]=B.map,P++,K.updateMatrices(B),B.castShadow&&T++),s.spotLightMatrix[b]=K.matrix,B.castShadow){const V=a.get(B);V.shadowBias=K.bias,V.shadowNormalBias=K.normalBias,V.shadowRadius=K.radius,V.shadowMapSize=K.mapSize,s.spotShadow[b]=V,s.spotShadowMap[b]=U,E++}b++}else if(B.isRectAreaLight){const z=n.get(B);z.color.copy(G).multiplyScalar(I),z.halfWidth.set(B.width*.5,0,0),z.halfHeight.set(0,B.height*.5,0),s.rectArea[_]=z,_++}else if(B.isPointLight){const z=n.get(B);if(z.color.copy(B.color).multiplyScalar(B.intensity*k),z.distance=B.distance,z.decay=B.decay,B.castShadow){const K=B.shadow,V=a.get(B);V.shadowBias=K.bias,V.shadowNormalBias=K.normalBias,V.shadowRadius=K.radius,V.shadowMapSize=K.mapSize,V.shadowCameraNear=K.camera.near,V.shadowCameraFar=K.camera.far,s.pointShadow[y]=V,s.pointShadowMap[y]=U,s.pointShadowMatrix[y]=B.shadow.matrix,C++}s.point[y]=z,y++}else if(B.isHemisphereLight){const z=n.get(B);z.skyColor.copy(B.color).multiplyScalar(I*k),z.groundColor.copy(B.groundColor).multiplyScalar(I*k),s.hemi[j]=z,j++}}_>0&&(e.isWebGL2?t.has("OES_texture_float_linear")===!0?(s.rectAreaLTC1=rt.LTC_FLOAT_1,s.rectAreaLTC2=rt.LTC_FLOAT_2):(s.rectAreaLTC1=rt.LTC_HALF_1,s.rectAreaLTC2=rt.LTC_HALF_2):t.has("OES_texture_float_linear")===!0?(s.rectAreaLTC1=rt.LTC_FLOAT_1,s.rectAreaLTC2=rt.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(s.rectAreaLTC1=rt.LTC_HALF_1,s.rectAreaLTC2=rt.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),s.ambient[0]=f,s.ambient[1]=v,s.ambient[2]=x;const O=s.hash;(O.directionalLength!==g||O.pointLength!==y||O.spotLength!==b||O.rectAreaLength!==_||O.hemiLength!==j||O.numDirectionalShadows!==S||O.numPointShadows!==C||O.numSpotShadows!==E||O.numSpotMaps!==P||O.numLightProbes!==M)&&(s.directional.length=g,s.spot.length=b,s.rectArea.length=_,s.point.length=y,s.hemi.length=j,s.directionalShadow.length=S,s.directionalShadowMap.length=S,s.pointShadow.length=C,s.pointShadowMap.length=C,s.spotShadow.length=E,s.spotShadowMap.length=E,s.directionalShadowMatrix.length=S,s.pointShadowMatrix.length=C,s.spotLightMatrix.length=E+P-T,s.spotLightMap.length=P,s.numSpotLightShadowsWithMaps=T,s.numLightProbes=M,O.directionalLength=g,O.pointLength=y,O.spotLength=b,O.rectAreaLength=_,O.hemiLength=j,O.numDirectionalShadows=S,O.numPointShadows=C,O.numSpotShadows=E,O.numSpotMaps=P,O.numLightProbes=M,s.version=JWe++)}function d(u,h){let f=0,v=0,x=0,g=0,y=0;const b=h.matrixWorldInverse;for(let _=0,j=u.length;_<j;_++){const S=u[_];if(S.isDirectionalLight){const C=s.directional[f];C.direction.setFromMatrixPosition(S.matrixWorld),i.setFromMatrixPosition(S.target.matrixWorld),C.direction.sub(i),C.direction.transformDirection(b),f++}else if(S.isSpotLight){const C=s.spot[x];C.position.setFromMatrixPosition(S.matrixWorld),C.position.applyMatrix4(b),C.direction.setFromMatrixPosition(S.matrixWorld),i.setFromMatrixPosition(S.target.matrixWorld),C.direction.sub(i),C.direction.transformDirection(b),x++}else if(S.isRectAreaLight){const C=s.rectArea[g];C.position.setFromMatrixPosition(S.matrixWorld),C.position.applyMatrix4(b),l.identity(),o.copy(S.matrixWorld),o.premultiply(b),l.extractRotation(o),C.halfWidth.set(S.width*.5,0,0),C.halfHeight.set(0,S.height*.5,0),C.halfWidth.applyMatrix4(l),C.halfHeight.applyMatrix4(l),g++}else if(S.isPointLight){const C=s.point[v];C.position.setFromMatrixPosition(S.matrixWorld),C.position.applyMatrix4(b),v++}else if(S.isHemisphereLight){const C=s.hemi[y];C.direction.setFromMatrixPosition(S.matrixWorld),C.direction.transformDirection(b),y++}}}return{setup:c,setupView:d,state:s}}function u7(t,e){const n=new tKe(t,e),a=[],s=[];function i(){a.length=0,s.length=0}function o(h){a.push(h)}function l(h){s.push(h)}function c(h){n.setup(a,h)}function d(h){n.setupView(a,h)}return{init:i,state:{lightsArray:a,shadowsArray:s,lights:n},setupLights:c,setupLightsView:d,pushLight:o,pushShadow:l}}function nKe(t,e){let n=new WeakMap;function a(i,o=0){const l=n.get(i);let c;return l===void 0?(c=new u7(t,e),n.set(i,[c])):o>=l.length?(c=new u7(t,e),l.push(c)):c=l[o],c}function s(){n=new WeakMap}return{get:a,dispose:s}}class rKe extends Xg{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Jqe,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class aKe extends Xg{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const sKe=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,iKe=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function oKe(t,e,n){let a=new RR;const s=new Un,i=new Un,o=new Ca,l=new rKe({depthPacking:eVe}),c=new aKe,d={},u=n.maxTextureSize,h={[xd]:Ls,[Ls]:xd,[Pl]:Pl},f=new ch({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Un},radius:{value:4}},vertexShader:sKe,fragmentShader:iKe}),v=f.clone();v.defines.HORIZONTAL_PASS=1;const x=new vh;x.setAttribute("position",new Ho(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const g=new Il(x,f),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Vre;let b=this.type;this.render=function(E,P,T){if(y.enabled===!1||y.autoUpdate===!1&&y.needsUpdate===!1||E.length===0)return;const M=t.getRenderTarget(),k=t.getActiveCubeFace(),O=t.getActiveMipmapLevel(),$=t.state;$.setBlending(sd),$.buffers.color.setClear(1,1,1,1),$.buffers.depth.setTest(!0),$.setScissorTest(!1);const F=b!==jl&&this.type===jl,B=b===jl&&this.type!==jl;for(let G=0,I=E.length;G<I;G++){const L=E[G],U=L.shadow;if(U===void 0){console.warn("THREE.WebGLShadowMap:",L,"has no shadow.");continue}if(U.autoUpdate===!1&&U.needsUpdate===!1)continue;s.copy(U.mapSize);const z=U.getFrameExtents();if(s.multiply(z),i.copy(U.mapSize),(s.x>u||s.y>u)&&(s.x>u&&(i.x=Math.floor(u/z.x),s.x=i.x*z.x,U.mapSize.x=i.x),s.y>u&&(i.y=Math.floor(u/z.y),s.y=i.y*z.y,U.mapSize.y=i.y)),U.map===null||F===!0||B===!0){const V=this.type!==jl?{minFilter:is,magFilter:is}:{};U.map!==null&&U.map.dispose(),U.map=new lh(s.x,s.y,V),U.map.texture.name=L.name+".shadowMap",U.camera.updateProjectionMatrix()}t.setRenderTarget(U.map),t.clear();const K=U.getViewportCount();for(let V=0;V<K;V++){const Y=U.getViewport(V);o.set(i.x*Y.x,i.y*Y.y,i.x*Y.z,i.y*Y.w),$.viewport(o),U.updateMatrices(L,V),a=U.getFrustum(),S(P,T,U.camera,L,this.type)}U.isPointLightShadow!==!0&&this.type===jl&&_(U,T),U.needsUpdate=!1}b=this.type,y.needsUpdate=!1,t.setRenderTarget(M,k,O)};function _(E,P){const T=e.update(g);f.defines.VSM_SAMPLES!==E.blurSamples&&(f.defines.VSM_SAMPLES=E.blurSamples,v.defines.VSM_SAMPLES=E.blurSamples,f.needsUpdate=!0,v.needsUpdate=!0),E.mapPass===null&&(E.mapPass=new lh(s.x,s.y)),f.uniforms.shadow_pass.value=E.map.texture,f.uniforms.resolution.value=E.mapSize,f.uniforms.radius.value=E.radius,t.setRenderTarget(E.mapPass),t.clear(),t.renderBufferDirect(P,null,T,f,g,null),v.uniforms.shadow_pass.value=E.mapPass.texture,v.uniforms.resolution.value=E.mapSize,v.uniforms.radius.value=E.radius,t.setRenderTarget(E.map),t.clear(),t.renderBufferDirect(P,null,T,v,g,null)}function j(E,P,T,M){let k=null;const O=T.isPointLight===!0?E.customDistanceMaterial:E.customDepthMaterial;if(O!==void 0)k=O;else if(k=T.isPointLight===!0?c:l,t.localClippingEnabled&&P.clipShadows===!0&&Array.isArray(P.clippingPlanes)&&P.clippingPlanes.length!==0||P.displacementMap&&P.displacementScale!==0||P.alphaMap&&P.alphaTest>0||P.map&&P.alphaTest>0){const $=k.uuid,F=P.uuid;let B=d[$];B===void 0&&(B={},d[$]=B);let G=B[F];G===void 0&&(G=k.clone(),B[F]=G,P.addEventListener("dispose",C)),k=G}if(k.visible=P.visible,k.wireframe=P.wireframe,M===jl?k.side=P.shadowSide!==null?P.shadowSide:P.side:k.side=P.shadowSide!==null?P.shadowSide:h[P.side],k.alphaMap=P.alphaMap,k.alphaTest=P.alphaTest,k.map=P.map,k.clipShadows=P.clipShadows,k.clippingPlanes=P.clippingPlanes,k.clipIntersection=P.clipIntersection,k.displacementMap=P.displacementMap,k.displacementScale=P.displacementScale,k.displacementBias=P.displacementBias,k.wireframeLinewidth=P.wireframeLinewidth,k.linewidth=P.linewidth,T.isPointLight===!0&&k.isMeshDistanceMaterial===!0){const $=t.properties.get(k);$.light=T}return k}function S(E,P,T,M,k){if(E.visible===!1)return;if(E.layers.test(P.layers)&&(E.isMesh||E.isLine||E.isPoints)&&(E.castShadow||E.receiveShadow&&k===jl)&&(!E.frustumCulled||a.intersectsObject(E))){E.modelViewMatrix.multiplyMatrices(T.matrixWorldInverse,E.matrixWorld);const F=e.update(E),B=E.material;if(Array.isArray(B)){const G=F.groups;for(let I=0,L=G.length;I<L;I++){const U=G[I],z=B[U.materialIndex];if(z&&z.visible){const K=j(E,z,M,k);E.onBeforeShadow(t,E,P,T,F,K,U),t.renderBufferDirect(T,null,F,K,E,U),E.onAfterShadow(t,E,P,T,F,K,U)}}}else if(B.visible){const G=j(E,B,M,k);E.onBeforeShadow(t,E,P,T,F,G,null),t.renderBufferDirect(T,null,F,G,E,null),E.onAfterShadow(t,E,P,T,F,G,null)}}const $=E.children;for(let F=0,B=$.length;F<B;F++)S($[F],P,T,M,k)}function C(E){E.target.removeEventListener("dispose",C);for(const T in d){const M=d[T],k=E.target.uuid;k in M&&(M[k].dispose(),delete M[k])}}}function lKe(t,e,n){const a=n.isWebGL2;function s(){let ue=!1;const Ze=new Ca;let tt=null;const Kt=new Ca(0,0,0,0);return{setMask:function(Ut){tt!==Ut&&!ue&&(t.colorMask(Ut,Ut,Ut,Ut),tt=Ut)},setLocked:function(Ut){ue=Ut},setClear:function(Ut,Ln,zn,vr,Gr){Gr===!0&&(Ut*=vr,Ln*=vr,zn*=vr),Ze.set(Ut,Ln,zn,vr),Kt.equals(Ze)===!1&&(t.clearColor(Ut,Ln,zn,vr),Kt.copy(Ze))},reset:function(){ue=!1,tt=null,Kt.set(-1,0,0,0)}}}function i(){let ue=!1,Ze=null,tt=null,Kt=null;return{setTest:function(Ut){Ut?fe(t.DEPTH_TEST):Ne(t.DEPTH_TEST)},setMask:function(Ut){Ze!==Ut&&!ue&&(t.depthMask(Ut),Ze=Ut)},setFunc:function(Ut){if(tt!==Ut){switch(Ut){case Mqe:t.depthFunc(t.NEVER);break;case Pqe:t.depthFunc(t.ALWAYS);break;case Tqe:t.depthFunc(t.LESS);break;case d1:t.depthFunc(t.LEQUAL);break;case kqe:t.depthFunc(t.EQUAL);break;case Rqe:t.depthFunc(t.GEQUAL);break;case Oqe:t.depthFunc(t.GREATER);break;case Dqe:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}tt=Ut}},setLocked:function(Ut){ue=Ut},setClear:function(Ut){Kt!==Ut&&(t.clearDepth(Ut),Kt=Ut)},reset:function(){ue=!1,Ze=null,tt=null,Kt=null}}}function o(){let ue=!1,Ze=null,tt=null,Kt=null,Ut=null,Ln=null,zn=null,vr=null,Gr=null;return{setTest:function(cn){ue||(cn?fe(t.STENCIL_TEST):Ne(t.STENCIL_TEST))},setMask:function(cn){Ze!==cn&&!ue&&(t.stencilMask(cn),Ze=cn)},setFunc:function(cn,Ur,yr){(tt!==cn||Kt!==Ur||Ut!==yr)&&(t.stencilFunc(cn,Ur,yr),tt=cn,Kt=Ur,Ut=yr)},setOp:function(cn,Ur,yr){(Ln!==cn||zn!==Ur||vr!==yr)&&(t.stencilOp(cn,Ur,yr),Ln=cn,zn=Ur,vr=yr)},setLocked:function(cn){ue=cn},setClear:function(cn){Gr!==cn&&(t.clearStencil(cn),Gr=cn)},reset:function(){ue=!1,Ze=null,tt=null,Kt=null,Ut=null,Ln=null,zn=null,vr=null,Gr=null}}}const l=new s,c=new i,d=new o,u=new WeakMap,h=new WeakMap;let f={},v={},x=new WeakMap,g=[],y=null,b=!1,_=null,j=null,S=null,C=null,E=null,P=null,T=null,M=new Fn(0,0,0),k=0,O=!1,$=null,F=null,B=null,G=null,I=null;const L=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let U=!1,z=0;const K=t.getParameter(t.VERSION);K.indexOf("WebGL")!==-1?(z=parseFloat(/^WebGL (\d)/.exec(K)[1]),U=z>=1):K.indexOf("OpenGL ES")!==-1&&(z=parseFloat(/^OpenGL ES (\d)/.exec(K)[1]),U=z>=2);let V=null,Y={};const ee=t.getParameter(t.SCISSOR_BOX),se=t.getParameter(t.VIEWPORT),pe=new Ca().fromArray(ee),Pe=new Ca().fromArray(se);function xe(ue,Ze,tt,Kt){const Ut=new Uint8Array(4),Ln=t.createTexture();t.bindTexture(ue,Ln),t.texParameteri(ue,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(ue,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let zn=0;zn<tt;zn++)a&&(ue===t.TEXTURE_3D||ue===t.TEXTURE_2D_ARRAY)?t.texImage3D(Ze,0,t.RGBA,1,1,Kt,0,t.RGBA,t.UNSIGNED_BYTE,Ut):t.texImage2D(Ze+zn,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,Ut);return Ln}const Ie={};Ie[t.TEXTURE_2D]=xe(t.TEXTURE_2D,t.TEXTURE_2D,1),Ie[t.TEXTURE_CUBE_MAP]=xe(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),a&&(Ie[t.TEXTURE_2D_ARRAY]=xe(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),Ie[t.TEXTURE_3D]=xe(t.TEXTURE_3D,t.TEXTURE_3D,1,1)),l.setClear(0,0,0,1),c.setClear(1),d.setClear(0),fe(t.DEPTH_TEST),c.setFunc(d1),de(!1),Z(Gq),fe(t.CULL_FACE),Ve(sd);function fe(ue){f[ue]!==!0&&(t.enable(ue),f[ue]=!0)}function Ne(ue){f[ue]!==!1&&(t.disable(ue),f[ue]=!1)}function Le(ue,Ze){return v[ue]!==Ze?(t.bindFramebuffer(ue,Ze),v[ue]=Ze,a&&(ue===t.DRAW_FRAMEBUFFER&&(v[t.FRAMEBUFFER]=Ze),ue===t.FRAMEBUFFER&&(v[t.DRAW_FRAMEBUFFER]=Ze)),!0):!1}function re(ue,Ze){let tt=g,Kt=!1;if(ue)if(tt=x.get(Ze),tt===void 0&&(tt=[],x.set(Ze,tt)),ue.isWebGLMultipleRenderTargets){const Ut=ue.texture;if(tt.length!==Ut.length||tt[0]!==t.COLOR_ATTACHMENT0){for(let Ln=0,zn=Ut.length;Ln<zn;Ln++)tt[Ln]=t.COLOR_ATTACHMENT0+Ln;tt.length=Ut.length,Kt=!0}}else tt[0]!==t.COLOR_ATTACHMENT0&&(tt[0]=t.COLOR_ATTACHMENT0,Kt=!0);else tt[0]!==t.BACK&&(tt[0]=t.BACK,Kt=!0);Kt&&(n.isWebGL2?t.drawBuffers(tt):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(tt))}function he(ue){return y!==ue?(t.useProgram(ue),y=ue,!0):!1}const Ee={[uu]:t.FUNC_ADD,[fqe]:t.FUNC_SUBTRACT,[pqe]:t.FUNC_REVERSE_SUBTRACT};if(a)Ee[Yq]=t.MIN,Ee[Qq]=t.MAX;else{const ue=e.get("EXT_blend_minmax");ue!==null&&(Ee[Yq]=ue.MIN_EXT,Ee[Qq]=ue.MAX_EXT)}const Xe={[xqe]:t.ZERO,[gqe]:t.ONE,[vqe]:t.SRC_COLOR,[m3]:t.SRC_ALPHA,[Nqe]:t.SRC_ALPHA_SATURATE,[_qe]:t.DST_COLOR,[bqe]:t.DST_ALPHA,[yqe]:t.ONE_MINUS_SRC_COLOR,[f3]:t.ONE_MINUS_SRC_ALPHA,[jqe]:t.ONE_MINUS_DST_COLOR,[wqe]:t.ONE_MINUS_DST_ALPHA,[Sqe]:t.CONSTANT_COLOR,[Cqe]:t.ONE_MINUS_CONSTANT_COLOR,[Eqe]:t.CONSTANT_ALPHA,[Aqe]:t.ONE_MINUS_CONSTANT_ALPHA};function Ve(ue,Ze,tt,Kt,Ut,Ln,zn,vr,Gr,cn){if(ue===sd){b===!0&&(Ne(t.BLEND),b=!1);return}if(b===!1&&(fe(t.BLEND),b=!0),ue!==mqe){if(ue!==_||cn!==O){if((j!==uu||E!==uu)&&(t.blendEquation(t.FUNC_ADD),j=uu,E=uu),cn)switch(ue){case Qm:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case Wq:t.blendFunc(t.ONE,t.ONE);break;case Kq:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case Xq:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",ue);break}else switch(ue){case Qm:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case Wq:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case Kq:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case Xq:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",ue);break}S=null,C=null,P=null,T=null,M.set(0,0,0),k=0,_=ue,O=cn}return}Ut=Ut||Ze,Ln=Ln||tt,zn=zn||Kt,(Ze!==j||Ut!==E)&&(t.blendEquationSeparate(Ee[Ze],Ee[Ut]),j=Ze,E=Ut),(tt!==S||Kt!==C||Ln!==P||zn!==T)&&(t.blendFuncSeparate(Xe[tt],Xe[Kt],Xe[Ln],Xe[zn]),S=tt,C=Kt,P=Ln,T=zn),(vr.equals(M)===!1||Gr!==k)&&(t.blendColor(vr.r,vr.g,vr.b,Gr),M.copy(vr),k=Gr),_=ue,O=!1}function at(ue,Ze){ue.side===Pl?Ne(t.CULL_FACE):fe(t.CULL_FACE);let tt=ue.side===Ls;Ze&&(tt=!tt),de(tt),ue.blending===Qm&&ue.transparent===!1?Ve(sd):Ve(ue.blending,ue.blendEquation,ue.blendSrc,ue.blendDst,ue.blendEquationAlpha,ue.blendSrcAlpha,ue.blendDstAlpha,ue.blendColor,ue.blendAlpha,ue.premultipliedAlpha),c.setFunc(ue.depthFunc),c.setTest(ue.depthTest),c.setMask(ue.depthWrite),l.setMask(ue.colorWrite);const Kt=ue.stencilWrite;d.setTest(Kt),Kt&&(d.setMask(ue.stencilWriteMask),d.setFunc(ue.stencilFunc,ue.stencilRef,ue.stencilFuncMask),d.setOp(ue.stencilFail,ue.stencilZFail,ue.stencilZPass)),ve(ue.polygonOffset,ue.polygonOffsetFactor,ue.polygonOffsetUnits),ue.alphaToCoverage===!0?fe(t.SAMPLE_ALPHA_TO_COVERAGE):Ne(t.SAMPLE_ALPHA_TO_COVERAGE)}function de(ue){$!==ue&&(ue?t.frontFace(t.CW):t.frontFace(t.CCW),$=ue)}function Z(ue){ue!==dqe?(fe(t.CULL_FACE),ue!==F&&(ue===Gq?t.cullFace(t.BACK):ue===uqe?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):Ne(t.CULL_FACE),F=ue}function J(ue){ue!==B&&(U&&t.lineWidth(ue),B=ue)}function ve(ue,Ze,tt){ue?(fe(t.POLYGON_OFFSET_FILL),(G!==Ze||I!==tt)&&(t.polygonOffset(Ze,tt),G=Ze,I=tt)):Ne(t.POLYGON_OFFSET_FILL)}function te(ue){ue?fe(t.SCISSOR_TEST):Ne(t.SCISSOR_TEST)}function Te(ue){ue===void 0&&(ue=t.TEXTURE0+L-1),V!==ue&&(t.activeTexture(ue),V=ue)}function Be(ue,Ze,tt){tt===void 0&&(V===null?tt=t.TEXTURE0+L-1:tt=V);let Kt=Y[tt];Kt===void 0&&(Kt={type:void 0,texture:void 0},Y[tt]=Kt),(Kt.type!==ue||Kt.texture!==Ze)&&(V!==tt&&(t.activeTexture(tt),V=tt),t.bindTexture(ue,Ze||Ie[ue]),Kt.type=ue,Kt.texture=Ze)}function ut(){const ue=Y[V];ue!==void 0&&ue.type!==void 0&&(t.bindTexture(ue.type,null),ue.type=void 0,ue.texture=void 0)}function st(){try{t.compressedTexImage2D.apply(t,arguments)}catch(ue){console.error("THREE.WebGLState:",ue)}}function vt(){try{t.compressedTexImage3D.apply(t,arguments)}catch(ue){console.error("THREE.WebGLState:",ue)}}function Ft(){try{t.texSubImage2D.apply(t,arguments)}catch(ue){console.error("THREE.WebGLState:",ue)}}function on(){try{t.texSubImage3D.apply(t,arguments)}catch(ue){console.error("THREE.WebGLState:",ue)}}function Ge(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(ue){console.error("THREE.WebGLState:",ue)}}function Nn(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(ue){console.error("THREE.WebGLState:",ue)}}function ln(){try{t.texStorage2D.apply(t,arguments)}catch(ue){console.error("THREE.WebGLState:",ue)}}function Qt(){try{t.texStorage3D.apply(t,arguments)}catch(ue){console.error("THREE.WebGLState:",ue)}}function kt(){try{t.texImage2D.apply(t,arguments)}catch(ue){console.error("THREE.WebGLState:",ue)}}function _t(){try{t.texImage3D.apply(t,arguments)}catch(ue){console.error("THREE.WebGLState:",ue)}}function an(ue){pe.equals(ue)===!1&&(t.scissor(ue.x,ue.y,ue.z,ue.w),pe.copy(ue))}function Cn(ue){Pe.equals(ue)===!1&&(t.viewport(ue.x,ue.y,ue.z,ue.w),Pe.copy(ue))}function er(ue,Ze){let tt=h.get(Ze);tt===void 0&&(tt=new WeakMap,h.set(Ze,tt));let Kt=tt.get(ue);Kt===void 0&&(Kt=t.getUniformBlockIndex(Ze,ue.name),tt.set(ue,Kt))}function sn(ue,Ze){const Kt=h.get(Ze).get(ue);u.get(Ze)!==Kt&&(t.uniformBlockBinding(Ze,Kt,ue.__bindingPointIndex),u.set(Ze,Kt))}function Je(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),a===!0&&(t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),f={},V=null,Y={},v={},x=new WeakMap,g=[],y=null,b=!1,_=null,j=null,S=null,C=null,E=null,P=null,T=null,M=new Fn(0,0,0),k=0,O=!1,$=null,F=null,B=null,G=null,I=null,pe.set(0,0,t.canvas.width,t.canvas.height),Pe.set(0,0,t.canvas.width,t.canvas.height),l.reset(),c.reset(),d.reset()}return{buffers:{color:l,depth:c,stencil:d},enable:fe,disable:Ne,bindFramebuffer:Le,drawBuffers:re,useProgram:he,setBlending:Ve,setMaterial:at,setFlipSided:de,setCullFace:Z,setLineWidth:J,setPolygonOffset:ve,setScissorTest:te,activeTexture:Te,bindTexture:Be,unbindTexture:ut,compressedTexImage2D:st,compressedTexImage3D:vt,texImage2D:kt,texImage3D:_t,updateUBOMapping:er,uniformBlockBinding:sn,texStorage2D:ln,texStorage3D:Qt,texSubImage2D:Ft,texSubImage3D:on,compressedTexSubImage2D:Ge,compressedTexSubImage3D:Nn,scissor:an,viewport:Cn,reset:Je}}function cKe(t,e,n,a,s,i,o){const l=s.isWebGL2,c=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,d=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),u=new WeakMap;let h;const f=new WeakMap;let v=!1;try{v=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function x(Z,J){return v?new OffscreenCanvas(Z,J):p1("canvas")}function g(Z,J,ve,te){let Te=1;if((Z.width>te||Z.height>te)&&(Te=te/Math.max(Z.width,Z.height)),Te<1||J===!0)if(typeof HTMLImageElement<"u"&&Z instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&Z instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&Z instanceof ImageBitmap){const Be=J?w3:Math.floor,ut=Be(Te*Z.width),st=Be(Te*Z.height);h===void 0&&(h=x(ut,st));const vt=ve?x(ut,st):h;return vt.width=ut,vt.height=st,vt.getContext("2d").drawImage(Z,0,0,ut,st),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Z.width+"x"+Z.height+") to ("+ut+"x"+st+")."),vt}else return"data"in Z&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Z.width+"x"+Z.height+")."),Z;return Z}function y(Z){return EV(Z.width)&&EV(Z.height)}function b(Z){return l?!1:Z.wrapS!==lo||Z.wrapT!==lo||Z.minFilter!==is&&Z.minFilter!==Ei}function _(Z,J){return Z.generateMipmaps&&J&&Z.minFilter!==is&&Z.minFilter!==Ei}function j(Z){t.generateMipmap(Z)}function S(Z,J,ve,te,Te=!1){if(l===!1)return J;if(Z!==null){if(t[Z]!==void 0)return t[Z];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Z+"'")}let Be=J;if(J===t.RED&&(ve===t.FLOAT&&(Be=t.R32F),ve===t.HALF_FLOAT&&(Be=t.R16F),ve===t.UNSIGNED_BYTE&&(Be=t.R8)),J===t.RED_INTEGER&&(ve===t.UNSIGNED_BYTE&&(Be=t.R8UI),ve===t.UNSIGNED_SHORT&&(Be=t.R16UI),ve===t.UNSIGNED_INT&&(Be=t.R32UI),ve===t.BYTE&&(Be=t.R8I),ve===t.SHORT&&(Be=t.R16I),ve===t.INT&&(Be=t.R32I)),J===t.RG&&(ve===t.FLOAT&&(Be=t.RG32F),ve===t.HALF_FLOAT&&(Be=t.RG16F),ve===t.UNSIGNED_BYTE&&(Be=t.RG8)),J===t.RGBA){const ut=Te?u1:rr.getTransfer(te);ve===t.FLOAT&&(Be=t.RGBA32F),ve===t.HALF_FLOAT&&(Be=t.RGBA16F),ve===t.UNSIGNED_BYTE&&(Be=ut===fr?t.SRGB8_ALPHA8:t.RGBA8),ve===t.UNSIGNED_SHORT_4_4_4_4&&(Be=t.RGBA4),ve===t.UNSIGNED_SHORT_5_5_5_1&&(Be=t.RGB5_A1)}return(Be===t.R16F||Be===t.R32F||Be===t.RG16F||Be===t.RG32F||Be===t.RGBA16F||Be===t.RGBA32F)&&e.get("EXT_color_buffer_float"),Be}function C(Z,J,ve){return _(Z,ve)===!0||Z.isFramebufferTexture&&Z.minFilter!==is&&Z.minFilter!==Ei?Math.log2(Math.max(J.width,J.height))+1:Z.mipmaps!==void 0&&Z.mipmaps.length>0?Z.mipmaps.length:Z.isCompressedTexture&&Array.isArray(Z.image)?J.mipmaps.length:1}function E(Z){return Z===is||Z===Zq||Z===IA?t.NEAREST:t.LINEAR}function P(Z){const J=Z.target;J.removeEventListener("dispose",P),M(J),J.isVideoTexture&&u.delete(J)}function T(Z){const J=Z.target;J.removeEventListener("dispose",T),O(J)}function M(Z){const J=a.get(Z);if(J.__webglInit===void 0)return;const ve=Z.source,te=f.get(ve);if(te){const Te=te[J.__cacheKey];Te.usedTimes--,Te.usedTimes===0&&k(Z),Object.keys(te).length===0&&f.delete(ve)}a.remove(Z)}function k(Z){const J=a.get(Z);t.deleteTexture(J.__webglTexture);const ve=Z.source,te=f.get(ve);delete te[J.__cacheKey],o.memory.textures--}function O(Z){const J=Z.texture,ve=a.get(Z),te=a.get(J);if(te.__webglTexture!==void 0&&(t.deleteTexture(te.__webglTexture),o.memory.textures--),Z.depthTexture&&Z.depthTexture.dispose(),Z.isWebGLCubeRenderTarget)for(let Te=0;Te<6;Te++){if(Array.isArray(ve.__webglFramebuffer[Te]))for(let Be=0;Be<ve.__webglFramebuffer[Te].length;Be++)t.deleteFramebuffer(ve.__webglFramebuffer[Te][Be]);else t.deleteFramebuffer(ve.__webglFramebuffer[Te]);ve.__webglDepthbuffer&&t.deleteRenderbuffer(ve.__webglDepthbuffer[Te])}else{if(Array.isArray(ve.__webglFramebuffer))for(let Te=0;Te<ve.__webglFramebuffer.length;Te++)t.deleteFramebuffer(ve.__webglFramebuffer[Te]);else t.deleteFramebuffer(ve.__webglFramebuffer);if(ve.__webglDepthbuffer&&t.deleteRenderbuffer(ve.__webglDepthbuffer),ve.__webglMultisampledFramebuffer&&t.deleteFramebuffer(ve.__webglMultisampledFramebuffer),ve.__webglColorRenderbuffer)for(let Te=0;Te<ve.__webglColorRenderbuffer.length;Te++)ve.__webglColorRenderbuffer[Te]&&t.deleteRenderbuffer(ve.__webglColorRenderbuffer[Te]);ve.__webglDepthRenderbuffer&&t.deleteRenderbuffer(ve.__webglDepthRenderbuffer)}if(Z.isWebGLMultipleRenderTargets)for(let Te=0,Be=J.length;Te<Be;Te++){const ut=a.get(J[Te]);ut.__webglTexture&&(t.deleteTexture(ut.__webglTexture),o.memory.textures--),a.remove(J[Te])}a.remove(J),a.remove(Z)}let $=0;function F(){$=0}function B(){const Z=$;return Z>=s.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+Z+" texture units while this GPU supports only "+s.maxTextures),$+=1,Z}function G(Z){const J=[];return J.push(Z.wrapS),J.push(Z.wrapT),J.push(Z.wrapR||0),J.push(Z.magFilter),J.push(Z.minFilter),J.push(Z.anisotropy),J.push(Z.internalFormat),J.push(Z.format),J.push(Z.type),J.push(Z.generateMipmaps),J.push(Z.premultiplyAlpha),J.push(Z.flipY),J.push(Z.unpackAlignment),J.push(Z.colorSpace),J.join()}function I(Z,J){const ve=a.get(Z);if(Z.isVideoTexture&&at(Z),Z.isRenderTargetTexture===!1&&Z.version>0&&ve.__version!==Z.version){const te=Z.image;if(te===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(te.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{pe(ve,Z,J);return}}n.bindTexture(t.TEXTURE_2D,ve.__webglTexture,t.TEXTURE0+J)}function L(Z,J){const ve=a.get(Z);if(Z.version>0&&ve.__version!==Z.version){pe(ve,Z,J);return}n.bindTexture(t.TEXTURE_2D_ARRAY,ve.__webglTexture,t.TEXTURE0+J)}function U(Z,J){const ve=a.get(Z);if(Z.version>0&&ve.__version!==Z.version){pe(ve,Z,J);return}n.bindTexture(t.TEXTURE_3D,ve.__webglTexture,t.TEXTURE0+J)}function z(Z,J){const ve=a.get(Z);if(Z.version>0&&ve.__version!==Z.version){Pe(ve,Z,J);return}n.bindTexture(t.TEXTURE_CUBE_MAP,ve.__webglTexture,t.TEXTURE0+J)}const K={[g3]:t.REPEAT,[lo]:t.CLAMP_TO_EDGE,[v3]:t.MIRRORED_REPEAT},V={[is]:t.NEAREST,[Zq]:t.NEAREST_MIPMAP_NEAREST,[IA]:t.NEAREST_MIPMAP_LINEAR,[Ei]:t.LINEAR,[Vqe]:t.LINEAR_MIPMAP_NEAREST,[hg]:t.LINEAR_MIPMAP_LINEAR},Y={[nVe]:t.NEVER,[lVe]:t.ALWAYS,[rVe]:t.LESS,[nae]:t.LEQUAL,[aVe]:t.EQUAL,[oVe]:t.GEQUAL,[sVe]:t.GREATER,[iVe]:t.NOTEQUAL};function ee(Z,J,ve){if(ve?(t.texParameteri(Z,t.TEXTURE_WRAP_S,K[J.wrapS]),t.texParameteri(Z,t.TEXTURE_WRAP_T,K[J.wrapT]),(Z===t.TEXTURE_3D||Z===t.TEXTURE_2D_ARRAY)&&t.texParameteri(Z,t.TEXTURE_WRAP_R,K[J.wrapR]),t.texParameteri(Z,t.TEXTURE_MAG_FILTER,V[J.magFilter]),t.texParameteri(Z,t.TEXTURE_MIN_FILTER,V[J.minFilter])):(t.texParameteri(Z,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(Z,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),(Z===t.TEXTURE_3D||Z===t.TEXTURE_2D_ARRAY)&&t.texParameteri(Z,t.TEXTURE_WRAP_R,t.CLAMP_TO_EDGE),(J.wrapS!==lo||J.wrapT!==lo)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(Z,t.TEXTURE_MAG_FILTER,E(J.magFilter)),t.texParameteri(Z,t.TEXTURE_MIN_FILTER,E(J.minFilter)),J.minFilter!==is&&J.minFilter!==Ei&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),J.compareFunction&&(t.texParameteri(Z,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(Z,t.TEXTURE_COMPARE_FUNC,Y[J.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){const te=e.get("EXT_texture_filter_anisotropic");if(J.magFilter===is||J.minFilter!==IA&&J.minFilter!==hg||J.type===ed&&e.has("OES_texture_float_linear")===!1||l===!1&&J.type===mg&&e.has("OES_texture_half_float_linear")===!1)return;(J.anisotropy>1||a.get(J).__currentAnisotropy)&&(t.texParameterf(Z,te.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(J.anisotropy,s.getMaxAnisotropy())),a.get(J).__currentAnisotropy=J.anisotropy)}}function se(Z,J){let ve=!1;Z.__webglInit===void 0&&(Z.__webglInit=!0,J.addEventListener("dispose",P));const te=J.source;let Te=f.get(te);Te===void 0&&(Te={},f.set(te,Te));const Be=G(J);if(Be!==Z.__cacheKey){Te[Be]===void 0&&(Te[Be]={texture:t.createTexture(),usedTimes:0},o.memory.textures++,ve=!0),Te[Be].usedTimes++;const ut=Te[Z.__cacheKey];ut!==void 0&&(Te[Z.__cacheKey].usedTimes--,ut.usedTimes===0&&k(J)),Z.__cacheKey=Be,Z.__webglTexture=Te[Be].texture}return ve}function pe(Z,J,ve){let te=t.TEXTURE_2D;(J.isDataArrayTexture||J.isCompressedArrayTexture)&&(te=t.TEXTURE_2D_ARRAY),J.isData3DTexture&&(te=t.TEXTURE_3D);const Te=se(Z,J),Be=J.source;n.bindTexture(te,Z.__webglTexture,t.TEXTURE0+ve);const ut=a.get(Be);if(Be.version!==ut.__version||Te===!0){n.activeTexture(t.TEXTURE0+ve);const st=rr.getPrimaries(rr.workingColorSpace),vt=J.colorSpace===Ti?null:rr.getPrimaries(J.colorSpace),Ft=J.colorSpace===Ti||st===vt?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,J.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,J.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,J.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,Ft);const on=b(J)&&y(J.image)===!1;let Ge=g(J.image,on,!1,s.maxTextureSize);Ge=de(J,Ge);const Nn=y(Ge)||l,ln=i.convert(J.format,J.colorSpace);let Qt=i.convert(J.type),kt=S(J.internalFormat,ln,Qt,J.colorSpace,J.isVideoTexture);ee(te,J,Nn);let _t;const an=J.mipmaps,Cn=l&&J.isVideoTexture!==!0&&kt!==Jre,er=ut.__version===void 0||Te===!0,sn=C(J,Ge,Nn);if(J.isDepthTexture)kt=t.DEPTH_COMPONENT,l?J.type===ed?kt=t.DEPTH_COMPONENT32F:J.type===Jc?kt=t.DEPTH_COMPONENT24:J.type===Uu?kt=t.DEPTH24_STENCIL8:kt=t.DEPTH_COMPONENT16:J.type===ed&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),J.format===Bu&&kt===t.DEPTH_COMPONENT&&J.type!==PR&&J.type!==Jc&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),J.type=Jc,Qt=i.convert(J.type)),J.format===tp&&kt===t.DEPTH_COMPONENT&&(kt=t.DEPTH_STENCIL,J.type!==Uu&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),J.type=Uu,Qt=i.convert(J.type))),er&&(Cn?n.texStorage2D(t.TEXTURE_2D,1,kt,Ge.width,Ge.height):n.texImage2D(t.TEXTURE_2D,0,kt,Ge.width,Ge.height,0,ln,Qt,null));else if(J.isDataTexture)if(an.length>0&&Nn){Cn&&er&&n.texStorage2D(t.TEXTURE_2D,sn,kt,an[0].width,an[0].height);for(let Je=0,ue=an.length;Je<ue;Je++)_t=an[Je],Cn?n.texSubImage2D(t.TEXTURE_2D,Je,0,0,_t.width,_t.height,ln,Qt,_t.data):n.texImage2D(t.TEXTURE_2D,Je,kt,_t.width,_t.height,0,ln,Qt,_t.data);J.generateMipmaps=!1}else Cn?(er&&n.texStorage2D(t.TEXTURE_2D,sn,kt,Ge.width,Ge.height),n.texSubImage2D(t.TEXTURE_2D,0,0,0,Ge.width,Ge.height,ln,Qt,Ge.data)):n.texImage2D(t.TEXTURE_2D,0,kt,Ge.width,Ge.height,0,ln,Qt,Ge.data);else if(J.isCompressedTexture)if(J.isCompressedArrayTexture){Cn&&er&&n.texStorage3D(t.TEXTURE_2D_ARRAY,sn,kt,an[0].width,an[0].height,Ge.depth);for(let Je=0,ue=an.length;Je<ue;Je++)_t=an[Je],J.format!==co?ln!==null?Cn?n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Je,0,0,0,_t.width,_t.height,Ge.depth,ln,_t.data,0,0):n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,Je,kt,_t.width,_t.height,Ge.depth,0,_t.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Cn?n.texSubImage3D(t.TEXTURE_2D_ARRAY,Je,0,0,0,_t.width,_t.height,Ge.depth,ln,Qt,_t.data):n.texImage3D(t.TEXTURE_2D_ARRAY,Je,kt,_t.width,_t.height,Ge.depth,0,ln,Qt,_t.data)}else{Cn&&er&&n.texStorage2D(t.TEXTURE_2D,sn,kt,an[0].width,an[0].height);for(let Je=0,ue=an.length;Je<ue;Je++)_t=an[Je],J.format!==co?ln!==null?Cn?n.compressedTexSubImage2D(t.TEXTURE_2D,Je,0,0,_t.width,_t.height,ln,_t.data):n.compressedTexImage2D(t.TEXTURE_2D,Je,kt,_t.width,_t.height,0,_t.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Cn?n.texSubImage2D(t.TEXTURE_2D,Je,0,0,_t.width,_t.height,ln,Qt,_t.data):n.texImage2D(t.TEXTURE_2D,Je,kt,_t.width,_t.height,0,ln,Qt,_t.data)}else if(J.isDataArrayTexture)Cn?(er&&n.texStorage3D(t.TEXTURE_2D_ARRAY,sn,kt,Ge.width,Ge.height,Ge.depth),n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,Ge.width,Ge.height,Ge.depth,ln,Qt,Ge.data)):n.texImage3D(t.TEXTURE_2D_ARRAY,0,kt,Ge.width,Ge.height,Ge.depth,0,ln,Qt,Ge.data);else if(J.isData3DTexture)Cn?(er&&n.texStorage3D(t.TEXTURE_3D,sn,kt,Ge.width,Ge.height,Ge.depth),n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,Ge.width,Ge.height,Ge.depth,ln,Qt,Ge.data)):n.texImage3D(t.TEXTURE_3D,0,kt,Ge.width,Ge.height,Ge.depth,0,ln,Qt,Ge.data);else if(J.isFramebufferTexture){if(er)if(Cn)n.texStorage2D(t.TEXTURE_2D,sn,kt,Ge.width,Ge.height);else{let Je=Ge.width,ue=Ge.height;for(let Ze=0;Ze<sn;Ze++)n.texImage2D(t.TEXTURE_2D,Ze,kt,Je,ue,0,ln,Qt,null),Je>>=1,ue>>=1}}else if(an.length>0&&Nn){Cn&&er&&n.texStorage2D(t.TEXTURE_2D,sn,kt,an[0].width,an[0].height);for(let Je=0,ue=an.length;Je<ue;Je++)_t=an[Je],Cn?n.texSubImage2D(t.TEXTURE_2D,Je,0,0,ln,Qt,_t):n.texImage2D(t.TEXTURE_2D,Je,kt,ln,Qt,_t);J.generateMipmaps=!1}else Cn?(er&&n.texStorage2D(t.TEXTURE_2D,sn,kt,Ge.width,Ge.height),n.texSubImage2D(t.TEXTURE_2D,0,0,0,ln,Qt,Ge)):n.texImage2D(t.TEXTURE_2D,0,kt,ln,Qt,Ge);_(J,Nn)&&j(te),ut.__version=Be.version,J.onUpdate&&J.onUpdate(J)}Z.__version=J.version}function Pe(Z,J,ve){if(J.image.length!==6)return;const te=se(Z,J),Te=J.source;n.bindTexture(t.TEXTURE_CUBE_MAP,Z.__webglTexture,t.TEXTURE0+ve);const Be=a.get(Te);if(Te.version!==Be.__version||te===!0){n.activeTexture(t.TEXTURE0+ve);const ut=rr.getPrimaries(rr.workingColorSpace),st=J.colorSpace===Ti?null:rr.getPrimaries(J.colorSpace),vt=J.colorSpace===Ti||ut===st?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,J.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,J.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,J.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,vt);const Ft=J.isCompressedTexture||J.image[0].isCompressedTexture,on=J.image[0]&&J.image[0].isDataTexture,Ge=[];for(let Je=0;Je<6;Je++)!Ft&&!on?Ge[Je]=g(J.image[Je],!1,!0,s.maxCubemapSize):Ge[Je]=on?J.image[Je].image:J.image[Je],Ge[Je]=de(J,Ge[Je]);const Nn=Ge[0],ln=y(Nn)||l,Qt=i.convert(J.format,J.colorSpace),kt=i.convert(J.type),_t=S(J.internalFormat,Qt,kt,J.colorSpace),an=l&&J.isVideoTexture!==!0,Cn=Be.__version===void 0||te===!0;let er=C(J,Nn,ln);ee(t.TEXTURE_CUBE_MAP,J,ln);let sn;if(Ft){an&&Cn&&n.texStorage2D(t.TEXTURE_CUBE_MAP,er,_t,Nn.width,Nn.height);for(let Je=0;Je<6;Je++){sn=Ge[Je].mipmaps;for(let ue=0;ue<sn.length;ue++){const Ze=sn[ue];J.format!==co?Qt!==null?an?n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Je,ue,0,0,Ze.width,Ze.height,Qt,Ze.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Je,ue,_t,Ze.width,Ze.height,0,Ze.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):an?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Je,ue,0,0,Ze.width,Ze.height,Qt,kt,Ze.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Je,ue,_t,Ze.width,Ze.height,0,Qt,kt,Ze.data)}}}else{sn=J.mipmaps,an&&Cn&&(sn.length>0&&er++,n.texStorage2D(t.TEXTURE_CUBE_MAP,er,_t,Ge[0].width,Ge[0].height));for(let Je=0;Je<6;Je++)if(on){an?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Je,0,0,0,Ge[Je].width,Ge[Je].height,Qt,kt,Ge[Je].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Je,0,_t,Ge[Je].width,Ge[Je].height,0,Qt,kt,Ge[Je].data);for(let ue=0;ue<sn.length;ue++){const tt=sn[ue].image[Je].image;an?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Je,ue+1,0,0,tt.width,tt.height,Qt,kt,tt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Je,ue+1,_t,tt.width,tt.height,0,Qt,kt,tt.data)}}else{an?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Je,0,0,0,Qt,kt,Ge[Je]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Je,0,_t,Qt,kt,Ge[Je]);for(let ue=0;ue<sn.length;ue++){const Ze=sn[ue];an?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Je,ue+1,0,0,Qt,kt,Ze.image[Je]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Je,ue+1,_t,Qt,kt,Ze.image[Je])}}}_(J,ln)&&j(t.TEXTURE_CUBE_MAP),Be.__version=Te.version,J.onUpdate&&J.onUpdate(J)}Z.__version=J.version}function xe(Z,J,ve,te,Te,Be){const ut=i.convert(ve.format,ve.colorSpace),st=i.convert(ve.type),vt=S(ve.internalFormat,ut,st,ve.colorSpace);if(!a.get(J).__hasExternalTextures){const on=Math.max(1,J.width>>Be),Ge=Math.max(1,J.height>>Be);Te===t.TEXTURE_3D||Te===t.TEXTURE_2D_ARRAY?n.texImage3D(Te,Be,vt,on,Ge,J.depth,0,ut,st,null):n.texImage2D(Te,Be,vt,on,Ge,0,ut,st,null)}n.bindFramebuffer(t.FRAMEBUFFER,Z),Ve(J)?c.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,te,Te,a.get(ve).__webglTexture,0,Xe(J)):(Te===t.TEXTURE_2D||Te>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&Te<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,te,Te,a.get(ve).__webglTexture,Be),n.bindFramebuffer(t.FRAMEBUFFER,null)}function Ie(Z,J,ve){if(t.bindRenderbuffer(t.RENDERBUFFER,Z),J.depthBuffer&&!J.stencilBuffer){let te=l===!0?t.DEPTH_COMPONENT24:t.DEPTH_COMPONENT16;if(ve||Ve(J)){const Te=J.depthTexture;Te&&Te.isDepthTexture&&(Te.type===ed?te=t.DEPTH_COMPONENT32F:Te.type===Jc&&(te=t.DEPTH_COMPONENT24));const Be=Xe(J);Ve(J)?c.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Be,te,J.width,J.height):t.renderbufferStorageMultisample(t.RENDERBUFFER,Be,te,J.width,J.height)}else t.renderbufferStorage(t.RENDERBUFFER,te,J.width,J.height);t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,Z)}else if(J.depthBuffer&&J.stencilBuffer){const te=Xe(J);ve&&Ve(J)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,te,t.DEPTH24_STENCIL8,J.width,J.height):Ve(J)?c.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,te,t.DEPTH24_STENCIL8,J.width,J.height):t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,J.width,J.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,Z)}else{const te=J.isWebGLMultipleRenderTargets===!0?J.texture:[J.texture];for(let Te=0;Te<te.length;Te++){const Be=te[Te],ut=i.convert(Be.format,Be.colorSpace),st=i.convert(Be.type),vt=S(Be.internalFormat,ut,st,Be.colorSpace),Ft=Xe(J);ve&&Ve(J)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,Ft,vt,J.width,J.height):Ve(J)?c.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Ft,vt,J.width,J.height):t.renderbufferStorage(t.RENDERBUFFER,vt,J.width,J.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function fe(Z,J){if(J&&J.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,Z),!(J.depthTexture&&J.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!a.get(J.depthTexture).__webglTexture||J.depthTexture.image.width!==J.width||J.depthTexture.image.height!==J.height)&&(J.depthTexture.image.width=J.width,J.depthTexture.image.height=J.height,J.depthTexture.needsUpdate=!0),I(J.depthTexture,0);const te=a.get(J.depthTexture).__webglTexture,Te=Xe(J);if(J.depthTexture.format===Bu)Ve(J)?c.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,te,0,Te):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,te,0);else if(J.depthTexture.format===tp)Ve(J)?c.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,te,0,Te):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,te,0);else throw new Error("Unknown depthTexture format")}function Ne(Z){const J=a.get(Z),ve=Z.isWebGLCubeRenderTarget===!0;if(Z.depthTexture&&!J.__autoAllocateDepthBuffer){if(ve)throw new Error("target.depthTexture not supported in Cube render targets");fe(J.__webglFramebuffer,Z)}else if(ve){J.__webglDepthbuffer=[];for(let te=0;te<6;te++)n.bindFramebuffer(t.FRAMEBUFFER,J.__webglFramebuffer[te]),J.__webglDepthbuffer[te]=t.createRenderbuffer(),Ie(J.__webglDepthbuffer[te],Z,!1)}else n.bindFramebuffer(t.FRAMEBUFFER,J.__webglFramebuffer),J.__webglDepthbuffer=t.createRenderbuffer(),Ie(J.__webglDepthbuffer,Z,!1);n.bindFramebuffer(t.FRAMEBUFFER,null)}function Le(Z,J,ve){const te=a.get(Z);J!==void 0&&xe(te.__webglFramebuffer,Z,Z.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),ve!==void 0&&Ne(Z)}function re(Z){const J=Z.texture,ve=a.get(Z),te=a.get(J);Z.addEventListener("dispose",T),Z.isWebGLMultipleRenderTargets!==!0&&(te.__webglTexture===void 0&&(te.__webglTexture=t.createTexture()),te.__version=J.version,o.memory.textures++);const Te=Z.isWebGLCubeRenderTarget===!0,Be=Z.isWebGLMultipleRenderTargets===!0,ut=y(Z)||l;if(Te){ve.__webglFramebuffer=[];for(let st=0;st<6;st++)if(l&&J.mipmaps&&J.mipmaps.length>0){ve.__webglFramebuffer[st]=[];for(let vt=0;vt<J.mipmaps.length;vt++)ve.__webglFramebuffer[st][vt]=t.createFramebuffer()}else ve.__webglFramebuffer[st]=t.createFramebuffer()}else{if(l&&J.mipmaps&&J.mipmaps.length>0){ve.__webglFramebuffer=[];for(let st=0;st<J.mipmaps.length;st++)ve.__webglFramebuffer[st]=t.createFramebuffer()}else ve.__webglFramebuffer=t.createFramebuffer();if(Be)if(s.drawBuffers){const st=Z.texture;for(let vt=0,Ft=st.length;vt<Ft;vt++){const on=a.get(st[vt]);on.__webglTexture===void 0&&(on.__webglTexture=t.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(l&&Z.samples>0&&Ve(Z)===!1){const st=Be?J:[J];ve.__webglMultisampledFramebuffer=t.createFramebuffer(),ve.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,ve.__webglMultisampledFramebuffer);for(let vt=0;vt<st.length;vt++){const Ft=st[vt];ve.__webglColorRenderbuffer[vt]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,ve.__webglColorRenderbuffer[vt]);const on=i.convert(Ft.format,Ft.colorSpace),Ge=i.convert(Ft.type),Nn=S(Ft.internalFormat,on,Ge,Ft.colorSpace,Z.isXRRenderTarget===!0),ln=Xe(Z);t.renderbufferStorageMultisample(t.RENDERBUFFER,ln,Nn,Z.width,Z.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+vt,t.RENDERBUFFER,ve.__webglColorRenderbuffer[vt])}t.bindRenderbuffer(t.RENDERBUFFER,null),Z.depthBuffer&&(ve.__webglDepthRenderbuffer=t.createRenderbuffer(),Ie(ve.__webglDepthRenderbuffer,Z,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(Te){n.bindTexture(t.TEXTURE_CUBE_MAP,te.__webglTexture),ee(t.TEXTURE_CUBE_MAP,J,ut);for(let st=0;st<6;st++)if(l&&J.mipmaps&&J.mipmaps.length>0)for(let vt=0;vt<J.mipmaps.length;vt++)xe(ve.__webglFramebuffer[st][vt],Z,J,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+st,vt);else xe(ve.__webglFramebuffer[st],Z,J,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+st,0);_(J,ut)&&j(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(Be){const st=Z.texture;for(let vt=0,Ft=st.length;vt<Ft;vt++){const on=st[vt],Ge=a.get(on);n.bindTexture(t.TEXTURE_2D,Ge.__webglTexture),ee(t.TEXTURE_2D,on,ut),xe(ve.__webglFramebuffer,Z,on,t.COLOR_ATTACHMENT0+vt,t.TEXTURE_2D,0),_(on,ut)&&j(t.TEXTURE_2D)}n.unbindTexture()}else{let st=t.TEXTURE_2D;if((Z.isWebGL3DRenderTarget||Z.isWebGLArrayRenderTarget)&&(l?st=Z.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(st,te.__webglTexture),ee(st,J,ut),l&&J.mipmaps&&J.mipmaps.length>0)for(let vt=0;vt<J.mipmaps.length;vt++)xe(ve.__webglFramebuffer[vt],Z,J,t.COLOR_ATTACHMENT0,st,vt);else xe(ve.__webglFramebuffer,Z,J,t.COLOR_ATTACHMENT0,st,0);_(J,ut)&&j(st),n.unbindTexture()}Z.depthBuffer&&Ne(Z)}function he(Z){const J=y(Z)||l,ve=Z.isWebGLMultipleRenderTargets===!0?Z.texture:[Z.texture];for(let te=0,Te=ve.length;te<Te;te++){const Be=ve[te];if(_(Be,J)){const ut=Z.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,st=a.get(Be).__webglTexture;n.bindTexture(ut,st),j(ut),n.unbindTexture()}}}function Ee(Z){if(l&&Z.samples>0&&Ve(Z)===!1){const J=Z.isWebGLMultipleRenderTargets?Z.texture:[Z.texture],ve=Z.width,te=Z.height;let Te=t.COLOR_BUFFER_BIT;const Be=[],ut=Z.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,st=a.get(Z),vt=Z.isWebGLMultipleRenderTargets===!0;if(vt)for(let Ft=0;Ft<J.length;Ft++)n.bindFramebuffer(t.FRAMEBUFFER,st.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Ft,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,st.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Ft,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,st.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,st.__webglFramebuffer);for(let Ft=0;Ft<J.length;Ft++){Be.push(t.COLOR_ATTACHMENT0+Ft),Z.depthBuffer&&Be.push(ut);const on=st.__ignoreDepthValues!==void 0?st.__ignoreDepthValues:!1;if(on===!1&&(Z.depthBuffer&&(Te|=t.DEPTH_BUFFER_BIT),Z.stencilBuffer&&(Te|=t.STENCIL_BUFFER_BIT)),vt&&t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,st.__webglColorRenderbuffer[Ft]),on===!0&&(t.invalidateFramebuffer(t.READ_FRAMEBUFFER,[ut]),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[ut])),vt){const Ge=a.get(J[Ft]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,Ge,0)}t.blitFramebuffer(0,0,ve,te,0,0,ve,te,Te,t.NEAREST),d&&t.invalidateFramebuffer(t.READ_FRAMEBUFFER,Be)}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),vt)for(let Ft=0;Ft<J.length;Ft++){n.bindFramebuffer(t.FRAMEBUFFER,st.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Ft,t.RENDERBUFFER,st.__webglColorRenderbuffer[Ft]);const on=a.get(J[Ft]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,st.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Ft,t.TEXTURE_2D,on,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,st.__webglMultisampledFramebuffer)}}function Xe(Z){return Math.min(s.maxSamples,Z.samples)}function Ve(Z){const J=a.get(Z);return l&&Z.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&J.__useRenderToTexture!==!1}function at(Z){const J=o.render.frame;u.get(Z)!==J&&(u.set(Z,J),Z.update())}function de(Z,J){const ve=Z.colorSpace,te=Z.format,Te=Z.type;return Z.isCompressedTexture===!0||Z.isVideoTexture===!0||Z.format===y3||ve!==Jl&&ve!==Ti&&(rr.getTransfer(ve)===fr?l===!1?e.has("EXT_sRGB")===!0&&te===co?(Z.format=y3,Z.minFilter=Ei,Z.generateMipmaps=!1):J=aae.sRGBToLinear(J):(te!==co||Te!==od)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ve)),J}this.allocateTextureUnit=B,this.resetTextureUnits=F,this.setTexture2D=I,this.setTexture2DArray=L,this.setTexture3D=U,this.setTextureCube=z,this.rebindTextures=Le,this.setupRenderTarget=re,this.updateRenderTargetMipmap=he,this.updateMultisampleRenderTarget=Ee,this.setupDepthRenderbuffer=Ne,this.setupFrameBufferTexture=xe,this.useMultisampledRTT=Ve}function dKe(t,e,n){const a=n.isWebGL2;function s(i,o=Ti){let l;const c=rr.getTransfer(o);if(i===od)return t.UNSIGNED_BYTE;if(i===Kre)return t.UNSIGNED_SHORT_4_4_4_4;if(i===Xre)return t.UNSIGNED_SHORT_5_5_5_1;if(i===Hqe)return t.BYTE;if(i===Gqe)return t.SHORT;if(i===PR)return t.UNSIGNED_SHORT;if(i===Wre)return t.INT;if(i===Jc)return t.UNSIGNED_INT;if(i===ed)return t.FLOAT;if(i===mg)return a?t.HALF_FLOAT:(l=e.get("OES_texture_half_float"),l!==null?l.HALF_FLOAT_OES:null);if(i===Wqe)return t.ALPHA;if(i===co)return t.RGBA;if(i===Kqe)return t.LUMINANCE;if(i===Xqe)return t.LUMINANCE_ALPHA;if(i===Bu)return t.DEPTH_COMPONENT;if(i===tp)return t.DEPTH_STENCIL;if(i===y3)return l=e.get("EXT_sRGB"),l!==null?l.SRGB_ALPHA_EXT:null;if(i===Yqe)return t.RED;if(i===Yre)return t.RED_INTEGER;if(i===Qqe)return t.RG;if(i===Qre)return t.RG_INTEGER;if(i===Zre)return t.RGBA_INTEGER;if(i===LA||i===FA||i===$A||i===UA)if(c===fr)if(l=e.get("WEBGL_compressed_texture_s3tc_srgb"),l!==null){if(i===LA)return l.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===FA)return l.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===$A)return l.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===UA)return l.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(l=e.get("WEBGL_compressed_texture_s3tc"),l!==null){if(i===LA)return l.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===FA)return l.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===$A)return l.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===UA)return l.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===Jq||i===eV||i===tV||i===nV)if(l=e.get("WEBGL_compressed_texture_pvrtc"),l!==null){if(i===Jq)return l.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===eV)return l.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===tV)return l.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===nV)return l.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===Jre)return l=e.get("WEBGL_compressed_texture_etc1"),l!==null?l.COMPRESSED_RGB_ETC1_WEBGL:null;if(i===rV||i===aV)if(l=e.get("WEBGL_compressed_texture_etc"),l!==null){if(i===rV)return c===fr?l.COMPRESSED_SRGB8_ETC2:l.COMPRESSED_RGB8_ETC2;if(i===aV)return c===fr?l.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:l.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(i===sV||i===iV||i===oV||i===lV||i===cV||i===dV||i===uV||i===hV||i===mV||i===fV||i===pV||i===xV||i===gV||i===vV)if(l=e.get("WEBGL_compressed_texture_astc"),l!==null){if(i===sV)return c===fr?l.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:l.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===iV)return c===fr?l.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:l.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===oV)return c===fr?l.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:l.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===lV)return c===fr?l.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:l.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===cV)return c===fr?l.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:l.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===dV)return c===fr?l.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:l.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===uV)return c===fr?l.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:l.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===hV)return c===fr?l.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:l.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===mV)return c===fr?l.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:l.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===fV)return c===fr?l.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:l.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===pV)return c===fr?l.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:l.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===xV)return c===fr?l.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:l.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===gV)return c===fr?l.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:l.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===vV)return c===fr?l.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:l.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===BA||i===yV||i===bV)if(l=e.get("EXT_texture_compression_bptc"),l!==null){if(i===BA)return c===fr?l.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:l.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===yV)return l.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===bV)return l.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===Zqe||i===wV||i===_V||i===jV)if(l=e.get("EXT_texture_compression_rgtc"),l!==null){if(i===BA)return l.COMPRESSED_RED_RGTC1_EXT;if(i===wV)return l.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===_V)return l.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===jV)return l.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===Uu?a?t.UNSIGNED_INT_24_8:(l=e.get("WEBGL_depth_texture"),l!==null?l.UNSIGNED_INT_24_8_WEBGL:null):t[i]!==void 0?t[i]:null}return{convert:s}}class uKe extends Ai{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class ub extends Za{constructor(){super(),this.isGroup=!0,this.type="Group"}}const hKe={type:"move"};class hM{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new ub,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new ub,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Re,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Re),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new ub,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Re,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Re),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const a of e.hand.values())this._getHandJoint(n,a)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,a){let s=null,i=null,o=null;const l=this._targetRay,c=this._grip,d=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(d&&e.hand){o=!0;for(const g of e.hand.values()){const y=n.getJointPose(g,a),b=this._getHandJoint(d,g);y!==null&&(b.matrix.fromArray(y.transform.matrix),b.matrix.decompose(b.position,b.rotation,b.scale),b.matrixWorldNeedsUpdate=!0,b.jointRadius=y.radius),b.visible=y!==null}const u=d.joints["index-finger-tip"],h=d.joints["thumb-tip"],f=u.position.distanceTo(h.position),v=.02,x=.005;d.inputState.pinching&&f>v+x?(d.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!d.inputState.pinching&&f<=v-x&&(d.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else c!==null&&e.gripSpace&&(i=n.getPose(e.gripSpace,a),i!==null&&(c.matrix.fromArray(i.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale),c.matrixWorldNeedsUpdate=!0,i.linearVelocity?(c.hasLinearVelocity=!0,c.linearVelocity.copy(i.linearVelocity)):c.hasLinearVelocity=!1,i.angularVelocity?(c.hasAngularVelocity=!0,c.angularVelocity.copy(i.angularVelocity)):c.hasAngularVelocity=!1));l!==null&&(s=n.getPose(e.targetRaySpace,a),s===null&&i!==null&&(s=i),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1,this.dispatchEvent(hKe)))}return l!==null&&(l.visible=s!==null),c!==null&&(c.visible=i!==null),d!==null&&(d.visible=o!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const a=new ub;a.matrixAutoUpdate=!1,a.visible=!1,e.joints[n.jointName]=a,e.add(a)}return e.joints[n.jointName]}}class mKe extends kp{constructor(e,n){super();const a=this;let s=null,i=1,o=null,l="local-floor",c=1,d=null,u=null,h=null,f=null,v=null,x=null;const g=n.getContextAttributes();let y=null,b=null;const _=[],j=[],S=new Un;let C=null;const E=new Ai;E.layers.enable(1),E.viewport=new Ca;const P=new Ai;P.layers.enable(2),P.viewport=new Ca;const T=[E,P],M=new uKe;M.layers.enable(1),M.layers.enable(2);let k=null,O=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ee){let se=_[ee];return se===void 0&&(se=new hM,_[ee]=se),se.getTargetRaySpace()},this.getControllerGrip=function(ee){let se=_[ee];return se===void 0&&(se=new hM,_[ee]=se),se.getGripSpace()},this.getHand=function(ee){let se=_[ee];return se===void 0&&(se=new hM,_[ee]=se),se.getHandSpace()};function $(ee){const se=j.indexOf(ee.inputSource);if(se===-1)return;const pe=_[se];pe!==void 0&&(pe.update(ee.inputSource,ee.frame,d||o),pe.dispatchEvent({type:ee.type,data:ee.inputSource}))}function F(){s.removeEventListener("select",$),s.removeEventListener("selectstart",$),s.removeEventListener("selectend",$),s.removeEventListener("squeeze",$),s.removeEventListener("squeezestart",$),s.removeEventListener("squeezeend",$),s.removeEventListener("end",F),s.removeEventListener("inputsourceschange",B);for(let ee=0;ee<_.length;ee++){const se=j[ee];se!==null&&(j[ee]=null,_[ee].disconnect(se))}k=null,O=null,e.setRenderTarget(y),v=null,f=null,h=null,s=null,b=null,Y.stop(),a.isPresenting=!1,e.setPixelRatio(C),e.setSize(S.width,S.height,!1),a.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ee){i=ee,a.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ee){l=ee,a.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return d||o},this.setReferenceSpace=function(ee){d=ee},this.getBaseLayer=function(){return f!==null?f:v},this.getBinding=function(){return h},this.getFrame=function(){return x},this.getSession=function(){return s},this.setSession=async function(ee){if(s=ee,s!==null){if(y=e.getRenderTarget(),s.addEventListener("select",$),s.addEventListener("selectstart",$),s.addEventListener("selectend",$),s.addEventListener("squeeze",$),s.addEventListener("squeezestart",$),s.addEventListener("squeezeend",$),s.addEventListener("end",F),s.addEventListener("inputsourceschange",B),g.xrCompatible!==!0&&await n.makeXRCompatible(),C=e.getPixelRatio(),e.getSize(S),s.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const se={antialias:s.renderState.layers===void 0?g.antialias:!0,alpha:!0,depth:g.depth,stencil:g.stencil,framebufferScaleFactor:i};v=new XRWebGLLayer(s,n,se),s.updateRenderState({baseLayer:v}),e.setPixelRatio(1),e.setSize(v.framebufferWidth,v.framebufferHeight,!1),b=new lh(v.framebufferWidth,v.framebufferHeight,{format:co,type:od,colorSpace:e.outputColorSpace,stencilBuffer:g.stencil})}else{let se=null,pe=null,Pe=null;g.depth&&(Pe=g.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,se=g.stencil?tp:Bu,pe=g.stencil?Uu:Jc);const xe={colorFormat:n.RGBA8,depthFormat:Pe,scaleFactor:i};h=new XRWebGLBinding(s,n),f=h.createProjectionLayer(xe),s.updateRenderState({layers:[f]}),e.setPixelRatio(1),e.setSize(f.textureWidth,f.textureHeight,!1),b=new lh(f.textureWidth,f.textureHeight,{format:co,type:od,depthTexture:new gae(f.textureWidth,f.textureHeight,pe,void 0,void 0,void 0,void 0,void 0,void 0,se),stencilBuffer:g.stencil,colorSpace:e.outputColorSpace,samples:g.antialias?4:0});const Ie=e.properties.get(b);Ie.__ignoreDepthValues=f.ignoreDepthValues}b.isXRRenderTarget=!0,this.setFoveation(c),d=null,o=await s.requestReferenceSpace(l),Y.setContext(s),Y.start(),a.isPresenting=!0,a.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(s!==null)return s.environmentBlendMode};function B(ee){for(let se=0;se<ee.removed.length;se++){const pe=ee.removed[se],Pe=j.indexOf(pe);Pe>=0&&(j[Pe]=null,_[Pe].disconnect(pe))}for(let se=0;se<ee.added.length;se++){const pe=ee.added[se];let Pe=j.indexOf(pe);if(Pe===-1){for(let Ie=0;Ie<_.length;Ie++)if(Ie>=j.length){j.push(pe),Pe=Ie;break}else if(j[Ie]===null){j[Ie]=pe,Pe=Ie;break}if(Pe===-1)break}const xe=_[Pe];xe&&xe.connect(pe)}}const G=new Re,I=new Re;function L(ee,se,pe){G.setFromMatrixPosition(se.matrixWorld),I.setFromMatrixPosition(pe.matrixWorld);const Pe=G.distanceTo(I),xe=se.projectionMatrix.elements,Ie=pe.projectionMatrix.elements,fe=xe[14]/(xe[10]-1),Ne=xe[14]/(xe[10]+1),Le=(xe[9]+1)/xe[5],re=(xe[9]-1)/xe[5],he=(xe[8]-1)/xe[0],Ee=(Ie[8]+1)/Ie[0],Xe=fe*he,Ve=fe*Ee,at=Pe/(-he+Ee),de=at*-he;se.matrixWorld.decompose(ee.position,ee.quaternion,ee.scale),ee.translateX(de),ee.translateZ(at),ee.matrixWorld.compose(ee.position,ee.quaternion,ee.scale),ee.matrixWorldInverse.copy(ee.matrixWorld).invert();const Z=fe+at,J=Ne+at,ve=Xe-de,te=Ve+(Pe-de),Te=Le*Ne/J*Z,Be=re*Ne/J*Z;ee.projectionMatrix.makePerspective(ve,te,Te,Be,Z,J),ee.projectionMatrixInverse.copy(ee.projectionMatrix).invert()}function U(ee,se){se===null?ee.matrixWorld.copy(ee.matrix):ee.matrixWorld.multiplyMatrices(se.matrixWorld,ee.matrix),ee.matrixWorldInverse.copy(ee.matrixWorld).invert()}this.updateCamera=function(ee){if(s===null)return;M.near=P.near=E.near=ee.near,M.far=P.far=E.far=ee.far,(k!==M.near||O!==M.far)&&(s.updateRenderState({depthNear:M.near,depthFar:M.far}),k=M.near,O=M.far);const se=ee.parent,pe=M.cameras;U(M,se);for(let Pe=0;Pe<pe.length;Pe++)U(pe[Pe],se);pe.length===2?L(M,E,P):M.projectionMatrix.copy(E.projectionMatrix),z(ee,M,se)};function z(ee,se,pe){pe===null?ee.matrix.copy(se.matrixWorld):(ee.matrix.copy(pe.matrixWorld),ee.matrix.invert(),ee.matrix.multiply(se.matrixWorld)),ee.matrix.decompose(ee.position,ee.quaternion,ee.scale),ee.updateMatrixWorld(!0),ee.projectionMatrix.copy(se.projectionMatrix),ee.projectionMatrixInverse.copy(se.projectionMatrixInverse),ee.isPerspectiveCamera&&(ee.fov=b3*2*Math.atan(1/ee.projectionMatrix.elements[5]),ee.zoom=1)}this.getCamera=function(){return M},this.getFoveation=function(){if(!(f===null&&v===null))return c},this.setFoveation=function(ee){c=ee,f!==null&&(f.fixedFoveation=ee),v!==null&&v.fixedFoveation!==void 0&&(v.fixedFoveation=ee)};let K=null;function V(ee,se){if(u=se.getViewerPose(d||o),x=se,u!==null){const pe=u.views;v!==null&&(e.setRenderTargetFramebuffer(b,v.framebuffer),e.setRenderTarget(b));let Pe=!1;pe.length!==M.cameras.length&&(M.cameras.length=0,Pe=!0);for(let xe=0;xe<pe.length;xe++){const Ie=pe[xe];let fe=null;if(v!==null)fe=v.getViewport(Ie);else{const Le=h.getViewSubImage(f,Ie);fe=Le.viewport,xe===0&&(e.setRenderTargetTextures(b,Le.colorTexture,f.ignoreDepthValues?void 0:Le.depthStencilTexture),e.setRenderTarget(b))}let Ne=T[xe];Ne===void 0&&(Ne=new Ai,Ne.layers.enable(xe),Ne.viewport=new Ca,T[xe]=Ne),Ne.matrix.fromArray(Ie.transform.matrix),Ne.matrix.decompose(Ne.position,Ne.quaternion,Ne.scale),Ne.projectionMatrix.fromArray(Ie.projectionMatrix),Ne.projectionMatrixInverse.copy(Ne.projectionMatrix).invert(),Ne.viewport.set(fe.x,fe.y,fe.width,fe.height),xe===0&&(M.matrix.copy(Ne.matrix),M.matrix.decompose(M.position,M.quaternion,M.scale)),Pe===!0&&M.cameras.push(Ne)}}for(let pe=0;pe<_.length;pe++){const Pe=j[pe],xe=_[pe];Pe!==null&&xe!==void 0&&xe.update(Pe,se,d||o)}K&&K(ee,se),se.detectedPlanes&&a.dispatchEvent({type:"planesdetected",data:se}),x=null}const Y=new pae;Y.setAnimationLoop(V),this.setAnimationLoop=function(ee){K=ee},this.dispose=function(){}}}function fKe(t,e){function n(y,b){y.matrixAutoUpdate===!0&&y.updateMatrix(),b.value.copy(y.matrix)}function a(y,b){b.color.getRGB(y.fogColor.value,hae(t)),b.isFog?(y.fogNear.value=b.near,y.fogFar.value=b.far):b.isFogExp2&&(y.fogDensity.value=b.density)}function s(y,b,_,j,S){b.isMeshBasicMaterial||b.isMeshLambertMaterial?i(y,b):b.isMeshToonMaterial?(i(y,b),h(y,b)):b.isMeshPhongMaterial?(i(y,b),u(y,b)):b.isMeshStandardMaterial?(i(y,b),f(y,b),b.isMeshPhysicalMaterial&&v(y,b,S)):b.isMeshMatcapMaterial?(i(y,b),x(y,b)):b.isMeshDepthMaterial?i(y,b):b.isMeshDistanceMaterial?(i(y,b),g(y,b)):b.isMeshNormalMaterial?i(y,b):b.isLineBasicMaterial?(o(y,b),b.isLineDashedMaterial&&l(y,b)):b.isPointsMaterial?c(y,b,_,j):b.isSpriteMaterial?d(y,b):b.isShadowMaterial?(y.color.value.copy(b.color),y.opacity.value=b.opacity):b.isShaderMaterial&&(b.uniformsNeedUpdate=!1)}function i(y,b){y.opacity.value=b.opacity,b.color&&y.diffuse.value.copy(b.color),b.emissive&&y.emissive.value.copy(b.emissive).multiplyScalar(b.emissiveIntensity),b.map&&(y.map.value=b.map,n(b.map,y.mapTransform)),b.alphaMap&&(y.alphaMap.value=b.alphaMap,n(b.alphaMap,y.alphaMapTransform)),b.bumpMap&&(y.bumpMap.value=b.bumpMap,n(b.bumpMap,y.bumpMapTransform),y.bumpScale.value=b.bumpScale,b.side===Ls&&(y.bumpScale.value*=-1)),b.normalMap&&(y.normalMap.value=b.normalMap,n(b.normalMap,y.normalMapTransform),y.normalScale.value.copy(b.normalScale),b.side===Ls&&y.normalScale.value.negate()),b.displacementMap&&(y.displacementMap.value=b.displacementMap,n(b.displacementMap,y.displacementMapTransform),y.displacementScale.value=b.displacementScale,y.displacementBias.value=b.displacementBias),b.emissiveMap&&(y.emissiveMap.value=b.emissiveMap,n(b.emissiveMap,y.emissiveMapTransform)),b.specularMap&&(y.specularMap.value=b.specularMap,n(b.specularMap,y.specularMapTransform)),b.alphaTest>0&&(y.alphaTest.value=b.alphaTest);const _=e.get(b).envMap;if(_&&(y.envMap.value=_,y.flipEnvMap.value=_.isCubeTexture&&_.isRenderTargetTexture===!1?-1:1,y.reflectivity.value=b.reflectivity,y.ior.value=b.ior,y.refractionRatio.value=b.refractionRatio),b.lightMap){y.lightMap.value=b.lightMap;const j=t._useLegacyLights===!0?Math.PI:1;y.lightMapIntensity.value=b.lightMapIntensity*j,n(b.lightMap,y.lightMapTransform)}b.aoMap&&(y.aoMap.value=b.aoMap,y.aoMapIntensity.value=b.aoMapIntensity,n(b.aoMap,y.aoMapTransform))}function o(y,b){y.diffuse.value.copy(b.color),y.opacity.value=b.opacity,b.map&&(y.map.value=b.map,n(b.map,y.mapTransform))}function l(y,b){y.dashSize.value=b.dashSize,y.totalSize.value=b.dashSize+b.gapSize,y.scale.value=b.scale}function c(y,b,_,j){y.diffuse.value.copy(b.color),y.opacity.value=b.opacity,y.size.value=b.size*_,y.scale.value=j*.5,b.map&&(y.map.value=b.map,n(b.map,y.uvTransform)),b.alphaMap&&(y.alphaMap.value=b.alphaMap,n(b.alphaMap,y.alphaMapTransform)),b.alphaTest>0&&(y.alphaTest.value=b.alphaTest)}function d(y,b){y.diffuse.value.copy(b.color),y.opacity.value=b.opacity,y.rotation.value=b.rotation,b.map&&(y.map.value=b.map,n(b.map,y.mapTransform)),b.alphaMap&&(y.alphaMap.value=b.alphaMap,n(b.alphaMap,y.alphaMapTransform)),b.alphaTest>0&&(y.alphaTest.value=b.alphaTest)}function u(y,b){y.specular.value.copy(b.specular),y.shininess.value=Math.max(b.shininess,1e-4)}function h(y,b){b.gradientMap&&(y.gradientMap.value=b.gradientMap)}function f(y,b){y.metalness.value=b.metalness,b.metalnessMap&&(y.metalnessMap.value=b.metalnessMap,n(b.metalnessMap,y.metalnessMapTransform)),y.roughness.value=b.roughness,b.roughnessMap&&(y.roughnessMap.value=b.roughnessMap,n(b.roughnessMap,y.roughnessMapTransform)),e.get(b).envMap&&(y.envMapIntensity.value=b.envMapIntensity)}function v(y,b,_){y.ior.value=b.ior,b.sheen>0&&(y.sheenColor.value.copy(b.sheenColor).multiplyScalar(b.sheen),y.sheenRoughness.value=b.sheenRoughness,b.sheenColorMap&&(y.sheenColorMap.value=b.sheenColorMap,n(b.sheenColorMap,y.sheenColorMapTransform)),b.sheenRoughnessMap&&(y.sheenRoughnessMap.value=b.sheenRoughnessMap,n(b.sheenRoughnessMap,y.sheenRoughnessMapTransform))),b.clearcoat>0&&(y.clearcoat.value=b.clearcoat,y.clearcoatRoughness.value=b.clearcoatRoughness,b.clearcoatMap&&(y.clearcoatMap.value=b.clearcoatMap,n(b.clearcoatMap,y.clearcoatMapTransform)),b.clearcoatRoughnessMap&&(y.clearcoatRoughnessMap.value=b.clearcoatRoughnessMap,n(b.clearcoatRoughnessMap,y.clearcoatRoughnessMapTransform)),b.clearcoatNormalMap&&(y.clearcoatNormalMap.value=b.clearcoatNormalMap,n(b.clearcoatNormalMap,y.clearcoatNormalMapTransform),y.clearcoatNormalScale.value.copy(b.clearcoatNormalScale),b.side===Ls&&y.clearcoatNormalScale.value.negate())),b.iridescence>0&&(y.iridescence.value=b.iridescence,y.iridescenceIOR.value=b.iridescenceIOR,y.iridescenceThicknessMinimum.value=b.iridescenceThicknessRange[0],y.iridescenceThicknessMaximum.value=b.iridescenceThicknessRange[1],b.iridescenceMap&&(y.iridescenceMap.value=b.iridescenceMap,n(b.iridescenceMap,y.iridescenceMapTransform)),b.iridescenceThicknessMap&&(y.iridescenceThicknessMap.value=b.iridescenceThicknessMap,n(b.iridescenceThicknessMap,y.iridescenceThicknessMapTransform))),b.transmission>0&&(y.transmission.value=b.transmission,y.transmissionSamplerMap.value=_.texture,y.transmissionSamplerSize.value.set(_.width,_.height),b.transmissionMap&&(y.transmissionMap.value=b.transmissionMap,n(b.transmissionMap,y.transmissionMapTransform)),y.thickness.value=b.thickness,b.thicknessMap&&(y.thicknessMap.value=b.thicknessMap,n(b.thicknessMap,y.thicknessMapTransform)),y.attenuationDistance.value=b.attenuationDistance,y.attenuationColor.value.copy(b.attenuationColor)),b.anisotropy>0&&(y.anisotropyVector.value.set(b.anisotropy*Math.cos(b.anisotropyRotation),b.anisotropy*Math.sin(b.anisotropyRotation)),b.anisotropyMap&&(y.anisotropyMap.value=b.anisotropyMap,n(b.anisotropyMap,y.anisotropyMapTransform))),y.specularIntensity.value=b.specularIntensity,y.specularColor.value.copy(b.specularColor),b.specularColorMap&&(y.specularColorMap.value=b.specularColorMap,n(b.specularColorMap,y.specularColorMapTransform)),b.specularIntensityMap&&(y.specularIntensityMap.value=b.specularIntensityMap,n(b.specularIntensityMap,y.specularIntensityMapTransform))}function x(y,b){b.matcap&&(y.matcap.value=b.matcap)}function g(y,b){const _=e.get(b).light;y.referencePosition.value.setFromMatrixPosition(_.matrixWorld),y.nearDistance.value=_.shadow.camera.near,y.farDistance.value=_.shadow.camera.far}return{refreshFogUniforms:a,refreshMaterialUniforms:s}}function pKe(t,e,n,a){let s={},i={},o=[];const l=n.isWebGL2?t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS):0;function c(_,j){const S=j.program;a.uniformBlockBinding(_,S)}function d(_,j){let S=s[_.id];S===void 0&&(x(_),S=u(_),s[_.id]=S,_.addEventListener("dispose",y));const C=j.program;a.updateUBOMapping(_,C);const E=e.render.frame;i[_.id]!==E&&(f(_),i[_.id]=E)}function u(_){const j=h();_.__bindingPointIndex=j;const S=t.createBuffer(),C=_.__size,E=_.usage;return t.bindBuffer(t.UNIFORM_BUFFER,S),t.bufferData(t.UNIFORM_BUFFER,C,E),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,j,S),S}function h(){for(let _=0;_<l;_++)if(o.indexOf(_)===-1)return o.push(_),_;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function f(_){const j=s[_.id],S=_.uniforms,C=_.__cache;t.bindBuffer(t.UNIFORM_BUFFER,j);for(let E=0,P=S.length;E<P;E++){const T=Array.isArray(S[E])?S[E]:[S[E]];for(let M=0,k=T.length;M<k;M++){const O=T[M];if(v(O,E,M,C)===!0){const $=O.__offset,F=Array.isArray(O.value)?O.value:[O.value];let B=0;for(let G=0;G<F.length;G++){const I=F[G],L=g(I);typeof I=="number"||typeof I=="boolean"?(O.__data[0]=I,t.bufferSubData(t.UNIFORM_BUFFER,$+B,O.__data)):I.isMatrix3?(O.__data[0]=I.elements[0],O.__data[1]=I.elements[1],O.__data[2]=I.elements[2],O.__data[3]=0,O.__data[4]=I.elements[3],O.__data[5]=I.elements[4],O.__data[6]=I.elements[5],O.__data[7]=0,O.__data[8]=I.elements[6],O.__data[9]=I.elements[7],O.__data[10]=I.elements[8],O.__data[11]=0):(I.toArray(O.__data,B),B+=L.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,$,O.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function v(_,j,S,C){const E=_.value,P=j+"_"+S;if(C[P]===void 0)return typeof E=="number"||typeof E=="boolean"?C[P]=E:C[P]=E.clone(),!0;{const T=C[P];if(typeof E=="number"||typeof E=="boolean"){if(T!==E)return C[P]=E,!0}else if(T.equals(E)===!1)return T.copy(E),!0}return!1}function x(_){const j=_.uniforms;let S=0;const C=16;for(let P=0,T=j.length;P<T;P++){const M=Array.isArray(j[P])?j[P]:[j[P]];for(let k=0,O=M.length;k<O;k++){const $=M[k],F=Array.isArray($.value)?$.value:[$.value];for(let B=0,G=F.length;B<G;B++){const I=F[B],L=g(I),U=S%C;U!==0&&C-U<L.boundary&&(S+=C-U),$.__data=new Float32Array(L.storage/Float32Array.BYTES_PER_ELEMENT),$.__offset=S,S+=L.storage}}}const E=S%C;return E>0&&(S+=C-E),_.__size=S,_.__cache={},this}function g(_){const j={boundary:0,storage:0};return typeof _=="number"||typeof _=="boolean"?(j.boundary=4,j.storage=4):_.isVector2?(j.boundary=8,j.storage=8):_.isVector3||_.isColor?(j.boundary=16,j.storage=12):_.isVector4?(j.boundary=16,j.storage=16):_.isMatrix3?(j.boundary=48,j.storage=48):_.isMatrix4?(j.boundary=64,j.storage=64):_.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",_),j}function y(_){const j=_.target;j.removeEventListener("dispose",y);const S=o.indexOf(j.__bindingPointIndex);o.splice(S,1),t.deleteBuffer(s[j.id]),delete s[j.id],delete i[j.id]}function b(){for(const _ in s)t.deleteBuffer(s[_]);o=[],s={},i={}}return{bind:c,update:d,dispose:b}}class jae{constructor(e={}){const{canvas:n=dVe(),context:a=null,depth:s=!0,stencil:i=!0,alpha:o=!1,antialias:l=!1,premultipliedAlpha:c=!0,preserveDrawingBuffer:d=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:h=!1}=e;this.isWebGLRenderer=!0;let f;a!==null?f=a.getContextAttributes().alpha:f=o;const v=new Uint32Array(4),x=new Int32Array(4);let g=null,y=null;const b=[],_=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=Ra,this._useLegacyLights=!1,this.toneMapping=id,this.toneMappingExposure=1;const j=this;let S=!1,C=0,E=0,P=null,T=-1,M=null;const k=new Ca,O=new Ca;let $=null;const F=new Fn(0);let B=0,G=n.width,I=n.height,L=1,U=null,z=null;const K=new Ca(0,0,G,I),V=new Ca(0,0,G,I);let Y=!1;const ee=new RR;let se=!1,pe=!1,Pe=null;const xe=new da,Ie=new Un,fe=new Re,Ne={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Le(){return P===null?L:1}let re=a;function he(ne,ge){for(let Ae=0;Ae<ne.length;Ae++){const ke=ne[Ae],Se=n.getContext(ke,ge);if(Se!==null)return Se}return null}try{const ne={alpha:!0,depth:s,stencil:i,antialias:l,premultipliedAlpha:c,preserveDrawingBuffer:d,powerPreference:u,failIfMajorPerformanceCaveat:h};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${MR}`),n.addEventListener("webglcontextlost",Je,!1),n.addEventListener("webglcontextrestored",ue,!1),n.addEventListener("webglcontextcreationerror",Ze,!1),re===null){const ge=["webgl2","webgl","experimental-webgl"];if(j.isWebGL1Renderer===!0&&ge.shift(),re=he(ge,ne),re===null)throw he(ge)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&re instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),re.getShaderPrecisionFormat===void 0&&(re.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(ne){throw console.error("THREE.WebGLRenderer: "+ne.message),ne}let Ee,Xe,Ve,at,de,Z,J,ve,te,Te,Be,ut,st,vt,Ft,on,Ge,Nn,ln,Qt,kt,_t,an,Cn;function er(){Ee=new SGe(re),Xe=new yGe(re,Ee,e),Ee.init(Xe),_t=new dKe(re,Ee,Xe),Ve=new lKe(re,Ee,Xe),at=new AGe(re),de=new KWe,Z=new cKe(re,Ee,Ve,de,Xe,_t,at),J=new wGe(j),ve=new NGe(j),te=new IVe(re,Xe),an=new gGe(re,Ee,te,Xe),Te=new CGe(re,te,at,an),Be=new kGe(re,Te,te,at),ln=new TGe(re,Xe,Z),on=new bGe(de),ut=new WWe(j,J,ve,Ee,Xe,an,on),st=new fKe(j,de),vt=new YWe,Ft=new nKe(Ee,Xe),Nn=new xGe(j,J,ve,Ve,Be,f,c),Ge=new oKe(j,Be,Xe),Cn=new pKe(re,at,Xe,Ve),Qt=new vGe(re,Ee,at,Xe),kt=new EGe(re,Ee,at,Xe),at.programs=ut.programs,j.capabilities=Xe,j.extensions=Ee,j.properties=de,j.renderLists=vt,j.shadowMap=Ge,j.state=Ve,j.info=at}er();const sn=new mKe(j,re);this.xr=sn,this.getContext=function(){return re},this.getContextAttributes=function(){return re.getContextAttributes()},this.forceContextLoss=function(){const ne=Ee.get("WEBGL_lose_context");ne&&ne.loseContext()},this.forceContextRestore=function(){const ne=Ee.get("WEBGL_lose_context");ne&&ne.restoreContext()},this.getPixelRatio=function(){return L},this.setPixelRatio=function(ne){ne!==void 0&&(L=ne,this.setSize(G,I,!1))},this.getSize=function(ne){return ne.set(G,I)},this.setSize=function(ne,ge,Ae=!0){if(sn.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}G=ne,I=ge,n.width=Math.floor(ne*L),n.height=Math.floor(ge*L),Ae===!0&&(n.style.width=ne+"px",n.style.height=ge+"px"),this.setViewport(0,0,ne,ge)},this.getDrawingBufferSize=function(ne){return ne.set(G*L,I*L).floor()},this.setDrawingBufferSize=function(ne,ge,Ae){G=ne,I=ge,L=Ae,n.width=Math.floor(ne*Ae),n.height=Math.floor(ge*Ae),this.setViewport(0,0,ne,ge)},this.getCurrentViewport=function(ne){return ne.copy(k)},this.getViewport=function(ne){return ne.copy(K)},this.setViewport=function(ne,ge,Ae,ke){ne.isVector4?K.set(ne.x,ne.y,ne.z,ne.w):K.set(ne,ge,Ae,ke),Ve.viewport(k.copy(K).multiplyScalar(L).floor())},this.getScissor=function(ne){return ne.copy(V)},this.setScissor=function(ne,ge,Ae,ke){ne.isVector4?V.set(ne.x,ne.y,ne.z,ne.w):V.set(ne,ge,Ae,ke),Ve.scissor(O.copy(V).multiplyScalar(L).floor())},this.getScissorTest=function(){return Y},this.setScissorTest=function(ne){Ve.setScissorTest(Y=ne)},this.setOpaqueSort=function(ne){U=ne},this.setTransparentSort=function(ne){z=ne},this.getClearColor=function(ne){return ne.copy(Nn.getClearColor())},this.setClearColor=function(){Nn.setClearColor.apply(Nn,arguments)},this.getClearAlpha=function(){return Nn.getClearAlpha()},this.setClearAlpha=function(){Nn.setClearAlpha.apply(Nn,arguments)},this.clear=function(ne=!0,ge=!0,Ae=!0){let ke=0;if(ne){let Se=!1;if(P!==null){const dt=P.texture.format;Se=dt===Zre||dt===Qre||dt===Yre}if(Se){const dt=P.texture.type,Mt=dt===od||dt===Jc||dt===PR||dt===Uu||dt===Kre||dt===Xre,Vt=Nn.getClearColor(),ht=Nn.getClearAlpha(),dn=Vt.r,Zt=Vt.g,nn=Vt.b;Mt?(v[0]=dn,v[1]=Zt,v[2]=nn,v[3]=ht,re.clearBufferuiv(re.COLOR,0,v)):(x[0]=dn,x[1]=Zt,x[2]=nn,x[3]=ht,re.clearBufferiv(re.COLOR,0,x))}else ke|=re.COLOR_BUFFER_BIT}ge&&(ke|=re.DEPTH_BUFFER_BIT),Ae&&(ke|=re.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),re.clear(ke)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",Je,!1),n.removeEventListener("webglcontextrestored",ue,!1),n.removeEventListener("webglcontextcreationerror",Ze,!1),vt.dispose(),Ft.dispose(),de.dispose(),J.dispose(),ve.dispose(),Be.dispose(),an.dispose(),Cn.dispose(),ut.dispose(),sn.dispose(),sn.removeEventListener("sessionstart",Gr),sn.removeEventListener("sessionend",cn),Pe&&(Pe.dispose(),Pe=null),Ur.stop()};function Je(ne){ne.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),S=!0}function ue(){console.log("THREE.WebGLRenderer: Context Restored."),S=!1;const ne=at.autoReset,ge=Ge.enabled,Ae=Ge.autoUpdate,ke=Ge.needsUpdate,Se=Ge.type;er(),at.autoReset=ne,Ge.enabled=ge,Ge.autoUpdate=Ae,Ge.needsUpdate=ke,Ge.type=Se}function Ze(ne){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",ne.statusMessage)}function tt(ne){const ge=ne.target;ge.removeEventListener("dispose",tt),Kt(ge)}function Kt(ne){Ut(ne),de.remove(ne)}function Ut(ne){const ge=de.get(ne).programs;ge!==void 0&&(ge.forEach(function(Ae){ut.releaseProgram(Ae)}),ne.isShaderMaterial&&ut.releaseShaderCache(ne))}this.renderBufferDirect=function(ne,ge,Ae,ke,Se,dt){ge===null&&(ge=Ne);const Mt=Se.isMesh&&Se.matrixWorld.determinant()<0,Vt=bh(ne,ge,Ae,ke,Se);Ve.setMaterial(ke,Mt);let ht=Ae.index,dn=1;if(ke.wireframe===!0){if(ht=Te.getWireframeAttribute(Ae),ht===void 0)return;dn=2}const Zt=Ae.drawRange,nn=Ae.attributes.position;let Xn=Zt.start*dn,fa=(Zt.start+Zt.count)*dn;dt!==null&&(Xn=Math.max(Xn,dt.start*dn),fa=Math.min(fa,(dt.start+dt.count)*dn)),ht!==null?(Xn=Math.max(Xn,0),fa=Math.min(fa,ht.count)):nn!=null&&(Xn=Math.max(Xn,0),fa=Math.min(fa,nn.count));const br=fa-Xn;if(br<0||br===1/0)return;an.setup(Se,ke,Vt,Ae,ht);let ie,$e=Qt;if(ht!==null&&(ie=te.get(ht),$e=kt,$e.setIndex(ie)),Se.isMesh)ke.wireframe===!0?(Ve.setLineWidth(ke.wireframeLinewidth*Le()),$e.setMode(re.LINES)):$e.setMode(re.TRIANGLES);else if(Se.isLine){let ze=ke.linewidth;ze===void 0&&(ze=1),Ve.setLineWidth(ze*Le()),Se.isLineSegments?$e.setMode(re.LINES):Se.isLineLoop?$e.setMode(re.LINE_LOOP):$e.setMode(re.LINE_STRIP)}else Se.isPoints?$e.setMode(re.POINTS):Se.isSprite&&$e.setMode(re.TRIANGLES);if(Se.isBatchedMesh)$e.renderMultiDraw(Se._multiDrawStarts,Se._multiDrawCounts,Se._multiDrawCount);else if(Se.isInstancedMesh)$e.renderInstances(Xn,br,Se.count);else if(Ae.isInstancedBufferGeometry){const ze=Ae._maxInstanceCount!==void 0?Ae._maxInstanceCount:1/0,pt=Math.min(Ae.instanceCount,ze);$e.renderInstances(Xn,br,pt)}else $e.render(Xn,br)};function Ln(ne,ge,Ae){ne.transparent===!0&&ne.side===Pl&&ne.forceSinglePass===!1?(ne.side=Ls,ne.needsUpdate=!0,di(ne,ge,Ae),ne.side=xd,ne.needsUpdate=!0,di(ne,ge,Ae),ne.side=Pl):di(ne,ge,Ae)}this.compile=function(ne,ge,Ae=null){Ae===null&&(Ae=ne),y=Ft.get(Ae),y.init(),_.push(y),Ae.traverseVisible(function(Se){Se.isLight&&Se.layers.test(ge.layers)&&(y.pushLight(Se),Se.castShadow&&y.pushShadow(Se))}),ne!==Ae&&ne.traverseVisible(function(Se){Se.isLight&&Se.layers.test(ge.layers)&&(y.pushLight(Se),Se.castShadow&&y.pushShadow(Se))}),y.setupLights(j._useLegacyLights);const ke=new Set;return ne.traverse(function(Se){const dt=Se.material;if(dt)if(Array.isArray(dt))for(let Mt=0;Mt<dt.length;Mt++){const Vt=dt[Mt];Ln(Vt,Ae,Se),ke.add(Vt)}else Ln(dt,Ae,Se),ke.add(dt)}),_.pop(),y=null,ke},this.compileAsync=function(ne,ge,Ae=null){const ke=this.compile(ne,ge,Ae);return new Promise(Se=>{function dt(){if(ke.forEach(function(Mt){de.get(Mt).currentProgram.isReady()&&ke.delete(Mt)}),ke.size===0){Se(ne);return}setTimeout(dt,10)}Ee.get("KHR_parallel_shader_compile")!==null?dt():setTimeout(dt,10)})};let zn=null;function vr(ne){zn&&zn(ne)}function Gr(){Ur.stop()}function cn(){Ur.start()}const Ur=new pae;Ur.setAnimationLoop(vr),typeof self<"u"&&Ur.setContext(self),this.setAnimationLoop=function(ne){zn=ne,sn.setAnimationLoop(ne),ne===null?Ur.stop():Ur.start()},sn.addEventListener("sessionstart",Gr),sn.addEventListener("sessionend",cn),this.render=function(ne,ge){if(ge!==void 0&&ge.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(S===!0)return;ne.matrixWorldAutoUpdate===!0&&ne.updateMatrixWorld(),ge.parent===null&&ge.matrixWorldAutoUpdate===!0&&ge.updateMatrixWorld(),sn.enabled===!0&&sn.isPresenting===!0&&(sn.cameraAutoUpdate===!0&&sn.updateCamera(ge),ge=sn.getCamera()),ne.isScene===!0&&ne.onBeforeRender(j,ne,ge,P),y=Ft.get(ne,_.length),y.init(),_.push(y),xe.multiplyMatrices(ge.projectionMatrix,ge.matrixWorldInverse),ee.setFromProjectionMatrix(xe),pe=this.localClippingEnabled,se=on.init(this.clippingPlanes,pe),g=vt.get(ne,b.length),g.init(),b.push(g),yr(ne,ge,0,j.sortObjects),g.finish(),j.sortObjects===!0&&g.sort(U,z),this.info.render.frame++,se===!0&&on.beginShadows();const Ae=y.state.shadowsArray;if(Ge.render(Ae,ne,ge),se===!0&&on.endShadows(),this.info.autoReset===!0&&this.info.reset(),Nn.render(g,ne),y.setupLights(j._useLegacyLights),ge.isArrayCamera){const ke=ge.cameras;for(let Se=0,dt=ke.length;Se<dt;Se++){const Mt=ke[Se];Ja(g,ne,Mt,Mt.viewport)}}else Ja(g,ne,ge);P!==null&&(Z.updateMultisampleRenderTarget(P),Z.updateRenderTargetMipmap(P)),ne.isScene===!0&&ne.onAfterRender(j,ne,ge),an.resetDefaultState(),T=-1,M=null,_.pop(),_.length>0?y=_[_.length-1]:y=null,b.pop(),b.length>0?g=b[b.length-1]:g=null};function yr(ne,ge,Ae,ke){if(ne.visible===!1)return;if(ne.layers.test(ge.layers)){if(ne.isGroup)Ae=ne.renderOrder;else if(ne.isLOD)ne.autoUpdate===!0&&ne.update(ge);else if(ne.isLight)y.pushLight(ne),ne.castShadow&&y.pushShadow(ne);else if(ne.isSprite){if(!ne.frustumCulled||ee.intersectsSprite(ne)){ke&&fe.setFromMatrixPosition(ne.matrixWorld).applyMatrix4(xe);const Mt=Be.update(ne),Vt=ne.material;Vt.visible&&g.push(ne,Mt,Vt,Ae,fe.z,null)}}else if((ne.isMesh||ne.isLine||ne.isPoints)&&(!ne.frustumCulled||ee.intersectsObject(ne))){const Mt=Be.update(ne),Vt=ne.material;if(ke&&(ne.boundingSphere!==void 0?(ne.boundingSphere===null&&ne.computeBoundingSphere(),fe.copy(ne.boundingSphere.center)):(Mt.boundingSphere===null&&Mt.computeBoundingSphere(),fe.copy(Mt.boundingSphere.center)),fe.applyMatrix4(ne.matrixWorld).applyMatrix4(xe)),Array.isArray(Vt)){const ht=Mt.groups;for(let dn=0,Zt=ht.length;dn<Zt;dn++){const nn=ht[dn],Xn=Vt[nn.materialIndex];Xn&&Xn.visible&&g.push(ne,Mt,Xn,Ae,fe.z,nn)}}else Vt.visible&&g.push(ne,Mt,Vt,Ae,fe.z,null)}}const dt=ne.children;for(let Mt=0,Vt=dt.length;Mt<Vt;Mt++)yr(dt[Mt],ge,Ae,ke)}function Ja(ne,ge,Ae,ke){const Se=ne.opaque,dt=ne.transmissive,Mt=ne.transparent;y.setupLightsView(Ae),se===!0&&on.setGlobalState(j.clippingPlanes,Ae),dt.length>0&&Aa(Se,dt,ge,Ae),ke&&Ve.viewport(k.copy(ke)),Se.length>0&&zs(Se,ge,Ae),dt.length>0&&zs(dt,ge,Ae),Mt.length>0&&zs(Mt,ge,Ae),Ve.buffers.depth.setTest(!0),Ve.buffers.depth.setMask(!0),Ve.buffers.color.setMask(!0),Ve.setPolygonOffset(!1)}function Aa(ne,ge,Ae,ke){if((Ae.isScene===!0?Ae.overrideMaterial:null)!==null)return;const dt=Xe.isWebGL2;Pe===null&&(Pe=new lh(1,1,{generateMipmaps:!0,type:Ee.has("EXT_color_buffer_half_float")?mg:od,minFilter:hg,samples:dt?4:0})),j.getDrawingBufferSize(Ie),dt?Pe.setSize(Ie.x,Ie.y):Pe.setSize(w3(Ie.x),w3(Ie.y));const Mt=j.getRenderTarget();j.setRenderTarget(Pe),j.getClearColor(F),B=j.getClearAlpha(),B<1&&j.setClearColor(16777215,.5),j.clear();const Vt=j.toneMapping;j.toneMapping=id,zs(ne,Ae,ke),Z.updateMultisampleRenderTarget(Pe),Z.updateRenderTargetMipmap(Pe);let ht=!1;for(let dn=0,Zt=ge.length;dn<Zt;dn++){const nn=ge[dn],Xn=nn.object,fa=nn.geometry,br=nn.material,ie=nn.group;if(br.side===Pl&&Xn.layers.test(ke.layers)){const $e=br.side;br.side=Ls,br.needsUpdate=!0,sl(Xn,Ae,ke,fa,br,ie),br.side=$e,br.needsUpdate=!0,ht=!0}}ht===!0&&(Z.updateMultisampleRenderTarget(Pe),Z.updateRenderTargetMipmap(Pe)),j.setRenderTarget(Mt),j.setClearColor(F,B),j.toneMapping=Vt}function zs(ne,ge,Ae){const ke=ge.isScene===!0?ge.overrideMaterial:null;for(let Se=0,dt=ne.length;Se<dt;Se++){const Mt=ne[Se],Vt=Mt.object,ht=Mt.geometry,dn=ke===null?Mt.material:ke,Zt=Mt.group;Vt.layers.test(Ae.layers)&&sl(Vt,ge,Ae,ht,dn,Zt)}}function sl(ne,ge,Ae,ke,Se,dt){ne.onBeforeRender(j,ge,Ae,ke,Se,dt),ne.modelViewMatrix.multiplyMatrices(Ae.matrixWorldInverse,ne.matrixWorld),ne.normalMatrix.getNormalMatrix(ne.modelViewMatrix),Se.onBeforeRender(j,ge,Ae,ke,ne,dt),Se.transparent===!0&&Se.side===Pl&&Se.forceSinglePass===!1?(Se.side=Ls,Se.needsUpdate=!0,j.renderBufferDirect(Ae,ge,ke,Se,ne,dt),Se.side=xd,Se.needsUpdate=!0,j.renderBufferDirect(Ae,ge,ke,Se,ne,dt),Se.side=Pl):j.renderBufferDirect(Ae,ge,ke,Se,ne,dt),ne.onAfterRender(j,ge,Ae,ke,Se,dt)}function di(ne,ge,Ae){ge.isScene!==!0&&(ge=Ne);const ke=de.get(ne),Se=y.state.lights,dt=y.state.shadowsArray,Mt=Se.state.version,Vt=ut.getParameters(ne,Se.state,dt,ge,Ae),ht=ut.getProgramCacheKey(Vt);let dn=ke.programs;ke.environment=ne.isMeshStandardMaterial?ge.environment:null,ke.fog=ge.fog,ke.envMap=(ne.isMeshStandardMaterial?ve:J).get(ne.envMap||ke.environment),dn===void 0&&(ne.addEventListener("dispose",tt),dn=new Map,ke.programs=dn);let Zt=dn.get(ht);if(Zt!==void 0){if(ke.currentProgram===Zt&&ke.lightsStateVersion===Mt)return yh(ne,Vt),Zt}else Vt.uniforms=ut.getUniforms(ne),ne.onBuild(Ae,Vt,j),ne.onBeforeCompile(Vt,j),Zt=ut.acquireProgram(Vt,ht),dn.set(ht,Zt),ke.uniforms=Vt.uniforms;const nn=ke.uniforms;return(!ne.isShaderMaterial&&!ne.isRawShaderMaterial||ne.clipping===!0)&&(nn.clippingPlanes=on.uniform),yh(ne,Vt),ke.needsLights=Md(ne),ke.lightsStateVersion=Mt,ke.needsLights&&(nn.ambientLightColor.value=Se.state.ambient,nn.lightProbe.value=Se.state.probe,nn.directionalLights.value=Se.state.directional,nn.directionalLightShadows.value=Se.state.directionalShadow,nn.spotLights.value=Se.state.spot,nn.spotLightShadows.value=Se.state.spotShadow,nn.rectAreaLights.value=Se.state.rectArea,nn.ltc_1.value=Se.state.rectAreaLTC1,nn.ltc_2.value=Se.state.rectAreaLTC2,nn.pointLights.value=Se.state.point,nn.pointLightShadows.value=Se.state.pointShadow,nn.hemisphereLights.value=Se.state.hemi,nn.directionalShadowMap.value=Se.state.directionalShadowMap,nn.directionalShadowMatrix.value=Se.state.directionalShadowMatrix,nn.spotShadowMap.value=Se.state.spotShadowMap,nn.spotLightMatrix.value=Se.state.spotLightMatrix,nn.spotLightMap.value=Se.state.spotLightMap,nn.pointShadowMap.value=Se.state.pointShadowMap,nn.pointShadowMatrix.value=Se.state.pointShadowMatrix),ke.currentProgram=Zt,ke.uniformsList=null,Zt}function Ad(ne){if(ne.uniformsList===null){const ge=ne.currentProgram.getUniforms();ne.uniformsList=Pb.seqWithValue(ge.seq,ne.uniforms)}return ne.uniformsList}function yh(ne,ge){const Ae=de.get(ne);Ae.outputColorSpace=ge.outputColorSpace,Ae.batching=ge.batching,Ae.instancing=ge.instancing,Ae.instancingColor=ge.instancingColor,Ae.skinning=ge.skinning,Ae.morphTargets=ge.morphTargets,Ae.morphNormals=ge.morphNormals,Ae.morphColors=ge.morphColors,Ae.morphTargetsCount=ge.morphTargetsCount,Ae.numClippingPlanes=ge.numClippingPlanes,Ae.numIntersection=ge.numClipIntersection,Ae.vertexAlphas=ge.vertexAlphas,Ae.vertexTangents=ge.vertexTangents,Ae.toneMapping=ge.toneMapping}function bh(ne,ge,Ae,ke,Se){ge.isScene!==!0&&(ge=Ne),Z.resetTextureUnits();const dt=ge.fog,Mt=ke.isMeshStandardMaterial?ge.environment:null,Vt=P===null?j.outputColorSpace:P.isXRRenderTarget===!0?P.texture.colorSpace:Jl,ht=(ke.isMeshStandardMaterial?ve:J).get(ke.envMap||Mt),dn=ke.vertexColors===!0&&!!Ae.attributes.color&&Ae.attributes.color.itemSize===4,Zt=!!Ae.attributes.tangent&&(!!ke.normalMap||ke.anisotropy>0),nn=!!Ae.morphAttributes.position,Xn=!!Ae.morphAttributes.normal,fa=!!Ae.morphAttributes.color;let br=id;ke.toneMapped&&(P===null||P.isXRRenderTarget===!0)&&(br=j.toneMapping);const ie=Ae.morphAttributes.position||Ae.morphAttributes.normal||Ae.morphAttributes.color,$e=ie!==void 0?ie.length:0,ze=de.get(ke),pt=y.state.lights;if(se===!0&&(pe===!0||ne!==M)){const Dt=ne===M&&ke.id===T;on.setState(ke,ne,Dt)}let it=!1;ke.version===ze.__version?(ze.needsLights&&ze.lightsStateVersion!==pt.state.version||ze.outputColorSpace!==Vt||Se.isBatchedMesh&&ze.batching===!1||!Se.isBatchedMesh&&ze.batching===!0||Se.isInstancedMesh&&ze.instancing===!1||!Se.isInstancedMesh&&ze.instancing===!0||Se.isSkinnedMesh&&ze.skinning===!1||!Se.isSkinnedMesh&&ze.skinning===!0||Se.isInstancedMesh&&ze.instancingColor===!0&&Se.instanceColor===null||Se.isInstancedMesh&&ze.instancingColor===!1&&Se.instanceColor!==null||ze.envMap!==ht||ke.fog===!0&&ze.fog!==dt||ze.numClippingPlanes!==void 0&&(ze.numClippingPlanes!==on.numPlanes||ze.numIntersection!==on.numIntersection)||ze.vertexAlphas!==dn||ze.vertexTangents!==Zt||ze.morphTargets!==nn||ze.morphNormals!==Xn||ze.morphColors!==fa||ze.toneMapping!==br||Xe.isWebGL2===!0&&ze.morphTargetsCount!==$e)&&(it=!0):(it=!0,ze.__version=ke.version);let $t=ze.currentProgram;it===!0&&($t=di(ke,ge,Se));let Jt=!1,Ct=!1,pn=!1;const vn=$t.getUniforms(),tr=ze.uniforms;if(Ve.useProgram($t.program)&&(Jt=!0,Ct=!0,pn=!0),ke.id!==T&&(T=ke.id,Ct=!0),Jt||M!==ne){vn.setValue(re,"projectionMatrix",ne.projectionMatrix),vn.setValue(re,"viewMatrix",ne.matrixWorldInverse);const Dt=vn.map.cameraPosition;Dt!==void 0&&Dt.setValue(re,fe.setFromMatrixPosition(ne.matrixWorld)),Xe.logarithmicDepthBuffer&&vn.setValue(re,"logDepthBufFC",2/(Math.log(ne.far+1)/Math.LN2)),(ke.isMeshPhongMaterial||ke.isMeshToonMaterial||ke.isMeshLambertMaterial||ke.isMeshBasicMaterial||ke.isMeshStandardMaterial||ke.isShaderMaterial)&&vn.setValue(re,"isOrthographic",ne.isOrthographicCamera===!0),M!==ne&&(M=ne,Ct=!0,pn=!0)}if(Se.isSkinnedMesh){vn.setOptional(re,Se,"bindMatrix"),vn.setOptional(re,Se,"bindMatrixInverse");const Dt=Se.skeleton;Dt&&(Xe.floatVertexTextures?(Dt.boneTexture===null&&Dt.computeBoneTexture(),vn.setValue(re,"boneTexture",Dt.boneTexture,Z)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}Se.isBatchedMesh&&(vn.setOptional(re,Se,"batchingTexture"),vn.setValue(re,"batchingTexture",Se._matricesTexture,Z));const ur=Ae.morphAttributes;if((ur.position!==void 0||ur.normal!==void 0||ur.color!==void 0&&Xe.isWebGL2===!0)&&ln.update(Se,Ae,$t),(Ct||ze.receiveShadow!==Se.receiveShadow)&&(ze.receiveShadow=Se.receiveShadow,vn.setValue(re,"receiveShadow",Se.receiveShadow)),ke.isMeshGouraudMaterial&&ke.envMap!==null&&(tr.envMap.value=ht,tr.flipEnvMap.value=ht.isCubeTexture&&ht.isRenderTargetTexture===!1?-1:1),Ct&&(vn.setValue(re,"toneMappingExposure",j.toneMappingExposure),ze.needsLights&&qs(tr,pn),dt&&ke.fog===!0&&st.refreshFogUniforms(tr,dt),st.refreshMaterialUniforms(tr,ke,L,I,Pe),Pb.upload(re,Ad(ze),tr,Z)),ke.isShaderMaterial&&ke.uniformsNeedUpdate===!0&&(Pb.upload(re,Ad(ze),tr,Z),ke.uniformsNeedUpdate=!1),ke.isSpriteMaterial&&vn.setValue(re,"center",Se.center),vn.setValue(re,"modelViewMatrix",Se.modelViewMatrix),vn.setValue(re,"normalMatrix",Se.normalMatrix),vn.setValue(re,"modelMatrix",Se.matrixWorld),ke.isShaderMaterial||ke.isRawShaderMaterial){const Dt=ke.uniformsGroups;for(let pa=0,ps=Dt.length;pa<ps;pa++)if(Xe.isWebGL2){const nr=Dt[pa];Cn.update(nr,$t),Cn.bind(nr,$t)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return $t}function qs(ne,ge){ne.ambientLightColor.needsUpdate=ge,ne.lightProbe.needsUpdate=ge,ne.directionalLights.needsUpdate=ge,ne.directionalLightShadows.needsUpdate=ge,ne.pointLights.needsUpdate=ge,ne.pointLightShadows.needsUpdate=ge,ne.spotLights.needsUpdate=ge,ne.spotLightShadows.needsUpdate=ge,ne.rectAreaLights.needsUpdate=ge,ne.hemisphereLights.needsUpdate=ge}function Md(ne){return ne.isMeshLambertMaterial||ne.isMeshToonMaterial||ne.isMeshPhongMaterial||ne.isMeshStandardMaterial||ne.isShadowMaterial||ne.isShaderMaterial&&ne.lights===!0}this.getActiveCubeFace=function(){return C},this.getActiveMipmapLevel=function(){return E},this.getRenderTarget=function(){return P},this.setRenderTargetTextures=function(ne,ge,Ae){de.get(ne.texture).__webglTexture=ge,de.get(ne.depthTexture).__webglTexture=Ae;const ke=de.get(ne);ke.__hasExternalTextures=!0,ke.__hasExternalTextures&&(ke.__autoAllocateDepthBuffer=Ae===void 0,ke.__autoAllocateDepthBuffer||Ee.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ke.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(ne,ge){const Ae=de.get(ne);Ae.__webglFramebuffer=ge,Ae.__useDefaultFramebuffer=ge===void 0},this.setRenderTarget=function(ne,ge=0,Ae=0){P=ne,C=ge,E=Ae;let ke=!0,Se=null,dt=!1,Mt=!1;if(ne){const ht=de.get(ne);ht.__useDefaultFramebuffer!==void 0?(Ve.bindFramebuffer(re.FRAMEBUFFER,null),ke=!1):ht.__webglFramebuffer===void 0?Z.setupRenderTarget(ne):ht.__hasExternalTextures&&Z.rebindTextures(ne,de.get(ne.texture).__webglTexture,de.get(ne.depthTexture).__webglTexture);const dn=ne.texture;(dn.isData3DTexture||dn.isDataArrayTexture||dn.isCompressedArrayTexture)&&(Mt=!0);const Zt=de.get(ne).__webglFramebuffer;ne.isWebGLCubeRenderTarget?(Array.isArray(Zt[ge])?Se=Zt[ge][Ae]:Se=Zt[ge],dt=!0):Xe.isWebGL2&&ne.samples>0&&Z.useMultisampledRTT(ne)===!1?Se=de.get(ne).__webglMultisampledFramebuffer:Array.isArray(Zt)?Se=Zt[Ae]:Se=Zt,k.copy(ne.viewport),O.copy(ne.scissor),$=ne.scissorTest}else k.copy(K).multiplyScalar(L).floor(),O.copy(V).multiplyScalar(L).floor(),$=Y;if(Ve.bindFramebuffer(re.FRAMEBUFFER,Se)&&Xe.drawBuffers&&ke&&Ve.drawBuffers(ne,Se),Ve.viewport(k),Ve.scissor(O),Ve.setScissorTest($),dt){const ht=de.get(ne.texture);re.framebufferTexture2D(re.FRAMEBUFFER,re.COLOR_ATTACHMENT0,re.TEXTURE_CUBE_MAP_POSITIVE_X+ge,ht.__webglTexture,Ae)}else if(Mt){const ht=de.get(ne.texture),dn=ge||0;re.framebufferTextureLayer(re.FRAMEBUFFER,re.COLOR_ATTACHMENT0,ht.__webglTexture,Ae||0,dn)}T=-1},this.readRenderTargetPixels=function(ne,ge,Ae,ke,Se,dt,Mt){if(!(ne&&ne.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Vt=de.get(ne).__webglFramebuffer;if(ne.isWebGLCubeRenderTarget&&Mt!==void 0&&(Vt=Vt[Mt]),Vt){Ve.bindFramebuffer(re.FRAMEBUFFER,Vt);try{const ht=ne.texture,dn=ht.format,Zt=ht.type;if(dn!==co&&_t.convert(dn)!==re.getParameter(re.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const nn=Zt===mg&&(Ee.has("EXT_color_buffer_half_float")||Xe.isWebGL2&&Ee.has("EXT_color_buffer_float"));if(Zt!==od&&_t.convert(Zt)!==re.getParameter(re.IMPLEMENTATION_COLOR_READ_TYPE)&&!(Zt===ed&&(Xe.isWebGL2||Ee.has("OES_texture_float")||Ee.has("WEBGL_color_buffer_float")))&&!nn){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ge>=0&&ge<=ne.width-ke&&Ae>=0&&Ae<=ne.height-Se&&re.readPixels(ge,Ae,ke,Se,_t.convert(dn),_t.convert(Zt),dt)}finally{const ht=P!==null?de.get(P).__webglFramebuffer:null;Ve.bindFramebuffer(re.FRAMEBUFFER,ht)}}},this.copyFramebufferToTexture=function(ne,ge,Ae=0){const ke=Math.pow(2,-Ae),Se=Math.floor(ge.image.width*ke),dt=Math.floor(ge.image.height*ke);Z.setTexture2D(ge,0),re.copyTexSubImage2D(re.TEXTURE_2D,Ae,0,0,ne.x,ne.y,Se,dt),Ve.unbindTexture()},this.copyTextureToTexture=function(ne,ge,Ae,ke=0){const Se=ge.image.width,dt=ge.image.height,Mt=_t.convert(Ae.format),Vt=_t.convert(Ae.type);Z.setTexture2D(Ae,0),re.pixelStorei(re.UNPACK_FLIP_Y_WEBGL,Ae.flipY),re.pixelStorei(re.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Ae.premultiplyAlpha),re.pixelStorei(re.UNPACK_ALIGNMENT,Ae.unpackAlignment),ge.isDataTexture?re.texSubImage2D(re.TEXTURE_2D,ke,ne.x,ne.y,Se,dt,Mt,Vt,ge.image.data):ge.isCompressedTexture?re.compressedTexSubImage2D(re.TEXTURE_2D,ke,ne.x,ne.y,ge.mipmaps[0].width,ge.mipmaps[0].height,Mt,ge.mipmaps[0].data):re.texSubImage2D(re.TEXTURE_2D,ke,ne.x,ne.y,Mt,Vt,ge.image),ke===0&&Ae.generateMipmaps&&re.generateMipmap(re.TEXTURE_2D),Ve.unbindTexture()},this.copyTextureToTexture3D=function(ne,ge,Ae,ke,Se=0){if(j.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const dt=ne.max.x-ne.min.x+1,Mt=ne.max.y-ne.min.y+1,Vt=ne.max.z-ne.min.z+1,ht=_t.convert(ke.format),dn=_t.convert(ke.type);let Zt;if(ke.isData3DTexture)Z.setTexture3D(ke,0),Zt=re.TEXTURE_3D;else if(ke.isDataArrayTexture||ke.isCompressedArrayTexture)Z.setTexture2DArray(ke,0),Zt=re.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}re.pixelStorei(re.UNPACK_FLIP_Y_WEBGL,ke.flipY),re.pixelStorei(re.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ke.premultiplyAlpha),re.pixelStorei(re.UNPACK_ALIGNMENT,ke.unpackAlignment);const nn=re.getParameter(re.UNPACK_ROW_LENGTH),Xn=re.getParameter(re.UNPACK_IMAGE_HEIGHT),fa=re.getParameter(re.UNPACK_SKIP_PIXELS),br=re.getParameter(re.UNPACK_SKIP_ROWS),ie=re.getParameter(re.UNPACK_SKIP_IMAGES),$e=Ae.isCompressedTexture?Ae.mipmaps[Se]:Ae.image;re.pixelStorei(re.UNPACK_ROW_LENGTH,$e.width),re.pixelStorei(re.UNPACK_IMAGE_HEIGHT,$e.height),re.pixelStorei(re.UNPACK_SKIP_PIXELS,ne.min.x),re.pixelStorei(re.UNPACK_SKIP_ROWS,ne.min.y),re.pixelStorei(re.UNPACK_SKIP_IMAGES,ne.min.z),Ae.isDataTexture||Ae.isData3DTexture?re.texSubImage3D(Zt,Se,ge.x,ge.y,ge.z,dt,Mt,Vt,ht,dn,$e.data):Ae.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),re.compressedTexSubImage3D(Zt,Se,ge.x,ge.y,ge.z,dt,Mt,Vt,ht,$e.data)):re.texSubImage3D(Zt,Se,ge.x,ge.y,ge.z,dt,Mt,Vt,ht,dn,$e),re.pixelStorei(re.UNPACK_ROW_LENGTH,nn),re.pixelStorei(re.UNPACK_IMAGE_HEIGHT,Xn),re.pixelStorei(re.UNPACK_SKIP_PIXELS,fa),re.pixelStorei(re.UNPACK_SKIP_ROWS,br),re.pixelStorei(re.UNPACK_SKIP_IMAGES,ie),Se===0&&ke.generateMipmaps&&re.generateMipmap(Zt),Ve.unbindTexture()},this.initTexture=function(ne){ne.isCubeTexture?Z.setTextureCube(ne,0):ne.isData3DTexture?Z.setTexture3D(ne,0):ne.isDataArrayTexture||ne.isCompressedArrayTexture?Z.setTexture2DArray(ne,0):Z.setTexture2D(ne,0),Ve.unbindTexture()},this.resetState=function(){C=0,E=0,P=null,Ve.reset(),an.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Dl}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=e===TR?"display-p3":"srgb",n.unpackColorSpace=rr.workingColorSpace===Q_?"display-p3":"srgb"}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===Ra?zu:eae}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===zu?Ra:Jl}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}class xKe extends jae{}xKe.prototype.isWebGL1Renderer=!0;class gKe extends Za{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n}}class vKe extends Fs{constructor(e,n,a,s,i,o,l,c,d){super(e,n,a,s,i,o,l,c,d),this.isCanvasTexture=!0,this.needsUpdate=!0}}class yKe extends Xg{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Fn(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Fn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=tae,this.normalScale=new Un(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Nae extends Za{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new Fn(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}const mM=new da,h7=new Re,m7=new Re;class bKe{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Un(512,512),this.map=null,this.mapPass=null,this.matrix=new da,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new RR,this._frameExtents=new Un(1,1),this._viewportCount=1,this._viewports=[new Ca(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,a=this.matrix;h7.setFromMatrixPosition(e.matrixWorld),n.position.copy(h7),m7.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(m7),n.updateMatrixWorld(),mM.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(mM),a.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),a.multiply(mM)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class wKe extends bKe{constructor(){super(new xae(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class f7 extends Nae{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Za.DEFAULT_UP),this.updateMatrix(),this.target=new Za,this.shadow=new wKe}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class _Ke extends Nae{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:MR}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=MR);function p7({isRolling:t,size:e=100}){const n=w.useRef(null),a=w.useRef(null),s=w.useRef(null),i=w.useRef(null),o=w.useRef(null);w.useEffect(()=>{if(!n.current)return;const c=new gKe;s.current=c;const d=new Ai(50,1,.1,1e3);d.position.z=5,i.current=d;const u=new jae({antialias:!0,alpha:!0});u.setSize(e,e),u.setClearColor(0,0),n.current.appendChild(u.domElement),a.current=u;const h=new Rp(2,2,2),f=[l("#9333EA",""),l("#EC4899",""),l("#8B5CF6",""),l("#A855F7",""),l("#C026D3",""),l("#DB2777","")],v=new Il(h,f);c.add(v),o.current=v;const x=new f7(16777215,1);x.position.set(5,5,5),c.add(x);const g=new f7(16777215,.5);g.position.set(-5,-5,5),c.add(g);const y=new _Ke(16777215,.4);c.add(y);let b;const _=()=>{b=requestAnimationFrame(_),t&&v?(v.rotation.x+=.15,v.rotation.y+=.15):v&&(v.rotation.x+=.005,v.rotation.y+=.005),u.render(c,d)};return _(),()=>{cancelAnimationFrame(b),a.current&&n.current&&n.current.removeChild(a.current.domElement),h.dispose(),f.forEach(j=>j.dispose()),u.dispose()}},[t,e]);function l(c,d){const u=document.createElement("canvas");u.width=256,u.height=256;const h=u.getContext("2d");h.fillStyle=c,h.fillRect(0,0,256,256),h.strokeStyle="#FFFFFF",h.lineWidth=8,h.strokeRect(10,10,236,236),h.fillStyle="#FFFFFF",h.font="bold 120px Arial",h.textAlign="center",h.textBaseline="middle",h.fillText(d,128,128);const f=new vKe(u);return new yKe({map:f})}return r.jsx("div",{ref:n,style:{width:e,height:e}})}const fM=[{id:"sincronia",name:"Sincronia",icon:"",description:"Focar na respirao mtua"},{id:"olhar",name:"Olhar",icon:"",description:"Manter a conexo visual"},{id:"energia",name:"Energia",icon:"",description:"Sentir a aura do parceiro"},{id:"sussurros",name:"Sussurros",icon:"",description:"Comunicao verbal"},{id:"gratidao",name:"Gratido",icon:"",description:"Gratido pela unio"},{id:"fantasia",name:"Fantasia",icon:"",description:"Cenrio mstico"}];function Sae(){const t=wt(),[e,n]=w.useState(null),[a,s]=w.useState(!1),[i,o]=w.useState(!1),[l,c]=w.useState(null),[d,u]=w.useState(null),[h,f]=w.useState(!1),[v,x]=w.useState(null),[g,y]=w.useState(""),[b,_]=w.useState(!1);w.useEffect(()=>{j();const I=localStorage.getItem("kamasutra_age_verified"),L=localStorage.getItem("kamasutra_warning_accepted");I==="true"&&s(!0),L==="true"&&o(!0)},[]);const j=async()=>{const I=await H.auth.me();n(I)},{data:S}=Oe({queryKey:["kamasutra-positions"],queryFn:()=>H.entities.KamasutraPosition.filter({is_active:!0},"order",100),enabled:!!e&&a&&i,initialData:[]}),{data:C}=Oe({queryKey:["kamasutra-rituals"],queryFn:()=>H.entities.KamasutraRitual.filter({is_active:!0},"order",100),enabled:!!e&&a&&i,initialData:[]}),{data:E}=Oe({queryKey:["kamasutra-likes",l==null?void 0:l.id],queryFn:()=>H.entities.KamasutraLike.filter({position_id:l.id}),enabled:!!l,initialData:[]}),{data:P}=Oe({queryKey:["kamasutra-comments",l==null?void 0:l.id],queryFn:()=>H.entities.KamasutraComment.filter({position_id:l.id},"-created_date",50),enabled:!!l,initialData:[]}),T=Ue({mutationFn:async()=>{const I=E.find(L=>L.user_id===e.id);I?await H.entities.KamasutraLike.delete(I.id):await H.entities.KamasutraLike.create({position_id:l.id,user_id:e.id})},onSuccess:()=>{t.invalidateQueries({queryKey:["kamasutra-likes"]})}}),M=Ue({mutationFn:async I=>{await H.entities.KamasutraComment.create(I)},onSuccess:()=>{t.invalidateQueries({queryKey:["kamasutra-comments"]}),y(""),qe.success("Experincia compartilhada!")}}),k=()=>{g.trim()&&M.mutate({position_id:l.id,position_name:l.name,user_id:b?"":e.id,user_name:b?"Annimo":e.display_name||e.full_name,comment:g.trim(),is_anonymous:b})},O=()=>{s(!0),localStorage.setItem("kamasutra_age_verified","true")},$=()=>{o(!0),localStorage.setItem("kamasutra_warning_accepted","true")},F=async()=>{if(!e||!S||S.length===0)return;const I=e.ouros||0;if(I<1){qe.error("Voc precisa de 1 Ouro para girar os Dados da Inteno ");return}f(!0),await H.auth.updateMe({ouros:I-1}),n({...e,ouros:I-1}),await new Promise(z=>setTimeout(z,3e3));const L=S[Math.floor(Math.random()*S.length)],U=fM[Math.floor(Math.random()*fM.length)];x({position:L,intention:U}),f(!1),qe.success("Os Dados da Inteno foram lanados! ")},B=I=>{if(!(e!=null&&e.is_pro_subscriber)&&I.is_premium){qe.error("Este ritual  exclusivo para assinantes PRO ");return}I.audio_url&&(window.dispatchEvent(new CustomEvent("playGlobalAudio",{detail:{title:I.title,description:I.description,url:I.audio_url,duration:I.duration_minutes?`${I.duration_minutes}min`:null}})),qe.success(`Reproduzindo: ${I.title} `))};if(!e)return r.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-rose-950 via-slate-900 to-purple-950",children:r.jsx(_e,{className:"w-12 h-12 text-rose-500 animate-pulse"})});if(!a)return r.jsx("div",{className:"fixed inset-0 bg-black/95 z-[100] flex items-center justify-center p-4",children:r.jsx(q.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},children:r.jsxs(X,{className:"bg-gradient-to-br from-rose-900/50 to-purple-900/50 border-rose-500/30 p-6 md:p-8 max-w-md text-center",children:[r.jsx(N1,{className:"w-16 h-16 text-rose-400 mx-auto mb-4"}),r.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Verificao de Idade"}),r.jsx("p",{className:"text-gray-300 text-sm md:text-base mb-6 leading-relaxed",children:"Este contedo  destinado apenas para maiores de 18 anos. Contm material de natureza adulta e sensvel."}),r.jsx("p",{className:"text-rose-300 font-semibold mb-6",children:"Voc confirma que tem 18 anos ou mais?"}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs(W,{onClick:O,className:"flex-1 bg-rose-600 hover:bg-rose-700",children:[r.jsx(Rn,{className:"w-4 h-4 mr-2"}),"Sim, tenho 18+"]}),r.jsxs(W,{onClick:()=>window.history.back(),variant:"outline",className:"flex-1 border-gray-600",children:[r.jsx(nt,{className:"w-4 h-4 mr-2"}),"No"]})]})]})})});if(!i)return r.jsx("div",{className:"fixed inset-0 bg-black/95 z-[100] flex items-center justify-center p-4",children:r.jsx(q.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},children:r.jsxs(X,{className:"bg-gradient-to-br from-rose-900/50 to-purple-900/50 border-rose-500/30 p-6 md:p-8 max-w-md text-center",children:[r.jsx(Vr,{className:"w-16 h-16 text-rose-400 mx-auto mb-4"}),r.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Aviso Importante"}),r.jsx("p",{className:"text-gray-300 text-sm md:text-base mb-6 leading-relaxed",children:"Este santurio contm ilustraes artsticas de posies ntimas. O contedo  apresentado com respeito e propsito educacional/espiritual."}),r.jsx("p",{className:"text-rose-300 text-sm mb-6",children:"Abordamos a intimidade sob uma perspectiva sagrada e consciente."}),r.jsxs(W,{onClick:$,className:"w-full bg-rose-600 hover:bg-rose-700",children:[r.jsx($n,{className:"w-4 h-4 mr-2"}),"Entendo e Aceito"]})]})})});const G=E.some(I=>I.user_id===e.id);return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-rose-950 via-slate-900 to-purple-950 text-white p-4 md:p-6 pb-24",children:[r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs(q.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-6 md:mb-8",children:[r.jsx(q.div,{animate:{scale:[1,1.05,1],rotate:[0,5,-5,0]},transition:{duration:4,repeat:1/0},className:"w-20 h-20 md:w-24 md:h-24 rounded-2xl bg-gradient-to-br from-rose-600 to-purple-600 flex items-center justify-center mx-auto mb-4 shadow-2xl",children:r.jsx(ci,{className:"w-10 h-10 md:w-12 md:h-12 text-white"})}),r.jsx("h1",{className:"text-2xl md:text-4xl font-bold mb-2 bg-gradient-to-r from-rose-400 to-purple-400 bg-clip-text text-transparent",children:"Santurio Kamasutra"}),r.jsx("p",{className:"text-slate-300 text-sm md:text-base",children:"Unio Sagrada  Intimidade Consciente  Energia Tntrica"})]}),r.jsxs($r,{defaultValue:"positions",className:"w-full",children:[r.jsxs(Tr,{className:"grid grid-cols-3 bg-slate-900/50 mb-6",children:[r.jsx(xt,{value:"positions",className:"text-xs md:text-sm",children:"Posies"}),r.jsx(xt,{value:"dice",className:"text-xs md:text-sm",children:"Dados da Inteno"}),r.jsx(xt,{value:"rituals",className:"text-xs md:text-sm",children:"Rituais"})]}),r.jsxs(et,{value:"positions",children:[r.jsxs(X,{className:"bg-gradient-to-br from-slate-900/50 to-black border-rose-500/20 p-4 md:p-6 mb-6",children:[r.jsxs("h3",{className:"text-lg md:text-xl font-bold text-rose-300 mb-2 flex items-center gap-2",children:[r.jsx(Oa,{className:"w-5 h-5"}),"O Grimrio das Posies Sagradas"]}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Cada posio  uma porta para conexo profunda. Explore com reverncia e presena."})]}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:S.map((I,L)=>r.jsx(q.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:L*.05},children:r.jsxs(X,{className:"bg-gradient-to-br from-slate-900/60 to-black border-rose-500/20 hover:border-rose-400/50 transition-all overflow-hidden group cursor-pointer",onClick:()=>c(I),children:[I.image_url&&r.jsx("div",{className:"aspect-video overflow-hidden flex items-center justify-center bg-[#120c1a]",children:r.jsx("img",{src:I.image_url,alt:I.name,className:"w-full h-full object-contain group-hover:scale-105 transition-transform duration-300"})}),r.jsxs("div",{className:"p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h4",{className:"font-bold text-white text-sm md:text-base",children:I.name}),I.rune_symbol&&r.jsx("span",{className:"text-2xl",children:I.rune_symbol})]}),r.jsx("p",{className:"text-gray-400 text-xs md:text-sm line-clamp-2 mb-3",children:I.description}),r.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[I.difficulty&&r.jsx(De,{className:`text-xs ${I.difficulty==="iniciante"?"bg-green-600":I.difficulty==="intermedirio"?"bg-yellow-600":"bg-red-600"}`,children:I.difficulty}),I.category&&r.jsx(De,{variant:"outline",className:"text-xs border-rose-500/30 text-rose-300",children:I.category})]})]})]})},I.id))})]}),r.jsxs(et,{value:"dice",children:[r.jsxs(X,{className:"bg-gradient-to-br from-slate-900/50 to-black border-rose-500/20 p-4 md:p-6 mb-6",children:[r.jsxs("h3",{className:"text-lg md:text-xl font-bold text-rose-300 mb-2 flex items-center gap-2",children:[r.jsx(dh,{className:"w-5 h-5"}),"Os Dados da Inteno"]}),r.jsxs("p",{className:"text-gray-400 text-sm mb-4",children:["Deixe o universo guiar sua jornada ntima. Dois dados msticos revelam:",r.jsx("strong",{className:"text-rose-300",children:" O Corpo"})," (posio) e",r.jsx("strong",{className:"text-purple-300",children:" A Alma"})," (inteno)."]}),r.jsxs("div",{className:"flex items-center gap-2 text-yellow-400",children:[r.jsx(Gn,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm font-semibold",children:"Custo: 1 Ouro por lanamento"})]})]}),r.jsxs("div",{className:"max-w-2xl mx-auto",children:[r.jsx(X,{className:"bg-gradient-to-br from-purple-900/30 to-rose-900/30 border-rose-500/30 p-6 md:p-8",children:r.jsx(gt,{mode:"wait",children:h?r.jsxs(q.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-center py-12",children:[r.jsx("div",{className:"flex justify-center mb-6",children:r.jsx(p7,{isRolling:!0,size:120})}),r.jsx("p",{className:"text-white font-bold text-lg mt-6",children:"Os dados esto rolando..."}),r.jsx("p",{className:"text-gray-400 text-sm",children:"O universo est escolhendo para voc"})]},"rolling"):v?r.jsxs(q.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"space-y-6",children:[r.jsxs(X,{className:"bg-slate-800/50 border-rose-500/30 p-4",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-rose-500 to-pink-500 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-2xl",children:v.position.rune_symbol||""})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-rose-300 text-xs font-semibold",children:"O CORPO"}),r.jsx("p",{className:"text-white font-bold text-base",children:v.position.name})]})]}),r.jsx("p",{className:"text-gray-400 text-sm line-clamp-2 mb-3",children:v.position.description}),r.jsx(W,{onClick:()=>c(v.position),size:"sm",variant:"outline",className:"w-full border-rose-500/30 text-rose-300",children:"Ver Detalhes"})]}),r.jsxs(X,{className:"bg-slate-800/50 border-purple-500/30 p-4",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-indigo-500 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-2xl",children:v.intention.icon})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-purple-300 text-xs font-semibold",children:"A ALMA"}),r.jsx("p",{className:"text-white font-bold text-base",children:v.intention.name})]})]}),r.jsx("p",{className:"text-gray-400 text-sm",children:v.intention.description})]}),r.jsxs(W,{onClick:F,className:"w-full bg-gradient-to-r from-rose-600 to-purple-600",children:[r.jsx(Gn,{className:"w-4 h-4 mr-2"}),"Lanar Novamente (1 Ouro)"]})]},"result"):r.jsxs(q.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[r.jsx("div",{className:"flex justify-center mb-6",children:r.jsx(p7,{isRolling:!1,size:120})}),r.jsx("p",{className:"text-white font-bold mb-2",children:"Pronto para a Magia?"}),r.jsx("p",{className:"text-gray-400 text-sm mb-6",children:"Lance os dados e deixe o universo guiar sua conexo ntima"}),r.jsxs(W,{onClick:F,disabled:!e||(e.ouros||0)<1,className:"bg-gradient-to-r from-rose-600 to-purple-600",children:[r.jsx(Gn,{className:"w-4 h-4 mr-2"}),"Girar os Dados (1 Ouro)"]}),e&&(e.ouros||0)<1&&r.jsx("p",{className:"text-yellow-400 text-xs mt-3",children:"Voc precisa de pelo menos 1 Ouro"})]},"initial")})}),r.jsxs(X,{className:"bg-gradient-to-br from-slate-900/50 to-black border-purple-500/20 p-6 mt-6",children:[r.jsx("h4",{className:"text-lg font-bold text-purple-300 mb-4",children:"As 6 Intenes da Alma"}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:fM.map(I=>r.jsxs("div",{className:"flex items-start gap-3 p-3 bg-slate-800/30 rounded-lg",children:[r.jsx("span",{className:"text-2xl",children:I.icon}),r.jsxs("div",{children:[r.jsx("p",{className:"text-white font-semibold text-sm",children:I.name}),r.jsx("p",{className:"text-gray-400 text-xs",children:I.description})]})]},I.id))})]})]})]}),r.jsxs(et,{value:"rituals",children:[r.jsxs(X,{className:"bg-gradient-to-br from-slate-900/50 to-black border-rose-500/20 p-4 md:p-6 mb-6",children:[r.jsxs("h3",{className:"text-lg md:text-xl font-bold text-rose-300 mb-2 flex items-center gap-2",children:[r.jsx(_e,{className:"w-5 h-5"}),"Rituais de Sintonizao"]}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Prticas guiadas para aprofundar a conexo antes, durante e depois da intimidade."})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:C.map((I,L)=>{const U=I.is_premium,z=(e==null?void 0:e.is_pro_subscriber)||!U;return r.jsx(q.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:L*.05},children:r.jsxs(X,{className:`bg-gradient-to-br from-slate-900/60 to-black border-rose-500/20 p-4 md:p-6 ${z?"":"opacity-60"}`,children:[r.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center",style:{backgroundColor:I.color||"#8B5CF6"},children:r.jsx("span",{className:"text-2xl",children:I.icon||""})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-bold text-white mb-1",children:I.title}),I.duration_minutes&&r.jsxs("p",{className:"text-gray-400 text-xs",children:[I.duration_minutes," minutos"]})]}),U&&r.jsxs(De,{className:"bg-yellow-600 text-white text-xs",children:[r.jsx(pf,{className:"w-3 h-3 mr-1"}),"PRO"]})]}),r.jsx("p",{className:"text-gray-400 text-sm mb-4",children:I.description}),I.audio_url&&r.jsxs(W,{onClick:()=>B(I),size:"sm",disabled:!z,className:"w-full bg-purple-600",children:[r.jsx(Qa,{className:"w-4 h-4 mr-2"}),"Ouvir"]})]})},I.id)})})]})]})]}),r.jsx(gt,{children:l&&r.jsx("div",{className:"fixed inset-0 bg-black/90 z-[100] flex items-center justify-center p-3 md:p-4",onClick:()=>c(null),children:r.jsx(q.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},onClick:I=>I.stopPropagation(),className:"max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:r.jsxs(X,{className:"bg-gradient-to-br from-slate-900 to-black border-rose-500/30",children:[l.image_url&&r.jsx("div",{className:"aspect-video flex items-center justify-center bg-[#120c1a]",children:r.jsx("img",{src:l.image_url,alt:l.name,className:"w-full h-full object-contain"})}),r.jsxs("div",{className:"p-4 md:p-6",children:[r.jsxs("div",{className:"flex items-start justify-between gap-3 mb-4",children:[r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h2",{className:"text-xl md:text-2xl font-bold text-white mb-1",children:l.name}),r.jsx("p",{className:"text-gray-300 text-sm md:text-base leading-relaxed",children:l.description})]}),r.jsxs("div",{className:"flex flex-col gap-2 flex-shrink-0",children:[r.jsx("button",{onClick:()=>T.mutate(),disabled:T.isPending,className:`w-12 h-12 rounded-full flex items-center justify-center transition ${G?"bg-rose-600":"bg-slate-800 hover:bg-slate-700"}`,children:r.jsx($n,{className:`w-6 h-6 ${G?"fill-white text-white":"text-gray-400"}`})}),r.jsx("div",{className:"text-center",children:r.jsx("p",{className:"text-xs text-gray-400",children:E.length})}),r.jsx("button",{onClick:()=>c(null),className:"w-12 h-12 rounded-full bg-slate-800 hover:bg-slate-700 flex items-center justify-center",children:r.jsx(nt,{className:"w-6 h-6 text-gray-400"})})]})]}),l.mystical_meaning&&r.jsxs(X,{className:"bg-purple-900/20 border-purple-500/30 p-4 mb-4",children:[r.jsx("p",{className:"text-purple-300 font-semibold text-sm mb-2",children:"Significado Mstico:"}),r.jsx("p",{className:"text-gray-300 text-sm",children:l.mystical_meaning})]}),l.benefits&&l.benefits.length>0&&r.jsxs("div",{className:"mb-4",children:[r.jsx("p",{className:"text-rose-300 font-semibold mb-2",children:"Benefcios:"}),r.jsx("ul",{className:"space-y-1",children:l.benefits.map((I,L)=>r.jsxs("li",{className:"text-gray-400 text-sm flex items-start gap-2",children:[r.jsx($n,{className:"w-4 h-4 text-rose-400 flex-shrink-0 mt-0.5"}),I]},L))})]}),l.chakras&&l.chakras.length>0&&r.jsxs("div",{className:"mb-6",children:[r.jsx("p",{className:"text-purple-300 font-semibold mb-2",children:"Chakras Estimulados:"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:l.chakras.map((I,L)=>r.jsx(De,{className:"bg-purple-600 text-xs",children:I},L))})]}),r.jsxs(X,{className:"bg-slate-800/50 border-rose-500/30 p-4 mb-4",children:[r.jsxs("h4",{className:"text-white font-bold mb-3 flex items-center gap-2",children:[r.jsx(Da,{className:"w-5 h-5 text-rose-400"}),"Voc j fez essa posio? Conte sua experincia"]}),r.jsx(It,{value:g,onChange:I=>y(I.target.value),placeholder:"Compartilhe sua experincia...",className:"bg-slate-900 border-rose-900/30 text-white mb-3 text-sm",maxLength:500}),r.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[r.jsx(qre,{checked:b,onCheckedChange:_}),r.jsx("label",{className:"text-sm text-gray-400",children:"Comentar anonimamente"})]}),r.jsxs(W,{onClick:k,disabled:!g.trim()||M.isPending,className:"w-full bg-rose-600 hover:bg-rose-700",size:"sm",children:[M.isPending?r.jsx(zt,{className:"w-4 h-4 mr-2 animate-spin"}):r.jsx(Hr,{className:"w-4 h-4 mr-2"}),"Compartilhar"]})]}),P.length>0&&r.jsxs("div",{children:[r.jsxs("h4",{className:"text-white font-bold mb-3",children:["Experincias Compartilhadas (",P.length,")"]}),r.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:P.map(I=>r.jsxs(X,{className:"bg-slate-800/50 border-slate-700/30 p-3",children:[r.jsx("p",{className:"text-sm text-gray-400 mb-1 font-semibold",children:I.user_name}),r.jsx("p",{className:"text-sm text-gray-300",children:I.comment})]},I.id))})]})]})]})})})})]})}function Cae(){const t=Sn(),[e,n]=w.useState(!1),[a,s]=w.useState(!1);w.useEffect(()=>{const o=document.createElement("link");return o.rel="prefetch",o.href=ft("AreaDoAluno"),document.head.appendChild(o),()=>{document.head.removeChild(o)}},[]);const i=()=>{e||(n(!0),s(!0),setTimeout(()=>{new Audio("https://seja-aluno.portaltarot.com.br/wp-content/uploads/2025/02/12231.mp3").play(),setTimeout(()=>{t(ft("AreaDoAluno"))},11e3)},1e3))};return r.jsxs("div",{className:"relative min-h-screen overflow-hidden bg-black",children:[r.jsx("video",{autoPlay:!0,muted:!0,loop:!0,playsInline:!0,className:"absolute inset-0 w-full h-full object-cover",style:{objectPosition:"center"},children:r.jsx("source",{src:"https://seja-aluno.portaltarot.com.br/wp-content/uploads/2025/02/12234.mp4",type:"video/mp4"})}),r.jsx("div",{className:"absolute inset-0 bg-black/40"}),r.jsxs("div",{className:"relative z-10 min-h-screen flex flex-col items-center justify-center p-4",children:[r.jsx(q.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:1,delay:.5},className:"max-w-4xl w-full",children:r.jsx("button",{onClick:i,disabled:e,className:"w-full group cursor-pointer disabled:cursor-default",children:r.jsx("img",{src:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/690e5f6f991e09e82bef3795/09e54dc3a_O-EREMITA-2.png",alt:"Comece Aqui - Conhea o Portal Tarot e como usar",className:"w-full h-auto rounded-2xl shadow-2xl group-hover:scale-105 transition-transform duration-300"})})}),!e&&r.jsx(q.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:1,delay:2},className:"mt-8 text-center",children:r.jsx("p",{className:"text-white/70 text-sm md:text-base font-light tracking-wide",children:"Clique na imagem para comear sua jornada"})})]}),a&&r.jsx(q.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:1},className:"fixed inset-0 z-50 flex items-center justify-center",style:{backgroundColor:"rgba(0, 0, 0, 0.95)"},children:r.jsx(q.div,{initial:{scale:1},animate:{scale:6},transition:{duration:10,ease:"easeInOut"},className:"relative",children:r.jsx(q.div,{className:"relative",initial:{opacity:1},animate:{opacity:0},transition:{duration:2,delay:10},children:r.jsxs("div",{className:"relative w-64 h-64",children:[r.jsx("img",{src:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/690e5f6f991e09e82bef3795/19bd8531b_cropped-cropped-Design-sem-nome-5.png",alt:"Portal Hologrfico",className:"absolute inset-0 w-full h-full object-cover rounded-full",style:{boxShadow:"0 0 100px rgba(168, 85, 247, 0.8), inset 0 0 80px rgba(236, 72, 153, 0.5)"}}),r.jsx("div",{className:"absolute inset-0 rounded-full",style:{background:"radial-gradient(circle, rgba(255, 255, 255, 0.2) 0%, transparent 70%)"}}),r.jsx("div",{className:"absolute inset-0",children:[...Array(12)].map((o,l)=>r.jsx(q.div,{className:"absolute w-2 h-2 bg-white rounded-full",style:{left:`${50+45*Math.cos(l*Math.PI*2/12)}%`,top:`${50+45*Math.sin(l*Math.PI*2/12)}%`,boxShadow:"0 0 10px rgba(255, 255, 255, 0.8)"},animate:{scale:[1,1.5,1],opacity:[.4,1,.4]},transition:{duration:2,repeat:1/0,delay:l*.15}},l))}),r.jsx(q.div,{className:"absolute inset-0 rounded-full border-2 border-purple-400/50",animate:{rotate:360},transition:{duration:8,repeat:1/0,ease:"linear"},style:{boxShadow:"0 0 30px rgba(168, 85, 247, 0.5)"}})]})})})})]})}function Eae(){const t=Sn(),e=wt(),[n,a]=w.useState(null),[s,i]=w.useState(1),[o,l]=w.useState(null),[c,d]=w.useState(null),[u,h]=w.useState({phone:"",notes:""}),[f,v]=w.useState(null);w.useEffect(()=>{x()},[]),w.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[s]);const x=async()=>{const P=await H.auth.me();a(P)},{data:g}=Oe({queryKey:["consultation-settings"],queryFn:async()=>{const P=await H.entities.ConsultationSettings.list();return P.length>0?P[0]:null}}),{data:y}=Oe({queryKey:["my-consultations",n==null?void 0:n.id],queryFn:()=>H.entities.Consultation.filter({user_id:n.id},"-scheduled_date"),enabled:!!n}),{data:b}=Oe({queryKey:["booked-slots"],queryFn:()=>H.entities.Consultation.filter({status:{$in:["confirmed","in_progress"]}})}),_=Ue({mutationFn:async P=>{const T=await H.entities.Consultation.create(P),M=await H.functions.invoke("createConsultationPayment",{consultation_id:T.id,amount:g.price,description:`Consulta com Emelyn Chott - ${kn(Sf(P.scheduled_date),"dd/MM/yyyy",{locale:jn})} s ${P.scheduled_time}`,payer_email:n.email,payer_name:n.display_name||n.full_name});return{consultation:T,payment_link:M.data.init_point}},onSuccess:P=>{e.invalidateQueries({queryKey:["my-consultations"]}),v(P.payment_link),i(4),qe.success(" Consulta criada! Complete o pagamento.")},onError:P=>{qe.error("Erro ao criar consulta: "+P.message)}}),j=()=>{if(!o||!c){qe.error("Selecione uma data e horrio");return}if(!u.phone){qe.error("Preencha o telefone para contato");return}_.mutate({user_id:n.id,user_name:n.display_name||n.full_name,user_email:n.email,user_phone:u.phone,scheduled_date:kn(o,"yyyy-MM-dd"),scheduled_time:c,notes:u.notes,price_paid:g.price,status:"pending_payment"})},S=()=>{if(!(g!=null&&g.available_days))return[];const P=[],T=Mx(new Date);for(let M=1;M<=30;M++){const k=T2e(T,M),O=kn(k,"EEEE",{locale:jn}).toLowerCase(),F={"segunda-feira":"monday","tera-feira":"tuesday","quarta-feira":"wednesday","quinta-feira":"thursday","sexta-feira":"friday",sbado:"saturday",domingo:"sunday"}[O];g.available_days.includes(F)&&P.push(k)}return P},C=(P,T)=>{if(!b)return!0;const M=kn(P,"yyyy-MM-dd");return!b.some(k=>k.scheduled_date===M&&k.scheduled_time===T)};if(!n||!g)return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#1a1a2e] via-[#16213e] to-[#0f3460] flex items-center justify-center",children:r.jsx(_e,{className:"w-12 h-12 text-purple-500 animate-pulse"})});if(!g.is_active)return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#1a1a2e] via-[#16213e] to-[#0f3460] p-6",children:r.jsxs("div",{className:"max-w-2xl mx-auto",children:[r.jsxs(W,{onClick:()=>t(ft("AreaDoAluno")),variant:"ghost",className:"text-white mb-6",children:[r.jsx(Go,{className:"w-4 h-4 mr-2"}),"Voltar para rea do Aluno"]}),r.jsxs(X,{className:"bg-gradient-to-br from-slate-900 to-slate-800 border-yellow-500/30 p-12 text-center",children:[r.jsx(Vu,{className:"w-16 h-16 text-yellow-500 mx-auto mb-6"}),r.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Agendamentos Temporariamente Indisponveis"}),r.jsx("p",{className:"text-gray-300 leading-relaxed",children:g.message||"Os agendamentos esto temporariamente indisponveis. Voltamos em breve!"})]})]})});const E=S();return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#1a1a2e] via-[#16213e] to-[#0f3460] p-4 md:p-6 pb-24",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsxs(W,{onClick:()=>t(ft("AreaDoAluno")),variant:"ghost",className:"text-white mb-6",children:[r.jsx(Go,{className:"w-4 h-4 mr-2"}),"Voltar para rea do Aluno"]}),r.jsxs(q.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[r.jsx("div",{className:"w-20 h-20 md:w-24 md:h-24 rounded-full overflow-hidden mx-auto mb-4 shadow-2xl shadow-purple-500/50 border-4 border-purple-500",children:r.jsx("img",{src:"https://qtrypzzcjebvfcihiynt.supabase.co/storage/v1/object/public/base44-prod/public/690e5f6f991e09e82bef3795/d7838e0fb_ImagemdoWhatsAppde2025-11-13s131958_d191baad1.jpg",alt:"Emelyn Chott",className:"w-full h-full object-cover"})}),r.jsx("h1",{className:"text-2xl md:text-3xl lg:text-4xl font-bold text-white mb-2",children:"Consulta com Emelyn Chott"}),r.jsx("p",{className:"text-gray-400 text-xs md:text-sm lg:text-base",children:"Sesso Individual de Tarot Profissional"}),r.jsxs(De,{className:"bg-yellow-600 text-white mt-4 text-xs md:text-sm",children:["R$ ",g.price.toFixed(2),"  ",g.duration_minutes," minutos"]})]}),r.jsxs(gt,{mode:"wait",children:[s===1&&r.jsxs(q.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:[r.jsxs(X,{className:"bg-gradient-to-br from-slate-900 to-slate-800 border-purple-500/30 p-6 md:p-8",children:[r.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Sobre a Consulta"}),r.jsxs("div",{className:"space-y-6 mb-8",children:[r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-purple-600/20 flex items-center justify-center flex-shrink-0",children:r.jsx(La,{className:"w-6 h-6 text-purple-400"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-white font-semibold mb-1",children:"Videoconferncia Online"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Sesso ao vivo por videoconferncia, com privacidade total"})]})]}),r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-purple-600/20 flex items-center justify-center flex-shrink-0",children:r.jsx(Mr,{className:"w-6 h-6 text-purple-400"})}),r.jsxs("div",{children:[r.jsxs("h3",{className:"text-white font-semibold mb-1",children:["Durao: ",g.duration_minutes," minutos"]}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Tempo dedicado exclusivamente para voc"})]})]}),r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-purple-600/20 flex items-center justify-center flex-shrink-0",children:r.jsx(_e,{className:"w-6 h-6 text-purple-400"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-white font-semibold mb-1",children:"Atendimento Personalizado"}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Leitura profunda com orientaes prticas para seu momento"})]})]})]}),r.jsxs("div",{className:"flex gap-3 mt-8",children:[r.jsx(W,{onClick:()=>i(1),variant:"outline",className:"flex-1 border-slate-600 text-slate-900 bg-white hover:bg-gray-100",children:"Voltar"}),r.jsx(W,{onClick:()=>i(2),className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",children:"Agendar Consulta"})]})]}),y&&y.length>0&&r.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"mt-6",children:[r.jsx("h3",{className:"text-white font-bold mb-4",children:"Minhas Consultas"}),r.jsx("div",{className:"space-y-3",children:y.map(P=>r.jsx(X,{className:"bg-slate-900 border-purple-500/30 p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"text-white font-semibold",children:[kn(Sf(P.scheduled_date),"dd/MM/yyyy",{locale:jn})," s ",P.scheduled_time]}),r.jsx(De,{className:P.status==="confirmed"?"bg-green-600":P.status==="pending_payment"?"bg-yellow-600":P.status==="completed"?"bg-blue-600":"bg-gray-600",children:P.status==="confirmed"?" Confirmada":P.status==="pending_payment"?" Aguardando Pagamento":P.status==="completed"?" Concluda":P.status})]}),P.status==="confirmed"&&r.jsxs(W,{onClick:()=>t(ft(`RoomConsulta?id=${P.id}`)),className:"bg-purple-600 hover:bg-purple-700",children:[r.jsx(La,{className:"w-4 h-4 mr-2"}),"Entrar"]})]})},P.id))})]})]},"step1"),s===2&&r.jsx(q.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:r.jsxs(X,{className:"bg-gradient-to-br from-slate-900 to-slate-800 border-purple-500/30 p-6 md:p-8",children:[r.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Escolha Data e Horrio"}),r.jsxs("div",{className:"mb-8",children:[r.jsx("h3",{className:"text-white font-semibold mb-4",children:"Selecione o Dia"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:E.slice(0,12).map(P=>r.jsxs("button",{onClick:()=>{l(P),d(null)},className:`p-4 rounded-lg border-2 transition ${o&&kn(o,"yyyy-MM-dd")===kn(P,"yyyy-MM-dd")?"border-purple-500 bg-purple-900/30":"border-slate-700 hover:border-slate-600"}`,children:[r.jsx(Ya,{className:"w-5 h-5 text-purple-400 mx-auto mb-2"}),r.jsx("p",{className:"text-white font-semibold text-sm",children:kn(P,"dd MMM",{locale:jn})}),r.jsx("p",{className:"text-gray-400 text-xs",children:kn(P,"EEEE",{locale:jn})})]},P.toString()))})]}),o&&r.jsxs(q.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:[r.jsx("h3",{className:"text-white font-semibold mb-4",children:"Horrios Disponveis"}),r.jsx("div",{className:"grid grid-cols-3 md:grid-cols-4 gap-3",children:g.available_hours.map(P=>{const T=C(o,P);return r.jsxs("button",{onClick:()=>T&&d(P),disabled:!T,className:`p-3 rounded-lg border-2 transition ${c===P?"border-purple-500 bg-purple-900/30":T?"border-slate-700 hover:border-slate-600":"border-slate-800 opacity-30 cursor-not-allowed"}`,children:[r.jsx(Mr,{className:"w-4 h-4 text-purple-400 mx-auto mb-1"}),r.jsx("p",{className:"text-white text-sm font-semibold",children:P})]},P)})})]}),r.jsxs("div",{className:"flex flex-col md:flex-row gap-3 mt-8",children:[r.jsx(W,{onClick:()=>i(1),variant:"outline",className:"flex-1 border-slate-600 text-slate-900 bg-white hover:bg-gray-100",children:"Voltar"}),r.jsx(W,{onClick:()=>i(3),disabled:!o||!c,className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",children:"Continuar"})]})]})},"step2"),s===3&&r.jsx(q.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:r.jsxs(X,{className:"bg-gradient-to-br from-slate-900 to-slate-800 border-purple-500/30 p-6 md:p-8",children:[r.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Confirme seus Dados"}),r.jsxs("div",{className:"space-y-4 mb-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"text-gray-400 text-sm mb-2 block",children:[r.jsx(Gu,{className:"w-4 h-4 inline mr-2"}),"Nome Completo"]}),r.jsx(je,{value:n.display_name||n.full_name,disabled:!0,className:"bg-slate-800 border-slate-700 text-white"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"text-gray-400 text-sm mb-2 block",children:[r.jsx(q3,{className:"w-4 h-4 inline mr-2"}),"E-mail"]}),r.jsx(je,{value:n.email,disabled:!0,className:"bg-slate-800 border-slate-700 text-white"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"text-gray-400 text-sm mb-2 block",children:[r.jsx(eG,{className:"w-4 h-4 inline mr-2"}),"Telefone/WhatsApp *"]}),r.jsx(je,{value:u.phone,onChange:P=>h({...u,phone:P.target.value}),placeholder:"(00) 00000-0000",className:"bg-slate-800 border-slate-700 text-white"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"text-gray-400 text-sm mb-2 block",children:[r.jsx(Pr,{className:"w-4 h-4 inline mr-2"}),"Observaes (opcional)"]}),r.jsx(It,{value:u.notes,onChange:P=>h({...u,notes:P.target.value}),placeholder:"Alguma informao importante que queira compartilhar...",className:"bg-slate-800 border-slate-700 text-white",rows:4})]})]}),r.jsxs("div",{className:"bg-purple-900/20 border border-purple-500/30 rounded-lg p-4 mb-6",children:[r.jsx("h3",{className:"text-white font-semibold mb-3",children:"Resumo do Agendamento"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Data:"}),r.jsx("span",{className:"text-white font-semibold",children:kn(o,"dd 'de' MMMM 'de' yyyy",{locale:jn})})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Horrio:"}),r.jsx("span",{className:"text-white font-semibold",children:c})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Durao:"}),r.jsxs("span",{className:"text-white font-semibold",children:[g.duration_minutes," minutos"]})]}),r.jsxs("div",{className:"border-t border-purple-500/30 pt-2 mt-2 flex justify-between",children:[r.jsx("span",{className:"text-gray-400",children:"Valor:"}),r.jsxs("span",{className:"text-yellow-400 font-bold text-lg",children:["R$ ",g.price.toFixed(2)]})]})]})]}),r.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[r.jsx(W,{onClick:()=>i(2),variant:"outline",className:"flex-1 border-slate-600 text-slate-900 bg-white hover:bg-gray-100",children:"Voltar"}),r.jsx(W,{onClick:j,disabled:_.isPending||!u.phone,className:"flex-1 bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700",children:_.isPending?r.jsx(r.Fragment,{children:"Processando..."}):r.jsxs(r.Fragment,{children:[r.jsx(Um,{className:"w-4 h-4 mr-2"}),"Ir para Pagamento"]})})]})]})},"step3"),s===4&&r.jsx(q.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},children:r.jsxs(X,{className:"bg-gradient-to-br from-slate-900 to-slate-800 border-green-500/30 p-6 md:p-8",children:[r.jsx(_n,{className:"w-20 h-20 text-green-500 mx-auto mb-6"}),r.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4 text-center",children:"Pagamento Interno"}),r.jsx("p",{className:"text-gray-300 mb-8 leading-relaxed text-center text-sm md:text-base",children:"Use seus ouros ou compre mais para confirmar sua consulta."}),r.jsxs(W,{onClick:()=>t(ft("Carteira")),className:"w-full bg-gradient-to-r from-yellow-600 to-yellow-500 hover:from-yellow-700 hover:to-yellow-600 py-6 text-lg font-bold text-slate-900",children:[r.jsx(Gn,{className:"w-5 h-5 mr-2"}),"Pagar com Ouros"]})]})},"step4")]})]})})}function Aae(){const t=Li(),e=Sn(),a=new URLSearchParams(t.search).get("id"),[s,i]=w.useState(null),[o,l]=w.useState(null),[c,d]=w.useState(!0),[u,h]=w.useState(!0),[f,v]=w.useState([]),[x,g]=w.useState(""),[y,b]=w.useState(!1),[_,j]=w.useState([]),[S,C]=w.useState(0),E=w.useRef(null),P=w.useRef(null),T=w.useRef(null);w.useEffect(()=>(M(),k(),()=>{E.current&&E.current.srcObject&&E.current.srcObject.getTracks().forEach(U=>U.stop())}),[]),w.useEffect(()=>{if(y){T.current=Date.now();const U=setInterval(()=>{C(Math.floor((Date.now()-T.current)/1e3))},1e3);return()=>clearInterval(U)}},[y]);const M=async()=>{try{const U=await H.auth.me();i(U);const z=await H.entities.Consultation.filter({id:a});z.length>0&&(l(z[0]),z[0].status==="confirmed"&&await H.entities.Consultation.update(a,{status:"in_progress"}))}catch(U){console.error("Erro ao carregar dados:",U),qe.error("Erro ao acessar a sala"),e(ft("AreaDoAluno"))}},k=async()=>{try{const U=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0});E.current&&(E.current.srcObject=U),b(!0),qe.success(" Conectado  sala!")}catch(U){console.error("Erro ao acessar mdia:",U),qe.error("Erro ao acessar cmera/microfone")}},O=()=>{if(E.current&&E.current.srcObject){const U=E.current.srcObject.getVideoTracks()[0];U.enabled=!U.enabled,d(U.enabled)}},$=()=>{if(E.current&&E.current.srcObject){const U=E.current.srcObject.getAudioTracks()[0];U.enabled=!U.enabled,h(U.enabled)}},F=async()=>{if(window.confirm("Deseja realmente encerrar a consulta?"))try{await H.entities.Consultation.update(a,{status:"completed"}),await H.entities.Notification.create({user_id:o.user_id,type:"announcement",title:"Consulta Concluda",message:"Sua consulta com Emelyn Chott foi concluda. Obrigada!",action_url:"/ConsultaEmelyn"}),qe.success(" Consulta finalizada!"),e(ft("AreaDoAluno"))}catch{qe.error("Erro ao finalizar consulta")}},B=()=>{if(x.trim()){const U={from:s.display_name||s.full_name,message:x,timestamp:new Date().toISOString()};v([...f,U]),g("")}},G=U=>{const z=Math.floor(U/60),K=U%60;return`${z.toString().padStart(2,"0")}:${K.toString().padStart(2,"0")}`};if(!o||!s)return r.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:r.jsx("div",{className:"text-white",children:"Carregando sala..."})});const I=s.email==="mawemaster@gmail.com";return o.user_id===s.id||I?r.jsxs("div",{className:"min-h-screen bg-black text-white",children:[r.jsx("div",{className:"bg-slate-900 border-b border-slate-800 p-4",children:r.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(W,{onClick:()=>e(ft("AreaDoAluno")),variant:"ghost",size:"icon",className:"text-gray-400 hover:text-white",children:r.jsx(Go,{className:"w-5 h-5"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-lg font-bold",children:"Consulta com Emelyn Chott"}),r.jsxs("p",{className:"text-sm text-gray-400",children:[kn(Sf(o.scheduled_date),"dd/MM/yyyy",{locale:jn})," - ",o.scheduled_time]})]})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[y&&r.jsxs("div",{className:"flex items-center gap-2 text-green-500",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),r.jsx(Mr,{className:"w-4 h-4"}),r.jsx("span",{className:"font-mono text-sm",children:G(S)})]}),r.jsx(Kn,{className:"w-4 h-4 text-gray-400"}),r.jsx("span",{className:"text-sm text-gray-400",children:_.length+1})]})]})}),r.jsxs("div",{className:"flex-1 grid grid-cols-1 lg:grid-cols-4 gap-4 p-4",children:[r.jsxs("div",{className:"lg:col-span-3 space-y-4",children:[r.jsxs("div",{className:"relative aspect-video bg-slate-900 rounded-xl overflow-hidden",children:[r.jsx("video",{ref:P,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}),r.jsx("div",{className:"absolute bottom-4 left-4 bg-black/70 px-3 py-1 rounded-full",children:r.jsx("span",{className:"text-sm",children:"Emelyn Chott"})})]}),r.jsxs("div",{className:"relative aspect-video max-w-xs bg-slate-900 rounded-xl overflow-hidden",children:[r.jsx("video",{ref:E,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover mirror"}),r.jsx("div",{className:"absolute bottom-4 left-4 bg-black/70 px-3 py-1 rounded-full",children:r.jsx("span",{className:"text-sm",children:"Voc"})})]})]}),r.jsx("div",{className:"lg:col-span-1",children:r.jsxs(X,{className:"bg-slate-900 border-slate-800 h-full flex flex-col",children:[r.jsx("div",{className:"p-4 border-b border-slate-800",children:r.jsxs("h3",{className:"font-bold flex items-center gap-2",children:[r.jsx(Pr,{className:"w-4 h-4"}),"Chat"]})}),r.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:f.length===0?r.jsx("p",{className:"text-gray-500 text-sm text-center",children:"Nenhuma mensagem ainda"}):f.map((U,z)=>r.jsxs("div",{className:"bg-slate-800 rounded-lg p-3",children:[r.jsx("p",{className:"text-purple-400 text-xs font-semibold mb-1",children:U.from}),r.jsx("p",{className:"text-sm",children:U.message})]},z))}),r.jsx("div",{className:"p-4 border-t border-slate-800",children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",value:x,onChange:U=>g(U.target.value),onKeyPress:U=>U.key==="Enter"&&B(),placeholder:"Digite uma mensagem...",className:"flex-1 bg-slate-800 border-slate-700 rounded-lg px-3 py-2 text-sm"}),r.jsx(W,{onClick:B,size:"icon",className:"bg-purple-600 hover:bg-purple-700",children:r.jsx(Pr,{className:"w-4 h-4"})})]})})]})})]}),r.jsx("div",{className:"bg-slate-900 border-t border-slate-800 p-4",children:r.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-center gap-4",children:[r.jsx(W,{onClick:O,size:"icon",className:`w-12 h-12 rounded-full ${c?"bg-slate-700 hover:bg-slate-600":"bg-red-600 hover:bg-red-700"}`,children:c?r.jsx(La,{className:"w-5 h-5"}):r.jsx(oG,{className:"w-5 h-5"})}),r.jsx(W,{onClick:$,size:"icon",className:`w-12 h-12 rounded-full ${u?"bg-slate-700 hover:bg-slate-600":"bg-red-600 hover:bg-red-700"}`,children:u?r.jsx(mo,{className:"w-5 h-5"}):r.jsx(YH,{className:"w-5 h-5"})}),r.jsx(W,{onClick:F,size:"icon",className:"w-12 h-12 rounded-full bg-red-600 hover:bg-red-700",children:r.jsx(Zhe,{className:"w-5 h-5"})})]})}),r.jsx("style",{jsx:!0,children:`
        .mirror {
          transform: scaleX(-1);
        }
      `})]}):r.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center p-6",children:r.jsxs(X,{className:"bg-slate-900 border-red-500/30 p-8 text-center max-w-md",children:[r.jsx("h2",{className:"text-white font-bold text-xl mb-4",children:"Acesso Negado"}),r.jsx("p",{className:"text-gray-400 mb-6",children:"Voc no tem permisso para acessar esta sala de consulta."}),r.jsx(W,{onClick:()=>e(ft("Hub")),children:"Voltar"})]})})}function Mae(){const[t,e]=w.useState(null);w.useEffect(()=>{n()},[]);const n=async()=>{try{const s=await H.auth.me();e(s)}catch(s){console.error("Erro ao carregar usurio:",s)}},a=s=>{window.open(s,"_blank")};return t?r.jsx("div",{className:"min-h-screen bg-gradient-to-b from-[#0f0f1e] via-[#1a1a2e] to-[#0f0f1e]",children:r.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8 md:py-12",children:[r.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-12 md:mb-16",children:[r.jsx("div",{className:"flex justify-center mb-6",children:r.jsx("div",{className:"w-24 h-24 md:w-32 md:h-32 rounded-full bg-gradient-to-br from-purple-600 to-pink-600 flex items-center justify-center shadow-2xl shadow-purple-500/50",children:r.jsx(Vr,{className:"w-12 h-12 md:w-16 md:h-16 text-white"})})}),r.jsx("h1",{className:"text-3xl md:text-5xl lg:text-6xl font-bold bg-gradient-to-r from-purple-400 via-pink-400 to-purple-400 bg-clip-text text-transparent mb-4 md:mb-6",children:"Esphera AI"}),r.jsx("p",{className:"text-lg md:text-2xl text-purple-200 mb-4 max-w-3xl mx-auto leading-relaxed",children:"Sua Tarloga, Amiga, Conselheira e Mentora"}),r.jsx("p",{className:"text-sm md:text-base text-gray-400 max-w-2xl mx-auto",children:"Um dos sistemas de orientao espiritual mais completos do mundo, capaz de conectar intuio, sabedoria e clareza para guiar voc em todas as reas da vida."})]}),r.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6 mb-12 md:mb-16",children:[{icon:zH,title:"Suporte para estudo do Tarot",description:"Referncias bibliogrficas e autores consagrados"},{icon:gr,title:"Respostas instantneas",description:"Interpretaes intuitivas e profundas sobre qualquer tiragem"},{icon:Da,title:"Interpretaes personalizadas",description:"Baseadas no seu estado emocional atual"},{icon:Wn,title:"Mtodos nicos",description:"Criao de leituras conforme suas necessidades"},{icon:ud,title:"Acesso contnuo",description:"24h por dia, 7 dias por semana"},{icon:_e,title:"IA Especializada",description:"Baseada em mestres do Tarot"}].map((s,i)=>{const o=s.icon;return r.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1+i*.05},children:r.jsxs(X,{className:"bg-gradient-to-br from-purple-900/30 to-slate-900/30 border-purple-500/30 p-4 md:p-6 hover:border-purple-400/50 transition h-full",children:[r.jsx(o,{className:"w-8 h-8 md:w-10 md:h-10 text-purple-400 mb-3 md:mb-4"}),r.jsx("h3",{className:"text-base md:text-lg font-bold text-white mb-2",children:s.title}),r.jsx("p",{className:"text-xs md:text-sm text-gray-400",children:s.description})]})},i)})}),r.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"mb-12",children:[r.jsx("h2",{className:"text-2xl md:text-4xl font-bold text-center text-white mb-8 md:mb-12",children:"Escolha seu Plano"}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-6 md:gap-8 max-w-5xl mx-auto",children:[r.jsx(q.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3},children:r.jsxs(X,{className:"bg-gradient-to-br from-purple-900/40 to-slate-900/40 border-purple-500/50 p-6 md:p-8 hover:border-purple-400 transition relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600/10 to-pink-600/10 opacity-0 hover:opacity-100 transition"}),r.jsxs("div",{className:"relative z-10",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("h3",{className:"text-xl md:text-2xl font-bold text-white mb-2",children:"Plano Mensal"}),r.jsxs("div",{className:"mb-4",children:[r.jsx("span",{className:"text-gray-400 line-through text-sm md:text-base",children:"R$ 99,00"}),r.jsx("div",{className:"text-3xl md:text-5xl font-bold text-purple-300 mt-1",children:"R$ 29,90"}),r.jsx("span",{className:"text-xs md:text-sm text-gray-400",children:"/ms"})]})]}),r.jsx("ul",{className:"space-y-3 mb-6 md:mb-8",children:["Acesso completo  IA","Tiragens ilimitadas","Interpretao de sonhos","Suporte contnuo 24/7","Cancelamento fcil"].map((s,i)=>r.jsxs("li",{className:"flex items-start gap-2 text-sm md:text-base",children:[r.jsx(Rn,{className:"w-5 h-5 text-green-400 flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"text-gray-300",children:s})]},i))}),r.jsxs(W,{onClick:()=>a("https://pay.kiwify.com.br/ICnBcV0?sck=1759441135002&utm_source=direto"),className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-bold py-3 md:py-4 text-base md:text-lg",children:["Assinar Agora",r.jsx(mf,{className:"w-5 h-5 ml-2"})]})]})]})}),r.jsx(q.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},children:r.jsxs(X,{className:"bg-gradient-to-br from-yellow-900/40 via-purple-900/40 to-pink-900/40 border-yellow-500/50 p-6 md:p-8 hover:border-yellow-400 transition relative overflow-hidden shadow-2xl shadow-yellow-500/20",children:[r.jsxs("div",{className:"absolute top-4 right-4 bg-gradient-to-r from-yellow-500 to-amber-500 text-black px-3 py-1 rounded-full text-xs font-bold flex items-center gap-1",children:[r.jsx(Bn,{className:"w-3 h-3"}),"MELHOR OFERTA"]}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-yellow-600/10 to-pink-600/10 opacity-0 hover:opacity-100 transition"}),r.jsxs("div",{className:"relative z-10",children:[r.jsxs("div",{className:"text-center mb-6",children:[r.jsx("h3",{className:"text-xl md:text-2xl font-bold text-white mb-2",children:"Plano Anual"}),r.jsxs("div",{className:"mb-4",children:[r.jsx("span",{className:"text-gray-400 line-through text-sm md:text-base",children:"R$ 1.188,00"}),r.jsx("div",{className:"text-3xl md:text-5xl font-bold text-yellow-300 mt-1",children:"R$ 319,90"}),r.jsx("span",{className:"text-xs md:text-sm text-gray-400",children:"/ano"})]}),r.jsx("div",{className:"bg-green-600/20 border border-green-500/30 rounded-lg px-3 py-2 inline-block",children:r.jsx("p",{className:"text-xs md:text-sm text-green-300 font-bold",children:" Economize R$ 868,10 no ano!"})})]}),r.jsx("ul",{className:"space-y-3 mb-6 md:mb-8",children:["Acesso completo  IA","Tiragens ilimitadas","Interpretao de sonhos","Suporte contnuo 24/7","Cancelamento fcil","12 meses pelo preo de 3!"].map((s,i)=>r.jsxs("li",{className:"flex items-start gap-2 text-sm md:text-base",children:[r.jsx(Rn,{className:"w-5 h-5 text-yellow-400 flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"text-gray-300",children:s})]},i))}),r.jsxs(W,{onClick:()=>a("https://pay.kiwify.com.br/qrGBG3U?sck=1759441135002&utm_source=direto"),className:"w-full bg-gradient-to-r from-yellow-500 to-amber-500 hover:from-yellow-600 hover:to-amber-600 text-black font-bold py-3 md:py-4 text-base md:text-lg shadow-lg shadow-yellow-500/30",children:["Garantir Desconto",r.jsx(mf,{className:"w-5 h-5 ml-2"})]})]})]})})]})]}),r.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-center",children:r.jsxs(X,{className:"bg-gradient-to-r from-green-900/30 to-emerald-900/30 border-green-500/30 p-6 md:p-8 max-w-3xl mx-auto",children:[r.jsx(ud,{className:"w-12 h-12 md:w-16 md:h-16 text-green-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl md:text-2xl font-bold text-white mb-2",children:"7 Dias de Garantia Incondicional"}),r.jsx("p",{className:"text-sm md:text-base text-gray-300",children:"Risco Zero! Se voc no gostar, devolvemos 100% do seu dinheiro sem perguntas."})]})})]})}):r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx(_e,{className:"w-12 h-12 text-purple-500 animate-pulse"})})}const jKe=[{key:"follow",label:"Novas Conexes",description:"Quando algum conectar com voc"},{key:"reaction",label:"Reaes",description:"Quando reagirem aos seus posts"},{key:"comment",label:"Comentrios",description:"Quando comentarem seus posts"},{key:"level_up",label:"Subida de Nvel",description:"Quando voc subir de nvel"},{key:"achievement",label:"Conquistas",description:"Quando ganhar distintivos"},{key:"daily_blessing",label:"Bno Diria",description:"Lembrete dirio de bno"},{key:"duel_challenge",label:"Desafios de Duelo",description:"Quando te desafiarem"},{key:"announcement",label:"Anncios",description:"Avisos importantes da plataforma"}];function Pae(){const t=Sn(),[e,n]=w.useState(null),[a,s]=w.useState({}),[i,o]=w.useState(!1),[l,c]=w.useState("default");w.useEffect(()=>{d(),u()},[]);const d=async()=>{const x=await H.auth.me();n(x),s(x.notification_preferences||{})},u=()=>{"Notification"in window&&c(Notification.permission)},h=async()=>{if("Notification"in window){const x=await Notification.requestPermission();c(x),x==="granted"?qe.success("Notificaes ativadas!"):qe.error("Permisso negada")}},f=x=>{s(g=>({...g,[x]:!g[x]}))},v=async()=>{o(!0);try{await H.auth.updateMe({notification_preferences:a}),qe.success("Preferncias salvas!")}catch{qe.error("Erro ao salvar")}finally{o(!1)}};return e?r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#02031C] via-slate-900 to-[#02031C] text-white pb-24",children:r.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-8",children:[r.jsxs(W,{onClick:()=>t(-1),variant:"ghost",className:"mb-4 text-gray-300 hover:text-white",children:[r.jsx(w1,{className:"w-4 h-4 mr-2"}),"Voltar"]}),r.jsxs("h1",{className:"text-3xl font-bold mb-2 flex items-center gap-3",children:[r.jsx(Ps,{className:"w-8 h-8 text-purple-400"}),"Preferncias de Notificaes"]}),r.jsx("p",{className:"text-gray-400 mb-6",children:"Escolha quais tipos de notificaes deseja receber"}),r.jsxs(X,{className:"bg-slate-900/50 border-purple-500/30 p-6 mb-6",children:[r.jsx("h3",{className:"text-lg font-bold text-purple-300 mb-2",children:"Notificaes do Navegador"}),r.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Receba avisos mesmo quando no estiver na plataforma"}),l==="default"&&r.jsxs(W,{onClick:h,className:"bg-purple-600 hover:bg-purple-700",children:[r.jsx(Ps,{className:"w-4 h-4 mr-2"}),"Ativar Notificaes Push"]}),l==="granted"&&r.jsxs("div",{className:"flex items-center gap-2 text-green-400",children:[r.jsx(Rn,{className:"w-5 h-5"}),r.jsx("span",{children:"Notificaes ativadas"})]}),l==="denied"&&r.jsx("p",{className:"text-red-400 text-sm",children:"Permisso negada. Ative manualmente nas configuraes do navegador."})]}),r.jsxs(X,{className:"bg-slate-900/50 border-purple-500/30 p-6 mb-6",children:[r.jsx("h3",{className:"text-lg font-bold text-purple-300 mb-4",children:"Tipos de Notificao"}),r.jsx("div",{className:"space-y-4",children:jKe.map(x=>r.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-800/50 rounded-lg",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"text-white font-semibold mb-1",children:x.label}),r.jsx("p",{className:"text-xs text-gray-400",children:x.description})]}),r.jsx("button",{onClick:()=>f(x.key),className:`w-12 h-6 rounded-full transition flex-shrink-0 ml-4 ${a[x.key]!==!1?"bg-purple-600":"bg-gray-600"}`,children:r.jsx("div",{className:`w-5 h-5 bg-white rounded-full transition-transform ${a[x.key]!==!1?"translate-x-6":"translate-x-0.5"}`})})]},x.key))})]}),r.jsx(W,{onClick:v,disabled:i,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 py-6 text-lg",children:i?"Salvando...":"Salvar Preferncias"})]})}):null}function Tae(){const t=Sn(),[e,n]=w.useState(null);w.useEffect(()=>{a()},[]);const a=async()=>{const o=await H.auth.me();n(o)},{data:s=[]}=Oe({queryKey:["my-decks",e==null?void 0:e.id],queryFn:async()=>e!=null&&e.id?await H.entities.MagicDeck.filter({user_id:e.id}):[],enabled:!!(e!=null&&e.id)}),{data:i=[]}=Oe({queryKey:["magic-matches",e==null?void 0:e.id],queryFn:async()=>{if(!(e!=null&&e.id))return[];const o=await H.entities.MagicMatch.filter({player1_id:e.id}),l=await H.entities.MagicMatch.filter({player2_id:e.id});return[...o,...l]},enabled:!!(e!=null&&e.id)});return e?r.jsx("div",{className:"min-h-screen bg-gradient-to-b from-[#0a0a1a] via-[#131128] to-[#0a0a1a] p-4 md:p-6 pb-24",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs(W,{onClick:()=>t(ft("ArenaHub")),variant:"ghost",className:"mb-4 text-gray-300 hover:text-white",children:[r.jsx(w1,{className:"w-4 h-4 mr-2"}),"Voltar"]}),r.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[r.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-2",children:"Magic: O Grimrio"}),r.jsx("p",{className:"text-gray-400",children:"Duela com cartas msticas em batalhas estratgicas"})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs(X,{className:"bg-slate-900/50 border-purple-500/30 p-6",children:[r.jsxs("h2",{className:"text-2xl font-bold text-purple-300 mb-4 flex items-center gap-2",children:[r.jsx(_e,{className:"w-6 h-6"}),"Meus Grimrios"]}),s.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(_e,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-400 mb-4",children:"Voc ainda no possui grimrios"}),r.jsx(W,{className:"bg-purple-600 hover:bg-purple-700",children:"Criar Primeiro Grimrio"})]}):r.jsx("div",{className:"space-y-3",children:s.map(o=>{var l;return r.jsxs(X,{className:"bg-slate-800/50 border-purple-900/30 p-4",children:[r.jsx("h3",{className:"text-white font-bold mb-1",children:o.name}),r.jsxs("p",{className:"text-sm text-gray-400",children:[((l=o.cards)==null?void 0:l.length)||0," cartas"]})]},o.id)})})]}),r.jsxs(X,{className:"bg-slate-900/50 border-purple-500/30 p-6",children:[r.jsxs("h2",{className:"text-2xl font-bold text-purple-300 mb-4 flex items-center gap-2",children:[r.jsx(ri,{className:"w-6 h-6"}),"Partidas Ativas"]}),i.filter(o=>o.status!=="finished").length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(ri,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-400 mb-4",children:"Nenhuma partida ativa"}),r.jsx(W,{className:"bg-purple-600 hover:bg-purple-700",children:"Buscar Oponente"})]}):r.jsx("div",{className:"space-y-3",children:i.filter(o=>o.status!=="finished").map(o=>r.jsx(X,{className:"bg-slate-800/50 border-purple-900/30 p-4",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-white font-bold text-sm",children:o.player1_id===e.id?o.player2_name:o.player1_name}),r.jsx("p",{className:"text-xs text-gray-400",children:o.status==="in_progress"?"Em andamento":"Aguardando"})]}),r.jsx(W,{size:"sm",className:"bg-purple-600 hover:bg-purple-700",children:"Continuar"})]})},o.id))})]})]}),r.jsx(q.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1},className:"mt-8",children:r.jsxs(X,{className:"bg-gradient-to-br from-indigo-900/30 to-purple-900/30 border-indigo-500/30 p-8 text-center",children:[r.jsx(_e,{className:"w-16 h-16 text-indigo-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Sistema de Jogo em Desenvolvimento"}),r.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"Em breve voc poder criar decks, colecionar cartas msticas e duelar em partidas picas de estratgia! O sistema completo de mana, criaturas, feitios e combate est sendo preparado."})]})})]})}):r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-[#0a0a1a] via-[#131128] to-[#0a0a1a]",children:r.jsx(zt,{className:"w-12 h-12 text-purple-500 animate-spin"})})}const x7={receitas:"Receitas",mundo_holistico:"Mundo Holstico",marketing_digital:"Marketing Digital",saude_mental:"Sade Mental",outros:"Outros"},NKe={receitas:"",mundo_holistico:"",marketing_digital:"",saude_mental:"",outros:""};function kae(){const[t,e]=w.useState(null),[n,a]=w.useState(""),[s,i]=w.useState("todos"),o=wt();ae.useEffect(()=>{l()},[]);const l=async()=>{try{const x=await H.auth.me();e(x)}catch(x){console.error("Erro ao carregar usurio:",x)}},{data:c=[],isLoading:d}=Oe({queryKey:["encyclopedia-pdfs"],queryFn:async()=>await H.entities.PDFLibrary.filter({is_active:!0},"order",200)||[]}),u=Ue({mutationFn:async x=>{const g=c.find(y=>y.id===x);g&&await H.entities.PDFLibrary.update(x,{views_count:(g.views_count||0)+1})},onSuccess:()=>{o.invalidateQueries({queryKey:["encyclopedia-pdfs"]})}}),h=x=>{u.mutate(x.id),window.open(x.pdf_url,"_blank")},f=c.filter(x=>{var b;const g=x.title.toLowerCase().includes(n.toLowerCase())||((b=x.description)==null?void 0:b.toLowerCase().includes(n.toLowerCase())),y=s==="todos"||x.category===s;return g&&y}),v=s==="todos"?Object.keys(x7).map(x=>({category:x,pdfs:f.filter(g=>g.category===x)})).filter(x=>x.pdfs.length>0):[{category:s,pdfs:f}];return t?r.jsx("div",{className:"min-h-screen bg-gradient-to-b from-[#0f0f1e] via-[#1a1a2e] to-[#0f0f1e] text-white pb-24",children:r.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-6",children:[r.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(Oa,{className:"w-8 h-8 text-purple-400"}),r.jsx("h1",{className:"text-3xl font-bold text-white",children:"Enciclopdia Zamira"})]}),r.jsx("p",{className:"text-gray-400",children:"Biblioteca de conhecimento mstico e sabedoria"})]}),r.jsx("div",{className:"mb-6",children:r.jsxs("div",{className:"relative",children:[r.jsx($s,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),r.jsx(je,{value:n,onChange:x=>a(x.target.value),placeholder:"Buscar PDF...",className:"pl-10 bg-slate-900/50 border-purple-500/30 text-white"})]})}),r.jsxs($r,{value:s,onValueChange:i,className:"mb-6",children:[r.jsxs(Tr,{className:"grid grid-cols-6 w-full bg-slate-900/50",children:[r.jsx(xt,{value:"todos",children:"Todos"}),r.jsx(xt,{value:"receitas",children:"Receitas"}),r.jsx(xt,{value:"mundo_holistico",children:"Holstico"}),r.jsx(xt,{value:"marketing_digital",children:"Marketing"}),r.jsx(xt,{value:"saude_mental",children:"Sade"}),r.jsx(xt,{value:"outros",children:"Outros"})]}),r.jsx(et,{value:s,className:"mt-6",children:d?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(zt,{className:"w-12 h-12 text-purple-500 animate-spin"})}):f.length===0?r.jsxs(X,{className:"bg-slate-900/50 border-purple-500/30 p-12 text-center",children:[r.jsx(li,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-400",children:"Nenhum PDF encontrado"})]}):r.jsx("div",{className:"space-y-8",children:v.map(({category:x,pdfs:g})=>r.jsxs("div",{children:[r.jsxs("h2",{className:"text-xl font-bold text-purple-300 mb-4 flex items-center gap-2",children:[r.jsx("span",{children:NKe[x]}),x7[x]]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:g.map(y=>r.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{scale:1.02},children:r.jsxs(X,{className:"bg-slate-900/50 border-purple-500/30 overflow-hidden h-full flex flex-col",children:[y.cover_image_url&&r.jsx("img",{src:y.cover_image_url,alt:y.title,className:"w-full h-48 object-cover"}),r.jsxs("div",{className:"p-4 flex-1 flex flex-col",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsx("h3",{className:"text-white font-bold text-lg flex-1",children:y.title}),y.is_premium&&r.jsxs(De,{className:"bg-gradient-to-r from-yellow-600 to-amber-600 text-white text-xs ml-2",children:[r.jsx(Bn,{className:"w-3 h-3 mr-1"}),"PRO"]})]}),y.description&&r.jsx("p",{className:"text-sm text-gray-400 mb-3 line-clamp-2 flex-1",children:y.description}),r.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-3",children:[y.pages_count&&r.jsxs("span",{children:[" ",y.pages_count," pginas"]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Vr,{className:"w-3 h-3"}),r.jsxs("span",{children:[y.views_count||0," views"]})]})]}),r.jsxs(W,{onClick:()=>{if(y.is_premium&&!t.is_pro_subscriber){alert("Este PDF  exclusivo para assinantes PRO");return}h(y)},className:"w-full bg-purple-600 hover:bg-purple-700 text-white",children:[r.jsx(li,{className:"w-4 h-4 mr-2"}),"Ver PDF"]})]})]})},y.id))})]},x))})})]})]})}):r.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-b from-[#0f0f1e] via-[#1a1a2e] to-[#0f0f1e]",children:r.jsx(zt,{className:"w-12 h-12 text-purple-500 animate-spin"})})}const g7={Hub:LP,Arquetipo:kQ,Chat:OQ,Portais:LQ,Criar:FQ,Notificacoes:$Q,Arena:WZ,TiragemDiaria:KZ,Pendulo:XZ,Progresso:YZ,Distintivos:rJ,PlannerLunar:aJ,MinhaConta:fJ,Configuracoes:wJ,Horoscopo:_J,MapaAstral:jJ,DiarioSonhos:NJ,Temas:SJ,Explorar:EJ,Loja:MJ,Carteira:PJ,Perfil:kJ,Produto:DJ,AreaDoAluno:IJ,ArenaDuel:LJ,ArenaHub:FJ,Dojo:$J,TarotOnline:UJ,OraculoCoracao:qJ,OraculoCombinacoes:VJ,PortalTarotPremium:GJ,Missoes:WJ,Ranking:KJ,ZamiraCity:XJ,Inventario:YJ,AdminZamira:yre,Suporte:bre,ZamiraAds:wre,MandalaCriativa:_re,AuraDigital:jre,OraculoOpiniao:Nre,CicloMenstrual:Sre,CofreTesouros:Cre,SantuarioSilencio:Ere,QuizzesMisticos:Are,BibliotecaMistica:Mre,ComoGanharOuros:Pre,Certificado:Tre,Enquetes:kre,Home:Rre,Sobre:Ore,PlanoDeAcao:Dre,Kamasutra:Sae,PortalEntrada:Cae,ConsultaEmelyn:Eae,RoomConsulta:Aae,EspheraAI:Mae,ConfiguracoesNotificacoes:Pae,MagicArena:Tae,Enciclopedia:kae};function SKe(t){t.endsWith("/")&&(t=t.slice(0,-1));let e=t.split("/").pop();return e.includes("?")&&(e=e.split("?")[0]),Object.keys(g7).find(a=>a.toLowerCase()===e.toLowerCase())||Object.keys(g7)[0]}function CKe(){const t=Li(),e=SKe(t.pathname);return r.jsx(LCe,{currentPageName:e,children:r.jsxs(boe,{children:[r.jsx(At,{path:"/",element:r.jsx(LP,{})}),r.jsx(At,{path:"/Hub",element:r.jsx(LP,{})}),r.jsx(At,{path:"/Arquetipo",element:r.jsx(kQ,{})}),r.jsx(At,{path:"/Chat",element:r.jsx(OQ,{})}),r.jsx(At,{path:"/Portais",element:r.jsx(LQ,{})}),r.jsx(At,{path:"/Criar",element:r.jsx(FQ,{})}),r.jsx(At,{path:"/Notificacoes",element:r.jsx($Q,{})}),r.jsx(At,{path:"/Arena",element:r.jsx(WZ,{})}),r.jsx(At,{path:"/TiragemDiaria",element:r.jsx(KZ,{})}),r.jsx(At,{path:"/Pendulo",element:r.jsx(XZ,{})}),r.jsx(At,{path:"/Progresso",element:r.jsx(YZ,{})}),r.jsx(At,{path:"/Distintivos",element:r.jsx(rJ,{})}),r.jsx(At,{path:"/PlannerLunar",element:r.jsx(aJ,{})}),r.jsx(At,{path:"/MinhaConta",element:r.jsx(fJ,{})}),r.jsx(At,{path:"/Configuracoes",element:r.jsx(wJ,{})}),r.jsx(At,{path:"/Horoscopo",element:r.jsx(_J,{})}),r.jsx(At,{path:"/MapaAstral",element:r.jsx(jJ,{})}),r.jsx(At,{path:"/DiarioSonhos",element:r.jsx(NJ,{})}),r.jsx(At,{path:"/Temas",element:r.jsx(SJ,{})}),r.jsx(At,{path:"/Explorar",element:r.jsx(EJ,{})}),r.jsx(At,{path:"/Loja",element:r.jsx(MJ,{})}),r.jsx(At,{path:"/Carteira",element:r.jsx(PJ,{})}),r.jsx(At,{path:"/Perfil",element:r.jsx(kJ,{})}),r.jsx(At,{path:"/Produto",element:r.jsx(DJ,{})}),r.jsx(At,{path:"/AreaDoAluno",element:r.jsx(IJ,{})}),r.jsx(At,{path:"/ArenaDuel",element:r.jsx(LJ,{})}),r.jsx(At,{path:"/ArenaHub",element:r.jsx(FJ,{})}),r.jsx(At,{path:"/Dojo",element:r.jsx($J,{})}),r.jsx(At,{path:"/TarotOnline",element:r.jsx(UJ,{})}),r.jsx(At,{path:"/OraculoCoracao",element:r.jsx(qJ,{})}),r.jsx(At,{path:"/OraculoCombinacoes",element:r.jsx(VJ,{})}),r.jsx(At,{path:"/PortalTarotPremium",element:r.jsx(GJ,{})}),r.jsx(At,{path:"/Missoes",element:r.jsx(WJ,{})}),r.jsx(At,{path:"/Ranking",element:r.jsx(KJ,{})}),r.jsx(At,{path:"/ZamiraCity",element:r.jsx(XJ,{})}),r.jsx(At,{path:"/Inventario",element:r.jsx(YJ,{})}),r.jsx(At,{path:"/AdminZamira",element:r.jsx(yre,{})}),r.jsx(At,{path:"/Suporte",element:r.jsx(bre,{})}),r.jsx(At,{path:"/ZamiraAds",element:r.jsx(wre,{})}),r.jsx(At,{path:"/MandalaCriativa",element:r.jsx(_re,{})}),r.jsx(At,{path:"/AuraDigital",element:r.jsx(jre,{})}),r.jsx(At,{path:"/OraculoOpiniao",element:r.jsx(Nre,{})}),r.jsx(At,{path:"/CicloMenstrual",element:r.jsx(Sre,{})}),r.jsx(At,{path:"/CofreTesouros",element:r.jsx(Cre,{})}),r.jsx(At,{path:"/SantuarioSilencio",element:r.jsx(Ere,{})}),r.jsx(At,{path:"/QuizzesMisticos",element:r.jsx(Are,{})}),r.jsx(At,{path:"/BibliotecaMistica",element:r.jsx(Mre,{})}),r.jsx(At,{path:"/ComoGanharOuros",element:r.jsx(Pre,{})}),r.jsx(At,{path:"/Certificado",element:r.jsx(Tre,{})}),r.jsx(At,{path:"/Enquetes",element:r.jsx(kre,{})}),r.jsx(At,{path:"/Home",element:r.jsx(Rre,{})}),r.jsx(At,{path:"/Sobre",element:r.jsx(Ore,{})}),r.jsx(At,{path:"/PlanoDeAcao",element:r.jsx(Dre,{})}),r.jsx(At,{path:"/Kamasutra",element:r.jsx(Sae,{})}),r.jsx(At,{path:"/PortalEntrada",element:r.jsx(Cae,{})}),r.jsx(At,{path:"/ConsultaEmelyn",element:r.jsx(Eae,{})}),r.jsx(At,{path:"/RoomConsulta",element:r.jsx(Aae,{})}),r.jsx(At,{path:"/EspheraAI",element:r.jsx(Mae,{})}),r.jsx(At,{path:"/ConfiguracoesNotificacoes",element:r.jsx(Pae,{})}),r.jsx(At,{path:"/MagicArena",element:r.jsx(Tae,{})}),r.jsx(At,{path:"/Enciclopedia",element:r.jsx(kae,{})})]})})}function EKe(){return r.jsx(qoe,{children:r.jsx(CKe,{})})}const AKe=20,MKe=1e6,Ll={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"};let pM=0;function PKe(){return pM=(pM+1)%Number.MAX_VALUE,pM.toString()}const xM=new Map,v7=t=>{if(xM.has(t))return;const e=setTimeout(()=>{xM.delete(t),ix({type:Ll.REMOVE_TOAST,toastId:t})},MKe);xM.set(t,e)},TKe=(t,e)=>{switch(e.type){case Ll.ADD_TOAST:return{...t,toasts:[e.toast,...t.toasts].slice(0,AKe)};case Ll.UPDATE_TOAST:return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case Ll.DISMISS_TOAST:{const{toastId:n}=e;return n?v7(n):t.toasts.forEach(a=>{v7(a.id)}),{...t,toasts:t.toasts.map(a=>a.id===n||n===void 0?{...a,open:!1}:a)}}case Ll.REMOVE_TOAST:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Tb=[];let kb={toasts:[]};function ix(t){kb=TKe(kb,t),Tb.forEach(e=>{e(kb)})}function kKe({...t}){const e=PKe(),n=s=>ix({type:Ll.UPDATE_TOAST,toast:{...s,id:e}}),a=()=>ix({type:Ll.DISMISS_TOAST,toastId:e});return ix({type:Ll.ADD_TOAST,toast:{...t,id:e,open:!0,onOpenChange:s=>{s||a()}}}),{id:e,dismiss:a,update:n}}function RKe(){const[t,e]=w.useState(kb);return w.useEffect(()=>(Tb.push(e),()=>{const n=Tb.indexOf(e);n>-1&&Tb.splice(n,1)}),[t]),{...t,toast:kKe,dismiss:n=>ix({type:Ll.DISMISS_TOAST,toastId:n})}}const Rae=w.forwardRef(({...t},e)=>r.jsx("div",{ref:e,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...t}));Rae.displayName="ToastProvider";const Oae=w.forwardRef(({...t},e)=>r.jsx("div",{ref:e,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...t}));Oae.displayName="ToastViewport";const OKe=B1("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Dae=w.forwardRef(({className:t,variant:e,...n},a)=>r.jsx("div",{ref:a,className:Wt(OKe({variant:e}),t),...n}));Dae.displayName="Toast";const DKe=w.forwardRef(({className:t,...e},n)=>r.jsx("div",{ref:n,className:Wt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));DKe.displayName="ToastAction";const Iae=w.forwardRef(({className:t,...e},n)=>r.jsx("button",{ref:n,className:Wt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:r.jsx(nt,{className:"h-4 w-4"})}));Iae.displayName="ToastClose";const Lae=w.forwardRef(({className:t,...e},n)=>r.jsx("div",{ref:n,className:Wt("text-sm font-semibold",t),...e}));Lae.displayName="ToastTitle";const Fae=w.forwardRef(({className:t,...e},n)=>r.jsx("div",{ref:n,className:Wt("text-sm opacity-90",t),...e}));Fae.displayName="ToastDescription";function IKe(){const{toasts:t}=RKe();return r.jsxs(Rae,{children:[t.map(function({id:e,title:n,description:a,action:s,...i}){return r.jsxs(Dae,{...i,children:[r.jsxs("div",{className:"grid gap-1",children:[n&&r.jsx(Lae,{children:n}),a&&r.jsx(Fae,{children:a})]}),s,r.jsx(Iae,{})]},e)}),r.jsx(Oae,{})]})}var y7={},LKe="@vercel/analytics",FKe="1.5.0",$Ke=()=>{window.va||(window.va=function(...e){(window.vaq=window.vaq||[]).push(e)})};function $ae(){return typeof window<"u"}function Uae(){try{const t="production"}catch{}return"production"}function UKe(t="auto"){if(t==="auto"){window.vam=Uae();return}window.vam=t}function BKe(){return($ae()?window.vam:Uae())||"production"}function j3(){return BKe()==="development"}function zKe(t){return t.scriptSrc?t.scriptSrc:j3()?"https://va.vercel-scripts.com/v1/script.debug.js":t.basePath?`${t.basePath}/insights/script.js`:"/_vercel/insights/script.js"}function qKe(t={debug:!0}){var e;if(!$ae())return;UKe(t.mode),$Ke(),t.beforeSend&&((e=window.va)==null||e.call(window,"beforeSend",t.beforeSend));const n=zKe(t);if(document.head.querySelector(`script[src*="${n}"]`))return;const a=document.createElement("script");a.src=n,a.defer=!0,a.dataset.sdkn=LKe+(t.framework?`/${t.framework}`:""),a.dataset.sdkv=FKe,t.disableAutoTrack&&(a.dataset.disableAutoTrack="1"),t.endpoint?a.dataset.endpoint=t.endpoint:t.basePath&&(a.dataset.endpoint=`${t.basePath}/insights`),t.dsn&&(a.dataset.dsn=t.dsn),a.onerror=()=>{const s=j3()?"Please check if any ad blockers are enabled and try again.":"Be sure to enable Web Analytics for your project and deploy again. See https://vercel.com/docs/analytics/quickstart for more information.";console.log(`[Vercel Web Analytics] Failed to load script from ${n}. ${s}`)},j3()&&t.debug===!1&&(a.dataset.debug="false"),document.head.appendChild(a)}function VKe({route:t,path:e}){var n;(n=window.va)==null||n.call(window,"pageview",{route:t,path:e})}function HKe(){if(!(typeof process>"u"||typeof y7>"u"))return y7.REACT_APP_VERCEL_OBSERVABILITY_BASEPATH}function GKe(t){return w.useEffect(()=>{var e;t.beforeSend&&((e=window.va)==null||e.call(window,"beforeSend",t.beforeSend))},[t.beforeSend]),w.useEffect(()=>{qKe({framework:t.framework||"react",basePath:t.basePath??HKe(),...t.route!==void 0&&{disableAutoTrack:!0},...t})},[]),w.useEffect(()=>{t.route&&t.path&&VKe({route:t.route,path:t.path})},[t.route,t.path]),null}const WKe=new v2e;function KKe(){return r.jsxs(y2e,{client:WKe,children:[r.jsx(EKe,{}),r.jsx(IKe,{}),r.jsx(GKe,{})]})}Mie.createRoot(document.getElementById("root")).render(r.jsx(KKe,{}));
